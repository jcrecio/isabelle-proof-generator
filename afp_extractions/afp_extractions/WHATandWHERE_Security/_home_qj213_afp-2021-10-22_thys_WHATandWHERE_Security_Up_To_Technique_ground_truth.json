{"file_name": "/home/qj213/afp-2021-10-22/thys/WHATandWHERE_Security/Up_To_Technique.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/WHATandWHERE_Security", "problem_names": ["lemma commonArefl_subset_commonDomain: \n\"(Arefl R1 \\<inter> Arefl R2) \\<subseteq> (Domain R1 \\<inter> Domain R2)\"", "lemma trans_RuR': \n  assumes transR: \"trans R\"\n  assumes symR: \"sym R\"\n  assumes transR': \"trans R'\"\n  assumes symR': \"sym R'\"\n  assumes eqlenR: \"\\<forall>(V,V') \\<in> R. length V = length V'\"\n  assumes eqlenR': \"\\<forall>(V,V') \\<in> R'. length V = length V'\"\n  assumes Areflassump: \"(Arefl R \\<inter> Arefl R') \\<subseteq> {[]}\"\n  shows \"trans (R \\<union> R')\"", "lemma Up_To_Technique:\n\"\\<lbrakk> disj_dlHPP_Bisimulation_Up_To_R' d PP R' R; \n  Arefl R \\<inter> Arefl R' \\<subseteq> {[]} \\<rbrakk>\n  \\<Longrightarrow> SdlHPPB d PP (R \\<union> R')\"", "lemma Union_Strong_dlHPP_Bisim:\n\"\\<lbrakk> SdlHPPB d PP R; SdlHPPB d PP R'; \n  Arefl R \\<inter> Arefl R' \\<subseteq> {[]} \\<rbrakk>\n  \\<Longrightarrow> SdlHPPB d PP (R \\<union> R')\"", "lemma adding_emptypair_keeps_SdlHPPB:\n  assumes SdlHPP: \"SdlHPPB d PP R\"\n  shows \"SdlHPPB d PP (R \\<union> {([],[])})\""], "translations": [["", "lemma commonArefl_subset_commonDomain: \n\"(Arefl R1 \\<inter> Arefl R2) \\<subseteq> (Domain R1 \\<inter> Domain R2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Arefl R1 \\<inter> Arefl R2 \\<subseteq> Domain R1 \\<inter> Domain R2", "by (simp add: Arefl_def, auto)\n\n\\<comment> \\<open>define disjoint strong (d,lH,PP)-bisimulation up-to-R' for a relation R\\<close>"], ["", "definition disj_dlHPP_Bisimulation_Up_To_R' :: \n  \"'d \\<Rightarrow> nat set \\<Rightarrow> 'com Bisimulation_type \n  \\<Rightarrow> 'com Bisimulation_type \\<Rightarrow> bool\"\nwhere\n\"disj_dlHPP_Bisimulation_Up_To_R' d PP R' R \\<equiv>\n  SdlHPPB d PP R' \\<and> (sym R) \\<and> (trans R)\n  \\<and> (\\<forall>(V,V') \\<in> R. length V = length V') \\<and>\n  (\\<forall>(V,V') \\<in> R. \\<forall>i < length V. \n    ((NDC d (V!i)) \\<or> \n     (IDC d (V!i) (htchLoc (pp (V!i)))))) \\<and>\n  (\\<forall>(V,V') \\<in> R. \\<forall>i < length V. \\<forall>m1 m1' m2 \\<alpha> p.\n    (\\<langle>V!i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m2\\<rangle> \\<and> m1 \\<sim>\\<^bsub>d,(htchLocSet PP)\\<^esub> m1')\n    \\<longrightarrow> (\\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n        (stepResultsinR p p' (R \\<union> R')) \\<and> (\\<alpha>,\\<alpha>') \\<in> (R \\<union> R') \\<and> \n        (dhequality_alternative d PP (pp (V!i)) m2 m2')))\"\n\n\\<comment> \\<open>lemma about the transitivity of the union of symmetric and transitive relations under certain circumstances\\<close>"], ["", "lemma trans_RuR': \n  assumes transR: \"trans R\"\n  assumes symR: \"sym R\"\n  assumes transR': \"trans R'\"\n  assumes symR': \"sym R'\"\n  assumes eqlenR: \"\\<forall>(V,V') \\<in> R. length V = length V'\"\n  assumes eqlenR': \"\\<forall>(V,V') \\<in> R'. length V = length V'\"\n  assumes Areflassump: \"(Arefl R \\<inter> Arefl R') \\<subseteq> {[]}\"\n  shows \"trans (R \\<union> R')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans (R \\<union> R')", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. trans (R \\<union> R')", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. trans (R \\<union> R')", "fix V V' V''"], ["proof (state)\ngoal (1 subgoal):\n 1. trans (R \\<union> R')", "assume p1: \"(V,V') \\<in> (R \\<union> R')\""], ["proof (state)\nthis:\n  (V, V') \\<in> R \\<union> R'\n\ngoal (1 subgoal):\n 1. trans (R \\<union> R')", "assume p2: \"(V',V'') \\<in> (R \\<union> R')\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R \\<union> R'\n\ngoal (1 subgoal):\n 1. trans (R \\<union> R')", "from p1 p2"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R \\<union> R'\n  (V', V'') \\<in> R \\<union> R'", "have \"(V,V'') \\<in> (R \\<union> R')\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R \\<union> R'\n  (V', V'') \\<in> R \\<union> R'\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R \\<union> R'", "proof (auto)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 3. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 4. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "assume inR1: \"(V,V') \\<in> R\""], ["proof (state)\nthis:\n  (V, V') \\<in> R\n\ngoal (4 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 3. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 4. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "assume inR2: \"(V',V'') \\<in> R\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R\n\ngoal (4 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 3. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 4. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "from inR1 inR2 transR"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R\n  (V', V'') \\<in> R\n  trans R", "show \"(V,V'') \\<in> R\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R\n  (V', V'') \\<in> R\n  trans R\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R", "unfolding trans_def"], ["proof (prove)\nusing this:\n  (V, V') \\<in> R\n  (V', V'') \\<in> R\n  \\<forall>x y z.\n     (x, y) \\<in> R \\<longrightarrow>\n     (y, z) \\<in> R \\<longrightarrow> (x, z) \\<in> R\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R", "by blast"], ["proof (state)\nthis:\n  (V, V'') \\<in> R\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 3. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 3. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "assume inR'1: \"(V,V') \\<in> R'\""], ["proof (state)\nthis:\n  (V, V') \\<in> R'\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 3. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "assume inR'2: \"(V',V'') \\<in> R'\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R'\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 3. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "assume notinR': \"(V,V'') \\<notin> R'\""], ["proof (state)\nthis:\n  (V, V'') \\<notin> R'\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 3. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "from inR'1 inR'2 transR'"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R'\n  (V', V'') \\<in> R'\n  trans R'", "have inR': \"(V,V'') \\<in> R'\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R'\n  (V', V'') \\<in> R'\n  trans R'\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R'", "unfolding trans_def"], ["proof (prove)\nusing this:\n  (V, V') \\<in> R'\n  (V', V'') \\<in> R'\n  \\<forall>x y z.\n     (x, y) \\<in> R' \\<longrightarrow>\n     (y, z) \\<in> R' \\<longrightarrow> (x, z) \\<in> R'\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R'", "by blast"], ["proof (state)\nthis:\n  (V, V'') \\<in> R'\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 3. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "from notinR' inR'"], ["proof (chain)\npicking this:\n  (V, V'') \\<notin> R'\n  (V, V'') \\<in> R'", "have \"False\""], ["proof (prove)\nusing this:\n  (V, V'') \\<notin> R'\n  (V, V'') \\<in> R'\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (3 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 3. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "thus \"(V,V'') \\<in> R\""], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R", ".."], ["proof (state)\nthis:\n  (V, V'') \\<in> R\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "assume inR1: \"(V,V') \\<in> R\""], ["proof (state)\nthis:\n  (V, V') \\<in> R\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "assume inR'2: \"(V',V'') \\<in> R'\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "from inR1 symR transR"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R\n  sym R\n  trans R", "have \"(V,V) \\<in> R \\<and> (V',V') \\<in> R\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R\n  sym R\n  trans R\n\ngoal (1 subgoal):\n 1. (V, V) \\<in> R \\<and> (V', V') \\<in> R", "unfolding sym_def trans_def"], ["proof (prove)\nusing this:\n  (V, V') \\<in> R\n  \\<forall>x y. (x, y) \\<in> R \\<longrightarrow> (y, x) \\<in> R\n  \\<forall>x y z.\n     (x, y) \\<in> R \\<longrightarrow>\n     (y, z) \\<in> R \\<longrightarrow> (x, z) \\<in> R\n\ngoal (1 subgoal):\n 1. (V, V) \\<in> R \\<and> (V', V') \\<in> R", "by blast"], ["proof (state)\nthis:\n  (V, V) \\<in> R \\<and> (V', V') \\<in> R\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "hence AreflR: \"{V,V'} \\<subseteq> Arefl R\""], ["proof (prove)\nusing this:\n  (V, V) \\<in> R \\<and> (V', V') \\<in> R\n\ngoal (1 subgoal):\n 1. {V, V'} \\<subseteq> Arefl R", "by (simp add: Arefl_def)"], ["proof (state)\nthis:\n  {V, V'} \\<subseteq> Arefl R\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "from inR'2 symR' transR'"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R'\n  sym R'\n  trans R'", "have \"(V',V') \\<in> R' \\<and> (V'',V'') \\<in> R'\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R'\n  sym R'\n  trans R'\n\ngoal (1 subgoal):\n 1. (V', V') \\<in> R' \\<and> (V'', V'') \\<in> R'", "unfolding sym_def trans_def"], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R'\n  \\<forall>x y. (x, y) \\<in> R' \\<longrightarrow> (y, x) \\<in> R'\n  \\<forall>x y z.\n     (x, y) \\<in> R' \\<longrightarrow>\n     (y, z) \\<in> R' \\<longrightarrow> (x, z) \\<in> R'\n\ngoal (1 subgoal):\n 1. (V', V') \\<in> R' \\<and> (V'', V'') \\<in> R'", "by blast"], ["proof (state)\nthis:\n  (V', V') \\<in> R' \\<and> (V'', V'') \\<in> R'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "hence AreflR': \"{V',V''} \\<subseteq> Arefl R'\""], ["proof (prove)\nusing this:\n  (V', V') \\<in> R' \\<and> (V'', V'') \\<in> R'\n\ngoal (1 subgoal):\n 1. {V', V''} \\<subseteq> Arefl R'", "by (simp add: Arefl_def)"], ["proof (state)\nthis:\n  {V', V''} \\<subseteq> Arefl R'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "from AreflR AreflR' Areflassump"], ["proof (chain)\npicking this:\n  {V, V'} \\<subseteq> Arefl R\n  {V', V''} \\<subseteq> Arefl R'\n  Arefl R \\<inter> Arefl R' \\<subseteq> {[]}", "have V'empt: \"V' = []\""], ["proof (prove)\nusing this:\n  {V, V'} \\<subseteq> Arefl R\n  {V', V''} \\<subseteq> Arefl R'\n  Arefl R \\<inter> Arefl R' \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. V' = []", "by (simp add: Arefl_def, blast)"], ["proof (state)\nthis:\n  V' = []\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "with inR'2 eqlenR'"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R'\n  \\<forall>(V, V')\\<in>R'. length V = length V'\n  V' = []", "have \"V' = V''\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R'\n  \\<forall>(V, V')\\<in>R'. length V = length V'\n  V' = []\n\ngoal (1 subgoal):\n 1. V' = V''", "by auto"], ["proof (state)\nthis:\n  V' = V''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R;\n     (V', V'') \\<in> R'\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R\n 2. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "with inR1"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R\n  V' = V''", "show \"(V, V'') \\<in> R\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R\n  V' = V''\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R", "by auto"], ["proof (state)\nthis:\n  (V, V'') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "assume inR'1: \"(V,V') \\<in> R'\""], ["proof (state)\nthis:\n  (V, V') \\<in> R'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "assume inR2: \"(V',V'') \\<in> R\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "from inR'1 symR' transR'"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R'\n  sym R'\n  trans R'", "have \"(V,V) \\<in> R' \\<and> (V',V') \\<in> R'\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R'\n  sym R'\n  trans R'\n\ngoal (1 subgoal):\n 1. (V, V) \\<in> R' \\<and> (V', V') \\<in> R'", "unfolding sym_def trans_def"], ["proof (prove)\nusing this:\n  (V, V') \\<in> R'\n  \\<forall>x y. (x, y) \\<in> R' \\<longrightarrow> (y, x) \\<in> R'\n  \\<forall>x y z.\n     (x, y) \\<in> R' \\<longrightarrow>\n     (y, z) \\<in> R' \\<longrightarrow> (x, z) \\<in> R'\n\ngoal (1 subgoal):\n 1. (V, V) \\<in> R' \\<and> (V', V') \\<in> R'", "by blast"], ["proof (state)\nthis:\n  (V, V) \\<in> R' \\<and> (V', V') \\<in> R'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "hence AreflR': \"{V,V'} \\<subseteq> Arefl R'\""], ["proof (prove)\nusing this:\n  (V, V) \\<in> R' \\<and> (V', V') \\<in> R'\n\ngoal (1 subgoal):\n 1. {V, V'} \\<subseteq> Arefl R'", "by (simp add: Arefl_def)"], ["proof (state)\nthis:\n  {V, V'} \\<subseteq> Arefl R'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "from inR2 symR transR"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R\n  sym R\n  trans R", "have \"(V',V') \\<in> R \\<and> (V'',V'') \\<in> R\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R\n  sym R\n  trans R\n\ngoal (1 subgoal):\n 1. (V', V') \\<in> R \\<and> (V'', V'') \\<in> R", "unfolding sym_def trans_def"], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R\n  \\<forall>x y. (x, y) \\<in> R \\<longrightarrow> (y, x) \\<in> R\n  \\<forall>x y z.\n     (x, y) \\<in> R \\<longrightarrow>\n     (y, z) \\<in> R \\<longrightarrow> (x, z) \\<in> R\n\ngoal (1 subgoal):\n 1. (V', V') \\<in> R \\<and> (V'', V'') \\<in> R", "by blast"], ["proof (state)\nthis:\n  (V', V') \\<in> R \\<and> (V'', V'') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "hence AreflR: \"{V',V''} \\<subseteq> Arefl R\""], ["proof (prove)\nusing this:\n  (V', V') \\<in> R \\<and> (V'', V'') \\<in> R\n\ngoal (1 subgoal):\n 1. {V', V''} \\<subseteq> Arefl R", "by (simp add: Arefl_def)"], ["proof (state)\nthis:\n  {V', V''} \\<subseteq> Arefl R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "from AreflR AreflR' Areflassump"], ["proof (chain)\npicking this:\n  {V', V''} \\<subseteq> Arefl R\n  {V, V'} \\<subseteq> Arefl R'\n  Arefl R \\<inter> Arefl R' \\<subseteq> {[]}", "have V'empt: \"V' = []\""], ["proof (prove)\nusing this:\n  {V', V''} \\<subseteq> Arefl R\n  {V, V'} \\<subseteq> Arefl R'\n  Arefl R \\<inter> Arefl R' \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. V' = []", "by (simp add: Arefl_def, blast)"], ["proof (state)\nthis:\n  V' = []\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "with inR'1 eqlenR'"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R'\n  \\<forall>(V, V')\\<in>R'. length V = length V'\n  V' = []", "have \"V' = V\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R'\n  \\<forall>(V, V')\\<in>R'. length V = length V'\n  V' = []\n\ngoal (1 subgoal):\n 1. V' = V", "by auto"], ["proof (state)\nthis:\n  V' = V\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(V, V'') \\<notin> R'; (V, V') \\<in> R';\n     (V', V'') \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (V, V'') \\<in> R", "with inR2"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R\n  V' = V", "show \"(V, V'') \\<in> R\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R\n  V' = V\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R", "by auto"], ["proof (state)\nthis:\n  (V, V'') \\<in> R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (V, V'') \\<in> R \\<union> R'\n\ngoal (1 subgoal):\n 1. trans (R \\<union> R')", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(?V2, ?V'2) \\<in> R \\<union> R';\n   (?V'2, ?V''2) \\<in> R \\<union> R'\\<rbrakk>\n  \\<Longrightarrow> (?V2, ?V''2) \\<in> R \\<union> R'\n\ngoal (1 subgoal):\n 1. trans (R \\<union> R')", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?V2, ?V'2) \\<in> R \\<union> R';\n   (?V'2, ?V''2) \\<in> R \\<union> R'\\<rbrakk>\n  \\<Longrightarrow> (?V2, ?V''2) \\<in> R \\<union> R'\n\ngoal (1 subgoal):\n 1. trans (R \\<union> R')", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?V2, ?V'2) \\<in> R \\<union> R';\n   (?V'2, ?V''2) \\<in> R \\<union> R'\\<rbrakk>\n  \\<Longrightarrow> (?V2, ?V''2) \\<in> R \\<union> R'\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       (x, y) \\<in> R \\<union> R' \\<longrightarrow>\n       (y, z) \\<in> R \\<union> R' \\<longrightarrow>\n       (x, z) \\<in> R \\<union> R'", "by force"], ["proof (state)\nthis:\n  trans (R \\<union> R')\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Up_To_Technique:\n\"\\<lbrakk> disj_dlHPP_Bisimulation_Up_To_R' d PP R' R; \n  Arefl R \\<inter> Arefl R' \\<subseteq> {[]} \\<rbrakk>\n  \\<Longrightarrow> SdlHPPB d PP (R \\<union> R')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>disj_dlHPP_Bisimulation_Up_To_R' d PP R' R;\n     Arefl R \\<inter> Arefl R' \\<subseteq> {[]}\\<rbrakk>\n    \\<Longrightarrow> SdlHPPB d PP (R \\<union> R')", "proof (simp add: disj_dlHPP_Bisimulation_Up_To_R'_def \n    Strong_dlHPP_Bisimulation_def, auto)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> sym (R \\<union> R')\n 2. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> trans (R \\<union> R')\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume symR': \"sym R'\""], ["proof (state)\nthis:\n  sym R'\n\ngoal (3 subgoals):\n 1. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> sym (R \\<union> R')\n 2. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> trans (R \\<union> R')\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume symR: \"sym R\""], ["proof (state)\nthis:\n  sym R\n\ngoal (3 subgoals):\n 1. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> sym (R \\<union> R')\n 2. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> trans (R \\<union> R')\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with symR'"], ["proof (chain)\npicking this:\n  sym R'\n  sym R", "show \"sym (R \\<union> R')\""], ["proof (prove)\nusing this:\n  sym R'\n  sym R\n\ngoal (1 subgoal):\n 1. sym (R \\<union> R')", "by (simp add: sym_def)"], ["proof (state)\nthis:\n  sym (R \\<union> R')\n\ngoal (2 subgoals):\n 1. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> trans (R \\<union> R')\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> trans (R \\<union> R')\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume symR': \"sym R'\""], ["proof (state)\nthis:\n  sym R'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> trans (R \\<union> R')\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume symR: \"sym R\""], ["proof (state)\nthis:\n  sym R\n\ngoal (2 subgoals):\n 1. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> trans (R \\<union> R')\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume transR': \"trans R'\""], ["proof (state)\nthis:\n  trans R'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> trans (R \\<union> R')\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume transR: \"trans R\""], ["proof (state)\nthis:\n  trans R\n\ngoal (2 subgoals):\n 1. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> trans (R \\<union> R')\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume eqlenR': \"\\<forall>(V, V')\\<in>R'. length V = length V'\""], ["proof (state)\nthis:\n  \\<forall>(V, V')\\<in>R'. length V = length V'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> trans (R \\<union> R')\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume eqlenR: \"\\<forall>(V, V')\\<in>R. length V = length V'\""], ["proof (state)\nthis:\n  \\<forall>(V, V')\\<in>R. length V = length V'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> trans (R \\<union> R')\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume areflassump: \"Arefl R \\<inter> Arefl R' \\<subseteq> {[]}\""], ["proof (state)\nthis:\n  Arefl R \\<inter> Arefl R' \\<subseteq> {[]}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R'; trans R';\n     \\<forall>x\\<in>R'.\n        case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R'.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' R' \\<and>\n                    (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2 m2');\n     sym R; trans R;\n     \\<forall>x\\<in>R. case x of (V, V') \\<Rightarrow> length V = length V';\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n     \\<forall>x\\<in>R.\n        case x of\n        (V, V') \\<Rightarrow>\n          \\<forall>i<length V.\n             \\<forall>m1 m1' m2 \\<alpha> p.\n                \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                \\<langle>p,m2\\<rangle> \\<and>\n                m1 \\<sim>\\<^bsub>d,htchLocSet\n                                    PP\\<^esub> m1' \\<longrightarrow>\n                (\\<exists>p' \\<alpha>' m2'.\n                    \\<langle>V' ! i,\n                     m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                    \\<langle>p',m2'\\<rangle> \\<and>\n                    stepResultsinR p p' (R \\<union> R') \\<and>\n                    ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                     (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                    dhequality_alternative d PP (pp (V ! i)) m2\n                     m2')\\<rbrakk>\n    \\<Longrightarrow> trans (R \\<union> R')\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from symR' symR transR' transR eqlenR' eqlenR areflassump trans_RuR'"], ["proof (chain)\npicking this:\n  sym R'\n  sym R\n  trans R'\n  trans R\n  \\<forall>(V, V')\\<in>R'. length V = length V'\n  \\<forall>(V, V')\\<in>R. length V = length V'\n  Arefl R \\<inter> Arefl R' \\<subseteq> {[]}\n  \\<lbrakk>trans ?R; sym ?R; trans ?R'; sym ?R';\n   \\<forall>(V, V')\\<in>?R. length V = length V';\n   \\<forall>(V, V')\\<in>?R'. length V = length V';\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> trans (?R \\<union> ?R')", "show \"trans (R \\<union> R')\""], ["proof (prove)\nusing this:\n  sym R'\n  sym R\n  trans R'\n  trans R\n  \\<forall>(V, V')\\<in>R'. length V = length V'\n  \\<forall>(V, V')\\<in>R. length V = length V'\n  Arefl R \\<inter> Arefl R' \\<subseteq> {[]}\n  \\<lbrakk>trans ?R; sym ?R; trans ?R'; sym ?R';\n   \\<forall>(V, V')\\<in>?R. length V = length V';\n   \\<forall>(V, V')\\<in>?R'. length V = length V';\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> trans (?R \\<union> ?R')\n\ngoal (1 subgoal):\n 1. trans (R \\<union> R')", "by blast\n  \\<comment> \\<open>condition about IDC and NDC and equal length already proven above by auto tactic!\\<close>"], ["proof (state)\nthis:\n  trans (R \\<union> R')\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V V' i m1 m1' m2 \\<alpha> p"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR': \"(V,V') \\<in> R'\""], ["proof (state)\nthis:\n  (V, V') \\<in> R'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume step: \"\\<langle>V!i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m2\\<rangle>\""], ["proof (state)\nthis:\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n  \\<langle>p,m2\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume dhequal: \"m1 \\<sim>\\<^bsub>d,(htchLocSet PP)\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume disjBisimUpTo: \"\\<forall>(V,V')\\<in>R'. \\<forall>i < length V. \\<forall>m1 m1' m2 \\<alpha> p.\n    \\<langle>V!i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m2\\<rangle> \\<and> m1 \\<sim>\\<^bsub>d,(htchLocSet PP)\\<^esub> m1' \\<longrightarrow>\n    (\\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n    stepResultsinR p p' R' \\<and> (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n    dhequality_alternative d PP (pp (V!i)) m2 m2')\""], ["proof (state)\nthis:\n  \\<forall>(V, V')\\<in>R'.\n     \\<forall>i<length V.\n        \\<forall>m1 m1' m2 \\<alpha> p.\n           \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n           \\<langle>p,m2\\<rangle> \\<and>\n           m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1' \\<longrightarrow>\n           (\\<exists>p' \\<alpha>' m2'.\n               \\<langle>V' ! i,\n                m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n               \\<langle>p',m2'\\<rangle> \\<and>\n               stepResultsinR p p' R' \\<and>\n               (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n               dhequality_alternative d PP (pp (V ! i)) m2 m2')\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>Arefl R \\<inter> Arefl R' \\<subseteq> {[]}; sym R';\n        trans R';\n        \\<forall>x\\<in>R'.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R'.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        sym R; trans R;\n        \\<forall>x\\<in>R.\n           case x of (V, V') \\<Rightarrow> length V = length V';\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)));\n        \\<forall>x\\<in>R.\n           case x of\n           (V, V') \\<Rightarrow>\n             \\<forall>i<length V.\n                \\<forall>m1 m1' m2 \\<alpha> p.\n                   \\<langle>V ! i,\n                    m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n                   \\<langle>p,m2\\<rangle> \\<and>\n                   m1 \\<sim>\\<^bsub>d,htchLocSet\n PP\\<^esub> m1' \\<longrightarrow>\n                   (\\<exists>p' \\<alpha>' m2'.\n                       \\<langle>V' ! i,\n                        m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                       \\<langle>p',m2'\\<rangle> \\<and>\n                       stepResultsinR p p' (R \\<union> R') \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2');\n        i < length a;\n        \\<langle>a ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n        \\<langle>p,m2\\<rangle>;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1';\n        (a, b) \\<in> R'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            \\<langle>b ! i,\n                             m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n                            \\<langle>p',m2'\\<rangle> \\<and>\n                            stepResultsinR p p' (R \\<union> R') \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR' irange step dhequal disjBisimUpTo"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R'\n  i < length V\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n  \\<langle>p,m2\\<rangle>\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<forall>(V, V')\\<in>R'.\n     \\<forall>i<length V.\n        \\<forall>m1 m1' m2 \\<alpha> p.\n           \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n           \\<langle>p,m2\\<rangle> \\<and>\n           m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1' \\<longrightarrow>\n           (\\<exists>p' \\<alpha>' m2'.\n               \\<langle>V' ! i,\n                m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n               \\<langle>p',m2'\\<rangle> \\<and>\n               stepResultsinR p p' R' \\<and>\n               (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n               dhequality_alternative d PP (pp (V ! i)) m2 m2')", "show \"\\<exists>p' \\<alpha>' m2'.\n    \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and> stepResultsinR p p' (R \\<union> R') \\<and>\n    ((\\<alpha>,\\<alpha>') \\<in> R \\<or> (\\<alpha>,\\<alpha>') \\<in> R') \\<and> \n    dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R'\n  i < length V\n  \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n  \\<langle>p,m2\\<rangle>\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<forall>(V, V')\\<in>R'.\n     \\<forall>i<length V.\n        \\<forall>m1 m1' m2 \\<alpha> p.\n           \\<langle>V ! i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd>\n           \\<langle>p,m2\\<rangle> \\<and>\n           m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1' \\<longrightarrow>\n           (\\<exists>p' \\<alpha>' m2'.\n               \\<langle>V' ! i,\n                m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n               \\<langle>p',m2'\\<rangle> \\<and>\n               stepResultsinR p p' R' \\<and>\n               (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n               dhequality_alternative d PP (pp (V ! i)) m2 m2')\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n       \\<langle>p',m2'\\<rangle> \\<and>\n       stepResultsinR p p' (R \\<union> R') \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by (simp add: stepResultsinR_def,fastforce)"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     \\<langle>V' ! i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd>\n     \\<langle>p',m2'\\<rangle> \\<and>\n     stepResultsinR p p' (R \\<union> R') \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R') \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Union_Strong_dlHPP_Bisim:\n\"\\<lbrakk> SdlHPPB d PP R; SdlHPPB d PP R'; \n  Arefl R \\<inter> Arefl R' \\<subseteq> {[]} \\<rbrakk>\n  \\<Longrightarrow> SdlHPPB d PP (R \\<union> R')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>SdlHPPB d PP R; SdlHPPB d PP R';\n     Arefl R \\<inter> Arefl R' \\<subseteq> {[]}\\<rbrakk>\n    \\<Longrightarrow> SdlHPPB d PP (R \\<union> R')", "by (rule Up_To_Technique, simp_all add: \n  disj_dlHPP_Bisimulation_Up_To_R'_def \n  Strong_dlHPP_Bisimulation_def stepResultsinR_def, fastforce)"], ["", "lemma adding_emptypair_keeps_SdlHPPB:\n  assumes SdlHPP: \"SdlHPPB d PP R\"\n  shows \"SdlHPPB d PP (R \\<union> {([],[])})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SdlHPPB d PP (R \\<union> {([], [])})", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. SdlHPPB d PP (R \\<union> {([], [])})", "have SdlHPPemp: \"SdlHPPB d PP {([],[])}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SdlHPPB d PP {([], [])}", "by (simp add: Strong_dlHPP_Bisimulation_def sym_def trans_def)"], ["proof (state)\nthis:\n  SdlHPPB d PP {([], [])}\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP (R \\<union> {([], [])})", "have commonDom: \"Domain R \\<inter> Domain {([],[])} \\<subseteq> {[]}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Domain R \\<inter> Domain {([], [])} \\<subseteq> {[]}", "by auto"], ["proof (state)\nthis:\n  Domain R \\<inter> Domain {([], [])} \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP (R \\<union> {([], [])})", "with commonArefl_subset_commonDomain"], ["proof (chain)\npicking this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R \\<inter> Domain {([], [])} \\<subseteq> {[]}", "have Areflassump:\n    \"Arefl R \\<inter> Arefl {([],[])} \\<subseteq> {[]}\""], ["proof (prove)\nusing this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R \\<inter> Domain {([], [])} \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. Arefl R \\<inter> Arefl {([], [])} \\<subseteq> {[]}", "by force"], ["proof (state)\nthis:\n  Arefl R \\<inter> Arefl {([], [])} \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP (R \\<union> {([], [])})", "with SdlHPP SdlHPPemp Union_Strong_dlHPP_Bisim"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R\n  SdlHPPB d PP {([], [])}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R; SdlHPPB ?d ?PP ?R';\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  Arefl R \\<inter> Arefl {([], [])} \\<subseteq> {[]}", "show \n    \"SdlHPPB d PP (R \\<union> {([],[])})\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R\n  SdlHPPB d PP {([], [])}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R; SdlHPPB ?d ?PP ?R';\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  Arefl R \\<inter> Arefl {([], [])} \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP (R \\<union> {([], [])})", "by force"], ["proof (state)\nthis:\n  SdlHPPB d PP (R \\<union> {([], [])})\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}