{"file_name": "/home/qj213/afp-2021-10-22/thys/WHATandWHERE_Security/Parallel_Composition.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/WHATandWHERE_Security", "problem_names": ["lemma SdlHPPB_restricted_on_PP_is_SdlHPPB:\n  assumes SdlHPPB: \"SdlHPPB d PP R'\"\n  assumes inR': \"(V,V) \\<in> R'\"\n  assumes Rdef: \"R = {(V',V''). (V',V'') \\<in> R' \n    \\<and> set (PPV V') \\<subseteq> set (PPV V)\n    \\<and> set (PPV V'') \\<subseteq> set (PPV V)}\"\n  shows \"SdlHPPB d PP R\"", "theorem parallel_composition:\n  \"\\<lbrakk> \\<forall>i < length V. WHATWHERE_Secure [V!i]; unique_PPV V \\<rbrakk>\n  \\<Longrightarrow> WHATWHERE_Secure V\""], "translations": [["", "lemma SdlHPPB_restricted_on_PP_is_SdlHPPB:\n  assumes SdlHPPB: \"SdlHPPB d PP R'\"\n  assumes inR': \"(V,V) \\<in> R'\"\n  assumes Rdef: \"R = {(V',V''). (V',V'') \\<in> R' \n    \\<and> set (PPV V') \\<subseteq> set (PPV V)\n    \\<and> set (PPV V'') \\<subseteq> set (PPV V)}\"\n  shows \"SdlHPPB d PP R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SdlHPPB d PP R", "proof (simp add: Strong_dlHPP_Bisimulation_def, auto)"], ["proof (state)\ngoal (5 subgoals):\n 1. sym R\n 2. trans R\n 3. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R'", "have \"sym R'\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R'\n\ngoal (1 subgoal):\n 1. sym R'", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  sym R'\n\ngoal (5 subgoals):\n 1. sym R\n 2. trans R\n 3. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with Rdef"], ["proof (chain)\npicking this:\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  sym R'", "show \"sym R\""], ["proof (prove)\nusing this:\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  sym R'\n\ngoal (1 subgoal):\n 1. sym R", "by (simp add: sym_def)"], ["proof (state)\nthis:\n  sym R\n\ngoal (4 subgoals):\n 1. trans R\n 2. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. trans R\n 2. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R'", "have \"trans R'\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R'\n\ngoal (1 subgoal):\n 1. trans R'", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  trans R'\n\ngoal (4 subgoals):\n 1. trans R\n 2. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with Rdef"], ["proof (chain)\npicking this:\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  trans R'", "show \"trans R\""], ["proof (prove)\nusing this:\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  trans R'\n\ngoal (1 subgoal):\n 1. trans R", "by (simp add: trans_def, auto)"], ["proof (state)\nthis:\n  trans R\n\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V' V''"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR_part: \"(V',V'') \\<in> R\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R\n\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with SdlHPPB Rdef"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R'\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  (V', V'') \\<in> R", "show \"length V' = length V''\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R'\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  (V', V'') \\<in> R\n\ngoal (1 subgoal):\n 1. length V' = length V''", "by (simp add: Strong_dlHPP_Bisimulation_def, auto)"], ["proof (state)\nthis:\n  length V' = length V''\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V' V'' i"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR_part: \"(V',V'') \\<in> R\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V'\""], ["proof (state)\nthis:\n  i < length V'\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume notIDC: \n    \"\\<not> IDC d (V'!i) (htchLoc (pp (V'!i)))\""], ["proof (state)\nthis:\n  \\<not> IDC d (V' ! i) (htchLoc (pp (V' ! i)))\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with SdlHPPB inR_part irange Rdef"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R'\n  (V', V'') \\<in> R\n  i < length V'\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  \\<not> IDC d (V' ! i) (htchLoc (pp (V' ! i)))", "show \"NDC d (V'!i)\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R'\n  (V', V'') \\<in> R\n  i < length V'\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  \\<not> IDC d (V' ! i) (htchLoc (pp (V' ! i)))\n\ngoal (1 subgoal):\n 1. NDC d (V' ! i)", "by (simp add: Strong_dlHPP_Bisimulation_def, auto)"], ["proof (state)\nthis:\n  NDC d (V' ! i)\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V' V'' i \\<alpha> p m1 m1' m2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR_part: \"(V',V'') \\<in> R\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V'\""], ["proof (state)\nthis:\n  i < length V'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume step: \"\\<langle>V'!i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume dhequal: \"m1 \\<sim>\\<^bsub>d,(htchLocSet PP)\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR_part SdlHPPB Rdef"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R\n  SdlHPPB d PP R'\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}", "have eqlen: \"length V' = length V''\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R\n  SdlHPPB d PP R'\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n\ngoal (1 subgoal):\n 1. length V' = length V''", "by (simp add: Strong_dlHPP_Bisimulation_def, auto)"], ["proof (state)\nthis:\n  length V' = length V''\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR_part Rdef"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}", "have \"set (PPV V') \\<subseteq> set (PPV V) \\<and> set (PPV V'') \\<subseteq> set (PPV V)\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n\ngoal (1 subgoal):\n 1. set (PPV V') \\<subseteq> set (PPV V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV V)", "by auto"], ["proof (state)\nthis:\n  set (PPV V') \\<subseteq> set (PPV V) \\<and>\n  set (PPV V'') \\<subseteq> set (PPV V)\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with irange PPc_in_PPV_version eqlen"], ["proof (chain)\npicking this:\n  i < length V'\n  ?i < length ?V \\<Longrightarrow>\n  set (PPc (?V ! ?i)) \\<subseteq> set (PPV ?V)\n  length V' = length V''\n  set (PPV V') \\<subseteq> set (PPV V) \\<and>\n  set (PPV V'') \\<subseteq> set (PPV V)", "have PPc_Vs_at_i: \n    \"set (PPc (V'!i)) \\<subseteq> set (PPV V) \\<and> set (PPc (V''!i)) \\<subseteq> set (PPV V)\""], ["proof (prove)\nusing this:\n  i < length V'\n  ?i < length ?V \\<Longrightarrow>\n  set (PPc (?V ! ?i)) \\<subseteq> set (PPV ?V)\n  length V' = length V''\n  set (PPV V') \\<subseteq> set (PPV V) \\<and>\n  set (PPV V'') \\<subseteq> set (PPV V)\n\ngoal (1 subgoal):\n 1. set (PPc (V' ! i)) \\<subseteq> set (PPV V) \\<and>\n    set (PPc (V'' ! i)) \\<subseteq> set (PPV V)", "by (metis subset_trans)"], ["proof (state)\nthis:\n  set (PPc (V' ! i)) \\<subseteq> set (PPV V) \\<and>\n  set (PPc (V'' ! i)) \\<subseteq> set (PPV V)\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPB inR_part Rdef irange step dhequal\n    strongdlHPPB_aux[of \"d\" \"PP\" \"R'\" \"i\" \n    \"V'\" \"V''\" \"m1\" \"\\<alpha>\" \"p\" \"m2\" \"m1'\"]"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R'\n  (V', V'') \\<in> R\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  i < length V'\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<lbrakk>SdlHPPB d PP R'; i < length V'; (V', V'') \\<in> R';\n   SRabbr (V' ! i) m1 \\<alpha> p m2;\n   m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V' ! i)) m2 m2'", "obtain p' \\<alpha>' m2' where stepreq: \"\\<langle>V''!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n    stepResultsinR p p' R' \\<and> (\\<alpha>,\\<alpha>') \\<in> R' \\<and>\n    dhequality_alternative d PP (pp (V'!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R'\n  (V', V'') \\<in> R\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  i < length V'\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<lbrakk>SdlHPPB d PP R'; i < length V'; (V', V'') \\<in> R';\n   SRabbr (V' ! i) m1 \\<alpha> p m2;\n   m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' R' \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n                       dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha>' p' m2'.\n        SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n        stepResultsinR p p' R' \\<and>\n        (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n        dhequality_alternative d PP (pp (V' ! i)) m2 m2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n  stepResultsinR p p' R' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n  dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "have Rpp': \"stepResultsinR p p' R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. stepResultsinR p p' R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. stepResultsinR p p' R", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. stepResultsinR p p' R", "fix c c'"], ["proof (state)\ngoal (1 subgoal):\n 1. stepResultsinR p p' R", "assume step1: \"\\<langle>V'!i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>Some c,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr (V' ! i) m1 \\<alpha> (Some c) m2\n\ngoal (1 subgoal):\n 1. stepResultsinR p p' R", "assume step2: \"\\<langle>V''!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>Some c',m2'\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr (V'' ! i) m1' \\<alpha>' (Some c') m2'\n\ngoal (1 subgoal):\n 1. stepResultsinR p p' R", "assume inR'_res: \"([c],[c']) \\<in> R'\""], ["proof (state)\nthis:\n  ([c], [c']) \\<in> R'\n\ngoal (1 subgoal):\n 1. stepResultsinR p p' R", "from PPc_Vs_at_i step1 step2 PPsc_of_step"], ["proof (chain)\npicking this:\n  set (PPc (V' ! i)) \\<subseteq> set (PPV V) \\<and>\n  set (PPc (V'' ! i)) \\<subseteq> set (PPV V)\n  SRabbr (V' ! i) m1 \\<alpha> (Some c) m2\n  SRabbr (V'' ! i) m1' \\<alpha>' (Some c') m2'\n  \\<lbrakk>SRabbr ?c ?m ?\\<alpha> ?p ?m'; \\<exists>c'. ?p = Some c'\\<rbrakk>\n  \\<Longrightarrow> set (PPc (the ?p)) \\<subseteq> set (PPc ?c)", "have \"set (PPc c) \\<subseteq> set (PPV V) \\<and> set (PPc c') \\<subseteq> set (PPV V)\""], ["proof (prove)\nusing this:\n  set (PPc (V' ! i)) \\<subseteq> set (PPV V) \\<and>\n  set (PPc (V'' ! i)) \\<subseteq> set (PPV V)\n  SRabbr (V' ! i) m1 \\<alpha> (Some c) m2\n  SRabbr (V'' ! i) m1' \\<alpha>' (Some c') m2'\n  \\<lbrakk>SRabbr ?c ?m ?\\<alpha> ?p ?m'; \\<exists>c'. ?p = Some c'\\<rbrakk>\n  \\<Longrightarrow> set (PPc (the ?p)) \\<subseteq> set (PPc ?c)\n\ngoal (1 subgoal):\n 1. set (PPc c) \\<subseteq> set (PPV V) \\<and>\n    set (PPc c') \\<subseteq> set (PPV V)", "by (metis (no_types) option.sel xt1(6))"], ["proof (state)\nthis:\n  set (PPc c) \\<subseteq> set (PPV V) \\<and>\n  set (PPc c') \\<subseteq> set (PPV V)\n\ngoal (1 subgoal):\n 1. stepResultsinR p p' R", "with inR'_res Rdef"], ["proof (chain)\npicking this:\n  ([c], [c']) \\<in> R'\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  set (PPc c) \\<subseteq> set (PPV V) \\<and>\n  set (PPc c') \\<subseteq> set (PPV V)", "have \"([c],[c']) \\<in> R\""], ["proof (prove)\nusing this:\n  ([c], [c']) \\<in> R'\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  set (PPc c) \\<subseteq> set (PPV V) \\<and>\n  set (PPc c') \\<subseteq> set (PPV V)\n\ngoal (1 subgoal):\n 1. ([c], [c']) \\<in> R", "by auto"], ["proof (state)\nthis:\n  ([c], [c']) \\<in> R\n\ngoal (1 subgoal):\n 1. stepResultsinR p p' R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>SRabbr (V' ! i) m1 \\<alpha> (Some ?c2) m2;\n   SRabbr (V'' ! i) m1' \\<alpha>' (Some ?c'2) m2';\n   ([?c2], [?c'2]) \\<in> R'\\<rbrakk>\n  \\<Longrightarrow> ([?c2], [?c'2]) \\<in> R\n\ngoal (1 subgoal):\n 1. stepResultsinR p p' R", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>SRabbr (V' ! i) m1 \\<alpha> (Some ?c2) m2;\n   SRabbr (V'' ! i) m1' \\<alpha>' (Some ?c'2) m2';\n   ([?c2], [?c'2]) \\<in> R'\\<rbrakk>\n  \\<Longrightarrow> ([?c2], [?c'2]) \\<in> R\n\ngoal (1 subgoal):\n 1. stepResultsinR p p' R", "by (metis step stepResultsinR_def stepreq)"], ["proof (state)\nthis:\n  stepResultsinR p p' R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  stepResultsinR p p' R\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "have R\\<alpha>\\<alpha>': \"(\\<alpha>,\\<alpha>') \\<in> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<alpha>, \\<alpha>') \\<in> R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<alpha>, \\<alpha>') \\<in> R", "from PPc_Vs_at_i step stepreq PPs\\<alpha>_of_step"], ["proof (chain)\npicking this:\n  set (PPc (V' ! i)) \\<subseteq> set (PPV V) \\<and>\n  set (PPc (V'' ! i)) \\<subseteq> set (PPV V)\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n  SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n  stepResultsinR p p' R' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n  dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n  SRabbr ?c ?m ?\\<alpha> ?p ?m' \\<Longrightarrow>\n  set (PPV ?\\<alpha>) \\<subseteq> set (PPc ?c)", "have \n      \"set (PPV \\<alpha>) \\<subseteq> set (PPV V) \\<and> set (PPV \\<alpha>') \\<subseteq> set (PPV V)\""], ["proof (prove)\nusing this:\n  set (PPc (V' ! i)) \\<subseteq> set (PPV V) \\<and>\n  set (PPc (V'' ! i)) \\<subseteq> set (PPV V)\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n  SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n  stepResultsinR p p' R' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n  dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n  SRabbr ?c ?m ?\\<alpha> ?p ?m' \\<Longrightarrow>\n  set (PPV ?\\<alpha>) \\<subseteq> set (PPc ?c)\n\ngoal (1 subgoal):\n 1. set (PPV \\<alpha>) \\<subseteq> set (PPV V) \\<and>\n    set (PPV \\<alpha>') \\<subseteq> set (PPV V)", "by (metis (no_types) xt1(6))"], ["proof (state)\nthis:\n  set (PPV \\<alpha>) \\<subseteq> set (PPV V) \\<and>\n  set (PPV \\<alpha>') \\<subseteq> set (PPV V)\n\ngoal (1 subgoal):\n 1. (\\<alpha>, \\<alpha>') \\<in> R", "with stepreq Rdef"], ["proof (chain)\npicking this:\n  SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n  stepResultsinR p p' R' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n  dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  set (PPV \\<alpha>) \\<subseteq> set (PPV V) \\<and>\n  set (PPV \\<alpha>') \\<subseteq> set (PPV V)", "show ?thesis"], ["proof (prove)\nusing this:\n  SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n  stepResultsinR p p' R' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n  dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  set (PPV \\<alpha>) \\<subseteq> set (PPV V) \\<and>\n  set (PPV \\<alpha>') \\<subseteq> set (PPV V)\n\ngoal (1 subgoal):\n 1. (\\<alpha>, \\<alpha>') \\<in> R", "by auto"], ["proof (state)\nthis:\n  (\\<alpha>, \\<alpha>') \\<in> R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<alpha>, \\<alpha>') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' R \\<and>\n                            (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from stepreq Rpp' R\\<alpha>\\<alpha>'"], ["proof (chain)\npicking this:\n  SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n  stepResultsinR p p' R' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n  dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n  stepResultsinR p p' R\n  (\\<alpha>, \\<alpha>') \\<in> R", "show \n    \"\\<exists>p' \\<alpha>' m2'. \\<langle>V''!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n    stepResultsinR p p' R \\<and> (\\<alpha>,\\<alpha>') \\<in> R \\<and>\n    dhequality_alternative d PP (pp (V'!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n  stepResultsinR p p' R' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R' \\<and>\n  dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n  stepResultsinR p p' R\n  (\\<alpha>, \\<alpha>') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' R \\<and>\n       (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n       dhequality_alternative d PP (pp (V' ! i)) m2 m2'", "by auto"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' R \\<and>\n     (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n     dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem parallel_composition:\n  \"\\<lbrakk> \\<forall>i < length V. WHATWHERE_Secure [V!i]; unique_PPV V \\<rbrakk>\n  \\<Longrightarrow> WHATWHERE_Secure V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>i<length V. WHATWHERE_Secure [V ! i];\n     unique_PPV V\\<rbrakk>\n    \\<Longrightarrow> WHATWHERE_Secure V", "proof (simp add: WHATWHERE_Secure_def, induct V, auto)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>d PP.\n       unique_PPV [] \\<Longrightarrow>\n       \\<exists>R. SdlHPPB d PP R \\<and> ([], []) \\<in> R\n 2. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "fix d PP"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>d PP.\n       unique_PPV [] \\<Longrightarrow>\n       \\<exists>R. SdlHPPB d PP R \\<and> ([], []) \\<in> R\n 2. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "from WHATWHERE_empty"], ["proof (chain)\npicking this:\n  WHATWHERE_Secure []", "show \"\\<exists>R. SdlHPPB d PP R \\<and> ([],[]) \\<in> R\""], ["proof (prove)\nusing this:\n  WHATWHERE_Secure []\n\ngoal (1 subgoal):\n 1. \\<exists>R. SdlHPPB d PP R \\<and> ([], []) \\<in> R", "by (simp add: WHATWHERE_Secure_def)"], ["proof (state)\nthis:\n  \\<exists>R. SdlHPPB d PP R \\<and> ([], []) \\<in> R\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "fix c V d PP"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "assume IH: \"\\<lbrakk> \\<forall>i < length V.\n    \\<forall>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([V!i],[V!i]) \\<in> R;\n    unique_PPV V \\<rbrakk>\n    \\<Longrightarrow> \\<forall>d PP. \\<exists>R. SdlHPPB d PP R \\<and> (V,V) \\<in> R\""], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>i<length V.\n              \\<forall>d PP.\n                 \\<exists>R.\n                    SdlHPPB d PP R \\<and> ([V ! i], [V ! i]) \\<in> R;\n   unique_PPV V\\<rbrakk>\n  \\<Longrightarrow> \\<forall>d PP.\n                       \\<exists>R. SdlHPPB d PP R \\<and> (V, V) \\<in> R\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "assume ISassump: \"\\<forall>i < Suc (length V).\n    \\<forall>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([(c#V)!i],[(c#V)!i]) \\<in> R\""], ["proof (state)\nthis:\n  \\<forall>i<Suc (length V).\n     \\<forall>d PP.\n        \\<exists>R.\n           SdlHPPB d PP R \\<and> ([(c # V) ! i], [(c # V) ! i]) \\<in> R\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "assume uniPPcV: \"unique_PPV (c#V)\""], ["proof (state)\nthis:\n  unique_PPV (c # V)\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "hence IHassump1: \"unique_PPV V\""], ["proof (prove)\nusing this:\n  unique_PPV (c # V)\n\ngoal (1 subgoal):\n 1. unique_PPV V", "by (simp add: unique_PPV_def)"], ["proof (state)\nthis:\n  unique_PPV V\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "from uniPPcV"], ["proof (chain)\npicking this:\n  unique_PPV (c # V)", "have nocommonPP: \"set (PPc c) \\<inter> set (PPV V) = {}\""], ["proof (prove)\nusing this:\n  unique_PPV (c # V)\n\ngoal (1 subgoal):\n 1. set (PPc c) \\<inter> set (PPV V) = {}", "by (simp add: unique_PPV_def)"], ["proof (state)\nthis:\n  set (PPc c) \\<inter> set (PPV V) = {}\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "from ISassump"], ["proof (chain)\npicking this:\n  \\<forall>i<Suc (length V).\n     \\<forall>d PP.\n        \\<exists>R.\n           SdlHPPB d PP R \\<and> ([(c # V) ! i], [(c # V) ! i]) \\<in> R", "have IHassump2: \"\\<forall>i < length V. \n    \\<forall>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([V!i],[V!i]) \\<in> R\""], ["proof (prove)\nusing this:\n  \\<forall>i<Suc (length V).\n     \\<forall>d PP.\n        \\<exists>R.\n           SdlHPPB d PP R \\<and> ([(c # V) ! i], [(c # V) ! i]) \\<in> R\n\ngoal (1 subgoal):\n 1. \\<forall>i<length V.\n       \\<forall>d PP.\n          \\<exists>R. SdlHPPB d PP R \\<and> ([V ! i], [V ! i]) \\<in> R", "by auto"], ["proof (state)\nthis:\n  \\<forall>i<length V.\n     \\<forall>d PP.\n        \\<exists>R. SdlHPPB d PP R \\<and> ([V ! i], [V ! i]) \\<in> R\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "with IHassump1 IH"], ["proof (chain)\npicking this:\n  unique_PPV V\n  \\<lbrakk>\\<forall>i<length V.\n              \\<forall>d PP.\n                 \\<exists>R.\n                    SdlHPPB d PP R \\<and> ([V ! i], [V ! i]) \\<in> R;\n   unique_PPV V\\<rbrakk>\n  \\<Longrightarrow> \\<forall>d PP.\n                       \\<exists>R. SdlHPPB d PP R \\<and> (V, V) \\<in> R\n  \\<forall>i<length V.\n     \\<forall>d PP.\n        \\<exists>R. SdlHPPB d PP R \\<and> ([V ! i], [V ! i]) \\<in> R", "obtain RV' where RV'assump:\n    \"SdlHPPB d PP RV' \\<and> (V,V) \\<in> RV'\""], ["proof (prove)\nusing this:\n  unique_PPV V\n  \\<lbrakk>\\<forall>i<length V.\n              \\<forall>d PP.\n                 \\<exists>R.\n                    SdlHPPB d PP R \\<and> ([V ! i], [V ! i]) \\<in> R;\n   unique_PPV V\\<rbrakk>\n  \\<Longrightarrow> \\<forall>d PP.\n                       \\<exists>R. SdlHPPB d PP R \\<and> (V, V) \\<in> R\n  \\<forall>i<length V.\n     \\<forall>d PP.\n        \\<exists>R. SdlHPPB d PP R \\<and> ([V ! i], [V ! i]) \\<in> R\n\ngoal (1 subgoal):\n 1. (\\<And>RV'.\n        SdlHPPB d PP RV' \\<and> (V, V) \\<in> RV' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SdlHPPB d PP RV' \\<and> (V, V) \\<in> RV'\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "define RV where \"RV = {(V',V''). (V',V'') \\<in> RV' \\<and> set (PPV V') \\<subseteq> set (PPV V)\n    \\<and> set (PPV V'') \\<subseteq> set (PPV V)}\""], ["proof (state)\nthis:\n  RV =\n  {(V', V'').\n   (V', V'') \\<in> RV' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "with RV'assump RV_def SdlHPPB_restricted_on_PP_is_SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB d PP RV' \\<and> (V, V) \\<in> RV'\n  RV =\n  {(V', V'').\n   (V', V'') \\<in> RV' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R\n  RV =\n  {(V', V'').\n   (V', V'') \\<in> RV' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}", "have SdlHPPRV: \"SdlHPPB d PP RV\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP RV' \\<and> (V, V) \\<in> RV'\n  RV =\n  {(V', V'').\n   (V', V'') \\<in> RV' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R\n  RV =\n  {(V', V'').\n   (V', V'') \\<in> RV' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP RV", "by force"], ["proof (state)\nthis:\n  SdlHPPB d PP RV\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "from ISassump"], ["proof (chain)\npicking this:\n  \\<forall>i<Suc (length V).\n     \\<forall>d PP.\n        \\<exists>R.\n           SdlHPPB d PP R \\<and> ([(c # V) ! i], [(c # V) ! i]) \\<in> R", "obtain Rc' where Rc'assump: \n    \"SdlHPPB d PP Rc' \\<and> ([c],[c]) \\<in> Rc'\""], ["proof (prove)\nusing this:\n  \\<forall>i<Suc (length V).\n     \\<forall>d PP.\n        \\<exists>R.\n           SdlHPPB d PP R \\<and> ([(c # V) ! i], [(c # V) ! i]) \\<in> R\n\ngoal (1 subgoal):\n 1. (\\<And>Rc'.\n        SdlHPPB d PP Rc' \\<and> ([c], [c]) \\<in> Rc' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis append_Nil drop_Nil neq0_conv not_Cons_self \n      nth_append_length Cons_nth_drop_Suc zero_less_Suc)"], ["proof (state)\nthis:\n  SdlHPPB d PP Rc' \\<and> ([c], [c]) \\<in> Rc'\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "define Rc where \"Rc = {(V',V''). (V',V'') \\<in> Rc' \\<and> set (PPV V') \\<subseteq> set (PPc c)\n    \\<and> set (PPV V'') \\<subseteq> set (PPc c)}\""], ["proof (state)\nthis:\n  Rc =\n  {(V', V'').\n   (V', V'') \\<in> Rc' \\<and>\n   set (PPV V') \\<subseteq> set (PPc c) \\<and>\n   set (PPV V'') \\<subseteq> set (PPc c)}\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "with Rc'assump Rc_def SdlHPPB_restricted_on_PP_is_SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB d PP Rc' \\<and> ([c], [c]) \\<in> Rc'\n  Rc =\n  {(V', V'').\n   (V', V'') \\<in> Rc' \\<and>\n   set (PPV V') \\<subseteq> set (PPc c) \\<and>\n   set (PPV V'') \\<subseteq> set (PPc c)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R\n  Rc =\n  {(V', V'').\n   (V', V'') \\<in> Rc' \\<and>\n   set (PPV V') \\<subseteq> set (PPc c) \\<and>\n   set (PPV V'') \\<subseteq> set (PPc c)}", "have SdlHPPRc: \"SdlHPPB d PP Rc\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP Rc' \\<and> ([c], [c]) \\<in> Rc'\n  Rc =\n  {(V', V'').\n   (V', V'') \\<in> Rc' \\<and>\n   set (PPV V') \\<subseteq> set (PPc c) \\<and>\n   set (PPV V'') \\<subseteq> set (PPc c)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R\n  Rc =\n  {(V', V'').\n   (V', V'') \\<in> Rc' \\<and>\n   set (PPV V') \\<subseteq> set (PPc c) \\<and>\n   set (PPV V'') \\<subseteq> set (PPc c)}\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP Rc", "by force"], ["proof (state)\nthis:\n  SdlHPPB d PP Rc\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "from nocommonPP"], ["proof (chain)\npicking this:\n  set (PPc c) \\<inter> set (PPV V) = {}", "have \"Domain RV \\<inter> Domain Rc \\<subseteq> {[]}\""], ["proof (prove)\nusing this:\n  set (PPc c) \\<inter> set (PPV V) = {}\n\ngoal (1 subgoal):\n 1. Domain RV \\<inter> Domain Rc \\<subseteq> {[]}", "by (simp add: RV_def Rc_def, auto,\n      metis Int_mono inf_commute inf_idem le_bot nocommonPP unique_V_uneq)"], ["proof (state)\nthis:\n  Domain RV \\<inter> Domain Rc \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "with commonArefl_subset_commonDomain"], ["proof (chain)\npicking this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain RV \\<inter> Domain Rc \\<subseteq> {[]}", "have Areflassump1: \"Arefl RV \\<inter> Arefl Rc \\<subseteq> {[]}\""], ["proof (prove)\nusing this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain RV \\<inter> Domain Rc \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. Arefl RV \\<inter> Arefl Rc \\<subseteq> {[]}", "by force"], ["proof (state)\nthis:\n  Arefl RV \\<inter> Arefl Rc \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "define R where \"R = {(V',V''). \\<exists>c c' W W'. V' = c#W \\<and> V'' = c'#W' \\<and> W \\<noteq> []\n    \\<and> W' \\<noteq> [] \\<and> ([c],[c']) \\<in> Rc \\<and> (W,W') \\<in> RV}\""], ["proof (state)\nthis:\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "with RV_def RV'assump Rc_def Rc'assump"], ["proof (chain)\npicking this:\n  RV =\n  {(V', V'').\n   (V', V'') \\<in> RV' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  SdlHPPB d PP RV' \\<and> (V, V) \\<in> RV'\n  Rc =\n  {(V', V'').\n   (V', V'') \\<in> Rc' \\<and>\n   set (PPV V') \\<subseteq> set (PPc c) \\<and>\n   set (PPV V'') \\<subseteq> set (PPc c)}\n  SdlHPPB d PP Rc' \\<and> ([c], [c]) \\<in> Rc'\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}", "have inR: \n    \"V \\<noteq> [] \\<Longrightarrow> (c#V,c#V) \\<in> R\""], ["proof (prove)\nusing this:\n  RV =\n  {(V', V'').\n   (V', V'') \\<in> RV' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  SdlHPPB d PP RV' \\<and> (V, V) \\<in> RV'\n  Rc =\n  {(V', V'').\n   (V', V'') \\<in> Rc' \\<and>\n   set (PPV V') \\<subseteq> set (PPc c) \\<and>\n   set (PPV V'') \\<subseteq> set (PPc c)}\n  SdlHPPB d PP Rc' \\<and> ([c], [c]) \\<in> Rc'\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n\ngoal (1 subgoal):\n 1. V \\<noteq> [] \\<Longrightarrow> (c # V, c # V) \\<in> R", "by auto"], ["proof (state)\nthis:\n  V \\<noteq> [] \\<Longrightarrow> (c # V, c # V) \\<in> R\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "from R_def Rc_def RV_def nocommonPP"], ["proof (chain)\npicking this:\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n  Rc =\n  {(V', V'').\n   (V', V'') \\<in> Rc' \\<and>\n   set (PPV V') \\<subseteq> set (PPc c) \\<and>\n   set (PPV V'') \\<subseteq> set (PPc c)}\n  RV =\n  {(V', V'').\n   (V', V'') \\<in> RV' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  set (PPc c) \\<inter> set (PPV V) = {}", "have \"Domain R \\<inter> Domain (Rc \\<union> RV) = {}\""], ["proof (prove)\nusing this:\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n  Rc =\n  {(V', V'').\n   (V', V'') \\<in> Rc' \\<and>\n   set (PPV V') \\<subseteq> set (PPc c) \\<and>\n   set (PPV V'') \\<subseteq> set (PPc c)}\n  RV =\n  {(V', V'').\n   (V', V'') \\<in> RV' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  set (PPc c) \\<inter> set (PPV V) = {}\n\ngoal (1 subgoal):\n 1. Domain R \\<inter> Domain (Rc \\<union> RV) = {}", "by (simp add: R_def Rc_def RV_def, auto,\n      metis inf_bot_right le_inf_iff subset_empty unique_V_uneq,\n      metis (hide_lams, no_types) inf_absorb1 inf_bot_right le_inf_iff unique_c_uneq)"], ["proof (state)\nthis:\n  Domain R \\<inter> Domain (Rc \\<union> RV) = {}\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "with commonArefl_subset_commonDomain"], ["proof (chain)\npicking this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R \\<inter> Domain (Rc \\<union> RV) = {}", "have Areflassump2: \"Arefl R \\<inter> Arefl (Rc \\<union> RV) \\<subseteq> {[]}\""], ["proof (prove)\nusing this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R \\<inter> Domain (Rc \\<union> RV) = {}\n\ngoal (1 subgoal):\n 1. Arefl R \\<inter> Arefl (Rc \\<union> RV) \\<subseteq> {[]}", "by force"], ["proof (state)\nthis:\n  Arefl R \\<inter> Arefl (Rc \\<union> RV) \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "have disjuptoR: \n    \"disj_dlHPP_Bisimulation_Up_To_R' d PP (Rc \\<union> RV) R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disj_dlHPP_Bisimulation_Up_To_R' d PP (Rc \\<union> RV) R", "proof (simp add: disj_dlHPP_Bisimulation_Up_To_R'_def, auto)"], ["proof (state)\ngoal (6 subgoals):\n 1. SdlHPPB d PP (Rc \\<union> RV)\n 2. sym R\n 3. trans R\n 4. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 5. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 6. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from Areflassump1 SdlHPPRc SdlHPPRV Union_Strong_dlHPP_Bisim"], ["proof (chain)\npicking this:\n  Arefl RV \\<inter> Arefl Rc \\<subseteq> {[]}\n  SdlHPPB d PP Rc\n  SdlHPPB d PP RV\n  \\<lbrakk>SdlHPPB ?d ?PP ?R; SdlHPPB ?d ?PP ?R';\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')", "show \"SdlHPPB d PP (Rc \\<union> RV)\""], ["proof (prove)\nusing this:\n  Arefl RV \\<inter> Arefl Rc \\<subseteq> {[]}\n  SdlHPPB d PP Rc\n  SdlHPPB d PP RV\n  \\<lbrakk>SdlHPPB ?d ?PP ?R; SdlHPPB ?d ?PP ?R';\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP (Rc \\<union> RV)", "by force"], ["proof (state)\nthis:\n  SdlHPPB d PP (Rc \\<union> RV)\n\ngoal (5 subgoals):\n 1. sym R\n 2. trans R\n 3. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. sym R\n 2. trans R\n 3. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPRV"], ["proof (chain)\npicking this:\n  SdlHPPB d PP RV", "have symRV: \"sym RV\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP RV\n\ngoal (1 subgoal):\n 1. sym RV", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  sym RV\n\ngoal (5 subgoals):\n 1. sym R\n 2. trans R\n 3. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPRc"], ["proof (chain)\npicking this:\n  SdlHPPB d PP Rc", "have symRc: \"sym Rc\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP Rc\n\ngoal (1 subgoal):\n 1. sym Rc", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  sym Rc\n\ngoal (5 subgoals):\n 1. sym R\n 2. trans R\n 3. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with symRV R_def"], ["proof (chain)\npicking this:\n  sym RV\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n  sym Rc", "show \"sym R\""], ["proof (prove)\nusing this:\n  sym RV\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n  sym Rc\n\ngoal (1 subgoal):\n 1. sym R", "by (simp add: sym_def, auto)"], ["proof (state)\nthis:\n  sym R\n\ngoal (4 subgoals):\n 1. trans R\n 2. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. trans R\n 2. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPRV"], ["proof (chain)\npicking this:\n  SdlHPPB d PP RV", "have transRV: \"trans RV\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP RV\n\ngoal (1 subgoal):\n 1. trans RV", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  trans RV\n\ngoal (4 subgoals):\n 1. trans R\n 2. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPRc"], ["proof (chain)\npicking this:\n  SdlHPPB d PP Rc", "have transRc: \"trans Rc\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP Rc\n\ngoal (1 subgoal):\n 1. trans Rc", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  trans Rc\n\ngoal (4 subgoals):\n 1. trans R\n 2. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "show \"trans R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R", "fix V V' V''"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R", "assume p1: \"(V,V') \\<in> R\""], ["proof (state)\nthis:\n  (V, V') \\<in> R\n\ngoal (1 subgoal):\n 1. trans R", "assume p2: \"(V',V'') \\<in> R\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R\n\ngoal (1 subgoal):\n 1. trans R", "have \"(V,V'') \\<in> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R", "from p1 R_def"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}", "obtain c c' W W' where p1assump:\n                  \"V = c#W \\<and> V' = c'#W' \\<and> W \\<noteq> [] \\<and> W' \\<noteq> [] \\<and>\n                  ([c],[c']) \\<in> Rc \\<and> (W,W') \\<in> RV\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n\ngoal (1 subgoal):\n 1. (\\<And>c W c' W'.\n        V = c # W \\<and>\n        V' = c' # W' \\<and>\n        W \\<noteq> [] \\<and>\n        W' \\<noteq> [] \\<and>\n        ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R", "with p2 R_def"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV", "obtain c'' W'' where p2assump:\n                  \"V'' = c''#W'' \\<and> W'' \\<noteq> [] \\<and>\n                  ([c'],[c'']) \\<in> Rc \\<and> (W',W'') \\<in> RV\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n\ngoal (1 subgoal):\n 1. (\\<And>c'' W''.\n        V'' = c'' # W'' \\<and>\n        W'' \\<noteq> [] \\<and>\n        ([c'], [c'']) \\<in> Rc \\<and> (W', W'') \\<in> RV \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V'' = c'' # W'' \\<and>\n  W'' \\<noteq> [] \\<and> ([c'], [c'']) \\<in> Rc \\<and> (W', W'') \\<in> RV\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R", "with p1assump transRc transRV"], ["proof (chain)\npicking this:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  trans Rc\n  trans RV\n  V'' = c'' # W'' \\<and>\n  W'' \\<noteq> [] \\<and> ([c'], [c'']) \\<in> Rc \\<and> (W', W'') \\<in> RV", "have \n                  trans_assump: \"([c],[c'']) \\<in> Rc \\<and> (W,W'') \\<in> RV\""], ["proof (prove)\nusing this:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  trans Rc\n  trans RV\n  V'' = c'' # W'' \\<and>\n  W'' \\<noteq> [] \\<and> ([c'], [c'']) \\<in> Rc \\<and> (W', W'') \\<in> RV\n\ngoal (1 subgoal):\n 1. ([c], [c'']) \\<in> Rc \\<and> (W, W'') \\<in> RV", "by (simp add: trans_def, blast)"], ["proof (state)\nthis:\n  ([c], [c'']) \\<in> Rc \\<and> (W, W'') \\<in> RV\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R", "with p1assump p2assump R_def"], ["proof (chain)\npicking this:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  V'' = c'' # W'' \\<and>\n  W'' \\<noteq> [] \\<and> ([c'], [c'']) \\<in> Rc \\<and> (W', W'') \\<in> RV\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n  ([c], [c'']) \\<in> Rc \\<and> (W, W'') \\<in> RV", "show ?thesis"], ["proof (prove)\nusing this:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  V'' = c'' # W'' \\<and>\n  W'' \\<noteq> [] \\<and> ([c'], [c'']) \\<in> Rc \\<and> (W', W'') \\<in> RV\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n  ([c], [c'']) \\<in> Rc \\<and> (W, W'') \\<in> RV\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R", "by auto"], ["proof (state)\nthis:\n  (V, V'') \\<in> R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (V, V'') \\<in> R\n\ngoal (1 subgoal):\n 1. trans R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(?Vb2, ?V'2) \\<in> R; (?V'2, ?V''2) \\<in> R\\<rbrakk>\n  \\<Longrightarrow> (?Vb2, ?V''2) \\<in> R\n\ngoal (1 subgoal):\n 1. trans R", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?Vb2, ?V'2) \\<in> R; (?V'2, ?V''2) \\<in> R\\<rbrakk>\n  \\<Longrightarrow> (?Vb2, ?V''2) \\<in> R\n\ngoal (1 subgoal):\n 1. trans R", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?Vb2, ?V'2) \\<in> R; (?V'2, ?V''2) \\<in> R\\<rbrakk>\n  \\<Longrightarrow> (?Vb2, ?V''2) \\<in> R\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       (x, y) \\<in> R \\<longrightarrow>\n       (y, z) \\<in> R \\<longrightarrow> (x, z) \\<in> R", "by blast"], ["proof (state)\nthis:\n  trans R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  trans R\n\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V V'"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume \"(V,V') \\<in> R\""], ["proof (state)\nthis:\n  (V, V') \\<in> R\n\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R_def SdlHPPRV"], ["proof (chain)\npicking this:\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n  SdlHPPB d PP RV\n  (V, V') \\<in> R", "show \"length V = length V'\""], ["proof (prove)\nusing this:\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n  SdlHPPB d PP RV\n  (V, V') \\<in> R\n\ngoal (1 subgoal):\n 1. length V = length V'", "by (simp add: Strong_dlHPP_Bisimulation_def, auto)"], ["proof (state)\nthis:\n  length V = length V'\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V V' i"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR: \"(V,V') \\<in> R\""], ["proof (state)\nthis:\n  (V, V') \\<in> R\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume notIDC: \"\\<not> IDC d (V!i) \n          (htchLoc (pp (V!i)))\""], ["proof (state)\nthis:\n  \\<not> IDC d (V ! i) (htchLoc (pp (V ! i)))\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR R_def"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}", "obtain c c' W W' where VV'assump:\n          \"V = c#W \\<and> V'=c'#W' \\<and> W \\<noteq> [] \\<and> W' \\<noteq> [] \\<and>\n          ([c],[c']) \\<in> Rc \\<and> (W,W') \\<in> RV\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n\ngoal (1 subgoal):\n 1. (\\<And>c W c' W'.\n        V = c # W \\<and>\n        V' = c' # W' \\<and>\n        W \\<noteq> [] \\<and>\n        W' \\<noteq> [] \\<and>\n        ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto\n        \\<comment> \\<open>Case separation for i\\<close>"], ["proof (state)\nthis:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from VV'assump SdlHPPRc"], ["proof (chain)\npicking this:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  SdlHPPB d PP Rc", "have Case_i0:\n          \"i = 0 \\<Longrightarrow> (NDC d (V!i) \\<or>\n            IDC d (V!i) (htchLoc (pp (V!i))))\""], ["proof (prove)\nusing this:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  SdlHPPB d PP Rc\n\ngoal (1 subgoal):\n 1. i = 0 \\<Longrightarrow>\n    NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)))", "by (simp add: Strong_dlHPP_Bisimulation_def, auto)"], ["proof (state)\nthis:\n  i = 0 \\<Longrightarrow>\n  NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)))\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from VV'assump SdlHPPRV"], ["proof (chain)\npicking this:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  SdlHPPB d PP RV", "have \"\\<forall>i < length W. \n          (NDC d (W!i) \\<or>\n            IDC d (W!i) (htchLoc (pp (W!i))))\""], ["proof (prove)\nusing this:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  SdlHPPB d PP RV\n\ngoal (1 subgoal):\n 1. \\<forall>i<length W.\n       NDC d (W ! i) \\<or> IDC d (W ! i) (htchLoc (pp (W ! i)))", "by (simp add: Strong_dlHPP_Bisimulation_def, auto)"], ["proof (state)\nthis:\n  \\<forall>i<length W.\n     NDC d (W ! i) \\<or> IDC d (W ! i) (htchLoc (pp (W ! i)))\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with irange VV'assump"], ["proof (chain)\npicking this:\n  i < length V\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  \\<forall>i<length W.\n     NDC d (W ! i) \\<or> IDC d (W ! i) (htchLoc (pp (W ! i)))", "have Case_in0:\n          \"i > 0 \\<Longrightarrow> (NDC d (V!i) \\<or> \n          IDC d (V!i) (htchLoc (pp (V!i))))\""], ["proof (prove)\nusing this:\n  i < length V\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  \\<forall>i<length W.\n     NDC d (W ! i) \\<or> IDC d (W ! i) (htchLoc (pp (W ! i)))\n\ngoal (1 subgoal):\n 1. 0 < i \\<Longrightarrow>\n    NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)))", "by simp"], ["proof (state)\nthis:\n  0 < i \\<Longrightarrow>\n  NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)))\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from notIDC Case_i0 Case_in0"], ["proof (chain)\npicking this:\n  \\<not> IDC d (V ! i) (htchLoc (pp (V ! i)))\n  i = 0 \\<Longrightarrow>\n  NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)))\n  0 < i \\<Longrightarrow>\n  NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)))", "show \"NDC d (V!i)\""], ["proof (prove)\nusing this:\n  \\<not> IDC d (V ! i) (htchLoc (pp (V ! i)))\n  i = 0 \\<Longrightarrow>\n  NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)))\n  0 < i \\<Longrightarrow>\n  NDC d (V ! i) \\<or> IDC d (V ! i) (htchLoc (pp (V ! i)))\n\ngoal (1 subgoal):\n 1. NDC d (V ! i)", "by auto"], ["proof (state)\nthis:\n  NDC d (V ! i)\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V V' m1 m1' m2 \\<alpha> p i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR: \"(V,V') \\<in> R\""], ["proof (state)\nthis:\n  (V, V') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume step: \"\\<langle>V!i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr (V ! i) m1 \\<alpha> p m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume dhequal: \"m1 \\<sim>\\<^bsub>d,(htchLocSet PP)\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR R_def"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}", "obtain c c' W W' where VV'assump:\n          \"V = c#W \\<and> V'=c'#W' \\<and> W \\<noteq> [] \\<and> W' \\<noteq> [] \\<and>\n          ([c],[c']) \\<in> Rc \\<and> (W,W') \\<in> RV\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R\n  R =\n  {(V', V'').\n   \\<exists>c c' W W'.\n      V' = c # W \\<and>\n      V'' = c' # W' \\<and>\n      W \\<noteq> [] \\<and>\n      W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV}\n\ngoal (1 subgoal):\n 1. (\\<And>c W c' W'.\n        V = c # W \\<and>\n        V' = c' # W' \\<and>\n        W \\<noteq> [] \\<and>\n        W' \\<noteq> [] \\<and>\n        ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto\n        \\<comment> \\<open>Case separation for i\\<close>"], ["proof (state)\nthis:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from VV'assump SdlHPPRc strongdlHPPB_aux[of \"d\" \"PP\" \n          \"Rc\" \"0\" \"[c]\" \"[c']\"] step dhequal"], ["proof (chain)\npicking this:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  SdlHPPB d PP Rc\n  \\<lbrakk>SdlHPPB d PP Rc; 0 < length [c]; ([c], [c']) \\<in> Rc;\n   SRabbr ([c] ! 0) ?m1.0 ?\\<alpha> ?p ?m2.0;\n   ?m1.0 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> ?m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr ([c'] ! 0) ?m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR ?p p' Rc \\<and>\n                       (?\\<alpha>, \\<alpha>') \\<in> Rc \\<and>\n                       dhequality_alternative d PP (pp ([c] ! 0)) ?m2.0 m2'\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'", "have Case_i0:\n          \"i = 0 \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n          \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n          stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n          ((\\<alpha>,\\<alpha>') \\<in> R \\<or> (\\<alpha>,\\<alpha>') \\<in> Rc \\<or> (\\<alpha>,\\<alpha>') \\<in> RV) \\<and>\n          dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  SdlHPPB d PP Rc\n  \\<lbrakk>SdlHPPB d PP Rc; 0 < length [c]; ([c], [c']) \\<in> Rc;\n   SRabbr ([c] ! 0) ?m1.0 ?\\<alpha> ?p ?m2.0;\n   ?m1.0 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> ?m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr ([c'] ! 0) ?m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR ?p p' Rc \\<and>\n                       (?\\<alpha>, \\<alpha>') \\<in> Rc \\<and>\n                       dhequality_alternative d PP (pp ([c] ! 0)) ?m2.0 m2'\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. i = 0 \\<Longrightarrow>\n    \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by (simp add: stepResultsinR_def, blast)"], ["proof (state)\nthis:\n  i = 0 \\<Longrightarrow>\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from step VV'assump irange"], ["proof (chain)\npicking this:\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  i < length V", "have rewV: \n          \"i > 0 \\<Longrightarrow> (i-Suc 0) < length W \\<and> V!i = W!(i-Suc 0)\""], ["proof (prove)\nusing this:\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  i < length V\n\ngoal (1 subgoal):\n 1. 0 < i \\<Longrightarrow>\n    i - Suc 0 < length W \\<and> V ! i = W ! (i - Suc 0)", "by simp"], ["proof (state)\nthis:\n  0 < i \\<Longrightarrow>\n  i - Suc 0 < length W \\<and> V ! i = W ! (i - Suc 0)\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with irange VV'assump step dhequal SdlHPPRV \n          strongdlHPPB_aux[of \"d\" \"PP\" \"RV\" _ \"W\" \"W'\"]"], ["proof (chain)\npicking this:\n  i < length V\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  SdlHPPB d PP RV\n  \\<lbrakk>SdlHPPB d PP RV; ?i < length W; (W, W') \\<in> RV;\n   SRabbr (W ! ?i) ?m1.0 ?\\<alpha> ?p ?m2.0;\n   ?m1.0 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> ?m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (W' ! ?i) ?m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR ?p p' RV \\<and>\n                       (?\\<alpha>, \\<alpha>') \\<in> RV \\<and>\n                       dhequality_alternative d PP (pp (W ! ?i)) ?m2.0 m2'\n  0 < i \\<Longrightarrow>\n  i - Suc 0 < length W \\<and> V ! i = W ! (i - Suc 0)", "have Case_in0:\n          \"i > 0 \\<Longrightarrow>  \\<exists>p' \\<alpha>' m2'.\n          \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n          stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n          ((\\<alpha>,\\<alpha>') \\<in> R \\<or> (\\<alpha>,\\<alpha>') \\<in> Rc \\<or> (\\<alpha>,\\<alpha>') \\<in> RV) \\<and>\n          dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  i < length V\n  V = c # W \\<and>\n  V' = c' # W' \\<and>\n  W \\<noteq> [] \\<and>\n  W' \\<noteq> [] \\<and> ([c], [c']) \\<in> Rc \\<and> (W, W') \\<in> RV\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  SdlHPPB d PP RV\n  \\<lbrakk>SdlHPPB d PP RV; ?i < length W; (W, W') \\<in> RV;\n   SRabbr (W ! ?i) ?m1.0 ?\\<alpha> ?p ?m2.0;\n   ?m1.0 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> ?m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (W' ! ?i) ?m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR ?p p' RV \\<and>\n                       (?\\<alpha>, \\<alpha>') \\<in> RV \\<and>\n                       dhequality_alternative d PP (pp (W ! ?i)) ?m2.0 m2'\n  0 < i \\<Longrightarrow>\n  i - Suc 0 < length W \\<and> V ! i = W ! (i - Suc 0)\n\ngoal (1 subgoal):\n 1. 0 < i \\<Longrightarrow>\n    \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by (simp add: stepResultsinR_def, blast)"], ["proof (state)\nthis:\n  0 < i \\<Longrightarrow>\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R \\<union> (Rc \\<union> RV)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from Case_i0 Case_in0"], ["proof (chain)\npicking this:\n  i = 0 \\<Longrightarrow>\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n  0 < i \\<Longrightarrow>\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'", "show \"\\<exists>p' \\<alpha>' m2'.\n          \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n          stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n          ((\\<alpha>,\\<alpha>') \\<in> R \\<or> (\\<alpha>,\\<alpha>') \\<in> Rc \\<or> (\\<alpha>,\\<alpha>') \\<in> RV) \\<and>\n          dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  i = 0 \\<Longrightarrow>\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n  0 < i \\<Longrightarrow>\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by auto"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R \\<union> (Rc \\<union> RV)) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> Rc \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> RV) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  disj_dlHPP_Bisimulation_Up_To_R' d PP (Rc \\<union> RV) R\n\ngoal (1 subgoal):\n 1. \\<And>a V d PP.\n       \\<lbrakk>\\<lbrakk>\\<forall>i<length V.\n                            \\<forall>d PP.\n                               \\<exists>R.\n                                  SdlHPPB d PP R \\<and>\n                                  ([V ! i], [V ! i]) \\<in> R;\n                 unique_PPV V\\<rbrakk>\n                \\<Longrightarrow> \\<forall>d PP.\n                                     \\<exists>R.\n  SdlHPPB d PP R \\<and> (V, V) \\<in> R;\n        \\<forall>i<Suc (length V).\n           \\<forall>d PP.\n              \\<exists>R.\n                 SdlHPPB d PP R \\<and>\n                 ([(a # V) ! i], [(a # V) ! i]) \\<in> R;\n        unique_PPV (a # V)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            SdlHPPB d PP R \\<and> (a # V, a # V) \\<in> R", "with Areflassump2 Rc'assump Up_To_Technique"], ["proof (chain)\npicking this:\n  Arefl R \\<inter> Arefl (Rc \\<union> RV) \\<subseteq> {[]}\n  SdlHPPB d PP Rc' \\<and> ([c], [c]) \\<in> Rc'\n  \\<lbrakk>disj_dlHPP_Bisimulation_Up_To_R' ?d ?PP ?R' ?R;\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  disj_dlHPP_Bisimulation_Up_To_R' d PP (Rc \\<union> RV) R", "show \"\\<exists>R. SdlHPPB d PP R \\<and> (c#V, c#V) \\<in> R\""], ["proof (prove)\nusing this:\n  Arefl R \\<inter> Arefl (Rc \\<union> RV) \\<subseteq> {[]}\n  SdlHPPB d PP Rc' \\<and> ([c], [c]) \\<in> Rc'\n  \\<lbrakk>disj_dlHPP_Bisimulation_Up_To_R' ?d ?PP ?R' ?R;\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  disj_dlHPP_Bisimulation_Up_To_R' d PP (Rc \\<union> RV) R\n\ngoal (1 subgoal):\n 1. \\<exists>R. SdlHPPB d PP R \\<and> (c # V, c # V) \\<in> R", "by (metis UnCI inR)"], ["proof (state)\nthis:\n  \\<exists>R. SdlHPPB d PP R \\<and> (c # V, c # V) \\<in> R\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}