{"file_name": "/home/qj213/afp-2021-10-22/thys/WHATandWHERE_Security/Language_Composition.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/WHATandWHERE_Security", "problem_names": ["theorem Compositionality_Seq: \n  assumes WWs_part1: \"WHATWHERE_Secure [c1]\" \n  assumes WWs_part2: \"WHATWHERE_Secure [c2]\"\n  assumes uniPPc1c2: \"unique_PPc (c1;c2)\"\n  shows \"WHATWHERE_Secure [c1;c2]\"", "theorem Compositionality_Spawn:\n  assumes WWs_threads: \"WHATWHERE_Secure V\"\n  assumes uniPPspawn: \"unique_PPc (spawn\\<^bsub>\\<iota>\\<^esub> V)\"\n  shows \"WHATWHERE_Secure [spawn\\<^bsub>\\<iota>\\<^esub> V]\"", "theorem Compositionality_If:\n  assumes dind: \"\\<forall>d. b \\<equiv>\\<^bsub>d\\<^esub> b\"\n  assumes WWs_branch1: \"WHATWHERE_Secure [c1]\"\n  assumes WWs_branch2: \"WHATWHERE_Secure [c2]\"\n  assumes uniPPif: \"unique_PPc (if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi)\"\n  shows \"WHATWHERE_Secure [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi]\"", "theorem Compositionality_While:\n  assumes dind: \"\\<forall>d. b \\<equiv>\\<^bsub>d\\<^esub> b\"\n  assumes WWs_body: \"WHATWHERE_Secure [c]\"\n  assumes uniPPwhile: \"unique_PPc (while\\<^bsub>\\<iota>\\<^esub> b do c od)\"\n  shows \"WHATWHERE_Secure [while\\<^bsub>\\<iota>\\<^esub> b do c od]\""], "translations": [["", "theorem Compositionality_Seq: \n  assumes WWs_part1: \"WHATWHERE_Secure [c1]\" \n  assumes WWs_part2: \"WHATWHERE_Secure [c2]\"\n  assumes uniPPc1c2: \"unique_PPc (c1;c2)\"\n  shows \"WHATWHERE_Secure [c1;c2]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. WHATWHERE_Secure [c1;c2]", "proof (simp add: WHATWHERE_Secure_def, auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "fix d PP"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "from uniPPc1c2"], ["proof (chain)\npicking this:\n  unique_PPc (c1;c2)", "have nocommonPP: \"set (PPc c1) \\<inter> set (PPc c2) = {}\""], ["proof (prove)\nusing this:\n  unique_PPc (c1;c2)\n\ngoal (1 subgoal):\n 1. set (PPc c1) \\<inter> set (PPc c2) = {}", "by (simp add: unique_PPV_def unique_PPc_def)"], ["proof (state)\nthis:\n  set (PPc c1) \\<inter> set (PPc c2) = {}\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "from WWs_part1"], ["proof (chain)\npicking this:\n  WHATWHERE_Secure [c1]", "obtain R1' where R1'assump: \n    \"SdlHPPB d PP R1' \\<and> ([c1],[c1]) \\<in> R1'\""], ["proof (prove)\nusing this:\n  WHATWHERE_Secure [c1]\n\ngoal (1 subgoal):\n 1. (\\<And>R1'.\n        SdlHPPB d PP R1' \\<and> ([c1], [c1]) \\<in> R1' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: WHATWHERE_Secure_def, auto)"], ["proof (state)\nthis:\n  SdlHPPB d PP R1' \\<and> ([c1], [c1]) \\<in> R1'\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "define R1 where \"R1 = {(V,V'). (V,V') \\<in> R1' \\<and> set (PPV V) \\<subseteq> set (PPc c1) \n    \\<and> set (PPV V') \\<subseteq> set (PPc c1)}\""], ["proof (state)\nthis:\n  R1 =\n  {(V, V').\n   (V, V') \\<in> R1' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c1) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c1)}\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "from R1'assump R1_def SdlHPPB_restricted_on_PP_is_SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R1' \\<and> ([c1], [c1]) \\<in> R1'\n  R1 =\n  {(V, V').\n   (V, V') \\<in> R1' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c1) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c1)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R", "have SdlHPPR1: \"SdlHPPB d PP R1\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R1' \\<and> ([c1], [c1]) \\<in> R1'\n  R1 =\n  {(V, V').\n   (V, V') \\<in> R1' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c1) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c1)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP R1", "by force"], ["proof (state)\nthis:\n  SdlHPPB d PP R1\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "from WWs_part2"], ["proof (chain)\npicking this:\n  WHATWHERE_Secure [c2]", "obtain R2' where R2'assump: \n    \"SdlHPPB d PP R2' \\<and> ([c2],[c2]) \\<in> R2'\""], ["proof (prove)\nusing this:\n  WHATWHERE_Secure [c2]\n\ngoal (1 subgoal):\n 1. (\\<And>R2'.\n        SdlHPPB d PP R2' \\<and> ([c2], [c2]) \\<in> R2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: WHATWHERE_Secure_def, auto)"], ["proof (state)\nthis:\n  SdlHPPB d PP R2' \\<and> ([c2], [c2]) \\<in> R2'\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "define R2 where \"R2 = {(V,V'). (V,V') \\<in> R2' \\<and> set (PPV V) \\<subseteq> set (PPc c2) \n    \\<and> set (PPV V') \\<subseteq> set (PPc c2)}\""], ["proof (state)\nthis:\n  R2 =\n  {(V, V').\n   (V, V') \\<in> R2' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c2) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c2)}\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "from R2'assump R2_def SdlHPPB_restricted_on_PP_is_SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R2' \\<and> ([c2], [c2]) \\<in> R2'\n  R2 =\n  {(V, V').\n   (V, V') \\<in> R2' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c2) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c2)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R", "have SdlHPPR2: \"SdlHPPB d PP R2\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R2' \\<and> ([c2], [c2]) \\<in> R2'\n  R2 =\n  {(V, V').\n   (V, V') \\<in> R2' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c2) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c2)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP R2", "by force"], ["proof (state)\nthis:\n  SdlHPPB d PP R2\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "from nocommonPP"], ["proof (chain)\npicking this:\n  set (PPc c1) \\<inter> set (PPc c2) = {}", "have nocommonDomain: \"Domain R1 \\<inter> Domain R2 \\<subseteq> {[]}\""], ["proof (prove)\nusing this:\n  set (PPc c1) \\<inter> set (PPc c2) = {}\n\ngoal (1 subgoal):\n 1. Domain R1 \\<inter> Domain R2 \\<subseteq> {[]}", "by (simp add: R1_def R2_def, auto,\n      metis inf_greatest inf_idem le_bot unique_V_uneq)"], ["proof (state)\nthis:\n  Domain R1 \\<inter> Domain R2 \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "with commonArefl_subset_commonDomain"], ["proof (chain)\npicking this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R1 \\<inter> Domain R2 \\<subseteq> {[]}", "have Areflassump1: \"Arefl R1 \\<inter> Arefl R2 \\<subseteq> {[]}\""], ["proof (prove)\nusing this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R1 \\<inter> Domain R2 \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. Arefl R1 \\<inter> Arefl R2 \\<subseteq> {[]}", "by force"], ["proof (state)\nthis:\n  Arefl R1 \\<inter> Arefl R2 \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "define R0 where \"R0 = {(s1,s2). \\<exists>c1 c1' c2 c2'. s1 = [c1;c2] \\<and> s2 = [c1';c2'] \\<and> \n    ([c1],[c1']) \\<in> R1 \\<and> ([c2],[c2']) \\<in> R2}\""], ["proof (state)\nthis:\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "with R1_def R1'assump R2_def R2'assump"], ["proof (chain)\npicking this:\n  R1 =\n  {(V, V').\n   (V, V') \\<in> R1' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c1) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c1)}\n  SdlHPPB d PP R1' \\<and> ([c1], [c1]) \\<in> R1'\n  R2 =\n  {(V, V').\n   (V, V') \\<in> R2' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c2) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c2)}\n  SdlHPPB d PP R2' \\<and> ([c2], [c2]) \\<in> R2'\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}", "have inR0: \"([c1;c2],[c1;c2]) \\<in> R0\""], ["proof (prove)\nusing this:\n  R1 =\n  {(V, V').\n   (V, V') \\<in> R1' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c1) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c1)}\n  SdlHPPB d PP R1' \\<and> ([c1], [c1]) \\<in> R1'\n  R2 =\n  {(V, V').\n   (V, V') \\<in> R2' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c2) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c2)}\n  SdlHPPB d PP R2' \\<and> ([c2], [c2]) \\<in> R2'\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n\ngoal (1 subgoal):\n 1. ([c1;c2], [c1;c2]) \\<in> R0", "by auto"], ["proof (state)\nthis:\n  ([c1;c2], [c1;c2]) \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "have \"Domain R0 \\<inter> Domain (R1 \\<union> R2) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Domain R0 \\<inter> Domain (R1 \\<union> R2) = {}", "by (simp add: R0_def R1_def R2_def, auto, metis Int_absorb1 Int_assoc Int_empty_left \n      nocommonPP unique_c_uneq, metis Int_absorb Int_absorb1 \n      Int_assoc Int_empty_left nocommonPP unique_c_uneq)"], ["proof (state)\nthis:\n  Domain R0 \\<inter> Domain (R1 \\<union> R2) = {}\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "with commonArefl_subset_commonDomain"], ["proof (chain)\npicking this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R0 \\<inter> Domain (R1 \\<union> R2) = {}", "have Areflassump2: \"Arefl R0 \\<inter> Arefl (R1 \\<union> R2) \\<subseteq> {[]}\""], ["proof (prove)\nusing this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R0 \\<inter> Domain (R1 \\<union> R2) = {}\n\ngoal (1 subgoal):\n 1. Arefl R0 \\<inter> Arefl (R1 \\<union> R2) \\<subseteq> {[]}", "by force"], ["proof (state)\nthis:\n  Arefl R0 \\<inter> Arefl (R1 \\<union> R2) \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "have disjuptoR0: \n    \"disj_dlHPP_Bisimulation_Up_To_R' d PP (R1 \\<union> R2) R0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disj_dlHPP_Bisimulation_Up_To_R' d PP (R1 \\<union> R2) R0", "proof (simp add: disj_dlHPP_Bisimulation_Up_To_R'_def, auto)"], ["proof (state)\ngoal (6 subgoals):\n 1. SdlHPPB d PP (R1 \\<union> R2)\n 2. sym R0\n 3. trans R0\n 4. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 5. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 6. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from Areflassump1 SdlHPPR1 SdlHPPR2 Union_Strong_dlHPP_Bisim"], ["proof (chain)\npicking this:\n  Arefl R1 \\<inter> Arefl R2 \\<subseteq> {[]}\n  SdlHPPB d PP R1\n  SdlHPPB d PP R2\n  \\<lbrakk>SdlHPPB ?d ?PP ?R; SdlHPPB ?d ?PP ?R';\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')", "show \"SdlHPPB d PP (R1 \\<union> R2)\""], ["proof (prove)\nusing this:\n  Arefl R1 \\<inter> Arefl R2 \\<subseteq> {[]}\n  SdlHPPB d PP R1\n  SdlHPPB d PP R2\n  \\<lbrakk>SdlHPPB ?d ?PP ?R; SdlHPPB ?d ?PP ?R';\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP (R1 \\<union> R2)", "by metis"], ["proof (state)\nthis:\n  SdlHPPB d PP (R1 \\<union> R2)\n\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR1"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R1", "have symR1: \"sym R1\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R1\n\ngoal (1 subgoal):\n 1. sym R1", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  sym R1\n\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR2"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R2", "have symR2: \"sym R2\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R2\n\ngoal (1 subgoal):\n 1. sym R2", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  sym R2\n\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with symR1 R0_def"], ["proof (chain)\npicking this:\n  sym R1\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n  sym R2", "show \"sym R0\""], ["proof (prove)\nusing this:\n  sym R1\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n  sym R2\n\ngoal (1 subgoal):\n 1. sym R0", "by (simp add: sym_def, auto)"], ["proof (state)\nthis:\n  sym R0\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR1"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R1", "have transR1: \"trans R1\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R1\n\ngoal (1 subgoal):\n 1. trans R1", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  trans R1\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR2"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R2", "have transR2: \"trans R2\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R2\n\ngoal (1 subgoal):\n 1. trans R2", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  trans R2\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "show \"trans R0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans R0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R0", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R0", "fix V V' V''"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R0", "assume p1: \"(V,V') \\<in> R0\""], ["proof (state)\nthis:\n  (V, V') \\<in> R0\n\ngoal (1 subgoal):\n 1. trans R0", "assume p2: \"(V',V'') \\<in> R0\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R0\n\ngoal (1 subgoal):\n 1. trans R0", "have \"(V,V'') \\<in> R0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R0", "from p1 R0_def"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R0\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}", "obtain c1 c2 c1' c2' where p1assump:\n                  \"V = [c1;c2] \\<and> V' = [c1';c2'] \\<and>\n                  ([c1],[c1']) \\<in> R1 \\<and> ([c2],[c2']) \\<in> R2\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R0\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n\ngoal (1 subgoal):\n 1. (\\<And>c1 c2 c1' c2'.\n        V = [c1;c2] \\<and>\n        V' = [c1';c2'] \\<and>\n        ([c1], [c1']) \\<in> R1 \\<and>\n        ([c2], [c2']) \\<in> R2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R0", "with p2 R0_def"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R0\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2", "obtain c1'' c2'' where p2assump:\n                  \"V'' = [c1'';c2''] \\<and>\n                  ([c1'],[c1'']) \\<in> R1 \\<and> ([c2'],[c2'']) \\<in> R2\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R0\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n\ngoal (1 subgoal):\n 1. (\\<And>c1'' c2''.\n        V'' = [c1'';c2''] \\<and>\n        ([c1'], [c1'']) \\<in> R1 \\<and>\n        ([c2'], [c2'']) \\<in> R2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V'' = [c1'';c2''] \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and> ([c2'], [c2'']) \\<in> R2\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R0", "with p1assump transR1 transR2"], ["proof (chain)\npicking this:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  trans R1\n  trans R2\n  V'' = [c1'';c2''] \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and> ([c2'], [c2'']) \\<in> R2", "have \n                  trans_assump: \"([c1],[c1'']) \\<in> R1 \\<and> ([c2],[c2'']) \\<in> R2\""], ["proof (prove)\nusing this:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  trans R1\n  trans R2\n  V'' = [c1'';c2''] \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and> ([c2'], [c2'']) \\<in> R2\n\ngoal (1 subgoal):\n 1. ([c1], [c1'']) \\<in> R1 \\<and> ([c2], [c2'']) \\<in> R2", "by (simp add: trans_def, blast)"], ["proof (state)\nthis:\n  ([c1], [c1'']) \\<in> R1 \\<and> ([c2], [c2'']) \\<in> R2\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R0", "with p1assump p2assump R0_def"], ["proof (chain)\npicking this:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  V'' = [c1'';c2''] \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and> ([c2'], [c2'']) \\<in> R2\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n  ([c1], [c1'']) \\<in> R1 \\<and> ([c2], [c2'']) \\<in> R2", "show ?thesis"], ["proof (prove)\nusing this:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  V'' = [c1'';c2''] \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and> ([c2'], [c2'']) \\<in> R2\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n  ([c1], [c1'']) \\<in> R1 \\<and> ([c2], [c2'']) \\<in> R2\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R0", "by auto"], ["proof (state)\nthis:\n  (V, V'') \\<in> R0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (V, V'') \\<in> R0\n\ngoal (1 subgoal):\n 1. trans R0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(?V2, ?V'2) \\<in> R0; (?V'2, ?V''2) \\<in> R0\\<rbrakk>\n  \\<Longrightarrow> (?V2, ?V''2) \\<in> R0\n\ngoal (1 subgoal):\n 1. trans R0", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?V2, ?V'2) \\<in> R0; (?V'2, ?V''2) \\<in> R0\\<rbrakk>\n  \\<Longrightarrow> (?V2, ?V''2) \\<in> R0\n\ngoal (1 subgoal):\n 1. trans R0", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?V2, ?V'2) \\<in> R0; (?V'2, ?V''2) \\<in> R0\\<rbrakk>\n  \\<Longrightarrow> (?V2, ?V''2) \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       (x, y) \\<in> R0 \\<longrightarrow>\n       (y, z) \\<in> R0 \\<longrightarrow> (x, z) \\<in> R0", "by blast"], ["proof (state)\nthis:\n  trans R0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  trans R0\n\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V V'"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume \"(V,V') \\<in> R0\""], ["proof (state)\nthis:\n  (V, V') \\<in> R0\n\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R0_def"], ["proof (chain)\npicking this:\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n  (V, V') \\<in> R0", "show \"length V = length V'\""], ["proof (prove)\nusing this:\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n  (V, V') \\<in> R0\n\ngoal (1 subgoal):\n 1. length V = length V'", "by auto"], ["proof (state)\nthis:\n  length V = length V'\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V V' i"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR0: \"(V,V') \\<in> R0\""], ["proof (state)\nthis:\n  (V, V') \\<in> R0\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume notIDC: \"\\<not> IDC d (V!i) (htchLoc (pp (V!i)))\""], ["proof (state)\nthis:\n  \\<not> IDC d (V ! i) (htchLoc (pp (V ! i)))\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR0 R0_def"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R0\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}", "obtain c1 c2 c1' c2' where VV'assump:\n          \"V = [c1;c2] \\<and> V' = [c1';c2'] \\<and>\n          ([c1],[c1']) \\<in> R1 \\<and> ([c2],[c2']) \\<in> R2\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R0\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n\ngoal (1 subgoal):\n 1. (\\<And>c1 c2 c1' c2'.\n        V = [c1;c2] \\<and>\n        V' = [c1';c2'] \\<and>\n        ([c1], [c1']) \\<in> R1 \\<and>\n        ([c2], [c2']) \\<in> R2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "have eqnextmem: \"\\<And>m. \\<lbrakk>c1;c2\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>m. \\<lbrakk>c1;c2\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m. \\<lbrakk>c1;c2\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)", "fix m"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m. \\<lbrakk>c1;c2\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)", "from nextmem_exists_and_unique"], ["proof (chain)\npicking this:\n  \\<exists>m' p \\<alpha>.\n     SRabbr ?c ?m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr ?c ?m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')", "obtain m' where c1nextmem:\n              \"\\<exists>p \\<alpha>. \\<langle>c1,m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m'\\<rangle> \n              \\<and> (\\<forall>m''. (\\<exists>p \\<alpha>. \\<langle>c1,m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m''\\<rangle>) \\<longrightarrow> m'' = m')\""], ["proof (prove)\nusing this:\n  \\<exists>m' p \\<alpha>.\n     SRabbr ?c ?m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr ?c ?m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. (\\<And>m'.\n        \\<exists>p \\<alpha>.\n           SRabbr c1 m \\<alpha> p m' \\<and>\n           (\\<forall>m''.\n               (\\<exists>p \\<alpha>.\n                   SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n               m'' = m') \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  \\<exists>p \\<alpha>.\n     SRabbr c1 m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>. SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. \\<And>m. \\<lbrakk>c1;c2\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)", "hence eqdir1: \"\\<lbrakk>c1\\<rbrakk>(m) = m'\""], ["proof (prove)\nusing this:\n  \\<exists>p \\<alpha>.\n     SRabbr c1 m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>. SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>c1\\<rbrakk>(m) = m'", "by (simp add: NextMem_def, auto)"], ["proof (state)\nthis:\n  \\<lbrakk>c1\\<rbrakk>(m) = m'\n\ngoal (1 subgoal):\n 1. \\<And>m. \\<lbrakk>c1;c2\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)", "from c1nextmem"], ["proof (chain)\npicking this:\n  \\<exists>p \\<alpha>.\n     SRabbr c1 m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>. SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')", "obtain p \\<alpha> where \"\\<langle>c1,m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m'\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<exists>p \\<alpha>.\n     SRabbr c1 m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>. SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha> p.\n        SRabbr c1 m \\<alpha> p m' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  SRabbr c1 m \\<alpha> p m'\n\ngoal (1 subgoal):\n 1. \\<And>m. \\<lbrakk>c1;c2\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)", "with c1nextmem"], ["proof (chain)\npicking this:\n  \\<exists>p \\<alpha>.\n     SRabbr c1 m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>. SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n  SRabbr c1 m \\<alpha> p m'", "have \"\\<exists>p \\<alpha>. \\<langle>c1;c2,m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m'\\<rangle>\n              \\<and> (\\<forall>m''. (\\<exists>p \\<alpha>. \\<langle>c1;c2,m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m''\\<rangle>) \\<longrightarrow> m'' = m')\""], ["proof (prove)\nusing this:\n  \\<exists>p \\<alpha>.\n     SRabbr c1 m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>. SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n  SRabbr c1 m \\<alpha> p m'\n\ngoal (1 subgoal):\n 1. \\<exists>p \\<alpha>.\n       SRabbr (c1;c2) m \\<alpha> p m' \\<and>\n       (\\<forall>m''.\n           (\\<exists>p \\<alpha>.\n               SRabbr (c1;c2) m \\<alpha> p m'') \\<longrightarrow>\n           m'' = m')", "by (auto, metis MWLsSteps_det.seq1 MWLsSteps_det.seq2 \n                option.exhaust, metis MWLsSteps_det_cases(3))"], ["proof (state)\nthis:\n  \\<exists>p \\<alpha>.\n     SRabbr (c1;c2) m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr (c1;c2) m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. \\<And>m. \\<lbrakk>c1;c2\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)", "hence eqdir2: \"\\<lbrakk>c1;c2\\<rbrakk>(m) = m'\""], ["proof (prove)\nusing this:\n  \\<exists>p \\<alpha>.\n     SRabbr (c1;c2) m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr (c1;c2) m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>c1;c2\\<rbrakk>(m) = m'", "by (simp add: NextMem_def, auto)"], ["proof (state)\nthis:\n  \\<lbrakk>c1;c2\\<rbrakk>(m) = m'\n\ngoal (1 subgoal):\n 1. \\<And>m. \\<lbrakk>c1;c2\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)", "with eqdir1"], ["proof (chain)\npicking this:\n  \\<lbrakk>c1\\<rbrakk>(m) = m'\n  \\<lbrakk>c1;c2\\<rbrakk>(m) = m'", "show \"\\<lbrakk>c1;c2\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>c1\\<rbrakk>(m) = m'\n  \\<lbrakk>c1;c2\\<rbrakk>(m) = m'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>c1;c2\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>c1;c2\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>c1;c2\\<rbrakk>(?m) = \\<lbrakk>c1\\<rbrakk>(?m)\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "have eqpp: \"pp (c1;c2) = pp c1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pp (c1;c2) = pp c1", "by simp"], ["proof (state)\nthis:\n  pp (c1;c2) = pp c1\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from VV'assump SdlHPPR1"], ["proof (chain)\npicking this:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  SdlHPPB d PP R1", "have \"IDC d c1 (htchLoc (pp c1)) \n          \\<or> NDC d c1\""], ["proof (prove)\nusing this:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  SdlHPPB d PP R1\n\ngoal (1 subgoal):\n 1. IDC d c1 (htchLoc (pp c1)) \\<or> NDC d c1", "by (simp add: Strong_dlHPP_Bisimulation_def, auto)"], ["proof (state)\nthis:\n  IDC d c1 (htchLoc (pp c1)) \\<or> NDC d c1\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with eqnextmem eqpp"], ["proof (chain)\npicking this:\n  \\<lbrakk>c1;c2\\<rbrakk>(?m) = \\<lbrakk>c1\\<rbrakk>(?m)\n  pp (c1;c2) = pp c1\n  IDC d c1 (htchLoc (pp c1)) \\<or> NDC d c1", "have \"IDC d (c1;c2)\n          (htchLoc (pp (c1;c2))) \\<or> NDC d (c1;c2)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>c1;c2\\<rbrakk>(?m) = \\<lbrakk>c1\\<rbrakk>(?m)\n  pp (c1;c2) = pp c1\n  IDC d c1 (htchLoc (pp c1)) \\<or> NDC d c1\n\ngoal (1 subgoal):\n 1. IDC d (c1;c2) (htchLoc (pp (c1;c2))) \\<or> NDC d (c1;c2)", "by (simp add: IDC_def NDC_def)"], ["proof (state)\nthis:\n  IDC d (c1;c2) (htchLoc (pp (c1;c2))) \\<or> NDC d (c1;c2)\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with inR0 irange notIDC VV'assump"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R0\n  i < length V\n  \\<not> IDC d (V ! i) (htchLoc (pp (V ! i)))\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  IDC d (c1;c2) (htchLoc (pp (c1;c2))) \\<or> NDC d (c1;c2)", "show \"NDC d (V!i)\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R0\n  i < length V\n  \\<not> IDC d (V ! i) (htchLoc (pp (V ! i)))\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  IDC d (c1;c2) (htchLoc (pp (c1;c2))) \\<or> NDC d (c1;c2)\n\ngoal (1 subgoal):\n 1. NDC d (V ! i)", "by (simp add: IDC_def, auto)"], ["proof (state)\nthis:\n  NDC d (V ! i)\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V V' m1 m1' m2 \\<alpha> p i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR0: \"(V,V') \\<in> R0\""], ["proof (state)\nthis:\n  (V, V') \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume step: \"\\<langle>V!i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr (V ! i) m1 \\<alpha> p m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume dhequal: \"m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR0 R0_def"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R0\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}", "obtain c1 c1' c2 c2' where R0pair:\n          \"V = [c1;c2] \\<and> V' = [c1';c2'] \\<and> ([c1],[c1']) \\<in> R1\n          \\<and> ([c2],[c2']) \\<in> R2\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R0\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n\ngoal (1 subgoal):\n 1. (\\<And>c1 c2 c1' c2'.\n        V = [c1;c2] \\<and>\n        V' = [c1';c2'] \\<and>\n        ([c1], [c1']) \\<in> R1 \\<and>\n        ([c2], [c2']) \\<in> R2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from R0pair irange"], ["proof (chain)\npicking this:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  i < length V", "have i0: \"i = 0\""], ["proof (prove)\nusing this:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  i < length V\n\ngoal (1 subgoal):\n 1. i = 0", "by simp"], ["proof (state)\nthis:\n  i = 0\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "have eqpp: \"pp (c1;c2) = pp c1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pp (c1;c2) = pp c1", "by simp\n\n        \\<comment> \\<open>get the two different cases:\\<close>"], ["proof (state)\nthis:\n  pp (c1;c2) = pp c1\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from R0pair step i0"], ["proof (chain)\npicking this:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  i = 0", "obtain c3 where case_distinction:\n          \"(p = Some c2 \\<and> \\<langle>c1,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>None,m2\\<rangle>)\n          \\<or> (p = Some (c3;c2) \\<and> \\<langle>c1,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>Some c3,m2\\<rangle>)\""], ["proof (prove)\nusing this:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  i = 0\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        p = Some c2 \\<and> SRabbr c1 m1 \\<alpha> None m2 \\<or>\n        p = Some (c3;c2) \\<and>\n        SRabbr c1 m1 \\<alpha> (Some c3) m2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp, insert MWLsSteps_det.simps[of \"c1;c2\" \"m1\"],\n            auto)"], ["proof (state)\nthis:\n  p = Some c2 \\<and> SRabbr c1 m1 \\<alpha> None m2 \\<or>\n  p = Some (c3;c2) \\<and> SRabbr c1 m1 \\<alpha> (Some c3) m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "moreover\n        \\<comment> \\<open>Case 1: first command terminates\\<close>"], ["proof (state)\nthis:\n  p = Some c2 \\<and> SRabbr c1 m1 \\<alpha> None m2 \\<or>\n  p = Some (c3;c2) \\<and> SRabbr c1 m1 \\<alpha> (Some c3) m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "{"], ["proof (state)\nthis:\n  p = Some c2 \\<and> SRabbr c1 m1 \\<alpha> None m2 \\<or>\n  p = Some (c3;c2) \\<and> SRabbr c1 m1 \\<alpha> (Some c3) m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume passump: \"p = Some c2\""], ["proof (state)\nthis:\n  p = Some c2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume StepAssump: \"\\<langle>c1,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>None,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr c1 m1 \\<alpha> None m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "hence Vstep_case1:\n            \"\\<langle>c1;c2,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>Some c2,m2\\<rangle>\""], ["proof (prove)\nusing this:\n  SRabbr c1 m1 \\<alpha> None m2\n\ngoal (1 subgoal):\n 1. SRabbr (c1;c2) m1 \\<alpha> (Some c2) m2", "by (simp add: MWLsSteps_det.seq1)"], ["proof (state)\nthis:\n  SRabbr (c1;c2) m1 \\<alpha> (Some c2) m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR1 StepAssump R0pair dhequal\n            strongdlHPPB_aux[of \"d\" \"PP\"\n            \"R1\" \"0\" \"[c1]\" \"[c1']\" \"m1\" \"\\<alpha>\" \"None\" \"m2\" \"m1'\"]"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R1\n  SRabbr c1 m1 \\<alpha> None m2\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<lbrakk>SdlHPPB d PP R1; 0 < length [c1]; ([c1], [c1']) \\<in> R1;\n   SRabbr ([c1] ! 0) m1 \\<alpha> None m2;\n   m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr ([c1'] ! 0) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR None p' R1 \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n                       dhequality_alternative d PP (pp ([c1] ! 0)) m2 m2'", "obtain p' \\<alpha>' m2' where c1c1'reason: \n            \"p' = None \\<and> \\<langle>c1',m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and> (\\<alpha>,\\<alpha>') \\<in> R1 \\<and> \n            dhequality_alternative d PP (pp c1) m2 m2'\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R1\n  SRabbr c1 m1 \\<alpha> None m2\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<lbrakk>SdlHPPB d PP R1; 0 < length [c1]; ([c1], [c1']) \\<in> R1;\n   SRabbr ([c1] ! 0) m1 \\<alpha> None m2;\n   m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr ([c1'] ! 0) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR None p' R1 \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n                       dhequality_alternative d PP (pp ([c1] ! 0)) m2 m2'\n\ngoal (1 subgoal):\n 1. (\\<And>p' \\<alpha>' m2'.\n        p' = None \\<and>\n        SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n        (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n        dhequality_alternative d PP (pp c1) m2 m2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: stepResultsinR_def, fastforce)"], ["proof (state)\nthis:\n  p' = None \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with eqpp c1c1'reason"], ["proof (chain)\npicking this:\n  pp (c1;c2) = pp c1\n  p' = None \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  p' = None \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'", "have conclpart:\n            \"\\<langle>c1';c2',m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>Some c2',m2'\\<rangle> \\<and> \n            dhequality_alternative d PP (pp (c1;c2)) m2 m2'\""], ["proof (prove)\nusing this:\n  pp (c1;c2) = pp c1\n  p' = None \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  p' = None \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n\ngoal (1 subgoal):\n 1. SRabbr (c1';c2') m1' \\<alpha>' (Some c2') m2' \\<and>\n    dhequality_alternative d PP (pp (c1;c2)) m2 m2'", "by (auto, simp add: MWLsSteps_det.seq1)"], ["proof (state)\nthis:\n  SRabbr (c1';c2') m1' \\<alpha>' (Some c2') m2' \\<and>\n  dhequality_alternative d PP (pp (c1;c2)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with passump R0pair c1c1'reason i0"], ["proof (chain)\npicking this:\n  p = Some c2\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  p' = None \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  i = 0\n  SRabbr (c1';c2') m1' \\<alpha>' (Some c2') m2' \\<and>\n  dhequality_alternative d PP (pp (c1;c2)) m2 m2'", "have case1_concl: \n          \"\\<exists>p' \\<alpha>' m2'.\n             \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n             stepResultsinR p p' (R0 \\<union> (R1 \\<union> R2)) \\<and>\n             ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R1 \\<or> (\\<alpha>,\\<alpha>') \\<in> R2) \\<and>\n             dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  p = Some c2\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  p' = None \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  i = 0\n  SRabbr (c1';c2') m1' \\<alpha>' (Some c2') m2' \\<and>\n  dhequality_alternative d PP (pp (c1;c2)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> (R1 \\<union> R2)) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by (simp add: stepResultsinR_def, auto)"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> (R1 \\<union> R2)) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "}"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some c2; SRabbr c1 m1 \\<alpha> None m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p'\n                        (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "moreover\n        \\<comment> \\<open>Case 2: first command does not terminate\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some c2; SRabbr c1 m1 \\<alpha> None m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p'\n                        (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "{"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some c2; SRabbr c1 m1 \\<alpha> None m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p'\n                        (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume passump: \"p = Some (c3;c2)\""], ["proof (state)\nthis:\n  p = Some (c3;c2)\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume StepAssump: \"\\<langle>c1,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>Some c3,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr c1 m1 \\<alpha> (Some c3) m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "hence Vstep_case2:  \"\\<langle>c1;c2,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>Some (c3;c2),m2\\<rangle>\""], ["proof (prove)\nusing this:\n  SRabbr c1 m1 \\<alpha> (Some c3) m2\n\ngoal (1 subgoal):\n 1. SRabbr (c1;c2) m1 \\<alpha> (Some (c3;c2)) m2", "by (simp add: MWLsSteps_det.seq2)"], ["proof (state)\nthis:\n  SRabbr (c1;c2) m1 \\<alpha> (Some (c3;c2)) m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR1 StepAssump R0pair dhequal\n            strongdlHPPB_aux[of \"d\" \"PP\"\n            \"R1\" \"0\" \"[c1]\" \"[c1']\" \"m1\" \"\\<alpha>\" \"Some c3\" \"m2\" \"m1'\"]"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R1\n  SRabbr c1 m1 \\<alpha> (Some c3) m2\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<lbrakk>SdlHPPB d PP R1; 0 < length [c1]; ([c1], [c1']) \\<in> R1;\n   SRabbr ([c1] ! 0) m1 \\<alpha> (Some c3) m2;\n   m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr ([c1'] ! 0) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR (Some c3) p' R1 \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n                       dhequality_alternative d PP (pp ([c1] ! 0)) m2 m2'", "obtain p' c3' \\<alpha>' m2' where c1c1'reason: \n            \"p' = Some c3' \\<and> \\<langle>c1',m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and> \n            ([c3],[c3']) \\<in> R1 \\<and> (\\<alpha>,\\<alpha>') \\<in> R1 \\<and>\n            dhequality_alternative d PP (pp c1) m2 m2'\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R1\n  SRabbr c1 m1 \\<alpha> (Some c3) m2\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<lbrakk>SdlHPPB d PP R1; 0 < length [c1]; ([c1], [c1']) \\<in> R1;\n   SRabbr ([c1] ! 0) m1 \\<alpha> (Some c3) m2;\n   m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr ([c1'] ! 0) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR (Some c3) p' R1 \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n                       dhequality_alternative d PP (pp ([c1] ! 0)) m2 m2'\n\ngoal (1 subgoal):\n 1. (\\<And>p' c3' \\<alpha>' m2'.\n        p' = Some c3' \\<and>\n        SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n        ([c3], [c3']) \\<in> R1 \\<and>\n        (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n        dhequality_alternative d PP (pp c1) m2 m2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: stepResultsinR_def, fastforce)"], ["proof (state)\nthis:\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R1 \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with eqpp c1c1'reason"], ["proof (chain)\npicking this:\n  pp (c1;c2) = pp c1\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R1 \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R1 \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'", "have conclpart:\n            \"\\<langle>c1';c2',m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>Some (c3';c2'),m2'\\<rangle> \\<and> \n            dhequality_alternative d PP (pp (c1;c2)) m2 m2'\""], ["proof (prove)\nusing this:\n  pp (c1;c2) = pp c1\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R1 \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R1 \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n\ngoal (1 subgoal):\n 1. SRabbr (c1';c2') m1' \\<alpha>' (Some (c3';c2')) m2' \\<and>\n    dhequality_alternative d PP (pp (c1;c2)) m2 m2'", "by (auto, simp add: MWLsSteps_det.seq2)"], ["proof (state)\nthis:\n  SRabbr (c1';c2') m1' \\<alpha>' (Some (c3';c2')) m2' \\<and>\n  dhequality_alternative d PP (pp (c1;c2)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from c1c1'reason R0pair R0_def"], ["proof (chain)\npicking this:\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R1 \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}", "have \n            \"([c3;c2],[c3';c2']) \\<in> R0\""], ["proof (prove)\nusing this:\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R1 \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  R0 =\n  {(s1, s2).\n   \\<exists>c1 c1' c2 c2'.\n      s1 = [c1;c2] \\<and>\n      s2 = [c1';c2'] \\<and>\n      ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2}\n\ngoal (1 subgoal):\n 1. ([c3;c2], [c3';c2']) \\<in> R0", "by auto"], ["proof (state)\nthis:\n  ([c3;c2], [c3';c2']) \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R0pair conclpart passump c1c1'reason i0"], ["proof (chain)\npicking this:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  SRabbr (c1';c2') m1' \\<alpha>' (Some (c3';c2')) m2' \\<and>\n  dhequality_alternative d PP (pp (c1;c2)) m2 m2'\n  p = Some (c3;c2)\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R1 \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  i = 0\n  ([c3;c2], [c3';c2']) \\<in> R0", "have case1_concl: \n            \"\\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n            stepResultsinR p p' (R0 \\<union> (R1 \\<union> R2)) \\<and>\n            ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R1 \\<or> (\\<alpha>,\\<alpha>') \\<in> R2) \\<and>\n            dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  V = [c1;c2] \\<and>\n  V' = [c1';c2'] \\<and> ([c1], [c1']) \\<in> R1 \\<and> ([c2], [c2']) \\<in> R2\n  SRabbr (c1';c2') m1' \\<alpha>' (Some (c3';c2')) m2' \\<and>\n  dhequality_alternative d PP (pp (c1;c2)) m2 m2'\n  p = Some (c3;c2)\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R1 \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R1 \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  i = 0\n  ([c3;c2], [c3';c2']) \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> (R1 \\<union> R2)) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by (simp add: stepResultsinR_def, auto)"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> (R1 \\<union> R2)) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "}"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some (c3;c2); SRabbr c1 m1 \\<alpha> (Some c3) m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p'\n                        (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p'\n                             (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "ultimately"], ["proof (chain)\npicking this:\n  p = Some c2 \\<and> SRabbr c1 m1 \\<alpha> None m2 \\<or>\n  p = Some (c3;c2) \\<and> SRabbr c1 m1 \\<alpha> (Some c3) m2\n  \\<lbrakk>p = Some c2; SRabbr c1 m1 \\<alpha> None m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p'\n                        (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n  \\<lbrakk>p = Some (c3;c2); SRabbr c1 m1 \\<alpha> (Some c3) m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p'\n                        (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "show \"\\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n             stepResultsinR p p' (R0 \\<union> (R1 \\<union> R2)) \\<and>\n             ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R1 \\<or> (\\<alpha>,\\<alpha>') \\<in> R2) \\<and>\n             dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  p = Some c2 \\<and> SRabbr c1 m1 \\<alpha> None m2 \\<or>\n  p = Some (c3;c2) \\<and> SRabbr c1 m1 \\<alpha> (Some c3) m2\n  \\<lbrakk>p = Some c2; SRabbr c1 m1 \\<alpha> None m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p'\n                        (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n  \\<lbrakk>p = Some (c3;c2); SRabbr c1 m1 \\<alpha> (Some c3) m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p'\n                        (R0 \\<union> (R1 \\<union> R2)) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> (R1 \\<union> R2)) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by blast"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> (R1 \\<union> R2)) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R1 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R2) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  disj_dlHPP_Bisimulation_Up_To_R' d PP (R1 \\<union> R2) R0\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "with inR0 Areflassump2 Up_To_Technique"], ["proof (chain)\npicking this:\n  ([c1;c2], [c1;c2]) \\<in> R0\n  Arefl R0 \\<inter> Arefl (R1 \\<union> R2) \\<subseteq> {[]}\n  \\<lbrakk>disj_dlHPP_Bisimulation_Up_To_R' ?d ?PP ?R' ?R;\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  disj_dlHPP_Bisimulation_Up_To_R' d PP (R1 \\<union> R2) R0", "have \"SdlHPPB d PP (R0 \\<union> (R1 \\<union> R2))\""], ["proof (prove)\nusing this:\n  ([c1;c2], [c1;c2]) \\<in> R0\n  Arefl R0 \\<inter> Arefl (R1 \\<union> R2) \\<subseteq> {[]}\n  \\<lbrakk>disj_dlHPP_Bisimulation_Up_To_R' ?d ?PP ?R' ?R;\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  disj_dlHPP_Bisimulation_Up_To_R' d PP (R1 \\<union> R2) R0\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP (R0 \\<union> (R1 \\<union> R2))", "by auto"], ["proof (state)\nthis:\n  SdlHPPB d PP (R0 \\<union> (R1 \\<union> R2))\n\ngoal (1 subgoal):\n 1. \\<And>d PP. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "with inR0"], ["proof (chain)\npicking this:\n  ([c1;c2], [c1;c2]) \\<in> R0\n  SdlHPPB d PP (R0 \\<union> (R1 \\<union> R2))", "show \"\\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2],[c1;c2]) \\<in> R\""], ["proof (prove)\nusing this:\n  ([c1;c2], [c1;c2]) \\<in> R0\n  SdlHPPB d PP (R0 \\<union> (R1 \\<union> R2))\n\ngoal (1 subgoal):\n 1. \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R", "by auto"], ["proof (state)\nthis:\n  \\<exists>R. SdlHPPB d PP R \\<and> ([c1;c2], [c1;c2]) \\<in> R\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem Compositionality_Spawn:\n  assumes WWs_threads: \"WHATWHERE_Secure V\"\n  assumes uniPPspawn: \"unique_PPc (spawn\\<^bsub>\\<iota>\\<^esub> V)\"\n  shows \"WHATWHERE_Secure [spawn\\<^bsub>\\<iota>\\<^esub> V]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. WHATWHERE_Secure [spawn\\<^bsub>\\<iota>\\<^esub> V]", "proof (simp add: WHATWHERE_Secure_def, auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([spawn\\<^bsub>\\<iota>\\<^esub> V],\n           [spawn\\<^bsub>\\<iota>\\<^esub> V])\n          \\<in> R", "fix d PP"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([spawn\\<^bsub>\\<iota>\\<^esub> V],\n           [spawn\\<^bsub>\\<iota>\\<^esub> V])\n          \\<in> R", "from uniPPspawn"], ["proof (chain)\npicking this:\n  unique_PPc (spawn\\<^bsub>\\<iota>\\<^esub> V)", "have pp_difference: \"\\<iota> \\<notin> set (PPV V)\""], ["proof (prove)\nusing this:\n  unique_PPc (spawn\\<^bsub>\\<iota>\\<^esub> V)\n\ngoal (1 subgoal):\n 1. \\<iota> \\<notin> set (PPV V)", "by (simp add: unique_PPc_def)\n  \n  \\<comment> \\<open>Step 1\\<close>"], ["proof (state)\nthis:\n  \\<iota> \\<notin> set (PPV V)\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([spawn\\<^bsub>\\<iota>\\<^esub> V],\n           [spawn\\<^bsub>\\<iota>\\<^esub> V])\n          \\<in> R", "from WWs_threads"], ["proof (chain)\npicking this:\n  WHATWHERE_Secure V", "obtain R' where R'assump:\n    \"SdlHPPB d PP R' \\<and> (V,V) \\<in> R'\""], ["proof (prove)\nusing this:\n  WHATWHERE_Secure V\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        SdlHPPB d PP R' \\<and> (V, V) \\<in> R' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: WHATWHERE_Secure_def, auto)"], ["proof (state)\nthis:\n  SdlHPPB d PP R' \\<and> (V, V) \\<in> R'\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([spawn\\<^bsub>\\<iota>\\<^esub> V],\n           [spawn\\<^bsub>\\<iota>\\<^esub> V])\n          \\<in> R", "define R where \"R = {(V',V''). (V',V'') \\<in> R' \\<and> set (PPV V') \\<subseteq> set (PPV V)\n    \\<and> set (PPV V'') \\<subseteq> set (PPV V)}\""], ["proof (state)\nthis:\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([spawn\\<^bsub>\\<iota>\\<^esub> V],\n           [spawn\\<^bsub>\\<iota>\\<^esub> V])\n          \\<in> R", "from R'assump R_def SdlHPPB_restricted_on_PP_is_SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R' \\<and> (V, V) \\<in> R'\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R", "have SdlHPPR: \"SdlHPPB d PP R\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R' \\<and> (V, V) \\<in> R'\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP R", "by force\n\n  \\<comment> \\<open>Step 2\\<close>"], ["proof (state)\nthis:\n  SdlHPPB d PP R\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([spawn\\<^bsub>\\<iota>\\<^esub> V],\n           [spawn\\<^bsub>\\<iota>\\<^esub> V])\n          \\<in> R", "define R0 where \"R0 = {(sp1,sp2). \\<exists>\\<iota>' \\<iota>'' V' V''. \n    sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and> sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V'']\n    \\<and> \\<iota>' \\<notin> set (PPV V) \\<and> \\<iota>'' \\<notin> set (PPV V) \\<and> (V',V'') \\<in> R}\""], ["proof (state)\nthis:\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([spawn\\<^bsub>\\<iota>\\<^esub> V],\n           [spawn\\<^bsub>\\<iota>\\<^esub> V])\n          \\<in> R", "with R_def R'assump pp_difference"], ["proof (chain)\npicking this:\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  SdlHPPB d PP R' \\<and> (V, V) \\<in> R'\n  \\<iota> \\<notin> set (PPV V)\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}", "have inR0: \n    \"([spawn\\<^bsub>\\<iota>\\<^esub> V],[spawn\\<^bsub>\\<iota>\\<^esub> V]) \\<in> R0\""], ["proof (prove)\nusing this:\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  SdlHPPB d PP R' \\<and> (V, V) \\<in> R'\n  \\<iota> \\<notin> set (PPV V)\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n\ngoal (1 subgoal):\n 1. ([spawn\\<^bsub>\\<iota>\\<^esub> V], [spawn\\<^bsub>\\<iota>\\<^esub> V])\n    \\<in> R0", "by auto\n    \n  \\<comment> \\<open>Step 3\\<close>"], ["proof (state)\nthis:\n  ([spawn\\<^bsub>\\<iota>\\<^esub> V], [spawn\\<^bsub>\\<iota>\\<^esub> V])\n  \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([spawn\\<^bsub>\\<iota>\\<^esub> V],\n           [spawn\\<^bsub>\\<iota>\\<^esub> V])\n          \\<in> R", "from R0_def R_def R'assump"], ["proof (chain)\npicking this:\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  SdlHPPB d PP R' \\<and> (V, V) \\<in> R'", "have \"Domain R0 \\<inter> Domain R = {}\""], ["proof (prove)\nusing this:\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n  R =\n  {(V', V'').\n   (V', V'') \\<in> R' \\<and>\n   set (PPV V') \\<subseteq> set (PPV V) \\<and>\n   set (PPV V'') \\<subseteq> set (PPV V)}\n  SdlHPPB d PP R' \\<and> (V, V) \\<in> R'\n\ngoal (1 subgoal):\n 1. Domain R0 \\<inter> Domain R = {}", "by auto"], ["proof (state)\nthis:\n  Domain R0 \\<inter> Domain R = {}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([spawn\\<^bsub>\\<iota>\\<^esub> V],\n           [spawn\\<^bsub>\\<iota>\\<^esub> V])\n          \\<in> R", "with commonArefl_subset_commonDomain"], ["proof (chain)\npicking this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R0 \\<inter> Domain R = {}", "have Areflassump: \"Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}\""], ["proof (prove)\nusing this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R0 \\<inter> Domain R = {}\n\ngoal (1 subgoal):\n 1. Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}", "by force\n  \n  \\<comment> \\<open>Step 4\\<close>"], ["proof (state)\nthis:\n  Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([spawn\\<^bsub>\\<iota>\\<^esub> V],\n           [spawn\\<^bsub>\\<iota>\\<^esub> V])\n          \\<in> R", "have disjuptoR0:\n    \"disj_dlHPP_Bisimulation_Up_To_R' d PP R R0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disj_dlHPP_Bisimulation_Up_To_R' d PP R R0", "proof (simp add: disj_dlHPP_Bisimulation_Up_To_R'_def, auto)"], ["proof (state)\ngoal (6 subgoals):\n 1. SdlHPPB d PP R\n 2. sym R0\n 3. trans R0\n 4. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 5. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 6. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R", "show \"SdlHPPB d PP R\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP R", "by auto"], ["proof (state)\nthis:\n  SdlHPPB d PP R\n\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R", "have symR: \"sym R\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R\n\ngoal (1 subgoal):\n 1. sym R", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  sym R\n\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R0_def"], ["proof (chain)\npicking this:\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n  sym R", "show \"sym R0\""], ["proof (prove)\nusing this:\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n  sym R\n\ngoal (1 subgoal):\n 1. sym R0", "by (simp add: sym_def, auto)"], ["proof (state)\nthis:\n  sym R0\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R", "have transR: \"trans R\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R\n\ngoal (1 subgoal):\n 1. trans R", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  trans R\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R0_def"], ["proof (chain)\npicking this:\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n  trans R", "show \"trans R0\""], ["proof (prove)\nusing this:\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n  trans R\n\ngoal (1 subgoal):\n 1. trans R0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>R0 =\n             {(sp1, sp2).\n              \\<exists>\\<iota>' \\<iota>'' V' V''.\n                 sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n                 sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n                 \\<iota>' \\<notin> set (PPV V) \\<and>\n                 \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R};\n     trans R\\<rbrakk>\n    \\<Longrightarrow> trans R0", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>R0 =\n             {(sp1, sp2).\n              \\<exists>\\<iota>' \\<iota>'' V' V''.\n                 sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n                 sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n                 \\<iota>' \\<notin> set (PPV V) \\<and>\n                 \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R};\n     trans R\\<rbrakk>\n    \\<Longrightarrow> trans R0", "fix V1 V2 V3"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>R0 =\n             {(sp1, sp2).\n              \\<exists>\\<iota>' \\<iota>'' V' V''.\n                 sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n                 sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n                 \\<iota>' \\<notin> set (PPV V) \\<and>\n                 \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R};\n     trans R\\<rbrakk>\n    \\<Longrightarrow> trans R0", "assume inR1: \"(V1,V2) \\<in> R0\""], ["proof (state)\nthis:\n  (V1, V2) \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>R0 =\n             {(sp1, sp2).\n              \\<exists>\\<iota>' \\<iota>'' V' V''.\n                 sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n                 sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n                 \\<iota>' \\<notin> set (PPV V) \\<and>\n                 \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R};\n     trans R\\<rbrakk>\n    \\<Longrightarrow> trans R0", "assume inR2: \"(V2,V3) \\<in> R0\""], ["proof (state)\nthis:\n  (V2, V3) \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>R0 =\n             {(sp1, sp2).\n              \\<exists>\\<iota>' \\<iota>'' V' V''.\n                 sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n                 sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n                 \\<iota>' \\<notin> set (PPV V) \\<and>\n                 \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R};\n     trans R\\<rbrakk>\n    \\<Longrightarrow> trans R0", "from inR1 R0_def"], ["proof (chain)\npicking this:\n  (V1, V2) \\<in> R0\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}", "obtain W W' \\<iota> \\<iota>' where p1: \"V1 = [spawn\\<^bsub>\\<iota>\\<^esub> W] \n            \\<and> V2 = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and> \\<iota> \\<notin> set (PPV V) \\<and> \\<iota>' \\<notin> set (PPV V)\n            \\<and> (W,W') \\<in> R\""], ["proof (prove)\nusing this:\n  (V1, V2) \\<in> R0\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n\ngoal (1 subgoal):\n 1. (\\<And>\\<iota> W \\<iota>' W'.\n        V1 = [spawn\\<^bsub>\\<iota>\\<^esub> W] \\<and>\n        V2 = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n        \\<iota> \\<notin> set (PPV V) \\<and>\n        \\<iota>' \\<notin> set (PPV V) \\<and>\n        (W, W') \\<in> R \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V1 = [spawn\\<^bsub>\\<iota>\\<^esub> W] \\<and>\n  V2 = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  \\<iota> \\<notin> set (PPV V) \\<and>\n  \\<iota>' \\<notin> set (PPV V) \\<and> (W, W') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>R0 =\n             {(sp1, sp2).\n              \\<exists>\\<iota>' \\<iota>'' V' V''.\n                 sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n                 sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n                 \\<iota>' \\<notin> set (PPV V) \\<and>\n                 \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R};\n     trans R\\<rbrakk>\n    \\<Longrightarrow> trans R0", "with inR2 R0_def"], ["proof (chain)\npicking this:\n  (V2, V3) \\<in> R0\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n  V1 = [spawn\\<^bsub>\\<iota>\\<^esub> W] \\<and>\n  V2 = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  \\<iota> \\<notin> set (PPV V) \\<and>\n  \\<iota>' \\<notin> set (PPV V) \\<and> (W, W') \\<in> R", "obtain W'' \\<iota>'' where p2: \"V3 = [spawn\\<^bsub>\\<iota>''\\<^esub> W'']\n            \\<and> \\<iota>'' \\<notin> set (PPV V) \\<and> (W',W'') \\<in> R\""], ["proof (prove)\nusing this:\n  (V2, V3) \\<in> R0\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n  V1 = [spawn\\<^bsub>\\<iota>\\<^esub> W] \\<and>\n  V2 = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  \\<iota> \\<notin> set (PPV V) \\<and>\n  \\<iota>' \\<notin> set (PPV V) \\<and> (W, W') \\<in> R\n\ngoal (1 subgoal):\n 1. (\\<And>\\<iota>'' W''.\n        V3 = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and>\n        \\<iota>'' \\<notin> set (PPV V) \\<and>\n        (W', W'') \\<in> R \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V3 = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and>\n  \\<iota>'' \\<notin> set (PPV V) \\<and> (W', W'') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>R0 =\n             {(sp1, sp2).\n              \\<exists>\\<iota>' \\<iota>'' V' V''.\n                 sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n                 sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n                 \\<iota>' \\<notin> set (PPV V) \\<and>\n                 \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R};\n     trans R\\<rbrakk>\n    \\<Longrightarrow> trans R0", "from p1 p2 transR"], ["proof (chain)\npicking this:\n  V1 = [spawn\\<^bsub>\\<iota>\\<^esub> W] \\<and>\n  V2 = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  \\<iota> \\<notin> set (PPV V) \\<and>\n  \\<iota>' \\<notin> set (PPV V) \\<and> (W, W') \\<in> R\n  V3 = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and>\n  \\<iota>'' \\<notin> set (PPV V) \\<and> (W', W'') \\<in> R\n  trans R", "have \"(W,W'') \\<in> R\""], ["proof (prove)\nusing this:\n  V1 = [spawn\\<^bsub>\\<iota>\\<^esub> W] \\<and>\n  V2 = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  \\<iota> \\<notin> set (PPV V) \\<and>\n  \\<iota>' \\<notin> set (PPV V) \\<and> (W, W') \\<in> R\n  V3 = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and>\n  \\<iota>'' \\<notin> set (PPV V) \\<and> (W', W'') \\<in> R\n  trans R\n\ngoal (1 subgoal):\n 1. (W, W'') \\<in> R", "by (simp add: trans_def, auto)"], ["proof (state)\nthis:\n  (W, W'') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>R0 =\n             {(sp1, sp2).\n              \\<exists>\\<iota>' \\<iota>'' V' V''.\n                 sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n                 sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n                 \\<iota>' \\<notin> set (PPV V) \\<and>\n                 \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R};\n     trans R\\<rbrakk>\n    \\<Longrightarrow> trans R0", "with p1 p2 R0_def"], ["proof (chain)\npicking this:\n  V1 = [spawn\\<^bsub>\\<iota>\\<^esub> W] \\<and>\n  V2 = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  \\<iota> \\<notin> set (PPV V) \\<and>\n  \\<iota>' \\<notin> set (PPV V) \\<and> (W, W') \\<in> R\n  V3 = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and>\n  \\<iota>'' \\<notin> set (PPV V) \\<and> (W', W'') \\<in> R\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n  (W, W'') \\<in> R", "have \"(V1,V3) \\<in> R0\""], ["proof (prove)\nusing this:\n  V1 = [spawn\\<^bsub>\\<iota>\\<^esub> W] \\<and>\n  V2 = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  \\<iota> \\<notin> set (PPV V) \\<and>\n  \\<iota>' \\<notin> set (PPV V) \\<and> (W, W') \\<in> R\n  V3 = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and>\n  \\<iota>'' \\<notin> set (PPV V) \\<and> (W', W'') \\<in> R\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n  (W, W'') \\<in> R\n\ngoal (1 subgoal):\n 1. (V1, V3) \\<in> R0", "by auto"], ["proof (state)\nthis:\n  (V1, V3) \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>R0 =\n             {(sp1, sp2).\n              \\<exists>\\<iota>' \\<iota>'' V' V''.\n                 sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n                 sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n                 \\<iota>' \\<notin> set (PPV V) \\<and>\n                 \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R};\n     trans R\\<rbrakk>\n    \\<Longrightarrow> trans R0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(?V1.2, ?V2.2) \\<in> R0; (?V2.2, ?V3.2) \\<in> R0\\<rbrakk>\n  \\<Longrightarrow> (?V1.2, ?V3.2) \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>R0 =\n             {(sp1, sp2).\n              \\<exists>\\<iota>' \\<iota>'' V' V''.\n                 sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n                 sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n                 \\<iota>' \\<notin> set (PPV V) \\<and>\n                 \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R};\n     trans R\\<rbrakk>\n    \\<Longrightarrow> trans R0", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?V1.2, ?V2.2) \\<in> R0; (?V2.2, ?V3.2) \\<in> R0\\<rbrakk>\n  \\<Longrightarrow> (?V1.2, ?V3.2) \\<in> R0\n\ngoal (1 subgoal):\n 1. trans R0", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?V1.2, ?V2.2) \\<in> R0; (?V2.2, ?V3.2) \\<in> R0\\<rbrakk>\n  \\<Longrightarrow> (?V1.2, ?V3.2) \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       (x, y) \\<in> R0 \\<longrightarrow>\n       (y, z) \\<in> R0 \\<longrightarrow> (x, z) \\<in> R0", "by blast"], ["proof (state)\nthis:\n  trans R0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  trans R0\n\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V' V''"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R", "have eqlenR: \"(V',V'') \\<in> R \\<Longrightarrow> length V' = length V''\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R\n\ngoal (1 subgoal):\n 1. (V', V'') \\<in> R \\<Longrightarrow> length V' = length V''", "by (simp add: Strong_dlHPP_Bisimulation_def, auto)"], ["proof (state)\nthis:\n  (V', V'') \\<in> R \\<Longrightarrow> length V' = length V''\n\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R0_def"], ["proof (chain)\npicking this:\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n  (V', V'') \\<in> R \\<Longrightarrow> length V' = length V''", "show \"(V',V'') \\<in> R0 \\<Longrightarrow> length V' = length V''\""], ["proof (prove)\nusing this:\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n  (V', V'') \\<in> R \\<Longrightarrow> length V' = length V''\n\ngoal (1 subgoal):\n 1. (V', V'') \\<in> R0 \\<Longrightarrow> length V' = length V''", "by auto"], ["proof (state)\nthis:\n  (V', V'') \\<in> R0 \\<Longrightarrow> length V' = length V''\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V' V'' i"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR0: \"(V',V'') \\<in> R0\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R0\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V'\""], ["proof (state)\nthis:\n  i < length V'\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR0 R0_def"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R0\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}", "obtain \\<iota>' \\<iota>'' W' W'' \n        where R0pair: \"V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and> V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W'']\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R0\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n\ngoal (1 subgoal):\n 1. (\\<And>\\<iota>' W' \\<iota>'' W''.\n        V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n        V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W'']\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "{"], ["proof (state)\nthis:\n  V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W'']\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix m"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from nextmem_exists_and_unique"], ["proof (chain)\npicking this:\n  \\<exists>m' p \\<alpha>.\n     SRabbr ?c ?m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr ?c ?m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')", "obtain m' where spawnnextmem:\n          \"\\<exists>p \\<alpha>. \\<langle>spawn\\<^bsub>\\<iota>'\\<^esub> W',m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m'\\<rangle> \n          \\<and> (\\<forall>m''. (\\<exists>p \\<alpha>. \\<langle>spawn\\<^bsub>\\<iota>'\\<^esub> W',m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m''\\<rangle>) \\<longrightarrow> m'' = m')\""], ["proof (prove)\nusing this:\n  \\<exists>m' p \\<alpha>.\n     SRabbr ?c ?m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr ?c ?m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. (\\<And>m'.\n        \\<exists>p \\<alpha>.\n           SRabbr (spawn\\<^bsub>\\<iota>'\\<^esub> W') m \\<alpha> p m' \\<and>\n           (\\<forall>m''.\n               (\\<exists>p \\<alpha>.\n                   SRabbr (spawn\\<^bsub>\\<iota>'\\<^esub> W') m \\<alpha> p\n                    m'') \\<longrightarrow>\n               m'' = m') \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  \\<exists>p \\<alpha>.\n     SRabbr (spawn\\<^bsub>\\<iota>'\\<^esub> W') m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr (spawn\\<^bsub>\\<iota>'\\<^esub> W') m \\<alpha> p\n              m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "hence \"m = m'\""], ["proof (prove)\nusing this:\n  \\<exists>p \\<alpha>.\n     SRabbr (spawn\\<^bsub>\\<iota>'\\<^esub> W') m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr (spawn\\<^bsub>\\<iota>'\\<^esub> W') m \\<alpha> p\n              m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. m = m'", "by (metis MWLsSteps_det.spawn)"], ["proof (state)\nthis:\n  m = m'\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with spawnnextmem"], ["proof (chain)\npicking this:\n  \\<exists>p \\<alpha>.\n     SRabbr (spawn\\<^bsub>\\<iota>'\\<^esub> W') m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr (spawn\\<^bsub>\\<iota>'\\<^esub> W') m \\<alpha> p\n              m'') \\<longrightarrow>\n         m'' = m')\n  m = m'", "have eqnextmem: \n          \"\\<lbrakk>spawn\\<^bsub>\\<iota>'\\<^esub> W'\\<rbrakk>(m) = m\""], ["proof (prove)\nusing this:\n  \\<exists>p \\<alpha>.\n     SRabbr (spawn\\<^bsub>\\<iota>'\\<^esub> W') m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr (spawn\\<^bsub>\\<iota>'\\<^esub> W') m \\<alpha> p\n              m'') \\<longrightarrow>\n         m'' = m')\n  m = m'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>spawn\\<^bsub>\\<iota>'\\<^esub> W'\\<rbrakk>(m) = m", "by (simp add: NextMem_def, auto)"], ["proof (state)\nthis:\n  \\<lbrakk>spawn\\<^bsub>\\<iota>'\\<^esub> W'\\<rbrakk>(m) = m\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "}"], ["proof (state)\nthis:\n  \\<lbrakk>spawn\\<^bsub>\\<iota>'\\<^esub> W'\\<rbrakk>(?m2) = ?m2\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R0pair irange"], ["proof (chain)\npicking this:\n  V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W'']\n  i < length V'\n  \\<lbrakk>spawn\\<^bsub>\\<iota>'\\<^esub> W'\\<rbrakk>(?m2) = ?m2", "show \"NDC d (V'!i)\""], ["proof (prove)\nusing this:\n  V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W'']\n  i < length V'\n  \\<lbrakk>spawn\\<^bsub>\\<iota>'\\<^esub> W'\\<rbrakk>(?m2) = ?m2\n\ngoal (1 subgoal):\n 1. NDC d (V' ! i)", "by (simp add: NDC_def)"], ["proof (state)\nthis:\n  NDC d (V' ! i)\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V' V'' i m1 m1' m2 \\<alpha> p"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR0: \"(V',V'') \\<in> R0\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V'\""], ["proof (state)\nthis:\n  i < length V'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume step: \"\\<langle>V'!i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume dhequal: \"m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR0 R0_def"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R0\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}", "obtain \\<iota>' \\<iota>'' W' W'' \n        where R0pair: \"V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \n        \\<and> V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and> (W',W'') \\<in> R\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R0\n  R0 =\n  {(sp1, sp2).\n   \\<exists>\\<iota>' \\<iota>'' V' V''.\n      sp1 = [spawn\\<^bsub>\\<iota>'\\<^esub> V'] \\<and>\n      sp2 = [spawn\\<^bsub>\\<iota>''\\<^esub> V''] \\<and>\n      \\<iota>' \\<notin> set (PPV V) \\<and>\n      \\<iota>'' \\<notin> set (PPV V) \\<and> (V', V'') \\<in> R}\n\ngoal (1 subgoal):\n 1. (\\<And>\\<iota>' W' \\<iota>'' W''.\n        V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n        V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and>\n        (W', W'') \\<in> R \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and> (W', W'') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with step irange"], ["proof (chain)\npicking this:\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n  i < length V'\n  V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and> (W', W'') \\<in> R", "have conc_step1: \"\\<alpha> = W' \\<and> p = None \\<and> m2 = m1\""], ["proof (prove)\nusing this:\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n  i < length V'\n  V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and> (W', W'') \\<in> R\n\ngoal (1 subgoal):\n 1. \\<alpha> = W' \\<and> p = None \\<and> m2 = m1", "by (simp, metis MWLsSteps_det_cases(6))"], ["proof (state)\nthis:\n  \\<alpha> = W' \\<and> p = None \\<and> m2 = m1\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from R0pair irange"], ["proof (chain)\npicking this:\n  V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and> (W', W'') \\<in> R\n  i < length V'", "obtain p' \\<alpha>' m2' where conc_step2: \"\\<langle>V''!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle>\n        \\<and> p' = None \\<and> \\<alpha>' = W'' \\<and> m2' = m1'\""], ["proof (prove)\nusing this:\n  V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and> (W', W'') \\<in> R\n  i < length V'\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha>' p' m2'.\n        SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n        p' = None \\<and> \\<alpha>' = W'' \\<and> m2' = m1' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp, metis MWLsSteps_det.spawn)"], ["proof (state)\nthis:\n  SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n  p' = None \\<and> \\<alpha>' = W'' \\<and> m2' = m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R0pair conc_step1 dhequal irange"], ["proof (chain)\npicking this:\n  V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and> (W', W'') \\<in> R\n  \\<alpha> = W' \\<and> p = None \\<and> m2 = m1\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  i < length V'\n  SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n  p' = None \\<and> \\<alpha>' = W'' \\<and> m2' = m1'", "show \"\\<exists>p' \\<alpha>' m2'. \\<langle>V''!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n        stepResultsinR p p' (R0 \\<union> R) \\<and>\n        ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R) \\<and>\n        dhequality_alternative d PP (pp (V'!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  V' = [spawn\\<^bsub>\\<iota>'\\<^esub> W'] \\<and>\n  V'' = [spawn\\<^bsub>\\<iota>''\\<^esub> W''] \\<and> (W', W'') \\<in> R\n  \\<alpha> = W' \\<and> p = None \\<and> m2 = m1\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  i < length V'\n  SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n  p' = None \\<and> \\<alpha>' = W'' \\<and> m2' = m1'\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> R) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n       dhequality_alternative d PP (pp (V' ! i)) m2 m2'", "by (simp add: stepResultsinR_def \n          dhequality_alternative_def, auto)"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> R) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n     dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n\ngoal:\nNo subgoals!", "qed\n  \\<comment> \\<open>Step 5\\<close>"], ["proof (state)\nthis:\n  disj_dlHPP_Bisimulation_Up_To_R' d PP R R0\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([spawn\\<^bsub>\\<iota>\\<^esub> V],\n           [spawn\\<^bsub>\\<iota>\\<^esub> V])\n          \\<in> R", "with Areflassump Up_To_Technique"], ["proof (chain)\npicking this:\n  Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}\n  \\<lbrakk>disj_dlHPP_Bisimulation_Up_To_R' ?d ?PP ?R' ?R;\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  disj_dlHPP_Bisimulation_Up_To_R' d PP R R0", "have \"SdlHPPB d PP (R0 \\<union> R)\""], ["proof (prove)\nusing this:\n  Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}\n  \\<lbrakk>disj_dlHPP_Bisimulation_Up_To_R' ?d ?PP ?R' ?R;\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  disj_dlHPP_Bisimulation_Up_To_R' d PP R R0\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP (R0 \\<union> R)", "by auto"], ["proof (state)\nthis:\n  SdlHPPB d PP (R0 \\<union> R)\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([spawn\\<^bsub>\\<iota>\\<^esub> V],\n           [spawn\\<^bsub>\\<iota>\\<^esub> V])\n          \\<in> R", "with inR0"], ["proof (chain)\npicking this:\n  ([spawn\\<^bsub>\\<iota>\\<^esub> V], [spawn\\<^bsub>\\<iota>\\<^esub> V])\n  \\<in> R0\n  SdlHPPB d PP (R0 \\<union> R)", "show \"\\<exists>R. SdlHPPB d PP R \\<and>\n    ([spawn\\<^bsub>\\<iota>\\<^esub> V],[spawn\\<^bsub>\\<iota>\\<^esub> V]) \\<in> R\""], ["proof (prove)\nusing this:\n  ([spawn\\<^bsub>\\<iota>\\<^esub> V], [spawn\\<^bsub>\\<iota>\\<^esub> V])\n  \\<in> R0\n  SdlHPPB d PP (R0 \\<union> R)\n\ngoal (1 subgoal):\n 1. \\<exists>R.\n       SdlHPPB d PP R \\<and>\n       ([spawn\\<^bsub>\\<iota>\\<^esub> V], [spawn\\<^bsub>\\<iota>\\<^esub> V])\n       \\<in> R", "by auto"], ["proof (state)\nthis:\n  \\<exists>R.\n     SdlHPPB d PP R \\<and>\n     ([spawn\\<^bsub>\\<iota>\\<^esub> V], [spawn\\<^bsub>\\<iota>\\<^esub> V])\n     \\<in> R\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem Compositionality_If:\n  assumes dind: \"\\<forall>d. b \\<equiv>\\<^bsub>d\\<^esub> b\"\n  assumes WWs_branch1: \"WHATWHERE_Secure [c1]\"\n  assumes WWs_branch2: \"WHATWHERE_Secure [c2]\"\n  assumes uniPPif: \"unique_PPc (if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi)\"\n  shows \"WHATWHERE_Secure [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. WHATWHERE_Secure [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi]", "proof (simp add: WHATWHERE_Secure_def, auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "fix d PP"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "from uniPPif"], ["proof (chain)\npicking this:\n  unique_PPc (if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi)", "have nocommonPP: \"set (PPc c1) \\<inter> set (PPc c2) = {}\""], ["proof (prove)\nusing this:\n  unique_PPc (if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi)\n\ngoal (1 subgoal):\n 1. set (PPc c1) \\<inter> set (PPc c2) = {}", "by (simp add: unique_PPc_def)"], ["proof (state)\nthis:\n  set (PPc c1) \\<inter> set (PPc c2) = {}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "from uniPPif"], ["proof (chain)\npicking this:\n  unique_PPc (if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi)", "have pp_difference: \"\\<iota> \\<notin> set (PPc c1) \\<union> set (PPc c2)\""], ["proof (prove)\nusing this:\n  unique_PPc (if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi)\n\ngoal (1 subgoal):\n 1. \\<iota> \\<notin> set (PPc c1) \\<union> set (PPc c2)", "by (simp add: unique_PPc_def)"], ["proof (state)\nthis:\n  \\<iota> \\<notin> set (PPc c1) \\<union> set (PPc c2)\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "from WWs_branch1"], ["proof (chain)\npicking this:\n  WHATWHERE_Secure [c1]", "obtain R1' where R1'assump: \n    \"SdlHPPB d PP R1' \\<and> ([c1],[c1]) \\<in> R1'\""], ["proof (prove)\nusing this:\n  WHATWHERE_Secure [c1]\n\ngoal (1 subgoal):\n 1. (\\<And>R1'.\n        SdlHPPB d PP R1' \\<and> ([c1], [c1]) \\<in> R1' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: WHATWHERE_Secure_def, auto)"], ["proof (state)\nthis:\n  SdlHPPB d PP R1' \\<and> ([c1], [c1]) \\<in> R1'\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "define R1 where \"R1 = {(V,V'). (V,V') \\<in> R1' \\<and> set (PPV V) \\<subseteq> set (PPc c1) \n    \\<and> set (PPV V') \\<subseteq> set (PPc c1)}\""], ["proof (state)\nthis:\n  R1 =\n  {(V, V').\n   (V, V') \\<in> R1' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c1) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c1)}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "from R1'assump R1_def SdlHPPB_restricted_on_PP_is_SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R1' \\<and> ([c1], [c1]) \\<in> R1'\n  R1 =\n  {(V, V').\n   (V, V') \\<in> R1' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c1) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c1)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R", "have SdlHPPR1: \"SdlHPPB d PP R1\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R1' \\<and> ([c1], [c1]) \\<in> R1'\n  R1 =\n  {(V, V').\n   (V, V') \\<in> R1' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c1) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c1)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP R1", "by force"], ["proof (state)\nthis:\n  SdlHPPB d PP R1\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "from WWs_branch2"], ["proof (chain)\npicking this:\n  WHATWHERE_Secure [c2]", "obtain R2' where R2'assump: \n    \"SdlHPPB d PP R2' \\<and> ([c2],[c2]) \\<in> R2'\""], ["proof (prove)\nusing this:\n  WHATWHERE_Secure [c2]\n\ngoal (1 subgoal):\n 1. (\\<And>R2'.\n        SdlHPPB d PP R2' \\<and> ([c2], [c2]) \\<in> R2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: WHATWHERE_Secure_def, auto)"], ["proof (state)\nthis:\n  SdlHPPB d PP R2' \\<and> ([c2], [c2]) \\<in> R2'\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "define R2 where \"R2 = {(V,V'). (V,V') \\<in> R2' \\<and> set (PPV V) \\<subseteq> set (PPc c2) \n    \\<and> set (PPV V') \\<subseteq> set (PPc c2)}\""], ["proof (state)\nthis:\n  R2 =\n  {(V, V').\n   (V, V') \\<in> R2' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c2) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c2)}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "from R2'assump R2_def SdlHPPB_restricted_on_PP_is_SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R2' \\<and> ([c2], [c2]) \\<in> R2'\n  R2 =\n  {(V, V').\n   (V, V') \\<in> R2' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c2) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c2)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R", "have SdlHPPR2: \"SdlHPPB d PP R2\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R2' \\<and> ([c2], [c2]) \\<in> R2'\n  R2 =\n  {(V, V').\n   (V, V') \\<in> R2' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c2) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c2)}\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP R2", "by force"], ["proof (state)\nthis:\n  SdlHPPB d PP R2\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "from nocommonPP"], ["proof (chain)\npicking this:\n  set (PPc c1) \\<inter> set (PPc c2) = {}", "have \"Domain R1 \\<inter> Domain R2 \\<subseteq> {[]}\""], ["proof (prove)\nusing this:\n  set (PPc c1) \\<inter> set (PPc c2) = {}\n\ngoal (1 subgoal):\n 1. Domain R1 \\<inter> Domain R2 \\<subseteq> {[]}", "by (simp add: R1_def R2_def, auto,\n      metis empty_subsetI inf_idem inf_mono set_eq_subset unique_V_uneq)"], ["proof (state)\nthis:\n  Domain R1 \\<inter> Domain R2 \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "with commonArefl_subset_commonDomain"], ["proof (chain)\npicking this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R1 \\<inter> Domain R2 \\<subseteq> {[]}", "have Areflassump1: \"Arefl R1 \\<inter> Arefl R2 \\<subseteq> {[]}\""], ["proof (prove)\nusing this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R1 \\<inter> Domain R2 \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. Arefl R1 \\<inter> Arefl R2 \\<subseteq> {[]}", "by force"], ["proof (state)\nthis:\n  Arefl R1 \\<inter> Arefl R2 \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "with SdlHPPR1 SdlHPPR2 Union_Strong_dlHPP_Bisim"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R1\n  SdlHPPB d PP R2\n  \\<lbrakk>SdlHPPB ?d ?PP ?R; SdlHPPB ?d ?PP ?R';\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  Arefl R1 \\<inter> Arefl R2 \\<subseteq> {[]}", "have SdlHPPR1R2: \n    \"SdlHPPB d PP (R1 \\<union> R2)\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R1\n  SdlHPPB d PP R2\n  \\<lbrakk>SdlHPPB ?d ?PP ?R; SdlHPPB ?d ?PP ?R';\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  Arefl R1 \\<inter> Arefl R2 \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP (R1 \\<union> R2)", "by force"], ["proof (state)\nthis:\n  SdlHPPB d PP (R1 \\<union> R2)\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "define R where \"R = (R1 \\<union> R2) \\<union> {([],[])}\""], ["proof (state)\nthis:\n  R = R1 \\<union> R2 \\<union> {([], [])}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "define R0 where \"R0 = {(i1,i2). \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''. \n    i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi]\n    \\<and> i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \n    \\<and> \\<iota>' \\<notin> (set (PPc c1) \\<union> set (PPc c2))\n    \\<and> \\<iota>'' \\<notin> (set (PPc c1) \\<union> set (PPc c2)) \\<and> ([c1'],[c1'']) \\<in> R1\n    \\<and> ([c2'],[c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\""], ["proof (state)\nthis:\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "with R_def R1_def R1'assump R2_def R2'assump pp_difference dind"], ["proof (chain)\npicking this:\n  R = R1 \\<union> R2 \\<union> {([], [])}\n  R1 =\n  {(V, V').\n   (V, V') \\<in> R1' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c1) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c1)}\n  SdlHPPB d PP R1' \\<and> ([c1], [c1]) \\<in> R1'\n  R2 =\n  {(V, V').\n   (V, V') \\<in> R2' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c2) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c2)}\n  SdlHPPB d PP R2' \\<and> ([c2], [c2]) \\<in> R2'\n  \\<iota> \\<notin> set (PPc c1) \\<union> set (PPc c2)\n  \\<forall>d. b \\<equiv>\\<^bsub>d\\<^esub> b\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}", "have inR0: \"([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],[if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi]) \\<in> R0\""], ["proof (prove)\nusing this:\n  R = R1 \\<union> R2 \\<union> {([], [])}\n  R1 =\n  {(V, V').\n   (V, V') \\<in> R1' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c1) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c1)}\n  SdlHPPB d PP R1' \\<and> ([c1], [c1]) \\<in> R1'\n  R2 =\n  {(V, V').\n   (V, V') \\<in> R2' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c2) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c2)}\n  SdlHPPB d PP R2' \\<and> ([c2], [c2]) \\<in> R2'\n  \\<iota> \\<notin> set (PPc c1) \\<union> set (PPc c2)\n  \\<forall>d. b \\<equiv>\\<^bsub>d\\<^esub> b\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n\ngoal (1 subgoal):\n 1. ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n     [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n    \\<in> R0", "by auto"], ["proof (state)\nthis:\n  ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n   [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n  \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "from R0_def R_def R1_def R2_def"], ["proof (chain)\npicking this:\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n  R = R1 \\<union> R2 \\<union> {([], [])}\n  R1 =\n  {(V, V').\n   (V, V') \\<in> R1' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c1) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c1)}\n  R2 =\n  {(V, V').\n   (V, V') \\<in> R2' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c2) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c2)}", "have \"Domain R0 \\<inter> Domain R = {}\""], ["proof (prove)\nusing this:\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n  R = R1 \\<union> R2 \\<union> {([], [])}\n  R1 =\n  {(V, V').\n   (V, V') \\<in> R1' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c1) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c1)}\n  R2 =\n  {(V, V').\n   (V, V') \\<in> R2' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c2) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c2)}\n\ngoal (1 subgoal):\n 1. Domain R0 \\<inter> Domain R = {}", "by auto"], ["proof (state)\nthis:\n  Domain R0 \\<inter> Domain R = {}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "with commonArefl_subset_commonDomain"], ["proof (chain)\npicking this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R0 \\<inter> Domain R = {}", "have Areflassump2: \"Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}\""], ["proof (prove)\nusing this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R0 \\<inter> Domain R = {}\n\ngoal (1 subgoal):\n 1. Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}", "by force"], ["proof (state)\nthis:\n  Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "have disjuptoR0: \n    \"disj_dlHPP_Bisimulation_Up_To_R' d PP R R0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disj_dlHPP_Bisimulation_Up_To_R' d PP R R0", "proof (simp add: disj_dlHPP_Bisimulation_Up_To_R'_def, auto)"], ["proof (state)\ngoal (6 subgoals):\n 1. SdlHPPB d PP R\n 2. sym R0\n 3. trans R0\n 4. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 5. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 6. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR1R2 adding_emptypair_keeps_SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB d PP (R1 \\<union> R2)\n  SdlHPPB ?d ?PP ?R \\<Longrightarrow>\n  SdlHPPB ?d ?PP (?R \\<union> {([], [])})", "show \"SdlHPPB d PP R\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP (R1 \\<union> R2)\n  SdlHPPB ?d ?PP ?R \\<Longrightarrow>\n  SdlHPPB ?d ?PP (?R \\<union> {([], [])})\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP R", "by (simp add: R_def)"], ["proof (state)\nthis:\n  SdlHPPB d PP R\n\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR1"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R1", "have symR1: \"sym R1\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R1\n\ngoal (1 subgoal):\n 1. sym R1", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  sym R1\n\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR2"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R2", "have symR2: \"sym R2\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R2\n\ngoal (1 subgoal):\n 1. sym R2", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  sym R2\n\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from symR1 symR2 d_indistinguishable_sym R0_def"], ["proof (chain)\npicking this:\n  sym R1\n  sym R2\n  ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e' \\<Longrightarrow>\n  ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}", "show \"sym R0\""], ["proof (prove)\nusing this:\n  sym R1\n  sym R2\n  ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e' \\<Longrightarrow>\n  ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n\ngoal (1 subgoal):\n 1. sym R0", "by (simp add: sym_def, fastforce)"], ["proof (state)\nthis:\n  sym R0\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR1"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R1", "have transR1: \"trans R1\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R1\n\ngoal (1 subgoal):\n 1. trans R1", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  trans R1\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR2"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R2", "have transR2: \"trans R2\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R2\n\ngoal (1 subgoal):\n 1. trans R2", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  trans R2\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "show \"trans R0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans R0", "proof  -"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R0", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R0", "fix V' V'' V'''"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R0", "assume p1: \"(V',V'') \\<in> R0\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R0\n\ngoal (1 subgoal):\n 1. trans R0", "assume p2: \"(V'',V''') \\<in> R0\""], ["proof (state)\nthis:\n  (V'', V''') \\<in> R0\n\ngoal (1 subgoal):\n 1. trans R0", "from p1 R0_def"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R0\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}", "obtain \\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2'' where\n              passump1: \"V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi]\n              \\<and> V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi]\n              \\<and> \\<iota>' \\<notin> (set (PPc c1) \\<union> set (PPc c2))\n              \\<and> \\<iota>'' \\<notin> (set (PPc c1) \\<union> set (PPc c2)) \n              \\<and> ([c1'],[c1'']) \\<in> R1 \\<and> ([c2'],[c2'']) \\<in> R2 \n              \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R0\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n\ngoal (1 subgoal):\n 1. (\\<And>\\<iota>' b' c1' c2' \\<iota>'' b'' c1'' c2''.\n        V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n        V'' =\n        [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n        \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n        \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n        ([c1'], [c1'']) \\<in> R1 \\<and>\n        ([c2'], [c2'']) \\<in> R2 \\<and>\n        b' \\<equiv>\\<^bsub>d\\<^esub> b'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (1 subgoal):\n 1. trans R0", "with p2 R0_def"], ["proof (chain)\npicking this:\n  (V'', V''') \\<in> R0\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''", "obtain \\<iota>''' b''' c1''' c2''' where\n              passump2: \"V''' = [if\\<^bsub>\\<iota>'''\\<^esub> b''' then c1''' else c2''' fi]\n              \\<and> \\<iota>''' \\<notin> (set (PPc c1) \\<union> set (PPc c2)) \n              \\<and> ([c1''],[c1''']) \\<in> R1 \\<and> ([c2''],[c2''']) \\<in> R2 \n              \\<and> b'' \\<equiv>\\<^bsub>d\\<^esub> b'''\""], ["proof (prove)\nusing this:\n  (V'', V''') \\<in> R0\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (1 subgoal):\n 1. (\\<And>\\<iota>''' b''' c1''' c2'''.\n        V''' =\n        [if\\<^bsub>\\<iota>'''\\<^esub> b''' then c1''' else c2''' fi] \\<and>\n        \\<iota>''' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n        ([c1''], [c1''']) \\<in> R1 \\<and>\n        ([c2''], [c2''']) \\<in> R2 \\<and>\n        b'' \\<equiv>\\<^bsub>d\\<^esub> b''' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  V''' = [if\\<^bsub>\\<iota>'''\\<^esub> b''' then c1''' else c2''' fi] \\<and>\n  \\<iota>''' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1''], [c1''']) \\<in> R1 \\<and>\n  ([c2''], [c2''']) \\<in> R2 \\<and> b'' \\<equiv>\\<^bsub>d\\<^esub> b'''\n\ngoal (1 subgoal):\n 1. trans R0", "with passump1 transR1 transR2 d_indistinguishable_trans"], ["proof (chain)\npicking this:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  trans R1\n  trans R2\n  \\<lbrakk>?e \\<equiv>\\<^bsub>?d\\<^esub> ?e';\n   ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e''\\<rbrakk>\n  \\<Longrightarrow> ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e''\n  V''' = [if\\<^bsub>\\<iota>'''\\<^esub> b''' then c1''' else c2''' fi] \\<and>\n  \\<iota>''' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1''], [c1''']) \\<in> R1 \\<and>\n  ([c2''], [c2''']) \\<in> R2 \\<and> b'' \\<equiv>\\<^bsub>d\\<^esub> b'''", "have \"([c1'],[c1''']) \\<in> R1 \\<and> ([c2'],[c2''']) \\<in> R2 \n              \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b'''\""], ["proof (prove)\nusing this:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  trans R1\n  trans R2\n  \\<lbrakk>?e \\<equiv>\\<^bsub>?d\\<^esub> ?e';\n   ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e''\\<rbrakk>\n  \\<Longrightarrow> ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e''\n  V''' = [if\\<^bsub>\\<iota>'''\\<^esub> b''' then c1''' else c2''' fi] \\<and>\n  \\<iota>''' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1''], [c1''']) \\<in> R1 \\<and>\n  ([c2''], [c2''']) \\<in> R2 \\<and> b'' \\<equiv>\\<^bsub>d\\<^esub> b'''\n\ngoal (1 subgoal):\n 1. ([c1'], [c1''']) \\<in> R1 \\<and>\n    ([c2'], [c2''']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b'''", "by (metis transD)"], ["proof (state)\nthis:\n  ([c1'], [c1''']) \\<in> R1 \\<and>\n  ([c2'], [c2''']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b'''\n\ngoal (1 subgoal):\n 1. trans R0", "with passump1 passump2 R0_def"], ["proof (chain)\npicking this:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  V''' = [if\\<^bsub>\\<iota>'''\\<^esub> b''' then c1''' else c2''' fi] \\<and>\n  \\<iota>''' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1''], [c1''']) \\<in> R1 \\<and>\n  ([c2''], [c2''']) \\<in> R2 \\<and> b'' \\<equiv>\\<^bsub>d\\<^esub> b'''\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n  ([c1'], [c1''']) \\<in> R1 \\<and>\n  ([c2'], [c2''']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b'''", "have \"(V',V''') \\<in> R0\""], ["proof (prove)\nusing this:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  V''' = [if\\<^bsub>\\<iota>'''\\<^esub> b''' then c1''' else c2''' fi] \\<and>\n  \\<iota>''' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1''], [c1''']) \\<in> R1 \\<and>\n  ([c2''], [c2''']) \\<in> R2 \\<and> b'' \\<equiv>\\<^bsub>d\\<^esub> b'''\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n  ([c1'], [c1''']) \\<in> R1 \\<and>\n  ([c2'], [c2''']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b'''\n\ngoal (1 subgoal):\n 1. (V', V''') \\<in> R0", "by auto"], ["proof (state)\nthis:\n  (V', V''') \\<in> R0\n\ngoal (1 subgoal):\n 1. trans R0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(?V'2, ?V''2) \\<in> R0; (?V''2, ?V'''2) \\<in> R0\\<rbrakk>\n  \\<Longrightarrow> (?V'2, ?V'''2) \\<in> R0\n\ngoal (1 subgoal):\n 1. trans R0", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?V'2, ?V''2) \\<in> R0; (?V''2, ?V'''2) \\<in> R0\\<rbrakk>\n  \\<Longrightarrow> (?V'2, ?V'''2) \\<in> R0\n\ngoal (1 subgoal):\n 1. trans R0", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?V'2, ?V''2) \\<in> R0; (?V''2, ?V'''2) \\<in> R0\\<rbrakk>\n  \\<Longrightarrow> (?V'2, ?V'''2) \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       (x, y) \\<in> R0 \\<longrightarrow>\n       (y, z) \\<in> R0 \\<longrightarrow> (x, z) \\<in> R0", "by blast"], ["proof (state)\nthis:\n  trans R0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  trans R0\n\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V V'"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR0: \"(V,V') \\<in> R0\""], ["proof (state)\nthis:\n  (V, V') \\<in> R0\n\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R0_def"], ["proof (chain)\npicking this:\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n  (V, V') \\<in> R0", "show \"length V = length V'\""], ["proof (prove)\nusing this:\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n  (V, V') \\<in> R0\n\ngoal (1 subgoal):\n 1. length V = length V'", "by auto"], ["proof (state)\nthis:\n  length V = length V'\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V' V'' i"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR0: \"(V',V'') \\<in> R0\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R0\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V'\""], ["proof (state)\nthis:\n  i < length V'\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume notIDC: \"\\<not> IDC d (V'!i) (htchLoc (pp (V'!i)))\""], ["proof (state)\nthis:\n  \\<not> IDC d (V' ! i) (htchLoc (pp (V' ! i)))\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR0 R0_def"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R0\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}", "obtain \\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2'' \n        where R0pair: \"V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \n        \\<and> V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi]\n        \\<and> \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \n        \\<and> \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \n        \\<and> ([c1'],[c1'']) \\<in> R1 \\<and> ([c2'],[c2'']) \\<in> R2\n        \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R0\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n\ngoal (1 subgoal):\n 1. (\\<And>\\<iota>' b' c1' c2' \\<iota>'' b'' c1'' c2''.\n        V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n        V'' =\n        [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n        \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n        \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n        ([c1'], [c1'']) \\<in> R1 \\<and>\n        ([c2'], [c2'']) \\<in> R2 \\<and>\n        b' \\<equiv>\\<^bsub>d\\<^esub> b'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "have \"NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)", "fix m"], ["proof (state)\ngoal (1 subgoal):\n 1. NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)", "from nextmem_exists_and_unique"], ["proof (chain)\npicking this:\n  \\<exists>m' p \\<alpha>.\n     SRabbr ?c ?m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr ?c ?m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')", "obtain m' p \\<alpha> where ifnextmem:\n              \"\\<langle>if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi,m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m'\\<rangle> \n              \\<and> (\\<forall>m''.(\\<exists>p \\<alpha>.\\<langle>if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi,m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m''\\<rangle>) \n              \\<longrightarrow> m'' = m')\""], ["proof (prove)\nusing this:\n  \\<exists>m' p \\<alpha>.\n     SRabbr ?c ?m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr ?c ?m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha> p m'.\n        SRabbr (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi) m\n         \\<alpha> p m' \\<and>\n        (\\<forall>m''.\n            (\\<exists>p \\<alpha>.\n                SRabbr (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)\n                 m \\<alpha> p m'') \\<longrightarrow>\n            m'' = m') \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SRabbr (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi) m \\<alpha> p\n   m' \\<and>\n  (\\<forall>m''.\n      (\\<exists>p \\<alpha>.\n          SRabbr (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi) m\n           \\<alpha> p m'') \\<longrightarrow>\n      m'' = m')\n\ngoal (1 subgoal):\n 1. NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)", "hence \"m = m'\""], ["proof (prove)\nusing this:\n  SRabbr (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi) m \\<alpha> p\n   m' \\<and>\n  (\\<forall>m''.\n      (\\<exists>p \\<alpha>.\n          SRabbr (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi) m\n           \\<alpha> p m'') \\<longrightarrow>\n      m'' = m')\n\ngoal (1 subgoal):\n 1. m = m'", "by (metis MWLsSteps_det.iffalse MWLsSteps_det.iftrue)"], ["proof (state)\nthis:\n  m = m'\n\ngoal (1 subgoal):\n 1. NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)", "with ifnextmem"], ["proof (chain)\npicking this:\n  SRabbr (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi) m \\<alpha> p\n   m' \\<and>\n  (\\<forall>m''.\n      (\\<exists>p \\<alpha>.\n          SRabbr (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi) m\n           \\<alpha> p m'') \\<longrightarrow>\n      m'' = m')\n  m = m'", "have eqnextmem: \n              \"\\<lbrakk>if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi\\<rbrakk>(m) = m\""], ["proof (prove)\nusing this:\n  SRabbr (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi) m \\<alpha> p\n   m' \\<and>\n  (\\<forall>m''.\n      (\\<exists>p \\<alpha>.\n          SRabbr (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi) m\n           \\<alpha> p m'') \\<longrightarrow>\n      m'' = m')\n  m = m'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi\\<rbrakk>(m) =\n    m", "by (simp add: NextMem_def, auto)"], ["proof (state)\nthis:\n  \\<lbrakk>if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi\\<rbrakk>(m) =\n  m\n\ngoal (1 subgoal):\n 1. NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi\\<rbrakk>(?m2) =\n  ?m2\n\ngoal (1 subgoal):\n 1. NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi\\<rbrakk>(?m2) =\n  ?m2\n\ngoal (1 subgoal):\n 1. NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)", "by (simp add: NDC_def)"], ["proof (state)\nthis:\n  NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R0pair irange"], ["proof (chain)\npicking this:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  i < length V'\n  NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)", "show \"NDC d (V'!i)\""], ["proof (prove)\nusing this:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  i < length V'\n  NDC d (if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi)\n\ngoal (1 subgoal):\n 1. NDC d (V' ! i)", "by simp"], ["proof (state)\nthis:\n  NDC d (V' ! i)\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V' V'' i m1 m1' m2 \\<alpha> p"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR0: \"(V',V'') \\<in> R0\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V'\""], ["proof (state)\nthis:\n  i < length V'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume step: \"\\<langle>V'!i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume dhequal: \"m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR0 R0_def"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R0\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}", "obtain \\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2'' \n        where R0pair: \"V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \n        \\<and> V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi]\n        \\<and> \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \n        \\<and> \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \n        \\<and> ([c1'],[c1'']) \\<in> R1 \\<and> ([c2'],[c2'']) \\<in> R2\n        \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R0\n  R0 =\n  {(i1, i2).\n   \\<exists>\\<iota>' \\<iota>'' b' b'' c1' c1'' c2' c2''.\n      i1 = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n      i2 = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n      \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n      ([c1'], [c1'']) \\<in> R1 \\<and>\n      ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''}\n\ngoal (1 subgoal):\n 1. (\\<And>\\<iota>' b' c1' c2' \\<iota>'' b'' c1'' c2''.\n        V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n        V'' =\n        [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n        \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n        \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n        ([c1'], [c1'']) \\<in> R1 \\<and>\n        ([c2'], [c2'']) \\<in> R2 \\<and>\n        b' \\<equiv>\\<^bsub>d\\<^esub> b'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R0pair irange step"], ["proof (chain)\npicking this:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  i < length V'\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''", "have case_distinction:\n        \"(p = Some c1' \\<and> BMap (E b' m1) = True)\n        \\<or> (p = Some c2' \\<and> BMap (E b' m1) = False)\""], ["proof (prove)\nusing this:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  i < length V'\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (1 subgoal):\n 1. p = Some c1' \\<and> BMap (E b' m1) = True \\<or>\n    p = Some c2' \\<and> BMap (E b' m1) = False", "by (simp, metis MWLsSteps_det_cases(4))"], ["proof (state)\nthis:\n  p = Some c1' \\<and> BMap (E b' m1) = True \\<or>\n  p = Some c2' \\<and> BMap (E b' m1) = False\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "moreover\n      \\<comment> \\<open>Case 1: b evaluates to True\\<close>"], ["proof (state)\nthis:\n  p = Some c1' \\<and> BMap (E b' m1) = True \\<or>\n  p = Some c2' \\<and> BMap (E b' m1) = False\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "{"], ["proof (state)\nthis:\n  p = Some c1' \\<and> BMap (E b' m1) = True \\<or>\n  p = Some c2' \\<and> BMap (E b' m1) = False\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume passump: \"p = Some c1'\""], ["proof (state)\nthis:\n  p = Some c1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume eval: \"BMap (E b' m1) = True\""], ["proof (state)\nthis:\n  BMap (E b' m1) = True\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from R0pair step irange"], ["proof (chain)\npicking this:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n  i < length V'", "have stepconcl: \"\\<alpha> = [] \\<and> m2 = m1\""], ["proof (prove)\nusing this:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n  i < length V'\n\ngoal (1 subgoal):\n 1. \\<alpha> = [] \\<and> m2 = m1", "by (simp, metis MWLs_semantics.MWLsSteps_det_cases(4))"], ["proof (state)\nthis:\n  \\<alpha> = [] \\<and> m2 = m1\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from eval R0pair dhequal"], ["proof (chain)\npicking this:\n  BMap (E b' m1) = True\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'", "have eval': \"BMap (E b'' m1') = True\""], ["proof (prove)\nusing this:\n  BMap (E b' m1) = True\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. BMap (E b'' m1') = True", "by (simp add: d_indistinguishable_def dH_equal_def, auto)"], ["proof (state)\nthis:\n  BMap (E b'' m1') = True\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "hence step': \"\\<langle>if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi,m1'\\<rangle> \\<rightarrow>\\<lhd>[]\\<rhd> \n          \\<langle>Some c1'',m1'\\<rangle>\""], ["proof (prove)\nusing this:\n  BMap (E b'' m1') = True\n\ngoal (1 subgoal):\n 1. SRabbr (if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi) m1' []\n     (Some c1'') m1'", "by (simp add: MWLsSteps_det.iftrue)"], ["proof (state)\nthis:\n  SRabbr (if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi) m1' []\n   (Some c1'') m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with passump R0pair R_def dhequal stepconcl irange"], ["proof (chain)\npicking this:\n  p = Some c1'\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  R = R1 \\<union> R2 \\<union> {([], [])}\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<alpha> = [] \\<and> m2 = m1\n  i < length V'\n  SRabbr (if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi) m1' []\n   (Some c1'') m1'", "have \"\\<exists>p' \\<alpha>' m2'. \\<langle>V''!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n        stepResultsinR p p' (R0 \\<union> R) \\<and>\n        ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R) \\<and>\n        dhequality_alternative d PP (pp (V'!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  p = Some c1'\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  R = R1 \\<union> R2 \\<union> {([], [])}\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<alpha> = [] \\<and> m2 = m1\n  i < length V'\n  SRabbr (if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi) m1' []\n   (Some c1'') m1'\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> R) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n       dhequality_alternative d PP (pp (V' ! i)) m2 m2'", "by (simp add: stepResultsinR_def dhequality_alternative_def, \n            auto)"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> R) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n     dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "}"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some c1'; BMap (E b' m1) = True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "moreover\n      \\<comment> \\<open>Case 2: b evaluates to False\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some c1'; BMap (E b' m1) = True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "{"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some c1'; BMap (E b' m1) = True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume passump: \"p = Some c2'\""], ["proof (state)\nthis:\n  p = Some c2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume eval: \"BMap (E b' m1) = False\""], ["proof (state)\nthis:\n  BMap (E b' m1) = False\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from R0pair step irange"], ["proof (chain)\npicking this:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n  i < length V'", "have stepconcl: \"\\<alpha> = [] \\<and> m2 = m1\""], ["proof (prove)\nusing this:\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  SRabbr (V' ! i) m1 \\<alpha> p m2\n  i < length V'\n\ngoal (1 subgoal):\n 1. \\<alpha> = [] \\<and> m2 = m1", "by (simp, metis MWLs_semantics.MWLsSteps_det_cases(4))"], ["proof (state)\nthis:\n  \\<alpha> = [] \\<and> m2 = m1\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from eval R0pair dhequal"], ["proof (chain)\npicking this:\n  BMap (E b' m1) = False\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'", "have eval': \"BMap (E b'' m1') = False\""], ["proof (prove)\nusing this:\n  BMap (E b' m1) = False\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. BMap (E b'' m1') = False", "by (simp add: d_indistinguishable_def dH_equal_def, auto)"], ["proof (state)\nthis:\n  BMap (E b'' m1') = False\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "hence step': \"\\<langle>if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi,m1'\\<rangle> \\<rightarrow>\\<lhd>[]\\<rhd> \n          \\<langle>Some c2'',m1'\\<rangle>\""], ["proof (prove)\nusing this:\n  BMap (E b'' m1') = False\n\ngoal (1 subgoal):\n 1. SRabbr (if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi) m1' []\n     (Some c2'') m1'", "by (simp add: MWLsSteps_det.iffalse)"], ["proof (state)\nthis:\n  SRabbr (if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi) m1' []\n   (Some c2'') m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with passump R0pair R_def dhequal stepconcl irange"], ["proof (chain)\npicking this:\n  p = Some c2'\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  R = R1 \\<union> R2 \\<union> {([], [])}\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<alpha> = [] \\<and> m2 = m1\n  i < length V'\n  SRabbr (if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi) m1' []\n   (Some c2'') m1'", "have \"\\<exists>p' \\<alpha>' m2'. \\<langle>V''!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n        stepResultsinR p p' (R0 \\<union> R) \\<and>\n        ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R) \\<and>\n        dhequality_alternative d PP (pp (V'!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  p = Some c2'\n  V' = [if\\<^bsub>\\<iota>'\\<^esub> b' then c1' else c2' fi] \\<and>\n  V'' = [if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi] \\<and>\n  \\<iota>' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  \\<iota>'' \\<notin> set (PPc c1) \\<union> set (PPc c2) \\<and>\n  ([c1'], [c1'']) \\<in> R1 \\<and>\n  ([c2'], [c2'']) \\<in> R2 \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  R = R1 \\<union> R2 \\<union> {([], [])}\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<alpha> = [] \\<and> m2 = m1\n  i < length V'\n  SRabbr (if\\<^bsub>\\<iota>''\\<^esub> b'' then c1'' else c2'' fi) m1' []\n   (Some c2'') m1'\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> R) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n       dhequality_alternative d PP (pp (V' ! i)) m2 m2'", "by (simp add: stepResultsinR_def dhequality_alternative_def, \n            auto)"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> R) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n     dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "}"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some c2'; BMap (E b' m1) = False\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "ultimately"], ["proof (chain)\npicking this:\n  p = Some c1' \\<and> BMap (E b' m1) = True \\<or>\n  p = Some c2' \\<and> BMap (E b' m1) = False\n  \\<lbrakk>p = Some c1'; BMap (E b' m1) = True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n  \\<lbrakk>p = Some c2'; BMap (E b' m1) = False\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V' ! i)) m2 m2'", "show \"\\<exists>p' \\<alpha>' m2'. \\<langle>V''!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n        stepResultsinR p p' (R0 \\<union> R) \\<and>\n        ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R) \\<and>\n        dhequality_alternative d PP (pp (V'!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  p = Some c1' \\<and> BMap (E b' m1) = True \\<or>\n  p = Some c2' \\<and> BMap (E b' m1) = False\n  \\<lbrakk>p = Some c1'; BMap (E b' m1) = True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n  \\<lbrakk>p = Some c2'; BMap (E b' m1) = False\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> R) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n       dhequality_alternative d PP (pp (V' ! i)) m2 m2'", "by auto"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V'' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> R) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n     dhequality_alternative d PP (pp (V' ! i)) m2 m2'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  disj_dlHPP_Bisimulation_Up_To_R' d PP R R0\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "with Areflassump2 Up_To_Technique"], ["proof (chain)\npicking this:\n  Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}\n  \\<lbrakk>disj_dlHPP_Bisimulation_Up_To_R' ?d ?PP ?R' ?R;\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  disj_dlHPP_Bisimulation_Up_To_R' d PP R R0", "have \"SdlHPPB d PP (R0 \\<union> R)\""], ["proof (prove)\nusing this:\n  Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}\n  \\<lbrakk>disj_dlHPP_Bisimulation_Up_To_R' ?d ?PP ?R' ?R;\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  disj_dlHPP_Bisimulation_Up_To_R' d PP R R0\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP (R0 \\<union> R)", "by auto"], ["proof (state)\nthis:\n  SdlHPPB d PP (R0 \\<union> R)\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n           [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n          \\<in> R", "with inR0"], ["proof (chain)\npicking this:\n  ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n   [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n  \\<in> R0\n  SdlHPPB d PP (R0 \\<union> R)", "show \"\\<exists>R. SdlHPPB d PP R\n    \\<and> ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],[if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi]) \\<in> R\""], ["proof (prove)\nusing this:\n  ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n   [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n  \\<in> R0\n  SdlHPPB d PP (R0 \\<union> R)\n\ngoal (1 subgoal):\n 1. \\<exists>R.\n       SdlHPPB d PP R \\<and>\n       ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n        [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n       \\<in> R", "by auto"], ["proof (state)\nthis:\n  \\<exists>R.\n     SdlHPPB d PP R \\<and>\n     ([if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi],\n      [if\\<^bsub>\\<iota>\\<^esub> b then c1 else c2 fi])\n     \\<in> R\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem Compositionality_While:\n  assumes dind: \"\\<forall>d. b \\<equiv>\\<^bsub>d\\<^esub> b\"\n  assumes WWs_body: \"WHATWHERE_Secure [c]\"\n  assumes uniPPwhile: \"unique_PPc (while\\<^bsub>\\<iota>\\<^esub> b do c od)\"\n  shows \"WHATWHERE_Secure [while\\<^bsub>\\<iota>\\<^esub> b do c od]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. WHATWHERE_Secure [while\\<^bsub>\\<iota>\\<^esub> b do c od]", "proof (simp add: WHATWHERE_Secure_def, auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "fix d PP"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "from uniPPwhile"], ["proof (chain)\npicking this:\n  unique_PPc (while\\<^bsub>\\<iota>\\<^esub> b do c od)", "have pp_difference: \"\\<iota> \\<notin> set (PPc c)\""], ["proof (prove)\nusing this:\n  unique_PPc (while\\<^bsub>\\<iota>\\<^esub> b do c od)\n\ngoal (1 subgoal):\n 1. \\<iota> \\<notin> set (PPc c)", "by (simp add: unique_PPc_def)"], ["proof (state)\nthis:\n  \\<iota> \\<notin> set (PPc c)\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "from WWs_body"], ["proof (chain)\npicking this:\n  WHATWHERE_Secure [c]", "obtain R' where R'assump:\n    \"SdlHPPB d PP R' \\<and> ([c],[c]) \\<in> R'\""], ["proof (prove)\nusing this:\n  WHATWHERE_Secure [c]\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: WHATWHERE_Secure_def, auto)\n\n  \\<comment> \\<open>add the empty pair because it is needed later in the proof\\<close>"], ["proof (state)\nthis:\n  SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R'\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "define R where \"R = {(V,V'). (V,V') \\<in> R' \\<and> set (PPV V) \\<subseteq> set (PPc c) \\<and>\n    set (PPV V') \\<subseteq> set (PPc c)} \\<union> {([],[])}\""], ["proof (state)\nthis:\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "with R'assump SdlHPPB_restricted_on_PP_is_SdlHPPB \n    adding_emptypair_keeps_SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R'\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R\n  SdlHPPB ?d ?PP ?R \\<Longrightarrow>\n  SdlHPPB ?d ?PP (?R \\<union> {([], [])})\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}", "have SdlHPPR: \"SdlHPPB d PP R\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R'\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R\n  SdlHPPB ?d ?PP ?R \\<Longrightarrow>\n  SdlHPPB ?d ?PP (?R \\<union> {([], [])})\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R';\n     \\<And>d PP R' V R.\n        \\<lbrakk>SdlHPPB d PP R'; (V, V) \\<in> R';\n         R =\n         {(V', V'').\n          (V', V'') \\<in> R' \\<and>\n          set (PPV V') \\<subseteq> set (PPV V) \\<and>\n          set (PPV V'') \\<subseteq> set (PPV V)}\\<rbrakk>\n        \\<Longrightarrow> SdlHPPB d PP R;\n     \\<And>d PP R.\n        SdlHPPB d PP R \\<Longrightarrow>\n        SdlHPPB d PP (R \\<union> {([], [])});\n     R =\n     {(V, V').\n      (V, V') \\<in> R' \\<and>\n      set (PPV V) \\<subseteq> set (PPc c) \\<and>\n      set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n     {([], [])}\\<rbrakk>\n    \\<Longrightarrow> SdlHPPB d PP R", "from R'assump SdlHPPB_restricted_on_PP_is_SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R'\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R", "have\n        \"SdlHPPB d PP \n          {(V,V'). (V,V') \\<in> R' \\<and> set (PPV V) \\<subseteq> set (PPc c) \\<and>\n          set (PPV V') \\<subseteq> set (PPc c)}\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R'\n  \\<lbrakk>SdlHPPB ?d ?PP ?R'; (?V, ?V) \\<in> ?R';\n   ?R =\n   {(V', V'').\n    (V', V'') \\<in> ?R' \\<and>\n    set (PPV V') \\<subseteq> set (PPV ?V) \\<and>\n    set (PPV V'') \\<subseteq> set (PPV ?V)}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP ?R\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP\n     {(V, V').\n      (V, V') \\<in> R' \\<and>\n      set (PPV V) \\<subseteq> set (PPc c) \\<and>\n      set (PPV V') \\<subseteq> set (PPc c)}", "by force"], ["proof (state)\nthis:\n  SdlHPPB d PP\n   {(V, V').\n    (V, V') \\<in> R' \\<and>\n    set (PPV V) \\<subseteq> set (PPc c) \\<and>\n    set (PPV V') \\<subseteq> set (PPc c)}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R';\n     \\<And>d PP R' V R.\n        \\<lbrakk>SdlHPPB d PP R'; (V, V) \\<in> R';\n         R =\n         {(V', V'').\n          (V', V'') \\<in> R' \\<and>\n          set (PPV V') \\<subseteq> set (PPV V) \\<and>\n          set (PPV V'') \\<subseteq> set (PPV V)}\\<rbrakk>\n        \\<Longrightarrow> SdlHPPB d PP R;\n     \\<And>d PP R.\n        SdlHPPB d PP R \\<Longrightarrow>\n        SdlHPPB d PP (R \\<union> {([], [])});\n     R =\n     {(V, V').\n      (V, V') \\<in> R' \\<and>\n      set (PPV V) \\<subseteq> set (PPc c) \\<and>\n      set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n     {([], [])}\\<rbrakk>\n    \\<Longrightarrow> SdlHPPB d PP R", "with adding_emptypair_keeps_SdlHPPB"], ["proof (chain)\npicking this:\n  SdlHPPB ?d ?PP ?R \\<Longrightarrow>\n  SdlHPPB ?d ?PP (?R \\<union> {([], [])})\n  SdlHPPB d PP\n   {(V, V').\n    (V, V') \\<in> R' \\<and>\n    set (PPV V) \\<subseteq> set (PPc c) \\<and>\n    set (PPV V') \\<subseteq> set (PPc c)}", "have\n        \"SdlHPPB d PP \n          ({(V,V'). (V,V') \\<in> R' \\<and> set (PPV V) \\<subseteq> set (PPc c) \\<and>\n          set (PPV V') \\<subseteq> set (PPc c)} \\<union> {([],[])})\""], ["proof (prove)\nusing this:\n  SdlHPPB ?d ?PP ?R \\<Longrightarrow>\n  SdlHPPB ?d ?PP (?R \\<union> {([], [])})\n  SdlHPPB d PP\n   {(V, V').\n    (V, V') \\<in> R' \\<and>\n    set (PPV V) \\<subseteq> set (PPc c) \\<and>\n    set (PPV V') \\<subseteq> set (PPc c)}\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP\n     ({(V, V').\n       (V, V') \\<in> R' \\<and>\n       set (PPV V) \\<subseteq> set (PPc c) \\<and>\n       set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n      {([], [])})", "by auto"], ["proof (state)\nthis:\n  SdlHPPB d PP\n   ({(V, V').\n     (V, V') \\<in> R' \\<and>\n     set (PPV V) \\<subseteq> set (PPc c) \\<and>\n     set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n    {([], [])})\n\ngoal (1 subgoal):\n 1. \\<lbrakk>SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R';\n     \\<And>d PP R' V R.\n        \\<lbrakk>SdlHPPB d PP R'; (V, V) \\<in> R';\n         R =\n         {(V', V'').\n          (V', V'') \\<in> R' \\<and>\n          set (PPV V') \\<subseteq> set (PPV V) \\<and>\n          set (PPV V'') \\<subseteq> set (PPV V)}\\<rbrakk>\n        \\<Longrightarrow> SdlHPPB d PP R;\n     \\<And>d PP R.\n        SdlHPPB d PP R \\<Longrightarrow>\n        SdlHPPB d PP (R \\<union> {([], [])});\n     R =\n     {(V, V').\n      (V, V') \\<in> R' \\<and>\n      set (PPV V) \\<subseteq> set (PPc c) \\<and>\n      set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n     {([], [])}\\<rbrakk>\n    \\<Longrightarrow> SdlHPPB d PP R", "with R_def"], ["proof (chain)\npicking this:\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}\n  SdlHPPB d PP\n   ({(V, V').\n     (V, V') \\<in> R' \\<and>\n     set (PPV V) \\<subseteq> set (PPc c) \\<and>\n     set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n    {([], [])})", "show ?thesis"], ["proof (prove)\nusing this:\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}\n  SdlHPPB d PP\n   ({(V, V').\n     (V, V') \\<in> R' \\<and>\n     set (PPV V) \\<subseteq> set (PPc c) \\<and>\n     set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n    {([], [])})\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP R", "by auto"], ["proof (state)\nthis:\n  SdlHPPB d PP R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  SdlHPPB d PP R\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "define R1 where \"R1 = {(w1,w2). \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'. \n    w1 = [c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)]\n    \\<and> w2 = [c1';(while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)] \n    \\<and> \\<iota> \\<notin> set (PPc c) \\<and> \\<iota>' \\<notin> set (PPc c) \n    \\<and> ([c1],[c1']) \\<in> R \\<and> ([c2],[c2']) \\<in> R\n    \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\""], ["proof (state)\nthis:\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "define R2 where \"R2 = {(w1,w2). \\<exists>\\<iota> \\<iota>' b b' c1 c1'. \n    w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n    \\<and> w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \n    \\<and> \\<iota> \\<notin> set (PPc c) \\<and> \\<iota>' \\<notin> set (PPc c) \\<and>\n    ([c1],[c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\""], ["proof (state)\nthis:\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "define R0 where \"R0 = R1 \\<union> R2\""], ["proof (state)\nthis:\n  R0 = R1 \\<union> R2\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "from R2_def R_def R'assump pp_difference dind"], ["proof (chain)\npicking this:\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}\n  SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R'\n  \\<iota> \\<notin> set (PPc c)\n  \\<forall>d. b \\<equiv>\\<^bsub>d\\<^esub> b", "have inR2: \"([while\\<^bsub>\\<iota>\\<^esub> b do c od],[while\\<^bsub>\\<iota>\\<^esub> b do c od]) \\<in> R2\""], ["proof (prove)\nusing this:\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}\n  SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R'\n  \\<iota> \\<notin> set (PPc c)\n  \\<forall>d. b \\<equiv>\\<^bsub>d\\<^esub> b\n\ngoal (1 subgoal):\n 1. ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n     [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n    \\<in> R2", "by auto"], ["proof (state)\nthis:\n  ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n   [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n  \\<in> R2\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "from R0_def R1_def R2_def R_def R'assump"], ["proof (chain)\npicking this:\n  R0 = R1 \\<union> R2\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}\n  SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R'", "have \n    \"Domain R0 \\<inter> Domain R = {}\""], ["proof (prove)\nusing this:\n  R0 = R1 \\<union> R2\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}\n  SdlHPPB d PP R' \\<and> ([c], [c]) \\<in> R'\n\ngoal (1 subgoal):\n 1. Domain R0 \\<inter> Domain R = {}", "by auto"], ["proof (state)\nthis:\n  Domain R0 \\<inter> Domain R = {}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "with commonArefl_subset_commonDomain"], ["proof (chain)\npicking this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R0 \\<inter> Domain R = {}", "have Areflassump: \"Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}\""], ["proof (prove)\nusing this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R0 \\<inter> Domain R = {}\n\ngoal (1 subgoal):\n 1. Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}", "by force\n\n  \\<comment> \\<open>show some facts about R1 and R2 needed later in the proof at several positions\\<close>"], ["proof (state)\nthis:\n  Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "from SdlHPPR"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R", "have symR: \"sym R\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R\n\ngoal (1 subgoal):\n 1. sym R", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  sym R\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "from symR R1_def d_indistinguishable_sym"], ["proof (chain)\npicking this:\n  sym R\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e' \\<Longrightarrow>\n  ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e", "have symR1: \"sym R1\""], ["proof (prove)\nusing this:\n  sym R\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e' \\<Longrightarrow>\n  ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e\n\ngoal (1 subgoal):\n 1. sym R1", "by (simp add: sym_def, fastforce)"], ["proof (state)\nthis:\n  sym R1\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "from symR R2_def d_indistinguishable_sym"], ["proof (chain)\npicking this:\n  sym R\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e' \\<Longrightarrow>\n  ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e", "have symR2: \"sym R2\""], ["proof (prove)\nusing this:\n  sym R\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e' \\<Longrightarrow>\n  ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e\n\ngoal (1 subgoal):\n 1. sym R2", "by (simp add: sym_def, fastforce)"], ["proof (state)\nthis:\n  sym R2\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "have disjuptoR1R2:\n    \"disj_dlHPP_Bisimulation_Up_To_R' d PP R R0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disj_dlHPP_Bisimulation_Up_To_R' d PP R R0", "proof (simp add: disj_dlHPP_Bisimulation_Up_To_R'_def, auto)"], ["proof (state)\ngoal (6 subgoals):\n 1. SdlHPPB d PP R\n 2. sym R0\n 3. trans R0\n 4. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 5. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 6. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R", "show \"SdlHPPB d PP R\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP R", "by auto"], ["proof (state)\nthis:\n  SdlHPPB d PP R\n\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. sym R0\n 2. trans R0\n 3. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 4. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 5. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from symR1 symR2 R0_def"], ["proof (chain)\npicking this:\n  sym R1\n  sym R2\n  R0 = R1 \\<union> R2", "show \"sym R0\""], ["proof (prove)\nusing this:\n  sym R1\n  sym R2\n  R0 = R1 \\<union> R2\n\ngoal (1 subgoal):\n 1. sym R0", "by (simp add: sym_def)"], ["proof (state)\nthis:\n  sym R0\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R", "have transR: \"trans R\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R\n\ngoal (1 subgoal):\n 1. trans R", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  trans R\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "have transR1: \"trans R1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans R1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R1", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R1", "fix V V' V''"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R1", "assume p1: \"(V,V') \\<in> R1\""], ["proof (state)\nthis:\n  (V, V') \\<in> R1\n\ngoal (1 subgoal):\n 1. trans R1", "assume p2: \"(V',V'') \\<in> R1\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R1\n\ngoal (1 subgoal):\n 1. trans R1", "from p1 R1_def"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R1\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}", "obtain \\<iota> \\<iota>' b b' c1 c1' c2 c2' where passump1:\n              \"V = [c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)]\n              \\<and> V' = [c1';(while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)] \n              \\<and> \\<iota> \\<notin> set (PPc c) \\<and> \\<iota>' \\<notin> set (PPc c) \n              \\<and> ([c1],[c1']) \\<in> R \\<and> ([c2],[c2']) \\<in> R\n              \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R1\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n\ngoal (1 subgoal):\n 1. (\\<And>c1 \\<iota> b c2 c1' \\<iota>' b' c2'.\n        V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n        V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n        \\<iota> \\<notin> set (PPc c) \\<and>\n        \\<iota>' \\<notin> set (PPc c) \\<and>\n        ([c1], [c1']) \\<in> R \\<and>\n        ([c2], [c2']) \\<in> R \\<and>\n        b \\<equiv>\\<^bsub>d\\<^esub> b' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n  V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n\ngoal (1 subgoal):\n 1. trans R1", "with p2 R1_def"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R1\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n  V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'", "obtain \\<iota>'' b'' c1'' c2'' where passump2:\n              \"V'' = [c1'';(while\\<^bsub>\\<iota>''\\<^esub> b'' do c2'' od)] \\<and> \\<iota>'' \\<notin> set (PPc c) \n              \\<and> ([c1'],[c1'']) \\<in> R \\<and> ([c2'],[c2'']) \\<in> R\n              \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R1\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n  V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n\ngoal (1 subgoal):\n 1. (\\<And>c1'' \\<iota>'' b'' c2''.\n        V'' = [c1'';while\\<^bsub>\\<iota>''\\<^esub> b'' do c2'' od] \\<and>\n        \\<iota>'' \\<notin> set (PPc c) \\<and>\n        ([c1'], [c1'']) \\<in> R \\<and>\n        ([c2'], [c2'']) \\<in> R \\<and>\n        b' \\<equiv>\\<^bsub>d\\<^esub> b'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  V'' = [c1'';while\\<^bsub>\\<iota>''\\<^esub> b'' do c2'' od] \\<and>\n  \\<iota>'' \\<notin> set (PPc c) \\<and>\n  ([c1'], [c1'']) \\<in> R \\<and>\n  ([c2'], [c2'']) \\<in> R \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (1 subgoal):\n 1. trans R1", "with passump1 transR d_indistinguishable_trans"], ["proof (chain)\npicking this:\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n  V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  trans R\n  \\<lbrakk>?e \\<equiv>\\<^bsub>?d\\<^esub> ?e';\n   ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e''\\<rbrakk>\n  \\<Longrightarrow> ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e''\n  V'' = [c1'';while\\<^bsub>\\<iota>''\\<^esub> b'' do c2'' od] \\<and>\n  \\<iota>'' \\<notin> set (PPc c) \\<and>\n  ([c1'], [c1'']) \\<in> R \\<and>\n  ([c2'], [c2'']) \\<in> R \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''", "have \"([c1],[c1'']) \\<in> R \\<and> ([c2],[c2'']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b''\""], ["proof (prove)\nusing this:\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n  V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  trans R\n  \\<lbrakk>?e \\<equiv>\\<^bsub>?d\\<^esub> ?e';\n   ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e''\\<rbrakk>\n  \\<Longrightarrow> ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e''\n  V'' = [c1'';while\\<^bsub>\\<iota>''\\<^esub> b'' do c2'' od] \\<and>\n  \\<iota>'' \\<notin> set (PPc c) \\<and>\n  ([c1'], [c1'']) \\<in> R \\<and>\n  ([c2'], [c2'']) \\<in> R \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (1 subgoal):\n 1. ([c1], [c1'']) \\<in> R \\<and>\n    ([c2], [c2'']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b''", "by (metis trans_def)"], ["proof (state)\nthis:\n  ([c1], [c1'']) \\<in> R \\<and>\n  ([c2], [c2'']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (1 subgoal):\n 1. trans R1", "with passump1 passump2 R1_def"], ["proof (chain)\npicking this:\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n  V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  V'' = [c1'';while\\<^bsub>\\<iota>''\\<^esub> b'' do c2'' od] \\<and>\n  \\<iota>'' \\<notin> set (PPc c) \\<and>\n  ([c1'], [c1'']) \\<in> R \\<and>\n  ([c2'], [c2'']) \\<in> R \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  ([c1], [c1'']) \\<in> R \\<and>\n  ([c2], [c2'']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b''", "have \"(V,V'') \\<in> R1\""], ["proof (prove)\nusing this:\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n  V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  V'' = [c1'';while\\<^bsub>\\<iota>''\\<^esub> b'' do c2'' od] \\<and>\n  \\<iota>'' \\<notin> set (PPc c) \\<and>\n  ([c1'], [c1'']) \\<in> R \\<and>\n  ([c2'], [c2'']) \\<in> R \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  ([c1], [c1'']) \\<in> R \\<and>\n  ([c2], [c2'']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R1", "by auto"], ["proof (state)\nthis:\n  (V, V'') \\<in> R1\n\ngoal (1 subgoal):\n 1. trans R1", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(?V2, ?V'2) \\<in> R1; (?V'2, ?V''2) \\<in> R1\\<rbrakk>\n  \\<Longrightarrow> (?V2, ?V''2) \\<in> R1\n\ngoal (1 subgoal):\n 1. trans R1", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?V2, ?V'2) \\<in> R1; (?V'2, ?V''2) \\<in> R1\\<rbrakk>\n  \\<Longrightarrow> (?V2, ?V''2) \\<in> R1\n\ngoal (1 subgoal):\n 1. trans R1", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?V2, ?V'2) \\<in> R1; (?V'2, ?V''2) \\<in> R1\\<rbrakk>\n  \\<Longrightarrow> (?V2, ?V''2) \\<in> R1\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       (x, y) \\<in> R1 \\<longrightarrow>\n       (y, z) \\<in> R1 \\<longrightarrow> (x, z) \\<in> R1", "by blast"], ["proof (state)\nthis:\n  trans R1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  trans R1\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "have transR2: \"trans R2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans R2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R2", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R2", "fix V V' V''"], ["proof (state)\ngoal (1 subgoal):\n 1. trans R2", "assume p1: \"(V,V') \\<in> R2\""], ["proof (state)\nthis:\n  (V, V') \\<in> R2\n\ngoal (1 subgoal):\n 1. trans R2", "assume p2: \"(V',V'') \\<in> R2\""], ["proof (state)\nthis:\n  (V', V'') \\<in> R2\n\ngoal (1 subgoal):\n 1. trans R2", "from p1 R2_def"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R2\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}", "obtain \\<iota> \\<iota>' b b' c1 c1' where passump1:\n              \"V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n              \\<and> V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \n              \\<and> \\<iota> \\<notin> set (PPc c) \\<and> \\<iota>' \\<notin> set (PPc c) \n              \\<and> ([c1],[c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R2\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n\ngoal (1 subgoal):\n 1. (\\<And>\\<iota> b c1 \\<iota>' b' c1'.\n        V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n        V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n        \\<iota> \\<notin> set (PPc c) \\<and>\n        \\<iota>' \\<notin> set (PPc c) \\<and>\n        ([c1], [c1']) \\<in> R \\<and>\n        b \\<equiv>\\<^bsub>d\\<^esub> b' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n  V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n\ngoal (1 subgoal):\n 1. trans R2", "with p2 R2_def"], ["proof (chain)\npicking this:\n  (V', V'') \\<in> R2\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n  V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'", "obtain \\<iota>'' b'' c1'' where passump2:\n              \"V'' = [while\\<^bsub>\\<iota>''\\<^esub> b'' do c1'' od] \\<and> \\<iota>'' \\<notin> set (PPc c) \n              \\<and> ([c1'],[c1'']) \\<in> R \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\""], ["proof (prove)\nusing this:\n  (V', V'') \\<in> R2\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n  V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n\ngoal (1 subgoal):\n 1. (\\<And>\\<iota>'' b'' c1''.\n        V'' = [while\\<^bsub>\\<iota>''\\<^esub> b'' do c1'' od] \\<and>\n        \\<iota>'' \\<notin> set (PPc c) \\<and>\n        ([c1'], [c1'']) \\<in> R \\<and>\n        b' \\<equiv>\\<^bsub>d\\<^esub> b'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  V'' = [while\\<^bsub>\\<iota>''\\<^esub> b'' do c1'' od] \\<and>\n  \\<iota>'' \\<notin> set (PPc c) \\<and>\n  ([c1'], [c1'']) \\<in> R \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (1 subgoal):\n 1. trans R2", "with passump1 transR d_indistinguishable_trans"], ["proof (chain)\npicking this:\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n  V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  trans R\n  \\<lbrakk>?e \\<equiv>\\<^bsub>?d\\<^esub> ?e';\n   ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e''\\<rbrakk>\n  \\<Longrightarrow> ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e''\n  V'' = [while\\<^bsub>\\<iota>''\\<^esub> b'' do c1'' od] \\<and>\n  \\<iota>'' \\<notin> set (PPc c) \\<and>\n  ([c1'], [c1'']) \\<in> R \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''", "have \"([c1],[c1'']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b''\""], ["proof (prove)\nusing this:\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n  V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  trans R\n  \\<lbrakk>?e \\<equiv>\\<^bsub>?d\\<^esub> ?e';\n   ?e' \\<equiv>\\<^bsub>?d\\<^esub> ?e''\\<rbrakk>\n  \\<Longrightarrow> ?e \\<equiv>\\<^bsub>?d\\<^esub> ?e''\n  V'' = [while\\<^bsub>\\<iota>''\\<^esub> b'' do c1'' od] \\<and>\n  \\<iota>'' \\<notin> set (PPc c) \\<and>\n  ([c1'], [c1'']) \\<in> R \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (1 subgoal):\n 1. ([c1], [c1'']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b''", "by (metis trans_def)"], ["proof (state)\nthis:\n  ([c1], [c1'']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (1 subgoal):\n 1. trans R2", "with passump1 passump2 R2_def"], ["proof (chain)\npicking this:\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n  V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  V'' = [while\\<^bsub>\\<iota>''\\<^esub> b'' do c1'' od] \\<and>\n  \\<iota>'' \\<notin> set (PPc c) \\<and>\n  ([c1'], [c1'']) \\<in> R \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  ([c1], [c1'']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b''", "have \"(V,V'') \\<in> R2\""], ["proof (prove)\nusing this:\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n  V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  V'' = [while\\<^bsub>\\<iota>''\\<^esub> b'' do c1'' od] \\<and>\n  \\<iota>'' \\<notin> set (PPc c) \\<and>\n  ([c1'], [c1'']) \\<in> R \\<and> b' \\<equiv>\\<^bsub>d\\<^esub> b''\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  ([c1], [c1'']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b''\n\ngoal (1 subgoal):\n 1. (V, V'') \\<in> R2", "by auto"], ["proof (state)\nthis:\n  (V, V'') \\<in> R2\n\ngoal (1 subgoal):\n 1. trans R2", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(?V2, ?V'2) \\<in> R2; (?V'2, ?V''2) \\<in> R2\\<rbrakk>\n  \\<Longrightarrow> (?V2, ?V''2) \\<in> R2\n\ngoal (1 subgoal):\n 1. trans R2", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?V2, ?V'2) \\<in> R2; (?V'2, ?V''2) \\<in> R2\\<rbrakk>\n  \\<Longrightarrow> (?V2, ?V''2) \\<in> R2\n\ngoal (1 subgoal):\n 1. trans R2", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?V2, ?V'2) \\<in> R2; (?V'2, ?V''2) \\<in> R2\\<rbrakk>\n  \\<Longrightarrow> (?V2, ?V''2) \\<in> R2\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       (x, y) \\<in> R2 \\<longrightarrow>\n       (y, z) \\<in> R2 \\<longrightarrow> (x, z) \\<in> R2", "by blast"], ["proof (state)\nthis:\n  trans R2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  trans R2\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from SdlHPPR"], ["proof (chain)\npicking this:\n  SdlHPPB d PP R", "have eqlenR: \"\\<forall>(V,V')\\<in>R. length V = length V'\""], ["proof (prove)\nusing this:\n  SdlHPPB d PP R\n\ngoal (1 subgoal):\n 1. \\<forall>(V, V')\\<in>R. length V = length V'", "by (simp add: Strong_dlHPP_Bisimulation_def)"], ["proof (state)\nthis:\n  \\<forall>(V, V')\\<in>R. length V = length V'\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from R1_def eqlenR"], ["proof (chain)\npicking this:\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  \\<forall>(V, V')\\<in>R. length V = length V'", "have eqlenR1: \"\\<forall>(V,V')\\<in>R1. length V = length V'\""], ["proof (prove)\nusing this:\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  \\<forall>(V, V')\\<in>R. length V = length V'\n\ngoal (1 subgoal):\n 1. \\<forall>(V, V')\\<in>R1. length V = length V'", "by auto"], ["proof (state)\nthis:\n  \\<forall>(V, V')\\<in>R1. length V = length V'\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from R2_def eqlenR"], ["proof (chain)\npicking this:\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  \\<forall>(V, V')\\<in>R. length V = length V'", "have eqlenR2: \"\\<forall>(V,V')\\<in>R2. length V = length V'\""], ["proof (prove)\nusing this:\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  \\<forall>(V, V')\\<in>R. length V = length V'\n\ngoal (1 subgoal):\n 1. \\<forall>(V, V')\\<in>R2. length V = length V'", "by auto"], ["proof (state)\nthis:\n  \\<forall>(V, V')\\<in>R2. length V = length V'\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from R1_def R2_def"], ["proof (chain)\npicking this:\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}", "have \"Domain R1 \\<inter> Domain R2 = {}\""], ["proof (prove)\nusing this:\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n\ngoal (1 subgoal):\n 1. Domain R1 \\<inter> Domain R2 = {}", "by auto"], ["proof (state)\nthis:\n  Domain R1 \\<inter> Domain R2 = {}\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with commonArefl_subset_commonDomain"], ["proof (chain)\npicking this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R1 \\<inter> Domain R2 = {}", "have Arefl_a:\n        \"Arefl R1 \\<inter> Arefl R2 = {}\""], ["proof (prove)\nusing this:\n  Arefl ?R1.0 \\<inter> Arefl ?R2.0\n  \\<subseteq> Domain ?R1.0 \\<inter> Domain ?R2.0\n  Domain R1 \\<inter> Domain R2 = {}\n\ngoal (1 subgoal):\n 1. Arefl R1 \\<inter> Arefl R2 = {}", "by force"], ["proof (state)\nthis:\n  Arefl R1 \\<inter> Arefl R2 = {}\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with symR1 symR2 transR1 transR2 eqlenR1 eqlenR2 trans_RuR'"], ["proof (chain)\npicking this:\n  sym R1\n  sym R2\n  trans R1\n  trans R2\n  \\<forall>(V, V')\\<in>R1. length V = length V'\n  \\<forall>(V, V')\\<in>R2. length V = length V'\n  \\<lbrakk>trans ?R; sym ?R; trans ?R'; sym ?R';\n   \\<forall>(V, V')\\<in>?R. length V = length V';\n   \\<forall>(V, V')\\<in>?R'. length V = length V';\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> trans (?R \\<union> ?R')\n  Arefl R1 \\<inter> Arefl R2 = {}", "have \"trans (R1 \\<union> R2)\""], ["proof (prove)\nusing this:\n  sym R1\n  sym R2\n  trans R1\n  trans R2\n  \\<forall>(V, V')\\<in>R1. length V = length V'\n  \\<forall>(V, V')\\<in>R2. length V = length V'\n  \\<lbrakk>trans ?R; sym ?R; trans ?R'; sym ?R';\n   \\<forall>(V, V')\\<in>?R. length V = length V';\n   \\<forall>(V, V')\\<in>?R'. length V = length V';\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> trans (?R \\<union> ?R')\n  Arefl R1 \\<inter> Arefl R2 = {}\n\ngoal (1 subgoal):\n 1. trans (R1 \\<union> R2)", "by force"], ["proof (state)\nthis:\n  trans (R1 \\<union> R2)\n\ngoal (4 subgoals):\n 1. trans R0\n 2. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 3. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 4. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R0_def"], ["proof (chain)\npicking this:\n  R0 = R1 \\<union> R2\n  trans (R1 \\<union> R2)", "show \"trans R0\""], ["proof (prove)\nusing this:\n  R0 = R1 \\<union> R2\n  trans (R1 \\<union> R2)\n\ngoal (1 subgoal):\n 1. trans R0", "by auto"], ["proof (state)\nthis:\n  trans R0\n\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V V'"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR0: \"(V,V') \\<in> R0\""], ["proof (state)\nthis:\n  (V, V') \\<in> R0\n\ngoal (3 subgoals):\n 1. \\<And>a b. (a, b) \\<in> R0 \\<Longrightarrow> length a = length b\n 2. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 3. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with R0_def R1_def R2_def"], ["proof (chain)\npicking this:\n  R0 = R1 \\<union> R2\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  (V, V') \\<in> R0", "show \"length V = length V'\""], ["proof (prove)\nusing this:\n  R0 = R1 \\<union> R2\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  (V, V') \\<in> R0\n\ngoal (1 subgoal):\n 1. length V = length V'", "by auto"], ["proof (state)\nthis:\n  length V = length V'\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V V' i"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR0: \"(V,V') \\<in> R0\""], ["proof (state)\nthis:\n  (V, V') \\<in> R0\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume notIDC: \"\\<not> IDC d (V!i) \n        (htchLoc (pp (V!i)))\""], ["proof (state)\nthis:\n  \\<not> IDC d (V ! i) (htchLoc (pp (V ! i)))\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR0 R0_def R1_def R2_def"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R0\n  R0 = R1 \\<union> R2\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}", "obtain \\<iota> \\<iota>' b b' c1 c1' c2 c2' \n        where R0pair: \"((V = [c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)] \n        \\<and> V' = [c1';(while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)])\n        \\<or> (V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and> V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]))\n        \\<and> \\<iota> \\<notin> set (PPc c) \\<and> \\<iota>' \\<notin> set (PPc c) \n        \\<and> ([c1],[c1']) \\<in> R \\<and> ([c2],[c2']) \\<in> R\n        \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R0\n  R0 = R1 \\<union> R2\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n\ngoal (1 subgoal):\n 1. (\\<And>c1 \\<iota> b c2 c1' \\<iota>' b' c2'.\n        (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n         V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n         V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n         V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n        \\<iota> \\<notin> set (PPc c) \\<and>\n        \\<iota>' \\<notin> set (PPc c) \\<and>\n        ([c1], [c1']) \\<in> R \\<and>\n        ([c2], [c2']) \\<in> R \\<and>\n        b \\<equiv>\\<^bsub>d\\<^esub> b' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with irange SdlHPPR strongdlHPPB_NDCIDCaux\n      [of \"d\" \"PP\" \"R\" \"[c1]\" \"[c1']\" \"i\"]"], ["proof (chain)\npicking this:\n  i < length V\n  SdlHPPB d PP R\n  \\<lbrakk>SdlHPPB d PP R; ([c1], [c1']) \\<in> R; i < length [c1]\\<rbrakk>\n  \\<Longrightarrow> NDC d ([c1] ! i) \\<or>\n                    IDC d ([c1] ! i) (htchLoc (pp ([c1] ! i)))\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'", "have c1NDCIDC: \n        \"NDC d c1 \\<or> IDC d c1 (htchLoc (pp c1))\""], ["proof (prove)\nusing this:\n  i < length V\n  SdlHPPB d PP R\n  \\<lbrakk>SdlHPPB d PP R; ([c1], [c1']) \\<in> R; i < length [c1]\\<rbrakk>\n  \\<Longrightarrow> NDC d ([c1] ! i) \\<or>\n                    IDC d ([c1] ! i) (htchLoc (pp ([c1] ! i)))\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n\ngoal (1 subgoal):\n 1. NDC d c1 \\<or> IDC d c1 (htchLoc (pp c1))", "by auto\n\n      \\<comment> \\<open>first alternative for V and V'\\<close>"], ["proof (state)\nthis:\n  NDC d c1 \\<or> IDC d c1 (htchLoc (pp c1))\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "have case1: \"NDC d (c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)) \\<or>\n        IDC d (c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od))\n        (htchLoc (pp (c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. NDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<or>\n    IDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n     (htchLoc (pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. NDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<or>\n    IDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n     (htchLoc (pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)))", "have eqnextmem: \"\\<And>m. \\<lbrakk>c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) =\n       \\<lbrakk>c1\\<rbrakk>(m)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) =\n       \\<lbrakk>c1\\<rbrakk>(m)", "fix m"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) =\n       \\<lbrakk>c1\\<rbrakk>(m)", "from nextmem_exists_and_unique"], ["proof (chain)\npicking this:\n  \\<exists>m' p \\<alpha>.\n     SRabbr ?c ?m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr ?c ?m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')", "obtain m' where c1nextmem:\n              \"\\<exists>p \\<alpha>. \\<langle>c1,m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m'\\<rangle> \n              \\<and> (\\<forall>m''. (\\<exists>p \\<alpha>. \\<langle>c1,m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m''\\<rangle>) \\<longrightarrow> m'' = m')\""], ["proof (prove)\nusing this:\n  \\<exists>m' p \\<alpha>.\n     SRabbr ?c ?m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr ?c ?m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. (\\<And>m'.\n        \\<exists>p \\<alpha>.\n           SRabbr c1 m \\<alpha> p m' \\<and>\n           (\\<forall>m''.\n               (\\<exists>p \\<alpha>.\n                   SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n               m'' = m') \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  \\<exists>p \\<alpha>.\n     SRabbr c1 m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>. SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) =\n       \\<lbrakk>c1\\<rbrakk>(m)", "hence eqdir1: \"\\<lbrakk>c1\\<rbrakk>(m) = m'\""], ["proof (prove)\nusing this:\n  \\<exists>p \\<alpha>.\n     SRabbr c1 m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>. SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>c1\\<rbrakk>(m) = m'", "by (simp add: NextMem_def, auto)"], ["proof (state)\nthis:\n  \\<lbrakk>c1\\<rbrakk>(m) = m'\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) =\n       \\<lbrakk>c1\\<rbrakk>(m)", "from c1nextmem"], ["proof (chain)\npicking this:\n  \\<exists>p \\<alpha>.\n     SRabbr c1 m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>. SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')", "obtain p \\<alpha> where \"\\<langle>c1,m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m'\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<exists>p \\<alpha>.\n     SRabbr c1 m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>. SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha> p.\n        SRabbr c1 m \\<alpha> p m' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  SRabbr c1 m \\<alpha> p m'\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) =\n       \\<lbrakk>c1\\<rbrakk>(m)", "with c1nextmem"], ["proof (chain)\npicking this:\n  \\<exists>p \\<alpha>.\n     SRabbr c1 m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>. SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n  SRabbr c1 m \\<alpha> p m'", "have \n              \"\\<exists>p \\<alpha>. \\<langle>c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od),m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m'\\<rangle>\n              \\<and> (\\<forall>m''. (\\<exists>p \\<alpha>. \\<langle>c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od),m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m''\\<rangle>) \n              \\<longrightarrow> m'' = m')\""], ["proof (prove)\nusing this:\n  \\<exists>p \\<alpha>.\n     SRabbr c1 m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>. SRabbr c1 m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n  SRabbr c1 m \\<alpha> p m'\n\ngoal (1 subgoal):\n 1. \\<exists>p \\<alpha>.\n       SRabbr (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) m \\<alpha> p\n        m' \\<and>\n       (\\<forall>m''.\n           (\\<exists>p \\<alpha>.\n               SRabbr (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) m\n                \\<alpha> p m'') \\<longrightarrow>\n           m'' = m')", "by (auto, metis MWLsSteps_det.seq1 MWLsSteps_det.seq2 \n                option.exhaust, metis MWLsSteps_det_cases(3))"], ["proof (state)\nthis:\n  \\<exists>p \\<alpha>.\n     SRabbr (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) m \\<alpha> p\n      m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) m \\<alpha>\n              p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) =\n       \\<lbrakk>c1\\<rbrakk>(m)", "hence eqdir2: \"\\<lbrakk>c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\\<rbrakk>(m) = m'\""], ["proof (prove)\nusing this:\n  \\<exists>p \\<alpha>.\n     SRabbr (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) m \\<alpha> p\n      m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) m \\<alpha>\n              p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) = m'", "by (simp add: NextMem_def, auto)"], ["proof (state)\nthis:\n  \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) = m'\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) =\n       \\<lbrakk>c1\\<rbrakk>(m)", "with eqdir1"], ["proof (chain)\npicking this:\n  \\<lbrakk>c1\\<rbrakk>(m) = m'\n  \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) = m'", "show \"\\<lbrakk>c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\\<rbrakk>(m) = \\<lbrakk>c1\\<rbrakk>(m)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>c1\\<rbrakk>(m) = m'\n  \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) = m'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) =\n    \\<lbrakk>c1\\<rbrakk>(m)", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(m) =\n  \\<lbrakk>c1\\<rbrakk>(m)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(?m) =\n  \\<lbrakk>c1\\<rbrakk>(?m)\n\ngoal (1 subgoal):\n 1. NDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<or>\n    IDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n     (htchLoc (pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)))", "have eqpp: \"pp (c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)) = pp c1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) = pp c1", "by simp"], ["proof (state)\nthis:\n  pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) = pp c1\n\ngoal (1 subgoal):\n 1. NDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<or>\n    IDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n     (htchLoc (pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)))", "with c1NDCIDC eqnextmem"], ["proof (chain)\npicking this:\n  NDC d c1 \\<or> IDC d c1 (htchLoc (pp c1))\n  \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(?m) =\n  \\<lbrakk>c1\\<rbrakk>(?m)\n  pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) = pp c1", "show \n            \"NDC d (c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)) \\<or>\n            IDC d (c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od))\n            (htchLoc (pp (c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od))))\""], ["proof (prove)\nusing this:\n  NDC d c1 \\<or> IDC d c1 (htchLoc (pp c1))\n  \\<lbrakk>c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od\\<rbrakk>(?m) =\n  \\<lbrakk>c1\\<rbrakk>(?m)\n  pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) = pp c1\n\ngoal (1 subgoal):\n 1. NDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<or>\n    IDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n     (htchLoc (pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)))", "by (simp add: IDC_def NDC_def)"], ["proof (state)\nthis:\n  NDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<or>\n  IDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n   (htchLoc (pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)))\n\ngoal:\nNo subgoals!", "qed\n\n      \\<comment> \\<open>second alternative for V V'\\<close>"], ["proof (state)\nthis:\n  NDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<or>\n  IDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n   (htchLoc (pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)))\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "have case2: \"NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)", "fix m"], ["proof (state)\ngoal (1 subgoal):\n 1. NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)", "from nextmem_exists_and_unique"], ["proof (chain)\npicking this:\n  \\<exists>m' p \\<alpha>.\n     SRabbr ?c ?m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr ?c ?m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')", "obtain m' p \\<alpha> \n              where whilenextmem: \"\\<langle>while\\<^bsub>\\<iota>\\<^esub> b do c1 od,m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m'\\<rangle> \n              \\<and> (\\<forall>m''. (\\<exists>p \\<alpha>. \\<langle>while\\<^bsub>\\<iota>\\<^esub> b do c1 od,m\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m''\\<rangle>) \n              \\<longrightarrow> m'' = m')\""], ["proof (prove)\nusing this:\n  \\<exists>m' p \\<alpha>.\n     SRabbr ?c ?m \\<alpha> p m' \\<and>\n     (\\<forall>m''.\n         (\\<exists>p \\<alpha>.\n             SRabbr ?c ?m \\<alpha> p m'') \\<longrightarrow>\n         m'' = m')\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha> p m'.\n        SRabbr (while\\<^bsub>\\<iota>\\<^esub> b do c1 od) m \\<alpha> p\n         m' \\<and>\n        (\\<forall>m''.\n            (\\<exists>p \\<alpha>.\n                SRabbr (while\\<^bsub>\\<iota>\\<^esub> b do c1 od) m \\<alpha>\n                 p m'') \\<longrightarrow>\n            m'' = m') \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SRabbr (while\\<^bsub>\\<iota>\\<^esub> b do c1 od) m \\<alpha> p m' \\<and>\n  (\\<forall>m''.\n      (\\<exists>p \\<alpha>.\n          SRabbr (while\\<^bsub>\\<iota>\\<^esub> b do c1 od) m \\<alpha> p\n           m'') \\<longrightarrow>\n      m'' = m')\n\ngoal (1 subgoal):\n 1. NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)", "hence \"m = m'\""], ["proof (prove)\nusing this:\n  SRabbr (while\\<^bsub>\\<iota>\\<^esub> b do c1 od) m \\<alpha> p m' \\<and>\n  (\\<forall>m''.\n      (\\<exists>p \\<alpha>.\n          SRabbr (while\\<^bsub>\\<iota>\\<^esub> b do c1 od) m \\<alpha> p\n           m'') \\<longrightarrow>\n      m'' = m')\n\ngoal (1 subgoal):\n 1. m = m'", "by (metis MWLsSteps_det.whilefalse MWLsSteps_det.whiletrue)"], ["proof (state)\nthis:\n  m = m'\n\ngoal (1 subgoal):\n 1. NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)", "with whilenextmem"], ["proof (chain)\npicking this:\n  SRabbr (while\\<^bsub>\\<iota>\\<^esub> b do c1 od) m \\<alpha> p m' \\<and>\n  (\\<forall>m''.\n      (\\<exists>p \\<alpha>.\n          SRabbr (while\\<^bsub>\\<iota>\\<^esub> b do c1 od) m \\<alpha> p\n           m'') \\<longrightarrow>\n      m'' = m')\n  m = m'", "have eqnextmem: \n              \"\\<lbrakk>while\\<^bsub>\\<iota>\\<^esub> b do c1 od\\<rbrakk>(m) = m\""], ["proof (prove)\nusing this:\n  SRabbr (while\\<^bsub>\\<iota>\\<^esub> b do c1 od) m \\<alpha> p m' \\<and>\n  (\\<forall>m''.\n      (\\<exists>p \\<alpha>.\n          SRabbr (while\\<^bsub>\\<iota>\\<^esub> b do c1 od) m \\<alpha> p\n           m'') \\<longrightarrow>\n      m'' = m')\n  m = m'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>while\\<^bsub>\\<iota>\\<^esub> b do c1 od\\<rbrakk>(m) = m", "by (simp add: NextMem_def, auto)"], ["proof (state)\nthis:\n  \\<lbrakk>while\\<^bsub>\\<iota>\\<^esub> b do c1 od\\<rbrakk>(m) = m\n\ngoal (1 subgoal):\n 1. NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>while\\<^bsub>\\<iota>\\<^esub> b do c1 od\\<rbrakk>(?m2) = ?m2\n\ngoal (1 subgoal):\n 1. NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)", "thus \"NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>while\\<^bsub>\\<iota>\\<^esub> b do c1 od\\<rbrakk>(?m2) = ?m2\n\ngoal (1 subgoal):\n 1. NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)", "by (simp add: NDC_def)"], ["proof (state)\nthis:\n  NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)\n\ngoal (2 subgoals):\n 1. \\<And>a b i.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        \\<not> IDC d (a ! i) (htchLoc (pp (a ! i)))\\<rbrakk>\n       \\<Longrightarrow> NDC d (a ! i)\n 2. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from R0pair case1 case2 irange notIDC"], ["proof (chain)\npicking this:\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  NDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<or>\n  IDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n   (htchLoc (pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)))\n  NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)\n  i < length V\n  \\<not> IDC d (V ! i) (htchLoc (pp (V ! i)))", "show \"NDC d (V!i)\""], ["proof (prove)\nusing this:\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  NDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<or>\n  IDC d (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n   (htchLoc (pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)))\n  NDC d (while\\<^bsub>\\<iota>\\<^esub> b do c1 od)\n  i < length V\n  \\<not> IDC d (V ! i) (htchLoc (pp (V ! i)))\n\ngoal (1 subgoal):\n 1. NDC d (V ! i)", "by force"], ["proof (state)\nthis:\n  NDC d (V ! i)\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "fix V V' i m1 m1' m2 \\<alpha> p"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume inR0: \"(V,V') \\<in> R0\""], ["proof (state)\nthis:\n  (V, V') \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume irange: \"i < length V\""], ["proof (state)\nthis:\n  i < length V\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume step: \"\\<langle>V!i,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>p,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr (V ! i) m1 \\<alpha> p m2\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "assume dhequal: \"m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\""], ["proof (state)\nthis:\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "from inR0 R0_def R1_def R2_def"], ["proof (chain)\npicking this:\n  (V, V') \\<in> R0\n  R0 = R1 \\<union> R2\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}", "obtain \\<iota> \\<iota>' b b' c1 c1' c2 c2' \n        where R0pair: \"((V = [c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)] \n        \\<and> V' = [c1';(while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)])\n        \\<or> (V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and> V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]))\n        \\<and> \\<iota> \\<notin> set (PPc c) \\<and> \\<iota>' \\<notin> set (PPc c) \n        \\<and> ([c1],[c1']) \\<in> R \\<and> ([c2],[c2']) \\<in> R\n        \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\""], ["proof (prove)\nusing this:\n  (V, V') \\<in> R0\n  R0 = R1 \\<union> R2\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n\ngoal (1 subgoal):\n 1. (\\<And>c1 \\<iota> b c2 c1' \\<iota>' b' c2'.\n        (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n         V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n         V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n         V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n        \\<iota> \\<notin> set (PPc c) \\<and>\n        \\<iota>' \\<notin> set (PPc c) \\<and>\n        ([c1], [c1']) \\<in> R \\<and>\n        ([c2], [c2']) \\<in> R \\<and>\n        b \\<equiv>\\<^bsub>d\\<^esub> b' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force\n\n      \\<comment> \\<open>Case 1: V and V' are sequential commands\\<close>"], ["proof (state)\nthis:\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "have case1: \"\\<lbrakk> V = [c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)]; \n        V' = [c1';(while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)] \\<rbrakk>\n        \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n        stepResultsinR p p' (R0 \\<union> R) \\<and> ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R) \\<and>\n        dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "assume Vassump: \"V = [c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)]\""], ["proof (state)\nthis:\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "assume V'assump: \"V' = [c1';(while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)]\""], ["proof (state)\nthis:\n  V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "have eqpp: \"pp (c1;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)) = pp c1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) = pp c1", "by simp"], ["proof (state)\nthis:\n  pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) = pp c1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "from Vassump irange step irange"], ["proof (chain)\npicking this:\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od]\n  i < length V\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  i < length V", "obtain c3 \n            where case_distinction:\n            \"(p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and> \\<langle>c1,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>None,m2\\<rangle>)\n            \\<or> (p = Some (c3;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od)) \n            \\<and> \\<langle>c1,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>Some c3,m2\\<rangle>)\""], ["proof (prove)\nusing this:\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od]\n  i < length V\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  i < length V\n\ngoal (1 subgoal):\n 1. (\\<And>c3.\n        p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and>\n        SRabbr c1 m1 \\<alpha> None m2 \\<or>\n        p = Some (c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and>\n        SRabbr c1 m1 \\<alpha> (Some c3) m2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp, metis MWLsSteps_det_cases(3))"], ["proof (state)\nthis:\n  p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and>\n  SRabbr c1 m1 \\<alpha> None m2 \\<or>\n  p = Some (c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and>\n  SRabbr c1 m1 \\<alpha> (Some c3) m2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "moreover\n          \\<comment> \\<open>Case 1a: first command terminates\\<close>"], ["proof (state)\nthis:\n  p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and>\n  SRabbr c1 m1 \\<alpha> None m2 \\<or>\n  p = Some (c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and>\n  SRabbr c1 m1 \\<alpha> (Some c3) m2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "{"], ["proof (state)\nthis:\n  p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and>\n  SRabbr c1 m1 \\<alpha> None m2 \\<or>\n  p = Some (c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and>\n  SRabbr c1 m1 \\<alpha> (Some c3) m2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "assume passump: \"p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\""], ["proof (state)\nthis:\n  p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "assume stepassump: \"\\<langle>c1,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>None,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr c1 m1 \\<alpha> None m2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "with R0pair SdlHPPR dhequal\n            strongdlHPPB_aux[of \"d\" \"PP\" \"R\"\n            _ \"[c1]\" \"[c1']\" \"m1\" \"\\<alpha>\" \"None\" \"m2\" \"m1'\"]"], ["proof (chain)\npicking this:\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  SdlHPPB d PP R\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<lbrakk>SdlHPPB d PP R; ?i < length [c1]; ([c1], [c1']) \\<in> R;\n   SRabbr ([c1] ! ?i) m1 \\<alpha> None m2;\n   m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr ([c1'] ! ?i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR None p' R \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                       dhequality_alternative d PP (pp ([c1] ! ?i)) m2 m2'\n  SRabbr c1 m1 \\<alpha> None m2", "obtain p' \\<alpha>' m2' where c1c1'reason:\n              \"p' = None \\<and> \\<langle>c1',m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and> (\\<alpha>,\\<alpha>') \\<in> R \\<and>\n              dhequality_alternative d PP (pp c1) m2 m2'\""], ["proof (prove)\nusing this:\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  SdlHPPB d PP R\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<lbrakk>SdlHPPB d PP R; ?i < length [c1]; ([c1], [c1']) \\<in> R;\n   SRabbr ([c1] ! ?i) m1 \\<alpha> None m2;\n   m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr ([c1'] ! ?i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR None p' R \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                       dhequality_alternative d PP (pp ([c1] ! ?i)) m2 m2'\n  SRabbr c1 m1 \\<alpha> None m2\n\ngoal (1 subgoal):\n 1. (\\<And>p' \\<alpha>' m2'.\n        p' = None \\<and>\n        SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n        (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n        dhequality_alternative d PP (pp c1) m2 m2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: stepResultsinR_def, fastforce)"], ["proof (state)\nthis:\n  p' = None \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "hence conclpart:\n            \"\\<langle>c1';(while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od),m1'\\<rangle> \n              \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>Some (while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od),m2'\\<rangle>\""], ["proof (prove)\nusing this:\n  p' = None \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n\ngoal (1 subgoal):\n 1. SRabbr (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od) m1' \\<alpha>'\n     (Some (while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)) m2'", "by (auto, simp add: MWLsSteps_det.seq1)"], ["proof (state)\nthis:\n  SRabbr (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od) m1' \\<alpha>'\n   (Some (while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)) m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "from R0pair R0_def R2_def"], ["proof (chain)\npicking this:\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  R0 = R1 \\<union> R2\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}", "have \n              \"([while\\<^bsub>\\<iota>\\<^esub> b do c2 od],[while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]) \\<in> R0\""], ["proof (prove)\nusing this:\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  R0 = R1 \\<union> R2\n  R2 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1'.\n      w1 = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n      w2 = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n\ngoal (1 subgoal):\n 1. ([while\\<^bsub>\\<iota>\\<^esub> b do c2 od],\n     [while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od])\n    \\<in> R0", "by simp"], ["proof (state)\nthis:\n  ([while\\<^bsub>\\<iota>\\<^esub> b do c2 od],\n   [while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od])\n  \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "with passump V'assump Vassump eqpp conclpart \n              c1c1'reason irange"], ["proof (chain)\npicking this:\n  p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n  V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od]\n  pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) = pp c1\n  SRabbr (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od) m1' \\<alpha>'\n   (Some (while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)) m2'\n  p' = None \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  i < length V\n  ([while\\<^bsub>\\<iota>\\<^esub> b do c2 od],\n   [while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od])\n  \\<in> R0", "have \"\\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n              stepResultsinR p p' (R0 \\<union> R) \\<and> ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> \n              (\\<alpha>,\\<alpha>') \\<in> R) \\<and> \n              dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n  V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od]\n  pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) = pp c1\n  SRabbr (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od) m1' \\<alpha>'\n   (Some (while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)) m2'\n  p' = None \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  i < length V\n  ([while\\<^bsub>\\<iota>\\<^esub> b do c2 od],\n   [while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od])\n  \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> R) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by (simp add: stepResultsinR_def, auto)"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> R) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "}"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od);\n   SRabbr c1 m1 \\<alpha> None m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "moreover\n          \\<comment> \\<open>Case 1b: first command does not terminate\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od);\n   SRabbr c1 m1 \\<alpha> None m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "{"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od);\n   SRabbr c1 m1 \\<alpha> None m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "assume passump: \"p = Some (c3;(while\\<^bsub>\\<iota>\\<^esub> b do c2 od))\""], ["proof (state)\nthis:\n  p = Some (c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "assume stepassump: \"\\<langle>c1,m1\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>\\<rhd> \\<langle>Some c3,m2\\<rangle>\""], ["proof (state)\nthis:\n  SRabbr c1 m1 \\<alpha> (Some c3) m2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "with R0pair SdlHPPR dhequal\n            strongdlHPPB_aux[of \"d\" \"PP\" \"R\"\n            _ \"[c1]\" \"[c1']\" \"m1\" \"\\<alpha>\" \"Some c3\" \"m2\" \"m1'\"]"], ["proof (chain)\npicking this:\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  SdlHPPB d PP R\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<lbrakk>SdlHPPB d PP R; ?i < length [c1]; ([c1], [c1']) \\<in> R;\n   SRabbr ([c1] ! ?i) m1 \\<alpha> (Some c3) m2;\n   m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr ([c1'] ! ?i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR (Some c3) p' R \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                       dhequality_alternative d PP (pp ([c1] ! ?i)) m2 m2'\n  SRabbr c1 m1 \\<alpha> (Some c3) m2", "obtain p' c3' \\<alpha>' m2' where c1c1'reason:\n              \"p' = Some c3' \\<and> \\<langle>c1',m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and> \n              ([c3],[c3']) \\<in> R \\<and> (\\<alpha>,\\<alpha>') \\<in> R \\<and>\n              dhequality_alternative d PP (pp c1) m2 m2'\""], ["proof (prove)\nusing this:\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  SdlHPPB d PP R\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  \\<lbrakk>SdlHPPB d PP R; ?i < length [c1]; ([c1], [c1']) \\<in> R;\n   SRabbr ([c1] ! ?i) m1 \\<alpha> (Some c3) m2;\n   m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr ([c1'] ! ?i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR (Some c3) p' R \\<and>\n                       (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n                       dhequality_alternative d PP (pp ([c1] ! ?i)) m2 m2'\n  SRabbr c1 m1 \\<alpha> (Some c3) m2\n\ngoal (1 subgoal):\n 1. (\\<And>p' c3' \\<alpha>' m2'.\n        p' = Some c3' \\<and>\n        SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n        ([c3], [c3']) \\<in> R \\<and>\n        (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n        dhequality_alternative d PP (pp c1) m2 m2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (simp add: stepResultsinR_def, fastforce)"], ["proof (state)\nthis:\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "hence conclpart: \n            \"\\<langle>c1';(while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od),m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \n              \\<langle>Some (c3';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od),m2'\\<rangle>\""], ["proof (prove)\nusing this:\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n\ngoal (1 subgoal):\n 1. SRabbr (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od) m1' \\<alpha>'\n     (Some (c3';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)) m2'", "by (auto, simp add: MWLsSteps_det.seq2)"], ["proof (state)\nthis:\n  SRabbr (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od) m1' \\<alpha>'\n   (Some (c3';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)) m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "from c1c1'reason R0pair R0_def R1_def"], ["proof (chain)\npicking this:\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  R0 = R1 \\<union> R2\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}", "have\n              \"([c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od],[c3';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]) \\<in> R0\""], ["proof (prove)\nusing this:\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  R0 = R1 \\<union> R2\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n\ngoal (1 subgoal):\n 1. ([c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od],\n     [c3';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od])\n    \\<in> R0", "by simp"], ["proof (state)\nthis:\n  ([c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od],\n   [c3';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od])\n  \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "with passump V'assump Vassump eqpp conclpart c1c1'reason irange"], ["proof (chain)\npicking this:\n  p = Some (c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n  V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od]\n  pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) = pp c1\n  SRabbr (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od) m1' \\<alpha>'\n   (Some (c3';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)) m2'\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  i < length V\n  ([c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od],\n   [c3';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od])\n  \\<in> R0", "have \"\\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n              stepResultsinR p p' (R0 \\<union> R) \\<and> \n              ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R) \\<and>\n              dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  p = Some (c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od)\n  V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\n  V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od]\n  pp (c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) = pp c1\n  SRabbr (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od) m1' \\<alpha>'\n   (Some (c3';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od)) m2'\n  p' = Some c3' \\<and>\n  SRabbr c1' m1' \\<alpha>' p' m2' \\<and>\n  ([c3], [c3']) \\<in> R \\<and>\n  (\\<alpha>, \\<alpha>') \\<in> R \\<and>\n  dhequality_alternative d PP (pp c1) m2 m2'\n  i < length V\n  ([c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od],\n   [c3';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od])\n  \\<in> R0\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> R) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by (simp add: stepResultsinR_def, auto)"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> R) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "}"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some (c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od);\n   SRabbr c1 m1 \\<alpha> (Some c3) m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n     V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "ultimately"], ["proof (chain)\npicking this:\n  p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and>\n  SRabbr c1 m1 \\<alpha> None m2 \\<or>\n  p = Some (c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and>\n  SRabbr c1 m1 \\<alpha> (Some c3) m2\n  \\<lbrakk>p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od);\n   SRabbr c1 m1 \\<alpha> None m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n  \\<lbrakk>p = Some (c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od);\n   SRabbr c1 m1 \\<alpha> (Some c3) m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "show \"\\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n              stepResultsinR p p' (R0 \\<union> R) \\<and> \n            ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R) \\<and>\n              dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and>\n  SRabbr c1 m1 \\<alpha> None m2 \\<or>\n  p = Some (c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od) \\<and>\n  SRabbr c1 m1 \\<alpha> (Some c3) m2\n  \\<lbrakk>p = Some (while\\<^bsub>\\<iota>\\<^esub> b do c2 od);\n   SRabbr c1 m1 \\<alpha> None m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n  \\<lbrakk>p = Some (c3;while\\<^bsub>\\<iota>\\<^esub> b do c2 od);\n   SRabbr c1 m1 \\<alpha> (Some c3) m2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> R) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by auto"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> R) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal:\nNo subgoals!", "qed\n          \n      \\<comment> \\<open>Case 2: V and V' are while commands\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "have case2: \"\\<lbrakk> V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]; V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od] \\<rbrakk>\n        \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n        stepResultsinR p p' (R0 \\<union> R) \\<and> ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R) \\<and>\n        dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "assume Vassump: \"V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\""], ["proof (state)\nthis:\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "assume V'assump: \"V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\""], ["proof (state)\nthis:\n  V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "from Vassump irange step"], ["proof (chain)\npicking this:\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n  i < length V\n  SRabbr (V ! i) m1 \\<alpha> p m2", "have case_distinction:\n            \"(p = None \\<and> BMap (E b m1) = False)\n            \\<or> p = (Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od)) \\<and> BMap (E b m1) = True\""], ["proof (prove)\nusing this:\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n  i < length V\n  SRabbr (V ! i) m1 \\<alpha> p m2\n\ngoal (1 subgoal):\n 1. p = None \\<and> BMap (E b m1) = False \\<or>\n    p = Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od) \\<and>\n    BMap (E b m1) = True", "by (simp, metis MWLsSteps_det_cases(5) option.simps(2))"], ["proof (state)\nthis:\n  p = None \\<and> BMap (E b m1) = False \\<or>\n  p = Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od) \\<and>\n  BMap (E b m1) = True\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "moreover\n          \\<comment> \\<open>Case 2a: b evaluates to False\\<close>"], ["proof (state)\nthis:\n  p = None \\<and> BMap (E b m1) = False \\<or>\n  p = Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od) \\<and>\n  BMap (E b m1) = True\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "{"], ["proof (state)\nthis:\n  p = None \\<and> BMap (E b m1) = False \\<or>\n  p = Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od) \\<and>\n  BMap (E b m1) = True\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "assume passump: \"p = None\""], ["proof (state)\nthis:\n  p = None\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "assume eval: \"BMap (E b m1) = False\""], ["proof (state)\nthis:\n  BMap (E b m1) = False\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "with Vassump step irange"], ["proof (chain)\npicking this:\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  i < length V\n  BMap (E b m1) = False", "have stepconcl: \"\\<alpha> = [] \\<and> m2 = m1\""], ["proof (prove)\nusing this:\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  i < length V\n  BMap (E b m1) = False\n\ngoal (1 subgoal):\n 1. \\<alpha> = [] \\<and> m2 = m1", "by (simp, metis (no_types) MWLsSteps_det_cases(5))"], ["proof (state)\nthis:\n  \\<alpha> = [] \\<and> m2 = m1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "from eval R0pair dhequal"], ["proof (chain)\npicking this:\n  BMap (E b m1) = False\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'", "have eval': \"BMap (E b' m1') = False\""], ["proof (prove)\nusing this:\n  BMap (E b m1) = False\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. BMap (E b' m1') = False", "by (simp add: d_indistinguishable_def dH_equal_def, auto)"], ["proof (state)\nthis:\n  BMap (E b' m1') = False\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "hence \"\\<langle>while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od,m1'\\<rangle> \\<rightarrow>\\<lhd>[]\\<rhd> \\<langle>None,m1'\\<rangle>\""], ["proof (prove)\nusing this:\n  BMap (E b' m1') = False\n\ngoal (1 subgoal):\n 1. SRabbr (while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od) m1' [] None m1'", "by (simp add: MWLsSteps_det.whilefalse)"], ["proof (state)\nthis:\n  SRabbr (while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od) m1' [] None m1'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "with passump R_def Vassump V'assump stepconcl dhequal irange"], ["proof (chain)\npicking this:\n  p = None\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n  V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\n  \\<alpha> = [] \\<and> m2 = m1\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  i < length V\n  SRabbr (while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od) m1' [] None m1'", "have \"\\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n            stepResultsinR p p' (R0 \\<union> R) \\<and> ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R) \\<and>\n            dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  p = None\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n  V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\n  \\<alpha> = [] \\<and> m2 = m1\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  i < length V\n  SRabbr (while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od) m1' [] None m1'\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> R) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by (simp add: stepResultsinR_def dhequality_alternative_def, \n                auto)"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> R) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "}"], ["proof (state)\nthis:\n  \\<lbrakk>p = None; BMap (E b m1) = False\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "moreover\n          \\<comment> \\<open>Case 2b: b evaluates to True\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>p = None; BMap (E b m1) = False\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "{"], ["proof (state)\nthis:\n  \\<lbrakk>p = None; BMap (E b m1) = False\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "assume passump: \"p = (Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od))\""], ["proof (state)\nthis:\n  p = Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "assume eval: \"BMap (E b m1) = True\""], ["proof (state)\nthis:\n  BMap (E b m1) = True\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "with Vassump step irange"], ["proof (chain)\npicking this:\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  i < length V\n  BMap (E b m1) = True", "have stepconcl: \"\\<alpha> = [] \\<and> m2 = m1\""], ["proof (prove)\nusing this:\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n  SRabbr (V ! i) m1 \\<alpha> p m2\n  i < length V\n  BMap (E b m1) = True\n\ngoal (1 subgoal):\n 1. \\<alpha> = [] \\<and> m2 = m1", "by (simp, metis (no_types) MWLsSteps_det_cases(5))"], ["proof (state)\nthis:\n  \\<alpha> = [] \\<and> m2 = m1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "from eval R0pair dhequal"], ["proof (chain)\npicking this:\n  BMap (E b m1) = True\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'", "have eval': \n              \"BMap (E b' m1') = True\""], ["proof (prove)\nusing this:\n  BMap (E b m1) = True\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n\ngoal (1 subgoal):\n 1. BMap (E b' m1') = True", "by (simp add: d_indistinguishable_def dH_equal_def, auto)"], ["proof (state)\nthis:\n  BMap (E b' m1') = True\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "hence step': \"\\<langle>while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od,m1'\\<rangle> \\<rightarrow>\\<lhd>[]\\<rhd> \n              \\<langle>Some (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od),m1'\\<rangle>\""], ["proof (prove)\nusing this:\n  BMap (E b' m1') = True\n\ngoal (1 subgoal):\n 1. SRabbr (while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od) m1' []\n     (Some (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od)) m1'", "by (simp add: MWLsSteps_det.whiletrue)"], ["proof (state)\nthis:\n  SRabbr (while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od) m1' []\n   (Some (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od)) m1'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "from R1_def R0pair"], ["proof (chain)\npicking this:\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'", "have inR1: \n              \"([c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od],[c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<in> R1\""], ["proof (prove)\nusing this:\n  R1 =\n  {(w1, w2).\n   \\<exists>\\<iota> \\<iota>' b b' c1 c1' c2 c2'.\n      w1 = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n      w2 = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<and>\n      \\<iota> \\<notin> set (PPc c) \\<and>\n      \\<iota>' \\<notin> set (PPc c) \\<and>\n      ([c1], [c1']) \\<in> R \\<and>\n      ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'}\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n\ngoal (1 subgoal):\n 1. ([c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od],\n     [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od])\n    \\<in> R1", "by auto"], ["proof (state)\nthis:\n  ([c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od],\n   [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od])\n  \\<in> R1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "with step' R0_def passump R_def Vassump V'assump \n              stepconcl dhequal irange"], ["proof (chain)\npicking this:\n  SRabbr (while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od) m1' []\n   (Some (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od)) m1'\n  R0 = R1 \\<union> R2\n  p = Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od)\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n  V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\n  \\<alpha> = [] \\<and> m2 = m1\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  i < length V\n  ([c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od],\n   [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od])\n  \\<in> R1", "have \"\\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n            stepResultsinR p p' (R0 \\<union> R) \\<and> ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R) \\<and>\n            dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  SRabbr (while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od) m1' []\n   (Some (c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od)) m1'\n  R0 = R1 \\<union> R2\n  p = Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od)\n  R =\n  {(V, V').\n   (V, V') \\<in> R' \\<and>\n   set (PPV V) \\<subseteq> set (PPc c) \\<and>\n   set (PPV V') \\<subseteq> set (PPc c)} \\<union>\n  {([], [])}\n  V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od]\n  V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\n  \\<alpha> = [] \\<and> m2 = m1\n  m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\n  i < length V\n  ([c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od],\n   [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od])\n  \\<in> R1\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> R) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by (simp add: stepResultsinR_def dhequality_alternative_def, \n                auto)"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> R) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "}"], ["proof (state)\nthis:\n  \\<lbrakk>p = Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od);\n   BMap (E b m1) = True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n     V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n    \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                         SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                         stepResultsinR p p' (R0 \\<union> R) \\<and>\n                         ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                          (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                         dhequality_alternative d PP (pp (V ! i)) m2 m2'", "ultimately"], ["proof (chain)\npicking this:\n  p = None \\<and> BMap (E b m1) = False \\<or>\n  p = Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od) \\<and>\n  BMap (E b m1) = True\n  \\<lbrakk>p = None; BMap (E b m1) = False\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n  \\<lbrakk>p = Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od);\n   BMap (E b m1) = True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "show \"\\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n            stepResultsinR p p' (R0 \\<union> R) \\<and> ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R) \\<and>\n            dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  p = None \\<and> BMap (E b m1) = False \\<or>\n  p = Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od) \\<and>\n  BMap (E b m1) = True\n  \\<lbrakk>p = None; BMap (E b m1) = False\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n  \\<lbrakk>p = Some (c1;while\\<^bsub>\\<iota>\\<^esub> b do c1 od);\n   BMap (E b m1) = True\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> R) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by auto"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> R) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<And>a b i m1 m1' m2 \\<alpha> p.\n       \\<lbrakk>(a, b) \\<in> R0; i < length a;\n        SRabbr (a ! i) m1 \\<alpha> p m2;\n        m1 \\<sim>\\<^bsub>d,htchLocSet PP\\<^esub> m1'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                            SRabbr (b ! i) m1' \\<alpha>' p' m2' \\<and>\n                            stepResultsinR p p' (R0 \\<union> R) \\<and>\n                            ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                             (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                            dhequality_alternative d PP (pp (a ! i)) m2 m2'", "with case1 R0pair"], ["proof (chain)\npicking this:\n  \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "show \"\\<exists>p' \\<alpha>' m2'. \\<langle>V'!i,m1'\\<rangle> \\<rightarrow>\\<lhd>\\<alpha>'\\<rhd> \\<langle>p',m2'\\<rangle> \\<and>\n        stepResultsinR p p' (R0 \\<union> R) \\<and> ((\\<alpha>,\\<alpha>') \\<in> R0 \\<or> (\\<alpha>,\\<alpha>') \\<in> R) \\<and>\n        dhequality_alternative d PP (pp (V!i)) m2 m2'\""], ["proof (prove)\nusing this:\n  \\<lbrakk>V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od];\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od]\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n  (V = [c1;while\\<^bsub>\\<iota>\\<^esub> b do c2 od] \\<and>\n   V' = [c1';while\\<^bsub>\\<iota>'\\<^esub> b' do c2' od] \\<or>\n   V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od] \\<and>\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]) \\<and>\n  \\<iota> \\<notin> set (PPc c) \\<and>\n  \\<iota>' \\<notin> set (PPc c) \\<and>\n  ([c1], [c1']) \\<in> R \\<and>\n  ([c2], [c2']) \\<in> R \\<and> b \\<equiv>\\<^bsub>d\\<^esub> b'\n  \\<lbrakk>V = [while\\<^bsub>\\<iota>\\<^esub> b do c1 od];\n   V' = [while\\<^bsub>\\<iota>'\\<^esub> b' do c1' od]\\<rbrakk>\n  \\<Longrightarrow> \\<exists>p' \\<alpha>' m2'.\n                       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n                       stepResultsinR p p' (R0 \\<union> R) \\<and>\n                       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n                        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n                       dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal (1 subgoal):\n 1. \\<exists>p' \\<alpha>' m2'.\n       SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n       stepResultsinR p p' (R0 \\<union> R) \\<and>\n       ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n        (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n       dhequality_alternative d PP (pp (V ! i)) m2 m2'", "by auto"], ["proof (state)\nthis:\n  \\<exists>p' \\<alpha>' m2'.\n     SRabbr (V' ! i) m1' \\<alpha>' p' m2' \\<and>\n     stepResultsinR p p' (R0 \\<union> R) \\<and>\n     ((\\<alpha>, \\<alpha>') \\<in> R0 \\<or>\n      (\\<alpha>, \\<alpha>') \\<in> R) \\<and>\n     dhequality_alternative d PP (pp (V ! i)) m2 m2'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  disj_dlHPP_Bisimulation_Up_To_R' d PP R R0\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "with Areflassump Up_To_Technique"], ["proof (chain)\npicking this:\n  Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}\n  \\<lbrakk>disj_dlHPP_Bisimulation_Up_To_R' ?d ?PP ?R' ?R;\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  disj_dlHPP_Bisimulation_Up_To_R' d PP R R0", "have \"SdlHPPB d PP (R0 \\<union> R)\""], ["proof (prove)\nusing this:\n  Arefl R0 \\<inter> Arefl R \\<subseteq> {[]}\n  \\<lbrakk>disj_dlHPP_Bisimulation_Up_To_R' ?d ?PP ?R' ?R;\n   Arefl ?R \\<inter> Arefl ?R' \\<subseteq> {[]}\\<rbrakk>\n  \\<Longrightarrow> SdlHPPB ?d ?PP (?R \\<union> ?R')\n  disj_dlHPP_Bisimulation_Up_To_R' d PP R R0\n\ngoal (1 subgoal):\n 1. SdlHPPB d PP (R0 \\<union> R)", "by auto"], ["proof (state)\nthis:\n  SdlHPPB d PP (R0 \\<union> R)\n\ngoal (1 subgoal):\n 1. \\<And>d PP.\n       \\<exists>R.\n          SdlHPPB d PP R \\<and>\n          ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n           [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n          \\<in> R", "with inR2 R0_def"], ["proof (chain)\npicking this:\n  ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n   [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n  \\<in> R2\n  R0 = R1 \\<union> R2\n  SdlHPPB d PP (R0 \\<union> R)", "show \"\\<exists>R. SdlHPPB d PP R \\<and>\n    ([while\\<^bsub>\\<iota>\\<^esub> b do c od], [while\\<^bsub>\\<iota>\\<^esub> b do c od]) \\<in> R\""], ["proof (prove)\nusing this:\n  ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n   [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n  \\<in> R2\n  R0 = R1 \\<union> R2\n  SdlHPPB d PP (R0 \\<union> R)\n\ngoal (1 subgoal):\n 1. \\<exists>R.\n       SdlHPPB d PP R \\<and>\n       ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n        [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n       \\<in> R", "by auto"], ["proof (state)\nthis:\n  \\<exists>R.\n     SdlHPPB d PP R \\<and>\n     ([while\\<^bsub>\\<iota>\\<^esub> b do c od],\n      [while\\<^bsub>\\<iota>\\<^esub> b do c od])\n     \\<in> R\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}