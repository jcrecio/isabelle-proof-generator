{"file_name": "/home/qj213/afp-2021-10-22/thys/Goedel_Incompleteness/Diagonalization.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Goedel_Incompleteness", "problem_names": ["theorem diagonalization:\n  assumes \\<phi>[simp,intro!]: \"\\<phi> \\<in> fmla\" \"Fvars \\<phi> = {xx}\"\n  shows \"\\<exists> \\<psi>. \\<psi> \\<in> fmla \\<and> Fvars \\<psi> = {} \\<and> bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\"", "theorem diag_everything:\n  assumes \"\\<phi> \\<in> fmla\" and \"Fvars \\<phi> = {xx}\"\n  shows \"diag \\<phi> \\<in> fmla \\<and> Fvars (diag \\<phi>) = {} \\<and> bprv (eqv (diag \\<phi>) (subst \\<phi> \\<langle>diag \\<phi>\\<rangle> xx))\"", "lemmas diag[simp] = diag_everything[THEN conjunct1]", "lemmas Fvars_diag[simp] = diag_everything[THEN conjunct2, THEN conjunct1]", "lemmas bprv_diag_eqv = diag_everything[THEN conjunct2, THEN conjunct2]", "theorem diagonalization:\n  assumes \\<phi>[simp,intro!]: \"\\<phi> \\<in> fmla\" \"Fvars \\<phi> = {xx}\"\n  shows \"\\<exists> \\<psi>. \\<psi> \\<in> fmla \\<and> Fvars \\<psi> = {} \\<and> bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\"", "theorem diag_everything:\n  assumes \"\\<phi> \\<in> fmla\" and \"Fvars \\<phi> = {xx}\"\n  shows \"diag \\<phi> \\<in> fmla \\<and> Fvars (diag \\<phi>) = {} \\<and> bprv (eqv (diag \\<phi>) (subst \\<phi> \\<langle>diag \\<phi>\\<rangle> xx))\"", "lemmas diag[simp] = diag_everything[THEN conjunct1]", "lemmas Fvars_diag[simp] = diag_everything[THEN conjunct2, THEN conjunct1]", "lemmas prv_diag_eqv = diag_everything[THEN conjunct2, THEN conjunct2]"], "translations": [["", "theorem diagonalization:\n  assumes \\<phi>[simp,intro!]: \"\\<phi> \\<in> fmla\" \"Fvars \\<phi> = {xx}\"\n  shows \"\\<exists> \\<psi>. \\<psi> \\<in> fmla \\<and> Fvars \\<psi> = {} \\<and> bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "let ?phi = \"\\<lambda> t. subst \\<phi> t xx\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "define \\<chi> where \"\\<chi> \\<equiv> exi yy (cnj (?phi (Var yy)) (SS (Var xx) (Var yy)))\""], ["proof (state)\nthis:\n  \\<chi> \\<equiv>\n  exi yy (cnj (subst \\<phi> (Var yy) xx) (SS (Var xx) (Var yy)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have \\<chi>[simp,intro!]: \"\\<chi> \\<in> fmla\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<chi> \\<in> fmla", "unfolding \\<chi>_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. exi yy (cnj (subst \\<phi> (Var yy) xx) (SS (Var xx) (Var yy)))\n    \\<in> fmla", "by auto"], ["proof (state)\nthis:\n  \\<chi> \\<in> fmla\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "let ?chi = \"\\<lambda> t. subst \\<chi> t xx\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "define \\<psi> where \"\\<psi> \\<equiv> ?chi \\<langle>\\<chi>\\<rangle>\""], ["proof (state)\nthis:\n  \\<psi> \\<equiv> subst \\<chi> \\<langle>\\<chi>\\<rangle> xx\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have \\<psi>[simp,intro!]: \"\\<psi> \\<in> fmla\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> fmla", "unfolding \\<psi>_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. subst \\<chi> \\<langle>\\<chi>\\<rangle> xx \\<in> fmla", "by auto"], ["proof (state)\nthis:\n  \\<psi> \\<in> fmla\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have f\\<chi>[simp]: \"Fvars \\<chi> = {xx}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Fvars \\<chi> = {xx}", "unfolding \\<chi>_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Fvars (exi yy (cnj (subst \\<phi> (Var yy) xx) (SS (Var xx) (Var yy)))) =\n    {xx}", "by auto"], ["proof (state)\nthis:\n  Fvars \\<chi> = {xx}\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "hence Fvars_\\<psi>: \"Fvars \\<psi> = {}\""], ["proof (prove)\nusing this:\n  Fvars \\<chi> = {xx}\n\ngoal (1 subgoal):\n 1. Fvars \\<psi> = {}", "unfolding \\<psi>_def"], ["proof (prove)\nusing this:\n  Fvars \\<chi> = {xx}\n\ngoal (1 subgoal):\n 1. Fvars (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx) = {}", "by auto"], ["proof (state)\nthis:\n  Fvars \\<psi> = {}\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 1: \"bprv (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)", "using subst_implies_prv_SS[OF \\<chi>]"], ["proof (prove)\nusing this:\n  Fvars \\<chi> = {xx} \\<Longrightarrow>\n  bprv\n   (SS \\<langle>\\<chi>\\<rangle>\n     \\<langle>subst \\<chi> \\<langle>\\<chi>\\<rangle> xx\\<rangle>)\n\ngoal (1 subgoal):\n 1. bprv (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)", "unfolding \\<psi>_def"], ["proof (prove)\nusing this:\n  Fvars \\<chi> = {xx} \\<Longrightarrow>\n  bprv\n   (SS \\<langle>\\<chi>\\<rangle>\n     \\<langle>subst \\<chi> \\<langle>\\<chi>\\<rangle> xx\\<rangle>)\n\ngoal (1 subgoal):\n 1. bprv\n     (SS \\<langle>\\<chi>\\<rangle>\n       \\<langle>subst \\<chi> \\<langle>\\<chi>\\<rangle> xx\\<rangle>)", "by simp"], ["proof (state)\nthis:\n  bprv (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 2: \"bprv (all yy' (\n             imp (cnj (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n                      (SS \\<langle>\\<chi>\\<rangle> (Var yy')))\n                 (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy'\n       (imp (cnj (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n              (SS \\<langle>\\<chi>\\<rangle> (Var yy')))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))", "using Fvars_\\<psi> B.prv_allE[OF _ _ _ SS_unique, of \\<chi> \"\\<langle>\\<psi>\\<rangle>\"]"], ["proof (prove)\nusing this:\n  Fvars \\<psi> = {}\n  \\<lbrakk>yy \\<in> var;\n   all yy'\n    (imp (cnj (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n           (SS \\<langle>\\<chi>\\<rangle> (Var yy')))\n      (eql (Var yy) (Var yy')))\n   \\<in> fmla;\n   \\<langle>\\<psi>\\<rangle> \\<in> trm; \\<chi> \\<in> fmla;\n   Fvars \\<chi> = {xx}\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (subst\n                       (all yy'\n                         (imp (cnj (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n                                (SS \\<langle>\\<chi>\\<rangle> (Var yy')))\n                           (eql (Var yy) (Var yy'))))\n                       \\<langle>\\<psi>\\<rangle> yy)\n\ngoal (1 subgoal):\n 1. bprv\n     (all yy'\n       (imp (cnj (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n              (SS \\<langle>\\<chi>\\<rangle> (Var yy')))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))", "by fastforce"], ["proof (state)\nthis:\n  bprv\n   (all yy'\n     (imp (cnj (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n            (SS \\<langle>\\<chi>\\<rangle> (Var yy')))\n       (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 31: \"bprv (all yy'\n                     (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n                          (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n                               (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy'\n       (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n         (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n           (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))", "using B.prv_all_imp_cnj_rev[OF _ _ _ _ 2]"], ["proof (prove)\nusing this:\n  \\<lbrakk>yy' \\<in> var;\n   SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle> \\<in> fmla;\n   eql \\<langle>\\<psi>\\<rangle> (Var yy') \\<in> fmla;\n   SS \\<langle>\\<chi>\\<rangle> (Var yy') \\<in> fmla\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (all yy'\n                       (imp (SS \\<langle>\\<chi>\\<rangle>\n                              \\<langle>\\<psi>\\<rangle>)\n                         (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n                           (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))\n\ngoal (1 subgoal):\n 1. bprv\n     (all yy'\n       (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n         (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n           (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))", "by simp"], ["proof (state)\nthis:\n  bprv\n   (all yy'\n     (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 32: \"bprv (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n                      (all yy' (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n                                    (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n       (all yy'\n         (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n           (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))", "by (intro B.prv_all_imp[OF _ _ _ _ 31]) (auto simp: SS_def2)"], ["proof (state)\nthis:\n  bprv\n   (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n     (all yy'\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 33: \"bprv (all yy' (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n                               (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy'\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))", "by (rule B.prv_imp_mp [OF _ _ 32 1]) auto"], ["proof (state)\nthis:\n  bprv\n   (all yy'\n     (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n       (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 3: \"bprv (all yy (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n                             (eql \\<langle>\\<psi>\\<rangle> (Var yy))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy))))", "using B.all_subst_rename_prv[OF _ _ _ _ 33, of yy]"], ["proof (prove)\nusing this:\n  \\<lbrakk>imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n            (eql \\<langle>\\<psi>\\<rangle> (Var yy'))\n           \\<in> fmla;\n   yy' \\<in> var; yy \\<in> var;\n   yy \\<notin> Fvars\n                (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n                  (eql \\<langle>\\<psi>\\<rangle> (Var yy')))\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (all yy\n                       (subst\n                         (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n                           (eql \\<langle>\\<psi>\\<rangle> (Var yy')))\n                         (Var yy) yy'))\n\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy))))", "by fastforce"], ["proof (state)\nthis:\n  bprv\n   (all yy\n     (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n       (eql \\<langle>\\<psi>\\<rangle> (Var yy))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 41: \"bprv (imp (?phi \\<langle>\\<psi>\\<rangle>)\n                      (cnj (?phi \\<langle>\\<psi>\\<rangle>)\n                           (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (cnj (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n         (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)))", "by (auto intro: in_num B.prv_imp_cnj B.prv_imp_refl B.prv_imp_triv[OF _ _ 1])"], ["proof (state)\nthis:\n  bprv\n   (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     (cnj (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have [simp]: \"subst (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx) \\<langle>\\<psi>\\<rangle> yy = subst \\<phi> \\<langle>\\<psi>\\<rangle> xx\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     \\<langle>\\<psi>\\<rangle> yy =\n    subst \\<phi> \\<langle>\\<psi>\\<rangle> xx", "by (intro subst_notIn) auto"], ["proof (state)\nthis:\n  subst (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx) \\<langle>\\<psi>\\<rangle>\n   yy =\n  subst \\<phi> \\<langle>\\<psi>\\<rangle> xx\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have [simp]: \"subst (subst \\<phi> (Var yy) xx) \\<langle>\\<psi>\\<rangle> yy = subst \\<phi> \\<langle>\\<psi>\\<rangle> xx\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst (subst \\<phi> (Var yy) xx) \\<langle>\\<psi>\\<rangle> yy =\n    subst \\<phi> \\<langle>\\<psi>\\<rangle> xx", "by (intro subst_subst) auto"], ["proof (state)\nthis:\n  subst (subst \\<phi> (Var yy) xx) \\<langle>\\<psi>\\<rangle> yy =\n  subst \\<phi> \\<langle>\\<psi>\\<rangle> xx\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 42: \"bprv (exi yy (imp (?phi \\<langle>\\<psi>\\<rangle>)\n                              (cnj (?phi (Var yy))\n                                   (SS \\<langle>\\<chi>\\<rangle> (Var yy)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (exi yy\n       (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n         (cnj (subst \\<phi> (Var yy) xx)\n           (SS \\<langle>\\<chi>\\<rangle> (Var yy)))))", "using 41"], ["proof (prove)\nusing this:\n  bprv\n   (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     (cnj (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)))\n\ngoal (1 subgoal):\n 1. bprv\n     (exi yy\n       (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n         (cnj (subst \\<phi> (Var yy) xx)\n           (SS \\<langle>\\<chi>\\<rangle> (Var yy)))))", "by (intro B.prv_exiI[of _ _ \"\\<langle>\\<psi>\\<rangle>\"]) auto"], ["proof (state)\nthis:\n  bprv\n   (exi yy\n     (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (cnj (subst \\<phi> (Var yy) xx)\n         (SS \\<langle>\\<chi>\\<rangle> (Var yy)))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 4: \"bprv (imp (?phi \\<langle>\\<psi>\\<rangle>) (?chi \\<langle>\\<chi>\\<rangle>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))", "using B.prv_imp_exi[OF _ _ _ _ 42,simplified]"], ["proof (prove)\nusing this:\n  bprv\n   (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     (exi yy\n       (cnj (subst \\<phi> (Var yy) xx)\n         (SS \\<langle>\\<chi>\\<rangle> (Var yy)))))\n\ngoal (1 subgoal):\n 1. bprv\n     (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))", "by (subst \\<chi>_def) (auto simp add: subst_comp_num)"], ["proof (state)\nthis:\n  bprv\n   (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 50: \"bprv (all yy (\n          (imp (eql \\<langle>\\<psi>\\<rangle> (Var yy))\n               (imp (?phi (Var yy))\n                    (?phi \\<langle>\\<psi>\\<rangle>)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (eql \\<langle>\\<psi>\\<rangle> (Var yy))\n         (imp (subst \\<phi> (Var yy) xx)\n           (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))", "using B.prv_all_eql[of yy xx \\<phi> \"\\<langle>\\<psi>\\<rangle>\" \"Var yy\"]"], ["proof (prove)\nusing this:\n  \\<lbrakk>yy \\<in> var; xx \\<in> var; \\<phi> \\<in> fmla;\n   \\<langle>\\<psi>\\<rangle> \\<in> trm; Var yy \\<in> trm\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (all yy\n                       (imp (eql \\<langle>\\<psi>\\<rangle> (Var yy))\n                         (imp (subst \\<phi> (Var yy) xx)\n                           (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))\n\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (eql \\<langle>\\<psi>\\<rangle> (Var yy))\n         (imp (subst \\<phi> (Var yy) xx)\n           (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))", "by simp"], ["proof (state)\nthis:\n  bprv\n   (all yy\n     (imp (eql \\<langle>\\<psi>\\<rangle> (Var yy))\n       (imp (subst \\<phi> (Var yy) xx)\n         (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 51: \"bprv (all yy (\n          (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n               (imp (?phi (Var yy))\n               (?phi \\<langle>\\<psi>\\<rangle>)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n         (imp (subst \\<phi> (Var yy) xx)\n           (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))", "using B.prv_all_imp_trans[OF _ _ _ _ 3 50]"], ["proof (prove)\nusing this:\n  \\<lbrakk>yy \\<in> var; SS \\<langle>\\<chi>\\<rangle> (Var yy) \\<in> fmla;\n   eql \\<langle>\\<psi>\\<rangle> (Var yy) \\<in> fmla;\n   imp (subst \\<phi> (Var yy) xx) (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n   \\<in> fmla\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (all yy\n                       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n                         (imp (subst \\<phi> (Var yy) xx)\n                           (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))\n\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n         (imp (subst \\<phi> (Var yy) xx)\n           (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))", "by simp"], ["proof (state)\nthis:\n  bprv\n   (all yy\n     (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n       (imp (subst \\<phi> (Var yy) xx)\n         (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 52: \"bprv (all yy (\n          (imp (cnj (?phi (Var yy))\n                    (SS \\<langle>\\<chi>\\<rangle> (Var yy)))\n               (?phi \\<langle>\\<psi>\\<rangle>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (cnj (subst \\<phi> (Var yy) xx)\n              (SS \\<langle>\\<chi>\\<rangle> (Var yy)))\n         (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))", "using B.prv_all_imp_cnj[OF _ _ _ _ 51]"], ["proof (prove)\nusing this:\n  \\<lbrakk>yy \\<in> var; SS \\<langle>\\<chi>\\<rangle> (Var yy) \\<in> fmla;\n   subst \\<phi> \\<langle>\\<psi>\\<rangle> xx \\<in> fmla;\n   subst \\<phi> (Var yy) xx \\<in> fmla\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (all yy\n                       (imp (cnj (subst \\<phi> (Var yy) xx)\n                              (SS \\<langle>\\<chi>\\<rangle> (Var yy)))\n                         (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))\n\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (cnj (subst \\<phi> (Var yy) xx)\n              (SS \\<langle>\\<chi>\\<rangle> (Var yy)))\n         (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))", "by simp"], ["proof (state)\nthis:\n  bprv\n   (all yy\n     (imp (cnj (subst \\<phi> (Var yy) xx)\n            (SS \\<langle>\\<chi>\\<rangle> (Var yy)))\n       (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 5: \"bprv (imp (?chi \\<langle>\\<chi>\\<rangle>) (?phi \\<langle>\\<psi>\\<rangle>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "using B.prv_exi_imp[OF _ _ _ _ 52,simplified]"], ["proof (prove)\nusing this:\n  bprv\n   (imp (exi yy\n          (cnj (subst \\<phi> (Var yy) xx)\n            (SS \\<langle>\\<chi>\\<rangle> (Var yy))))\n     (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. bprv\n     (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "by (subst \\<chi>_def) (simp add: subst_comp_num)"], ["proof (state)\nthis:\n  bprv\n   (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 6: \"bprv (eqv (?chi \\<langle>\\<chi>\\<rangle>) (?phi \\<langle>\\<psi>\\<rangle>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (eqv (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "using B.prv_cnjI[OF _ _ 5 4]"], ["proof (prove)\nusing this:\n  \\<lbrakk>imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n            (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n           \\<in> fmla;\n   imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n    (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n   \\<in> fmla\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (cnj (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n                            (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n                       (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n                         (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)))\n\ngoal (1 subgoal):\n 1. bprv\n     (eqv (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "unfolding eqv_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n            (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n           \\<in> fmla;\n   imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n    (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n   \\<in> fmla\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (cnj (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n                            (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n                       (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n                         (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)))\n\ngoal (1 subgoal):\n 1. bprv\n     (cnj (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n            (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n       (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n         (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)))", "by simp"], ["proof (state)\nthis:\n  bprv\n   (eqv (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 7: \"bprv (eqv \\<psi> (?phi \\<langle>\\<psi>\\<rangle>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "using 6"], ["proof (prove)\nusing this:\n  bprv\n   (eqv (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "unfolding \\<psi>_def"], ["proof (prove)\nusing this:\n  bprv\n   (eqv (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<phi>\n       \\<langle>subst \\<chi> \\<langle>\\<chi>\\<rangle> xx\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. bprv\n     (eqv (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (subst \\<phi>\n         \\<langle>subst \\<chi> \\<langle>\\<chi>\\<rangle> xx\\<rangle> xx))", "."], ["proof (state)\nthis:\n  bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "using \\<psi> 7 Fvars_\\<psi>"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> fmla\n  bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n  Fvars \\<psi> = {}\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "by blast"], ["proof (state)\nthis:\n  \\<exists>\\<psi>.\n     \\<psi> \\<in> fmla \\<and>\n     Fvars \\<psi> = {} \\<and>\n     bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Making this existential into a function.\\<close>"], ["", "definition diag :: \"'fmla \\<Rightarrow> 'fmla\" where\n  \"diag \\<phi> \\<equiv> SOME \\<psi>. \\<psi> \\<in> fmla \\<and> Fvars \\<psi> = {} \\<and> bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\""], ["", "theorem diag_everything:\n  assumes \"\\<phi> \\<in> fmla\" and \"Fvars \\<phi> = {xx}\"\n  shows \"diag \\<phi> \\<in> fmla \\<and> Fvars (diag \\<phi>) = {} \\<and> bprv (eqv (diag \\<phi>) (subst \\<phi> \\<langle>diag \\<phi>\\<rangle> xx))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. diag \\<phi> \\<in> fmla \\<and>\n    Fvars (diag \\<phi>) = {} \\<and>\n    bprv (eqv (diag \\<phi>) (subst \\<phi> \\<langle>diag \\<phi>\\<rangle> xx))", "unfolding diag_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (SOME \\<psi>.\n        \\<psi> \\<in> fmla \\<and>\n        Fvars \\<psi> = {} \\<and>\n        bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))\n    \\<in> fmla \\<and>\n    Fvars\n     (SOME \\<psi>.\n         \\<psi> \\<in> fmla \\<and>\n         Fvars \\<psi> = {} \\<and>\n         bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))) =\n    {} \\<and>\n    bprv\n     (eqv (SOME \\<psi>.\n              \\<psi> \\<in> fmla \\<and>\n              Fvars \\<psi> = {} \\<and>\n              bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))\n       (subst \\<phi>\n         \\<langle>SOME \\<psi>.\n                     \\<psi> \\<in> fmla \\<and>\n                     Fvars \\<psi> = {} \\<and>\n                     bprv\n                      (eqv \\<psi>\n                        (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\\<rangle>\n         xx))", "using someI_ex[OF diagonalization[OF assms]]"], ["proof (prove)\nusing this:\n  (SOME x.\n      x \\<in> fmla \\<and>\n      Fvars x = {} \\<and>\n      bprv (eqv x (subst \\<phi> \\<langle>x\\<rangle> xx)))\n  \\<in> fmla \\<and>\n  Fvars\n   (SOME x.\n       x \\<in> fmla \\<and>\n       Fvars x = {} \\<and>\n       bprv (eqv x (subst \\<phi> \\<langle>x\\<rangle> xx))) =\n  {} \\<and>\n  bprv\n   (eqv (SOME x.\n            x \\<in> fmla \\<and>\n            Fvars x = {} \\<and>\n            bprv (eqv x (subst \\<phi> \\<langle>x\\<rangle> xx)))\n     (subst \\<phi>\n       \\<langle>SOME x.\n                   x \\<in> fmla \\<and>\n                   Fvars x = {} \\<and>\n                   bprv\n                    (eqv x (subst \\<phi> \\<langle>x\\<rangle> xx))\\<rangle>\n       xx))\n\ngoal (1 subgoal):\n 1. (SOME \\<psi>.\n        \\<psi> \\<in> fmla \\<and>\n        Fvars \\<psi> = {} \\<and>\n        bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))\n    \\<in> fmla \\<and>\n    Fvars\n     (SOME \\<psi>.\n         \\<psi> \\<in> fmla \\<and>\n         Fvars \\<psi> = {} \\<and>\n         bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))) =\n    {} \\<and>\n    bprv\n     (eqv (SOME \\<psi>.\n              \\<psi> \\<in> fmla \\<and>\n              Fvars \\<psi> = {} \\<and>\n              bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))\n       (subst \\<phi>\n         \\<langle>SOME \\<psi>.\n                     \\<psi> \\<in> fmla \\<and>\n                     Fvars \\<psi> = {} \\<and>\n                     bprv\n                      (eqv \\<psi>\n                        (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\\<rangle>\n         xx))", "."], ["", "lemmas diag[simp] = diag_everything[THEN conjunct1]"], ["", "lemmas Fvars_diag[simp] = diag_everything[THEN conjunct2, THEN conjunct1]"], ["", "lemmas bprv_diag_eqv = diag_everything[THEN conjunct2, THEN conjunct2]"], ["", "end \\<comment> \\<open>context @{locale Repr_SelfSubst}\\<close>"], ["", "section \\<open>Alternative Diagonalization via Soft Self-Substitution\\<close>"], ["", "context Repr_SelfSoftSubst\nbegin"], ["", "theorem diagonalization:\n  assumes \\<phi>[simp,intro!]: \"\\<phi> \\<in> fmla\" \"Fvars \\<phi> = {xx}\"\n  shows \"\\<exists> \\<psi>. \\<psi> \\<in> fmla \\<and> Fvars \\<psi> = {} \\<and> bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "let ?phi = \"\\<lambda> t. subst \\<phi> t xx\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "define \\<chi> where \"\\<chi> \\<equiv> exi yy (cnj (?phi (Var yy)) (SS (Var xx) (Var yy)))\""], ["proof (state)\nthis:\n  \\<chi> \\<equiv>\n  exi yy (cnj (subst \\<phi> (Var yy) xx) (SS (Var xx) (Var yy)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have \\<chi>[simp,intro!]: \"\\<chi> \\<in> fmla\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<chi> \\<in> fmla", "unfolding \\<chi>_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. exi yy (cnj (subst \\<phi> (Var yy) xx) (SS (Var xx) (Var yy)))\n    \\<in> fmla", "by auto"], ["proof (state)\nthis:\n  \\<chi> \\<in> fmla\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "let ?chi = \"\\<lambda> t. softSubst \\<chi> t xx\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "define \\<psi> where \"\\<psi> \\<equiv> ?chi \\<langle>\\<chi>\\<rangle>\""], ["proof (state)\nthis:\n  \\<psi> \\<equiv> softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have \\<psi>[simp,intro!]: \"\\<psi> \\<in> fmla\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> fmla", "unfolding \\<psi>_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx \\<in> fmla", "by auto"], ["proof (state)\nthis:\n  \\<psi> \\<in> fmla\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have f\\<chi>[simp]: \"Fvars \\<chi> = {xx}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Fvars \\<chi> = {xx}", "unfolding \\<chi>_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Fvars (exi yy (cnj (subst \\<phi> (Var yy) xx) (SS (Var xx) (Var yy)))) =\n    {xx}", "by auto"], ["proof (state)\nthis:\n  Fvars \\<chi> = {xx}\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "hence Fvars_\\<psi>: \"Fvars \\<psi> = {}\""], ["proof (prove)\nusing this:\n  Fvars \\<chi> = {xx}\n\ngoal (1 subgoal):\n 1. Fvars \\<psi> = {}", "unfolding \\<psi>_def"], ["proof (prove)\nusing this:\n  Fvars \\<chi> = {xx}\n\ngoal (1 subgoal):\n 1. Fvars (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx) = {}", "by auto"], ["proof (state)\nthis:\n  Fvars \\<psi> = {}\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 1: \"bprv (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)", "using softSubst_implies_prv_SS[OF \\<chi>]"], ["proof (prove)\nusing this:\n  Fvars \\<chi> = {xx} \\<Longrightarrow>\n  bprv\n   (SS \\<langle>\\<chi>\\<rangle>\n     \\<langle>softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx\\<rangle>)\n\ngoal (1 subgoal):\n 1. bprv (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)", "unfolding \\<psi>_def"], ["proof (prove)\nusing this:\n  Fvars \\<chi> = {xx} \\<Longrightarrow>\n  bprv\n   (SS \\<langle>\\<chi>\\<rangle>\n     \\<langle>softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx\\<rangle>)\n\ngoal (1 subgoal):\n 1. bprv\n     (SS \\<langle>\\<chi>\\<rangle>\n       \\<langle>softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx\\<rangle>)", "by simp"], ["proof (state)\nthis:\n  bprv (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 2: \"bprv (all yy' (\n             imp (cnj (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n                      (SS \\<langle>\\<chi>\\<rangle> (Var yy')))\n                 (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy'\n       (imp (cnj (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n              (SS \\<langle>\\<chi>\\<rangle> (Var yy')))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))", "using Fvars_\\<psi> B.prv_allE[OF _ _ _ SS_unique, of \\<chi> \"\\<langle>\\<psi>\\<rangle>\"]"], ["proof (prove)\nusing this:\n  Fvars \\<psi> = {}\n  \\<lbrakk>yy \\<in> var;\n   all yy'\n    (imp (cnj (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n           (SS \\<langle>\\<chi>\\<rangle> (Var yy')))\n      (eql (Var yy) (Var yy')))\n   \\<in> fmla;\n   \\<langle>\\<psi>\\<rangle> \\<in> trm; \\<chi> \\<in> fmla;\n   Fvars \\<chi> = {xx}\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (subst\n                       (all yy'\n                         (imp (cnj (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n                                (SS \\<langle>\\<chi>\\<rangle> (Var yy')))\n                           (eql (Var yy) (Var yy'))))\n                       \\<langle>\\<psi>\\<rangle> yy)\n\ngoal (1 subgoal):\n 1. bprv\n     (all yy'\n       (imp (cnj (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n              (SS \\<langle>\\<chi>\\<rangle> (Var yy')))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))", "by fastforce"], ["proof (state)\nthis:\n  bprv\n   (all yy'\n     (imp (cnj (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n            (SS \\<langle>\\<chi>\\<rangle> (Var yy')))\n       (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 31: \"bprv (all yy'\n                     (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n                          (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n                               (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy'\n       (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n         (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n           (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))", "using B.prv_all_imp_cnj_rev[OF _ _ _ _ 2]"], ["proof (prove)\nusing this:\n  \\<lbrakk>yy' \\<in> var;\n   SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle> \\<in> fmla;\n   eql \\<langle>\\<psi>\\<rangle> (Var yy') \\<in> fmla;\n   SS \\<langle>\\<chi>\\<rangle> (Var yy') \\<in> fmla\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (all yy'\n                       (imp (SS \\<langle>\\<chi>\\<rangle>\n                              \\<langle>\\<psi>\\<rangle>)\n                         (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n                           (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))\n\ngoal (1 subgoal):\n 1. bprv\n     (all yy'\n       (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n         (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n           (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))", "by simp"], ["proof (state)\nthis:\n  bprv\n   (all yy'\n     (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 32: \"bprv (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n                     (all yy' (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n                                   (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n       (all yy'\n         (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n           (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))", "by (intro B.prv_all_imp[OF _ _ _ _ 31]) (auto simp: SS_def2)"], ["proof (state)\nthis:\n  bprv\n   (imp (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)\n     (all yy'\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy')))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 33: \"bprv (all yy' (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n                              (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy'\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))", "by (rule B.prv_imp_mp [OF _ _ 32 1]) auto"], ["proof (state)\nthis:\n  bprv\n   (all yy'\n     (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n       (eql \\<langle>\\<psi>\\<rangle> (Var yy'))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 3: \"bprv (all yy (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n                            (eql \\<langle>\\<psi>\\<rangle> (Var yy))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy))))", "using B.all_subst_rename_prv[OF _ _ _ _ 33, of yy]"], ["proof (prove)\nusing this:\n  \\<lbrakk>imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n            (eql \\<langle>\\<psi>\\<rangle> (Var yy'))\n           \\<in> fmla;\n   yy' \\<in> var; yy \\<in> var;\n   yy \\<notin> Fvars\n                (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n                  (eql \\<langle>\\<psi>\\<rangle> (Var yy')))\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (all yy\n                       (subst\n                         (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy'))\n                           (eql \\<langle>\\<psi>\\<rangle> (Var yy')))\n                         (Var yy) yy'))\n\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n         (eql \\<langle>\\<psi>\\<rangle> (Var yy))))", "by fastforce"], ["proof (state)\nthis:\n  bprv\n   (all yy\n     (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n       (eql \\<langle>\\<psi>\\<rangle> (Var yy))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 41: \"bprv (imp (?phi \\<langle>\\<psi>\\<rangle>)\n                     (cnj (?phi \\<langle>\\<psi>\\<rangle>)\n                          (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (cnj (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n         (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)))", "by (auto intro: in_num B.prv_imp_cnj B.prv_imp_refl B.prv_imp_triv[OF _ _ 1])"], ["proof (state)\nthis:\n  bprv\n   (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     (cnj (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have [simp]: \"subst (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx) \\<langle>\\<psi>\\<rangle> yy = subst \\<phi> \\<langle>\\<psi>\\<rangle> xx\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     \\<langle>\\<psi>\\<rangle> yy =\n    subst \\<phi> \\<langle>\\<psi>\\<rangle> xx", "by (intro subst_notIn) auto"], ["proof (state)\nthis:\n  subst (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx) \\<langle>\\<psi>\\<rangle>\n   yy =\n  subst \\<phi> \\<langle>\\<psi>\\<rangle> xx\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have [simp]: \"subst (subst \\<phi> (Var yy) xx) \\<langle>\\<psi>\\<rangle> yy = subst \\<phi> \\<langle>\\<psi>\\<rangle> xx\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst (subst \\<phi> (Var yy) xx) \\<langle>\\<psi>\\<rangle> yy =\n    subst \\<phi> \\<langle>\\<psi>\\<rangle> xx", "by (intro subst_subst) auto"], ["proof (state)\nthis:\n  subst (subst \\<phi> (Var yy) xx) \\<langle>\\<psi>\\<rangle> yy =\n  subst \\<phi> \\<langle>\\<psi>\\<rangle> xx\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 42: \"bprv (exi yy (imp (?phi \\<langle>\\<psi>\\<rangle>)\n                             (cnj (?phi (Var yy))\n                                  (SS \\<langle>\\<chi>\\<rangle> (Var yy)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (exi yy\n       (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n         (cnj (subst \\<phi> (Var yy) xx)\n           (SS \\<langle>\\<chi>\\<rangle> (Var yy)))))", "using 41"], ["proof (prove)\nusing this:\n  bprv\n   (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     (cnj (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (SS \\<langle>\\<chi>\\<rangle> \\<langle>\\<psi>\\<rangle>)))\n\ngoal (1 subgoal):\n 1. bprv\n     (exi yy\n       (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n         (cnj (subst \\<phi> (Var yy) xx)\n           (SS \\<langle>\\<chi>\\<rangle> (Var yy)))))", "by (intro B.prv_exiI[of _ _ \"\\<langle>\\<psi>\\<rangle>\"]) auto"], ["proof (state)\nthis:\n  bprv\n   (exi yy\n     (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (cnj (subst \\<phi> (Var yy) xx)\n         (SS \\<langle>\\<chi>\\<rangle> (Var yy)))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 4: \"bprv (imp (?phi \\<langle>\\<psi>\\<rangle>) (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))", "using B.prv_imp_exi[OF _ _ _ _ 42,simplified]"], ["proof (prove)\nusing this:\n  bprv\n   (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     (exi yy\n       (cnj (subst \\<phi> (Var yy) xx)\n         (SS \\<langle>\\<chi>\\<rangle> (Var yy)))))\n\ngoal (1 subgoal):\n 1. bprv\n     (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))", "by (subst \\<chi>_def) (auto simp add: subst_comp_num)"], ["proof (state)\nthis:\n  bprv\n   (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "moreover"], ["proof (state)\nthis:\n  bprv\n   (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have \"bprv (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx) (?chi \\<langle>\\<chi>\\<rangle>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx))", "by (rule B.prv_subst_imp_softSubst) auto"], ["proof (state)\nthis:\n  bprv\n   (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "ultimately"], ["proof (chain)\npicking this:\n  bprv\n   (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\n  bprv\n   (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx))", "have 4: \"bprv (imp (?phi \\<langle>\\<psi>\\<rangle>) (?chi \\<langle>\\<chi>\\<rangle>))\""], ["proof (prove)\nusing this:\n  bprv\n   (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\n  bprv\n   (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. bprv\n     (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n       (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx))", "by (rule B.prv_prv_imp_trans[rotated -2]) auto"], ["proof (state)\nthis:\n  bprv\n   (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n     (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 50: \"bprv (all yy (\n          (imp (eql \\<langle>\\<psi>\\<rangle> (Var yy))\n               (imp (?phi (Var yy))\n                    (?phi \\<langle>\\<psi>\\<rangle>)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (eql \\<langle>\\<psi>\\<rangle> (Var yy))\n         (imp (subst \\<phi> (Var yy) xx)\n           (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))", "using B.prv_all_eql[of yy xx \\<phi> \"\\<langle>\\<psi>\\<rangle>\" \"Var yy\"]"], ["proof (prove)\nusing this:\n  \\<lbrakk>yy \\<in> var; xx \\<in> var; \\<phi> \\<in> fmla;\n   \\<langle>\\<psi>\\<rangle> \\<in> trm; Var yy \\<in> trm\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (all yy\n                       (imp (eql \\<langle>\\<psi>\\<rangle> (Var yy))\n                         (imp (subst \\<phi> (Var yy) xx)\n                           (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))\n\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (eql \\<langle>\\<psi>\\<rangle> (Var yy))\n         (imp (subst \\<phi> (Var yy) xx)\n           (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))", "by simp"], ["proof (state)\nthis:\n  bprv\n   (all yy\n     (imp (eql \\<langle>\\<psi>\\<rangle> (Var yy))\n       (imp (subst \\<phi> (Var yy) xx)\n         (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 51: \"bprv (all yy (\n          (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n               (imp (?phi (Var yy))\n               (?phi \\<langle>\\<psi>\\<rangle>)))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n         (imp (subst \\<phi> (Var yy) xx)\n           (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))", "using B.prv_all_imp_trans[OF _ _ _ _ 3 50]"], ["proof (prove)\nusing this:\n  \\<lbrakk>yy \\<in> var; SS \\<langle>\\<chi>\\<rangle> (Var yy) \\<in> fmla;\n   eql \\<langle>\\<psi>\\<rangle> (Var yy) \\<in> fmla;\n   imp (subst \\<phi> (Var yy) xx) (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n   \\<in> fmla\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (all yy\n                       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n                         (imp (subst \\<phi> (Var yy) xx)\n                           (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))\n\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n         (imp (subst \\<phi> (Var yy) xx)\n           (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))", "by simp"], ["proof (state)\nthis:\n  bprv\n   (all yy\n     (imp (SS \\<langle>\\<chi>\\<rangle> (Var yy))\n       (imp (subst \\<phi> (Var yy) xx)\n         (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 52: \"bprv (all yy (\n          (imp (cnj (?phi (Var yy))\n                    (SS \\<langle>\\<chi>\\<rangle> (Var yy)))\n               (?phi \\<langle>\\<psi>\\<rangle>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (cnj (subst \\<phi> (Var yy) xx)\n              (SS \\<langle>\\<chi>\\<rangle> (Var yy)))\n         (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))", "using B.prv_all_imp_cnj[OF _ _ _ _ 51]"], ["proof (prove)\nusing this:\n  \\<lbrakk>yy \\<in> var; SS \\<langle>\\<chi>\\<rangle> (Var yy) \\<in> fmla;\n   subst \\<phi> \\<langle>\\<psi>\\<rangle> xx \\<in> fmla;\n   subst \\<phi> (Var yy) xx \\<in> fmla\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (all yy\n                       (imp (cnj (subst \\<phi> (Var yy) xx)\n                              (SS \\<langle>\\<chi>\\<rangle> (Var yy)))\n                         (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))\n\ngoal (1 subgoal):\n 1. bprv\n     (all yy\n       (imp (cnj (subst \\<phi> (Var yy) xx)\n              (SS \\<langle>\\<chi>\\<rangle> (Var yy)))\n         (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))", "by simp"], ["proof (state)\nthis:\n  bprv\n   (all yy\n     (imp (cnj (subst \\<phi> (Var yy) xx)\n            (SS \\<langle>\\<chi>\\<rangle> (Var yy)))\n       (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have \"bprv (imp (?chi \\<langle>\\<chi>\\<rangle>) (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (imp (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))", "by (rule B.prv_softSubst_imp_subst) auto"], ["proof (state)\nthis:\n  bprv\n   (imp (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "moreover"], ["proof (state)\nthis:\n  bprv\n   (imp (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have \"bprv (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx) (?phi \\<langle>\\<psi>\\<rangle>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "using B.prv_exi_imp[OF _ _ _ _ 52,simplified]"], ["proof (prove)\nusing this:\n  bprv\n   (imp (exi yy\n          (cnj (subst \\<phi> (Var yy) xx)\n            (SS \\<langle>\\<chi>\\<rangle> (Var yy))))\n     (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. bprv\n     (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "by (subst \\<chi>_def) (simp add: subst_comp_num)"], ["proof (state)\nthis:\n  bprv\n   (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "ultimately"], ["proof (chain)\npicking this:\n  bprv\n   (imp (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\n  bprv\n   (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 5: \"bprv (imp (?chi \\<langle>\\<chi>\\<rangle>) (?phi \\<langle>\\<psi>\\<rangle>))\""], ["proof (prove)\nusing this:\n  bprv\n   (imp (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx))\n  bprv\n   (imp (subst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. bprv\n     (imp (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "by (rule B.prv_prv_imp_trans[rotated -2]) auto"], ["proof (state)\nthis:\n  bprv\n   (imp (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 6: \"bprv (eqv (?chi \\<langle>\\<chi>\\<rangle>) (?phi \\<langle>\\<psi>\\<rangle>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv\n     (eqv (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "using B.prv_cnjI[OF _ _ 5 4]"], ["proof (prove)\nusing this:\n  \\<lbrakk>imp (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n            (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n           \\<in> fmla;\n   imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n    (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n   \\<in> fmla\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (cnj (imp (softSubst \\<chi> \\<langle>\\<chi>\\<rangle>\n                                 xx)\n                            (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n                       (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n                         (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)))\n\ngoal (1 subgoal):\n 1. bprv\n     (eqv (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "unfolding eqv_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>imp (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n            (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n           \\<in> fmla;\n   imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n    (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n   \\<in> fmla\\<rbrakk>\n  \\<Longrightarrow> bprv\n                     (cnj (imp (softSubst \\<chi> \\<langle>\\<chi>\\<rangle>\n                                 xx)\n                            (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n                       (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n                         (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)))\n\ngoal (1 subgoal):\n 1. bprv\n     (cnj (imp (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n            (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n       (imp (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)\n         (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)))", "by simp"], ["proof (state)\nthis:\n  bprv\n   (eqv (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "have 7: \"bprv (eqv \\<psi> (?phi \\<langle>\\<psi>\\<rangle>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "using 6"], ["proof (prove)\nusing this:\n  bprv\n   (eqv (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "unfolding \\<psi>_def"], ["proof (prove)\nusing this:\n  bprv\n   (eqv (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n     (subst \\<phi>\n       \\<langle>softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. bprv\n     (eqv (softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx)\n       (subst \\<phi>\n         \\<langle>softSubst \\<chi> \\<langle>\\<chi>\\<rangle> xx\\<rangle> xx))", "."], ["proof (state)\nthis:\n  bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "using \\<psi> 7 Fvars_\\<psi>"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> fmla\n  bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n  Fvars \\<psi> = {}\n\ngoal (1 subgoal):\n 1. \\<exists>\\<psi>.\n       \\<psi> \\<in> fmla \\<and>\n       Fvars \\<psi> = {} \\<and>\n       bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))", "by blast"], ["proof (state)\nthis:\n  \\<exists>\\<psi>.\n     \\<psi> \\<in> fmla \\<and>\n     Fvars \\<psi> = {} \\<and>\n     bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Making this existential into a function.\\<close>"], ["", "definition diag :: \"'fmla \\<Rightarrow> 'fmla\" where\n  \"diag \\<phi> \\<equiv> SOME \\<psi>. \\<psi> \\<in> fmla \\<and> Fvars \\<psi> = {} \\<and> bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\""], ["", "theorem diag_everything:\n  assumes \"\\<phi> \\<in> fmla\" and \"Fvars \\<phi> = {xx}\"\n  shows \"diag \\<phi> \\<in> fmla \\<and> Fvars (diag \\<phi>) = {} \\<and> bprv (eqv (diag \\<phi>) (subst \\<phi> \\<langle>diag \\<phi>\\<rangle> xx))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. diag \\<phi> \\<in> fmla \\<and>\n    Fvars (diag \\<phi>) = {} \\<and>\n    bprv (eqv (diag \\<phi>) (subst \\<phi> \\<langle>diag \\<phi>\\<rangle> xx))", "unfolding diag_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (SOME \\<psi>.\n        \\<psi> \\<in> fmla \\<and>\n        Fvars \\<psi> = {} \\<and>\n        bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))\n    \\<in> fmla \\<and>\n    Fvars\n     (SOME \\<psi>.\n         \\<psi> \\<in> fmla \\<and>\n         Fvars \\<psi> = {} \\<and>\n         bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))) =\n    {} \\<and>\n    bprv\n     (eqv (SOME \\<psi>.\n              \\<psi> \\<in> fmla \\<and>\n              Fvars \\<psi> = {} \\<and>\n              bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))\n       (subst \\<phi>\n         \\<langle>SOME \\<psi>.\n                     \\<psi> \\<in> fmla \\<and>\n                     Fvars \\<psi> = {} \\<and>\n                     bprv\n                      (eqv \\<psi>\n                        (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\\<rangle>\n         xx))", "using someI_ex[OF diagonalization[OF assms]]"], ["proof (prove)\nusing this:\n  (SOME x.\n      x \\<in> fmla \\<and>\n      Fvars x = {} \\<and>\n      bprv (eqv x (subst \\<phi> \\<langle>x\\<rangle> xx)))\n  \\<in> fmla \\<and>\n  Fvars\n   (SOME x.\n       x \\<in> fmla \\<and>\n       Fvars x = {} \\<and>\n       bprv (eqv x (subst \\<phi> \\<langle>x\\<rangle> xx))) =\n  {} \\<and>\n  bprv\n   (eqv (SOME x.\n            x \\<in> fmla \\<and>\n            Fvars x = {} \\<and>\n            bprv (eqv x (subst \\<phi> \\<langle>x\\<rangle> xx)))\n     (subst \\<phi>\n       \\<langle>SOME x.\n                   x \\<in> fmla \\<and>\n                   Fvars x = {} \\<and>\n                   bprv\n                    (eqv x (subst \\<phi> \\<langle>x\\<rangle> xx))\\<rangle>\n       xx))\n\ngoal (1 subgoal):\n 1. (SOME \\<psi>.\n        \\<psi> \\<in> fmla \\<and>\n        Fvars \\<psi> = {} \\<and>\n        bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))\n    \\<in> fmla \\<and>\n    Fvars\n     (SOME \\<psi>.\n         \\<psi> \\<in> fmla \\<and>\n         Fvars \\<psi> = {} \\<and>\n         bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))) =\n    {} \\<and>\n    bprv\n     (eqv (SOME \\<psi>.\n              \\<psi> \\<in> fmla \\<and>\n              Fvars \\<psi> = {} \\<and>\n              bprv (eqv \\<psi> (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx)))\n       (subst \\<phi>\n         \\<langle>SOME \\<psi>.\n                     \\<psi> \\<in> fmla \\<and>\n                     Fvars \\<psi> = {} \\<and>\n                     bprv\n                      (eqv \\<psi>\n                        (subst \\<phi> \\<langle>\\<psi>\\<rangle> xx))\\<rangle>\n         xx))", "."], ["", "lemmas diag[simp] = diag_everything[THEN conjunct1]"], ["", "lemmas Fvars_diag[simp] = diag_everything[THEN conjunct2, THEN conjunct1]"], ["", "lemmas prv_diag_eqv = diag_everything[THEN conjunct2, THEN conjunct2]"], ["", "end \\<comment> \\<open>context @{locale Repr_SelfSoftSubst}\\<close>"], ["", "(*<*)"], ["", "end"], ["", "(*>*)"]]}