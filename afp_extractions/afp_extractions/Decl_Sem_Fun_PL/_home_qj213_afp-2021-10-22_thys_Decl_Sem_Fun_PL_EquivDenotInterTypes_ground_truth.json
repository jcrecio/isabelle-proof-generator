{"file_name": "/home/qj213/afp-2021-10-22/thys/Decl_Sem_Fun_PL/EquivDenotInterTypes.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Decl_Sem_Fun_PL", "problem_names": ["lemma sub_inter_left1: \"A <:: C \\<Longrightarrow> A \\<sqinter> B <:: C\"", "lemma sub_inter_left2: \"B <:: C \\<Longrightarrow> A \\<sqinter> B <:: C\"", "lemma vf_nil[simp]: \"Vf (Tf []) = []\"", "lemma vf_cons[simp]: \"Vf (Tf ((v,v')#t)) = (V (T v), V (T v'))#(Vf (Tf t))\"", "lemma lookup_tenv: \n  \"lookup \\<rho> x = Some v \\<Longrightarrow> lookup (Tenv \\<rho>) x = Some (T v)\"", "lemma Tf_top: \"Tf t <:: \\<top>\"", "lemma le_sub_flip_aux:\n  \"\\<forall> v v' t t'. n = val_size v + val_size v' + fun_size t + fun_size t' \\<longrightarrow>\n   (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and> (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\"", "lemma le_sub_fun_flip: \"t \\<lesssim> t' \\<Longrightarrow> Tf t' <:: Tf t\"", "lemma Tf_append: \"Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2\"", "lemma append_Tf: \"Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2)\"", "lemma denot_lam_implies_ts:\n  assumes et: \"\\<forall> v \\<rho>. v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\" and\n       fe: \"\\<forall>v1 v2. (v1, v2) \\<in> set f \\<longrightarrow> v2 \\<in> E e ((x, v1) # \\<rho>)\"\n  shows \"Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)\"", "theorem denot_implies_ts: \n  assumes ve: \"v \\<in> E e \\<rho>\" shows \"Tenv \\<rho> \\<turnstile> e : T v\"", "lemma venv_lookup: assumes lx: \"lookup \\<Gamma> x = Some A\" shows \"lookup (Venv \\<Gamma>) x = Some (V A)\"", "lemma append_fun_equiv: \"\\<lbrakk> t1' \\<sim> t1; t2' \\<sim> t2 \\<rbrakk> \\<Longrightarrow> t1' @ t2' \\<sim> t1 @ t2\"", "lemma append_eq_symm: \"t2 @ t1 \\<sim> t1 @ t2\"", "lemma sub_le_flip: \"(A <: B \\<longrightarrow> V B \\<sqsubseteq> V A) \\<and> (f1 <:: f2 \\<longrightarrow> (Vf f2) \\<lesssim> (Vf f1))\"", "theorem ts_implies_denot:\n  assumes wte: \"\\<Gamma> \\<turnstile> e : A\" shows \"V A \\<in> E e (Venv \\<Gamma>)\""], "translations": [["", "lemma sub_inter_left1: \"A <:: C \\<Longrightarrow> A \\<sqinter> B <:: C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A <:: C \\<Longrightarrow> A \\<sqinter> B <:: C", "apply (subgoal_tac \"A \\<sqinter> B <:: A\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>A <:: C; A \\<sqinter> B <:: A\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: C\n 2. A <:: C \\<Longrightarrow> A \\<sqinter> B <:: A", "apply (rule sub_trans)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>A <:: C; A \\<sqinter> B <:: A\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: ?T2.1\n 2. \\<lbrakk>A <:: C; A \\<sqinter> B <:: A\\<rbrakk>\n    \\<Longrightarrow> ?T2.1 <:: C\n 3. A <:: C \\<Longrightarrow> A \\<sqinter> B <:: A", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>A <:: C; A \\<sqinter> B <:: A\\<rbrakk>\n    \\<Longrightarrow> A <:: C\n 2. A <:: C \\<Longrightarrow> A \\<sqinter> B <:: A", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. A <:: C \\<Longrightarrow> A \\<sqinter> B <:: A", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma sub_inter_left2: \"B <:: C \\<Longrightarrow> A \\<sqinter> B <:: C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B <:: C \\<Longrightarrow> A \\<sqinter> B <:: C", "apply (subgoal_tac \"A \\<sqinter> B <:: B\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>B <:: C; A \\<sqinter> B <:: B\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: C\n 2. B <:: C \\<Longrightarrow> A \\<sqinter> B <:: B", "apply (rule sub_trans)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>B <:: C; A \\<sqinter> B <:: B\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: ?T2.1\n 2. \\<lbrakk>B <:: C; A \\<sqinter> B <:: B\\<rbrakk>\n    \\<Longrightarrow> ?T2.1 <:: C\n 3. B <:: C \\<Longrightarrow> A \\<sqinter> B <:: B", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>B <:: C; A \\<sqinter> B <:: B\\<rbrakk>\n    \\<Longrightarrow> B <:: C\n 2. B <:: C \\<Longrightarrow> A \\<sqinter> B <:: B", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. B <:: C \\<Longrightarrow> A \\<sqinter> B <:: B", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma vf_nil[simp]: \"Vf (Tf []) = []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vf (Tf []) = []", "by simp"], ["", "lemma vf_cons[simp]: \"Vf (Tf ((v,v')#t)) = (V (T v), V (T v'))#(Vf (Tf t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vf (Tf ((v, v') # t)) = (V (T v), V (T v')) # Vf (Tf t)", "by simp"], ["", "proposition vt_id: shows \"V (T v) = v\" and \"Vf (Tf t) = t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. V (T v) = v &&& Vf (Tf t) = t", "by (induction rule: T_Tf.induct) force+"], ["", "lemma lookup_tenv: \n  \"lookup \\<rho> x = Some v \\<Longrightarrow> lookup (Tenv \\<rho>) x = Some (T v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lookup \\<rho> x = Some v \\<Longrightarrow>\n    lookup (Tenv \\<rho>) x = Some (T v)", "by (induction \\<rho> arbitrary: x v) force+"], ["", "proposition table_mem_sub:\n  \"(v, v') \\<in> set t \\<Longrightarrow> Tf t <:: (T v) \\<rightarrow> (T v')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v, v') \\<in> set t \\<Longrightarrow> Tf t <:: T v \\<rightarrow> T v'", "proof (induction t arbitrary: v v')"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v v'.\n       (v, v') \\<in> set [] \\<Longrightarrow>\n       Tf [] <:: T v \\<rightarrow> T v'\n 2. \\<And>a t v v'.\n       \\<lbrakk>\\<And>v v'.\n                   (v, v') \\<in> set t \\<Longrightarrow>\n                   Tf t <:: T v \\<rightarrow> T v';\n        (v, v') \\<in> set (a # t)\\<rbrakk>\n       \\<Longrightarrow> Tf (a # t) <:: T v \\<rightarrow> T v'", "case Nil"], ["proof (state)\nthis:\n  (v, v') \\<in> set []\n\ngoal (2 subgoals):\n 1. \\<And>v v'.\n       (v, v') \\<in> set [] \\<Longrightarrow>\n       Tf [] <:: T v \\<rightarrow> T v'\n 2. \\<And>a t v v'.\n       \\<lbrakk>\\<And>v v'.\n                   (v, v') \\<in> set t \\<Longrightarrow>\n                   Tf t <:: T v \\<rightarrow> T v';\n        (v, v') \\<in> set (a # t)\\<rbrakk>\n       \\<Longrightarrow> Tf (a # t) <:: T v \\<rightarrow> T v'", "then"], ["proof (chain)\npicking this:\n  (v, v') \\<in> set []", "show ?case"], ["proof (prove)\nusing this:\n  (v, v') \\<in> set []\n\ngoal (1 subgoal):\n 1. Tf [] <:: T v \\<rightarrow> T v'", "by auto"], ["proof (state)\nthis:\n  Tf [] <:: T v \\<rightarrow> T v'\n\ngoal (1 subgoal):\n 1. \\<And>a t v v'.\n       \\<lbrakk>\\<And>v v'.\n                   (v, v') \\<in> set t \\<Longrightarrow>\n                   Tf t <:: T v \\<rightarrow> T v';\n        (v, v') \\<in> set (a # t)\\<rbrakk>\n       \\<Longrightarrow> Tf (a # t) <:: T v \\<rightarrow> T v'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a t v v'.\n       \\<lbrakk>\\<And>v v'.\n                   (v, v') \\<in> set t \\<Longrightarrow>\n                   Tf t <:: T v \\<rightarrow> T v';\n        (v, v') \\<in> set (a # t)\\<rbrakk>\n       \\<Longrightarrow> Tf (a # t) <:: T v \\<rightarrow> T v'", "case (Cons p t)"], ["proof (state)\nthis:\n  (?v, ?v') \\<in> set t \\<Longrightarrow> Tf t <:: T ?v \\<rightarrow> T ?v'\n  (v, v') \\<in> set (p # t)\n\ngoal (1 subgoal):\n 1. \\<And>a t v v'.\n       \\<lbrakk>\\<And>v v'.\n                   (v, v') \\<in> set t \\<Longrightarrow>\n                   Tf t <:: T v \\<rightarrow> T v';\n        (v, v') \\<in> set (a # t)\\<rbrakk>\n       \\<Longrightarrow> Tf (a # t) <:: T v \\<rightarrow> T v'", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf (p # t) <:: T v \\<rightarrow> T v'", "proof (cases p)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       p = (a, b) \\<Longrightarrow> Tf (p # t) <:: T v \\<rightarrow> T v'", "case (Pair v1 v2)"], ["proof (state)\nthis:\n  p = (v1, v2)\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       p = (a, b) \\<Longrightarrow> Tf (p # t) <:: T v \\<rightarrow> T v'", "with Cons"], ["proof (chain)\npicking this:\n  (?v, ?v') \\<in> set t \\<Longrightarrow> Tf t <:: T ?v \\<rightarrow> T ?v'\n  (v, v') \\<in> set (p # t)\n  p = (v1, v2)", "show ?thesis"], ["proof (prove)\nusing this:\n  (?v, ?v') \\<in> set t \\<Longrightarrow> Tf t <:: T ?v \\<rightarrow> T ?v'\n  (v, v') \\<in> set (p # t)\n  p = (v1, v2)\n\ngoal (1 subgoal):\n 1. Tf (p # t) <:: T v \\<rightarrow> T v'", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>v v'.\n                (v, v') \\<in> set t \\<Longrightarrow>\n                Tf t <:: T v \\<rightarrow> T v';\n     v = v1 \\<and> v' = v2 \\<or> (v, v') \\<in> set t; p = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> (T v1 \\<rightarrow> T v2) \\<sqinter> Tf t <::\n                      T v \\<rightarrow> T v'", "apply (erule disjE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>v v'.\n                (v, v') \\<in> set t \\<Longrightarrow>\n                Tf t <:: T v \\<rightarrow> T v';\n     p = (v1, v2); v = v1 \\<and> v' = v2\\<rbrakk>\n    \\<Longrightarrow> (T v1 \\<rightarrow> T v2) \\<sqinter> Tf t <::\n                      T v \\<rightarrow> T v'\n 2. \\<lbrakk>\\<And>v v'.\n                (v, v') \\<in> set t \\<Longrightarrow>\n                Tf t <:: T v \\<rightarrow> T v';\n     p = (v1, v2); (v, v') \\<in> set t\\<rbrakk>\n    \\<Longrightarrow> (T v1 \\<rightarrow> T v2) \\<sqinter> Tf t <::\n                      T v \\<rightarrow> T v'", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>v v'.\n                (v, v') \\<in> set t \\<Longrightarrow>\n                Tf t <:: T v \\<rightarrow> T v';\n     p = (v1, v2); (v, v') \\<in> set t\\<rbrakk>\n    \\<Longrightarrow> (T v1 \\<rightarrow> T v2) \\<sqinter> Tf t <::\n                      T v \\<rightarrow> T v'", "apply (subgoal_tac \"Tf t <:: T v \\<rightarrow> T v'\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>v v'.\n                (v, v') \\<in> set t \\<Longrightarrow>\n                Tf t <:: T v \\<rightarrow> T v';\n     p = (v1, v2); (v, v') \\<in> set t;\n     Tf t <:: T v \\<rightarrow> T v'\\<rbrakk>\n    \\<Longrightarrow> (T v1 \\<rightarrow> T v2) \\<sqinter> Tf t <::\n                      T v \\<rightarrow> T v'\n 2. \\<lbrakk>\\<And>v v'.\n                (v, v') \\<in> set t \\<Longrightarrow>\n                Tf t <:: T v \\<rightarrow> T v';\n     p = (v1, v2); (v, v') \\<in> set t\\<rbrakk>\n    \\<Longrightarrow> Tf t <:: T v \\<rightarrow> T v'", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>v v'.\n                (v, v') \\<in> set t \\<Longrightarrow>\n                Tf t <:: T v \\<rightarrow> T v';\n     p = (v1, v2); (v, v') \\<in> set t\\<rbrakk>\n    \\<Longrightarrow> Tf t <:: T v \\<rightarrow> T v'\n 2. \\<lbrakk>\\<And>v v'.\n                (v, v') \\<in> set t \\<Longrightarrow>\n                Tf t <:: T v \\<rightarrow> T v';\n     p = (v1, v2); (v, v') \\<in> set t;\n     Tf t <:: T v \\<rightarrow> T v'\\<rbrakk>\n    \\<Longrightarrow> (T v1 \\<rightarrow> T v2) \\<sqinter> Tf t <::\n                      T v \\<rightarrow> T v'", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>v v'.\n                (v, v') \\<in> set t \\<Longrightarrow>\n                Tf t <:: T v \\<rightarrow> T v';\n     p = (v1, v2); (v, v') \\<in> set t;\n     Tf t <:: T v \\<rightarrow> T v'\\<rbrakk>\n    \\<Longrightarrow> (T v1 \\<rightarrow> T v2) \\<sqinter> Tf t <::\n                      T v \\<rightarrow> T v'", "apply (rule sub_inter_left2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>v v'.\n                (v, v') \\<in> set t \\<Longrightarrow>\n                Tf t <:: T v \\<rightarrow> T v';\n     p = (v1, v2); (v, v') \\<in> set t;\n     Tf t <:: T v \\<rightarrow> T v'\\<rbrakk>\n    \\<Longrightarrow> Tf t <:: T v \\<rightarrow> T v'", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tf (p # t) <:: T v \\<rightarrow> T v'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tf (p # t) <:: T v \\<rightarrow> T v'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Tf_top: \"Tf t <:: \\<top>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf t <:: \\<top>", "proof (induction t)"], ["proof (state)\ngoal (2 subgoals):\n 1. Tf [] <:: \\<top>\n 2. \\<And>a t. Tf t <:: \\<top> \\<Longrightarrow> Tf (a # t) <:: \\<top>", "case Nil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. Tf [] <:: \\<top>\n 2. \\<And>a t. Tf t <:: \\<top> \\<Longrightarrow> Tf (a # t) <:: \\<top>", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf [] <:: \\<top>", "by auto"], ["proof (state)\nthis:\n  Tf [] <:: \\<top>\n\ngoal (1 subgoal):\n 1. \\<And>a t. Tf t <:: \\<top> \\<Longrightarrow> Tf (a # t) <:: \\<top>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a t. Tf t <:: \\<top> \\<Longrightarrow> Tf (a # t) <:: \\<top>", "case (Cons p t)"], ["proof (state)\nthis:\n  Tf t <:: \\<top>\n\ngoal (1 subgoal):\n 1. \\<And>a t. Tf t <:: \\<top> \\<Longrightarrow> Tf (a # t) <:: \\<top>", "with sub_inter_left2"], ["proof (chain)\npicking this:\n  ?B <:: ?C \\<Longrightarrow> ?A \\<sqinter> ?B <:: ?C\n  Tf t <:: \\<top>", "show ?case"], ["proof (prove)\nusing this:\n  ?B <:: ?C \\<Longrightarrow> ?A \\<sqinter> ?B <:: ?C\n  Tf t <:: \\<top>\n\ngoal (1 subgoal):\n 1. Tf (p # t) <:: \\<top>", "by (cases p) auto"], ["proof (state)\nthis:\n  Tf (p # t) <:: \\<top>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma le_sub_flip_aux:\n  \"\\<forall> v v' t t'. n = val_size v + val_size v' + fun_size t + fun_size t' \\<longrightarrow>\n   (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and> (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v v' t t'.\n       n =\n       val_size v + val_size v' + fun_size t + fun_size t' \\<longrightarrow>\n       (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n       (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)", "proof (induction n rule: nat_less_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>m<n.\n          \\<forall>v v' t t'.\n             m =\n             val_size v + val_size v' + fun_size t +\n             fun_size t' \\<longrightarrow>\n             (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n             (t \\<lesssim> t' \\<longrightarrow>\n              Tf t' <:: Tf t) \\<Longrightarrow>\n       \\<forall>v v' t t'.\n          n =\n          val_size v + val_size v' + fun_size t +\n          fun_size t' \\<longrightarrow>\n          (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n          (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)", "case (1 n)"], ["proof (state)\nthis:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>m<n.\n          \\<forall>v v' t t'.\n             m =\n             val_size v + val_size v' + fun_size t +\n             fun_size t' \\<longrightarrow>\n             (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n             (t \\<lesssim> t' \\<longrightarrow>\n              Tf t' <:: Tf t) \\<Longrightarrow>\n       \\<forall>v v' t t'.\n          n =\n          val_size v + val_size v' + fun_size t +\n          fun_size t' \\<longrightarrow>\n          (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n          (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v v' t t'.\n       n =\n       val_size v + val_size v' + fun_size t + fun_size t' \\<longrightarrow>\n       (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n       (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v v' t t'.\n       n =\n       val_size v + val_size v' + fun_size t + fun_size t' \\<Longrightarrow>\n       (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n       (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)", "apply (rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v v' t t'.\n       n =\n       val_size v + val_size v' + fun_size t + fun_size t' \\<Longrightarrow>\n       v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v\n 2. \\<And>v v' t t'.\n       n =\n       val_size v + val_size v' + fun_size t + fun_size t' \\<Longrightarrow>\n       t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t", "apply clarify"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        v \\<sqsubseteq> v'\\<rbrakk>\n       \\<Longrightarrow> T v' <: T v\n 2. \\<And>v v' t t'.\n       n =\n       val_size v + val_size v' + fun_size t + fun_size t' \\<Longrightarrow>\n       t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v v' t t'.\n       n =\n       val_size v + val_size v' + fun_size t + fun_size t' \\<Longrightarrow>\n       t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t\n 2. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        v \\<sqsubseteq> v'\\<rbrakk>\n       \\<Longrightarrow> T v' <: T v", "apply clarify"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        t \\<lesssim> t'\\<rbrakk>\n       \\<Longrightarrow> Tf t' <:: Tf t\n 2. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        v \\<sqsubseteq> v'\\<rbrakk>\n       \\<Longrightarrow> T v' <: T v", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        v \\<sqsubseteq> v'\\<rbrakk>\n       \\<Longrightarrow> T v' <: T v\n 2. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        t \\<lesssim> t'\\<rbrakk>\n       \\<Longrightarrow> Tf t' <:: Tf t", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        v \\<sqsubseteq> v'\\<rbrakk>\n       \\<Longrightarrow> T v' <: T v\n 2. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        t \\<lesssim> t'\\<rbrakk>\n       \\<Longrightarrow> Tf t' <:: Tf t", "fix v::val and v' t t'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        v \\<sqsubseteq> v'\\<rbrakk>\n       \\<Longrightarrow> T v' <: T v\n 2. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        t \\<lesssim> t'\\<rbrakk>\n       \\<Longrightarrow> Tf t' <:: Tf t", "assume n: \"n = val_size v + val_size v' + fun_size t + fun_size t'\"\n      and v_vp: \"v \\<sqsubseteq> v'\""], ["proof (state)\nthis:\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  v \\<sqsubseteq> v'\n\ngoal (2 subgoals):\n 1. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        v \\<sqsubseteq> v'\\<rbrakk>\n       \\<Longrightarrow> T v' <: T v\n 2. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        t \\<lesssim> t'\\<rbrakk>\n       \\<Longrightarrow> Tf t' <:: Tf t", "show \"T v' <: T v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T v' <: T v", "proof (cases v)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1. v = VNat x1 \\<Longrightarrow> T v' <: T v\n 2. \\<And>x2. v = VFun x2 \\<Longrightarrow> T v' <: T v", "case (VNat n1)"], ["proof (state)\nthis:\n  v = VNat n1\n\ngoal (2 subgoals):\n 1. \\<And>x1. v = VNat x1 \\<Longrightarrow> T v' <: T v\n 2. \\<And>x2. v = VFun x2 \\<Longrightarrow> T v' <: T v", "from VNat v_vp"], ["proof (chain)\npicking this:\n  v = VNat n1\n  v \\<sqsubseteq> v'", "have vp: \"v' = VNat n1\""], ["proof (prove)\nusing this:\n  v = VNat n1\n  v \\<sqsubseteq> v'\n\ngoal (1 subgoal):\n 1. v' = VNat n1", "by auto"], ["proof (state)\nthis:\n  v' = VNat n1\n\ngoal (2 subgoals):\n 1. \\<And>x1. v = VNat x1 \\<Longrightarrow> T v' <: T v\n 2. \\<And>x2. v = VFun x2 \\<Longrightarrow> T v' <: T v", "from VNat vp"], ["proof (chain)\npicking this:\n  v = VNat n1\n  v' = VNat n1", "show ?thesis"], ["proof (prove)\nusing this:\n  v = VNat n1\n  v' = VNat n1\n\ngoal (1 subgoal):\n 1. T v' <: T v", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v = VNat n1; v' = VNat n1\\<rbrakk>\n    \\<Longrightarrow> TNat n1 <: TNat n1", "using sub_refl"], ["proof (prove)\nusing this:\n  ?A <: ?A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>v = VNat n1; v' = VNat n1\\<rbrakk>\n    \\<Longrightarrow> TNat n1 <: TNat n1", "by blast"], ["proof (state)\nthis:\n  T v' <: T v\n\ngoal (1 subgoal):\n 1. \\<And>x2. v = VFun x2 \\<Longrightarrow> T v' <: T v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x2. v = VFun x2 \\<Longrightarrow> T v' <: T v", "case (VFun t1)"], ["proof (state)\nthis:\n  v = VFun t1\n\ngoal (1 subgoal):\n 1. \\<And>x2. v = VFun x2 \\<Longrightarrow> T v' <: T v", "from VFun v_vp"], ["proof (chain)\npicking this:\n  v = VFun t1\n  v \\<sqsubseteq> v'", "obtain t2 where vp: \"v' = VFun t2\" and t1_t2: \"t1 \\<lesssim> t2\""], ["proof (prove)\nusing this:\n  v = VFun t1\n  v \\<sqsubseteq> v'\n\ngoal (1 subgoal):\n 1. (\\<And>t2.\n        \\<lbrakk>v' = VFun t2; t1 \\<lesssim> t2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v' = VFun t2\n  t1 \\<lesssim> t2\n\ngoal (1 subgoal):\n 1. \\<And>x2. v = VFun x2 \\<Longrightarrow> T v' <: T v", "let ?m = \"val_size (VNat 0) + val_size (VNat 0) + fun_size t1 + fun_size t2\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x2. v = VFun x2 \\<Longrightarrow> T v' <: T v", "from 1 t1_t2 n VFun vp"], ["proof (chain)\npicking this:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n  t1 \\<lesssim> t2\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  v = VFun t1\n  v' = VFun t2", "have t2_t1: \"Tf t2 <:: Tf t1\""], ["proof (prove)\nusing this:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n  t1 \\<lesssim> t2\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  v = VFun t1\n  v' = VFun t2\n\ngoal (1 subgoal):\n 1. Tf t2 <:: Tf t1", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>m<Suc (Suc (fun_size t1 + fun_size t2 + fun_size t +\n                                  fun_size t')).\n                \\<forall>v v' t t'.\n                   m =\n                   val_size v + val_size v' + fun_size t +\n                   fun_size t' \\<longrightarrow>\n                   (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n                   (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t);\n     t1 \\<lesssim> t2;\n     n = Suc (Suc (fun_size t1 + fun_size t2 + fun_size t + fun_size t'));\n     v = VFun t1; v' = VFun t2\\<rbrakk>\n    \\<Longrightarrow> Tf t2 <:: Tf t1", "apply (erule_tac x=\"?m\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1 \\<lesssim> t2;\n     n = Suc (Suc (fun_size t1 + fun_size t2 + fun_size t + fun_size t'));\n     v = VFun t1; v' = VFun t2;\n     val_size (VNat 0) + val_size (VNat 0) + fun_size t1 + fun_size t2\n     < Suc (Suc (fun_size t1 + fun_size t2 + fun_size t +\n                 fun_size t')) \\<longrightarrow>\n     (\\<forall>v v' t t'.\n         val_size (VNat 0) + val_size (VNat 0) + fun_size t1 + fun_size t2 =\n         val_size v + val_size v' + fun_size t +\n         fun_size t' \\<longrightarrow>\n         (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n         (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t))\\<rbrakk>\n    \\<Longrightarrow> Tf t2 <:: Tf t1", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>t1 \\<lesssim> t2;\n     n = Suc (Suc (fun_size t1 + fun_size t2 + fun_size t + fun_size t'));\n     v = VFun t1; v' = VFun t2\\<rbrakk>\n    \\<Longrightarrow> val_size (VNat 0) + val_size (VNat 0) + fun_size t1 +\n                      fun_size t2\n                      < Suc (Suc (fun_size t1 + fun_size t2 + fun_size t +\n                                  fun_size t'))\n 2. \\<lbrakk>t1 \\<lesssim> t2;\n     n = Suc (Suc (fun_size t1 + fun_size t2 + fun_size t + fun_size t'));\n     v = VFun t1; v' = VFun t2;\n     \\<forall>v v' t t'.\n        val_size (VNat 0) + val_size (VNat 0) + fun_size t1 + fun_size t2 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> Tf t2 <:: Tf t1", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1 \\<lesssim> t2;\n     n = Suc (Suc (fun_size t1 + fun_size t2 + fun_size t + fun_size t'));\n     v = VFun t1; v' = VFun t2;\n     \\<forall>v v' t t'.\n        val_size (VNat 0) + val_size (VNat 0) + fun_size t1 + fun_size t2 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> Tf t2 <:: Tf t1", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1 \\<lesssim> t2;\n     n = Suc (Suc (fun_size t1 + fun_size t2 + fun_size t + fun_size t'));\n     v = VFun t1; v' = VFun t2;\n     \\<forall>v v' t t'.\n        fun_size t1 + fun_size t2 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> Tf t2 <:: Tf t1", "apply (erule_tac x=\"VNat 0\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1 \\<lesssim> t2;\n     n = Suc (Suc (fun_size t1 + fun_size t2 + fun_size t + fun_size t'));\n     v = VFun t1; v' = VFun t2;\n     \\<forall>v' t t'.\n        fun_size t1 + fun_size t2 =\n        val_size (VNat 0) + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (VNat 0 \\<sqsubseteq> v' \\<longrightarrow>\n         T v' <: T (VNat 0)) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> Tf t2 <:: Tf t1", "apply (erule_tac x=\"VNat 0\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1 \\<lesssim> t2;\n     n = Suc (Suc (fun_size t1 + fun_size t2 + fun_size t + fun_size t'));\n     v = VFun t1; v' = VFun t2;\n     \\<forall>t t'.\n        fun_size t1 + fun_size t2 =\n        val_size (VNat 0) + val_size (VNat 0) + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (VNat 0 \\<sqsubseteq> VNat 0 \\<longrightarrow>\n         T (VNat 0) <: T (VNat 0)) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> Tf t2 <:: Tf t1", "apply (erule_tac x=\"t1\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1 \\<lesssim> t2;\n     n = Suc (Suc (fun_size t1 + fun_size t2 + fun_size t + fun_size t'));\n     v = VFun t1; v' = VFun t2;\n     \\<forall>t'.\n        fun_size t1 + fun_size t2 =\n        val_size (VNat 0) + val_size (VNat 0) + fun_size t1 +\n        fun_size t' \\<longrightarrow>\n        (VNat 0 \\<sqsubseteq> VNat 0 \\<longrightarrow>\n         T (VNat 0) <: T (VNat 0)) \\<and>\n        (t1 \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t1)\\<rbrakk>\n    \\<Longrightarrow> Tf t2 <:: Tf t1", "apply (erule_tac x=\"t2\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1 \\<lesssim> t2;\n     n = Suc (Suc (fun_size t1 + fun_size t2 + fun_size t + fun_size t'));\n     v = VFun t1; v' = VFun t2;\n     fun_size t1 + fun_size t2 =\n     val_size (VNat 0) + val_size (VNat 0) + fun_size t1 +\n     fun_size t2 \\<longrightarrow>\n     (VNat 0 \\<sqsubseteq> VNat 0 \\<longrightarrow>\n      T (VNat 0) <: T (VNat 0)) \\<and>\n     (t1 \\<lesssim> t2 \\<longrightarrow> Tf t2 <:: Tf t1)\\<rbrakk>\n    \\<Longrightarrow> Tf t2 <:: Tf t1", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tf t2 <:: Tf t1\n\ngoal (1 subgoal):\n 1. \\<And>x2. v = VFun x2 \\<Longrightarrow> T v' <: T v", "from t2_t1 VFun vp"], ["proof (chain)\npicking this:\n  Tf t2 <:: Tf t1\n  v = VFun t1\n  v' = VFun t2", "show ?thesis"], ["proof (prove)\nusing this:\n  Tf t2 <:: Tf t1\n  v = VFun t1\n  v' = VFun t2\n\ngoal (1 subgoal):\n 1. T v' <: T v", "by auto"], ["proof (state)\nthis:\n  T v' <: T v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  T v' <: T v\n\ngoal (1 subgoal):\n 1. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        t \\<lesssim> t'\\<rbrakk>\n       \\<Longrightarrow> Tf t' <:: Tf t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        t \\<lesssim> t'\\<rbrakk>\n       \\<Longrightarrow> Tf t' <:: Tf t", "fix v v' t t'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        t \\<lesssim> t'\\<rbrakk>\n       \\<Longrightarrow> Tf t' <:: Tf t", "assume n: \"n = val_size v + val_size v' + fun_size t + fun_size t'\" \n      and t_tp: \"t \\<lesssim> t'\""], ["proof (state)\nthis:\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  t \\<lesssim> t'\n\ngoal (1 subgoal):\n 1. \\<And>v v' t t'.\n       \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n        t \\<lesssim> t'\\<rbrakk>\n       \\<Longrightarrow> Tf t' <:: Tf t", "show \"Tf t' <:: Tf t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf t' <:: Tf t", "proof (cases t)"], ["proof (state)\ngoal (2 subgoals):\n 1. t = [] \\<Longrightarrow> Tf t' <:: Tf t\n 2. \\<And>a list. t = a # list \\<Longrightarrow> Tf t' <:: Tf t", "case Nil"], ["proof (state)\nthis:\n  t = []\n\ngoal (2 subgoals):\n 1. t = [] \\<Longrightarrow> Tf t' <:: Tf t\n 2. \\<And>a list. t = a # list \\<Longrightarrow> Tf t' <:: Tf t", "from Nil"], ["proof (chain)\npicking this:\n  t = []", "have \"Tf t = \\<top>\""], ["proof (prove)\nusing this:\n  t = []\n\ngoal (1 subgoal):\n 1. Tf t = \\<top>", "by simp"], ["proof (state)\nthis:\n  Tf t = \\<top>\n\ngoal (2 subgoals):\n 1. t = [] \\<Longrightarrow> Tf t' <:: Tf t\n 2. \\<And>a list. t = a # list \\<Longrightarrow> Tf t' <:: Tf t", "then"], ["proof (chain)\npicking this:\n  Tf t = \\<top>", "show ?thesis"], ["proof (prove)\nusing this:\n  Tf t = \\<top>\n\ngoal (1 subgoal):\n 1. Tf t' <:: Tf t", "using Tf_top"], ["proof (prove)\nusing this:\n  Tf t = \\<top>\n  Tf ?t <:: \\<top>\n\ngoal (1 subgoal):\n 1. Tf t' <:: Tf t", "by auto"], ["proof (state)\nthis:\n  Tf t' <:: Tf t\n\ngoal (1 subgoal):\n 1. \\<And>a list. t = a # list \\<Longrightarrow> Tf t' <:: Tf t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list. t = a # list \\<Longrightarrow> Tf t' <:: Tf t", "case (Cons a t1)"], ["proof (state)\nthis:\n  t = a # t1\n\ngoal (1 subgoal):\n 1. \\<And>a list. t = a # list \\<Longrightarrow> Tf t' <:: Tf t", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf t' <:: Tf t", "proof (cases a)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>aa b. a = (aa, b) \\<Longrightarrow> Tf t' <:: Tf t", "case (Pair v1 v2)"], ["proof (state)\nthis:\n  a = (v1, v2)\n\ngoal (1 subgoal):\n 1. \\<And>aa b. a = (aa, b) \\<Longrightarrow> Tf t' <:: Tf t", "from Cons Pair"], ["proof (chain)\npicking this:\n  t = a # t1\n  a = (v1, v2)", "show ?thesis"], ["proof (prove)\nusing this:\n  t = a # t1\n  a = (v1, v2)\n\ngoal (1 subgoal):\n 1. Tf t' <:: Tf t", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: (T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: T v1 \\<rightarrow> T v2\n 2. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "from Cons Pair"], ["proof (chain)\npicking this:\n  t = a # t1\n  a = (v1, v2)", "have v12: \"(v1,v2) \\<in> set t\""], ["proof (prove)\nusing this:\n  t = a # t1\n  a = (v1, v2)\n\ngoal (1 subgoal):\n 1. (v1, v2) \\<in> set t", "by auto"], ["proof (state)\nthis:\n  (v1, v2) \\<in> set t\n\ngoal (2 subgoals):\n 1. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: T v1 \\<rightarrow> T v2\n 2. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "from t_tp v12"], ["proof (chain)\npicking this:\n  t \\<lesssim> t'\n  (v1, v2) \\<in> set t", "obtain v3 v4 where v34: \"(v3,v4) \\<in> set t'\" and\n            v13: \"v1 \\<sqsubseteq> v3\" and v31: \"v3 \\<sqsubseteq> v1\" and v24: \"v2 \\<sqsubseteq> v4\" and v42: \"v4 \\<sqsubseteq> v2\""], ["proof (prove)\nusing this:\n  t \\<lesssim> t'\n  (v1, v2) \\<in> set t\n\ngoal (1 subgoal):\n 1. (\\<And>v3 v4.\n        \\<lbrakk>(v3, v4) \\<in> set t'; v1 \\<sqsubseteq> v3;\n         v3 \\<sqsubseteq> v1; v2 \\<sqsubseteq> v4;\n         v4 \\<sqsubseteq> v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  (v3, v4) \\<in> set t'\n  v1 \\<sqsubseteq> v3\n  v3 \\<sqsubseteq> v1\n  v2 \\<sqsubseteq> v4\n  v4 \\<sqsubseteq> v2\n\ngoal (2 subgoals):\n 1. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: T v1 \\<rightarrow> T v2\n 2. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "have Tv3_Tv1: \"T v3 \\<approx> T v1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T v3 \\<approx> T v1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. T v3 \\<approx> T v1", "let ?m = \"val_size v1 + val_size v3\""], ["proof (state)\ngoal (1 subgoal):\n 1. T v3 \\<approx> T v1", "from v12"], ["proof (chain)\npicking this:\n  (v1, v2) \\<in> set t", "have sv1: \"val_size v1 < fun_size t\""], ["proof (prove)\nusing this:\n  (v1, v2) \\<in> set t\n\ngoal (1 subgoal):\n 1. val_size v1 < fun_size t", "using val_size_mem_l"], ["proof (prove)\nusing this:\n  (v1, v2) \\<in> set t\n  (?a, ?b) \\<in> set ?t \\<Longrightarrow> val_size ?a < fun_size ?t\n\ngoal (1 subgoal):\n 1. val_size v1 < fun_size t", "by auto"], ["proof (state)\nthis:\n  val_size v1 < fun_size t\n\ngoal (1 subgoal):\n 1. T v3 \\<approx> T v1", "from v34"], ["proof (chain)\npicking this:\n  (v3, v4) \\<in> set t'", "have sv3: \"val_size v3 < fun_size t'\""], ["proof (prove)\nusing this:\n  (v3, v4) \\<in> set t'\n\ngoal (1 subgoal):\n 1. val_size v3 < fun_size t'", "using val_size_mem_l"], ["proof (prove)\nusing this:\n  (v3, v4) \\<in> set t'\n  (?a, ?b) \\<in> set ?t \\<Longrightarrow> val_size ?a < fun_size ?t\n\ngoal (1 subgoal):\n 1. val_size v3 < fun_size t'", "by auto"], ["proof (state)\nthis:\n  val_size v3 < fun_size t'\n\ngoal (1 subgoal):\n 1. T v3 \\<approx> T v1", "from 1 v13 n sv1 sv3"], ["proof (chain)\npicking this:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n  v1 \\<sqsubseteq> v3\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  val_size v1 < fun_size t\n  val_size v3 < fun_size t'", "have Tv31: \"T v3 <: T v1\""], ["proof (prove)\nusing this:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n  v1 \\<sqsubseteq> v3\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  val_size v1 < fun_size t\n  val_size v3 < fun_size t'\n\ngoal (1 subgoal):\n 1. T v3 <: T v1", "apply (erule_tac x=\"?m\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     val_size v1 + val_size v3 < n \\<longrightarrow>\n     (\\<forall>v v' t t'.\n         val_size v1 + val_size v3 =\n         val_size v + val_size v' + fun_size t +\n         fun_size t' \\<longrightarrow>\n         (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n         (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t))\\<rbrakk>\n    \\<Longrightarrow> T v3 <: T v1", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v1 + val_size v3 < n\n 2. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     \\<forall>v v' t t'.\n        val_size v1 + val_size v3 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v3 <: T v1", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     \\<forall>v v' t t'.\n        val_size v1 + val_size v3 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v3 <: T v1", "apply (erule_tac x=v1 in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     \\<forall>v' t t'.\n        val_size v1 + val_size v3 =\n        val_size v1 + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v1 \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v1) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v3 <: T v1", "apply (erule_tac x=v3 in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     \\<forall>t t'.\n        val_size v1 + val_size v3 =\n        val_size v1 + val_size v3 + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v1 \\<sqsubseteq> v3 \\<longrightarrow> T v3 <: T v1) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v3 <: T v1", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     \\<forall>t'.\n        val_size v1 + val_size v3 =\n        val_size v1 + val_size v3 + fun_size [] +\n        fun_size t' \\<longrightarrow>\n        (v1 \\<sqsubseteq> v3 \\<longrightarrow> T v3 <: T v1) \\<and>\n        ([] \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v3 <: T v1", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     val_size v1 + val_size v3 =\n     val_size v1 + val_size v3 + fun_size [] + fun_size [] \\<longrightarrow>\n     (v1 \\<sqsubseteq> v3 \\<longrightarrow> T v3 <: T v1) \\<and>\n     ([] \\<lesssim> [] \\<longrightarrow> Tf [] <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v3 <: T v1", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v1 + val_size v3 =\n                      val_size v1 + val_size v3 + fun_size [] + fun_size []\n 2. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     (v1 \\<sqsubseteq> v3 \\<longrightarrow> T v3 <: T v1) \\<and>\n     ([] \\<lesssim> [] \\<longrightarrow> Tf [] <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v3 <: T v1", "defer"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     (v1 \\<sqsubseteq> v3 \\<longrightarrow> T v3 <: T v1) \\<and>\n     ([] \\<lesssim> [] \\<longrightarrow> Tf [] <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v3 <: T v1\n 2. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v1 + val_size v3 =\n                      val_size v1 + val_size v3 + fun_size [] + fun_size []", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v3;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v1 + val_size v3 =\n                      val_size v1 + val_size v3 + fun_size [] + fun_size []", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  T v3 <: T v1\n\ngoal (1 subgoal):\n 1. T v3 \\<approx> T v1", "from 1 v31 n sv1 sv3"], ["proof (chain)\npicking this:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n  v3 \\<sqsubseteq> v1\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  val_size v1 < fun_size t\n  val_size v3 < fun_size t'", "have Tv13: \"T v1 <: T v3\""], ["proof (prove)\nusing this:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n  v3 \\<sqsubseteq> v1\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  val_size v1 < fun_size t\n  val_size v3 < fun_size t'\n\ngoal (1 subgoal):\n 1. T v1 <: T v3", "apply (erule_tac x=\"?m\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v3 \\<sqsubseteq> v1;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     val_size v1 + val_size v3 < n \\<longrightarrow>\n     (\\<forall>v v' t t'.\n         val_size v1 + val_size v3 =\n         val_size v + val_size v' + fun_size t +\n         fun_size t' \\<longrightarrow>\n         (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n         (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t))\\<rbrakk>\n    \\<Longrightarrow> T v1 <: T v3", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>v3 \\<sqsubseteq> v1;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v1 + val_size v3 < n\n 2. \\<lbrakk>v3 \\<sqsubseteq> v1;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     \\<forall>v v' t t'.\n        val_size v1 + val_size v3 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v1 <: T v3", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v3 \\<sqsubseteq> v1;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     \\<forall>v v' t t'.\n        val_size v1 + val_size v3 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v1 <: T v3", "apply (erule_tac x=v3 in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v3 \\<sqsubseteq> v1;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     \\<forall>v' t t'.\n        val_size v1 + val_size v3 =\n        val_size v3 + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v3 \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v3) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v1 <: T v3", "apply (erule_tac x=v1 in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v3 \\<sqsubseteq> v1;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     \\<forall>t t'.\n        val_size v1 + val_size v3 =\n        val_size v3 + val_size v1 + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v3 \\<sqsubseteq> v1 \\<longrightarrow> T v1 <: T v3) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v1 <: T v3", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v3 \\<sqsubseteq> v1;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     \\<forall>t'.\n        val_size v1 + val_size v3 =\n        val_size v3 + val_size v1 + fun_size [] +\n        fun_size t' \\<longrightarrow>\n        (v3 \\<sqsubseteq> v1 \\<longrightarrow> T v1 <: T v3) \\<and>\n        ([] \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v1 <: T v3", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v3 \\<sqsubseteq> v1;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v1 < fun_size t; val_size v3 < fun_size t';\n     val_size v1 + val_size v3 =\n     val_size v3 + val_size v1 + fun_size [] + fun_size [] \\<longrightarrow>\n     (v3 \\<sqsubseteq> v1 \\<longrightarrow> T v1 <: T v3) \\<and>\n     ([] \\<lesssim> [] \\<longrightarrow> Tf [] <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v1 <: T v3", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  T v1 <: T v3\n\ngoal (1 subgoal):\n 1. T v3 \\<approx> T v1", "from Tv13 Tv31"], ["proof (chain)\npicking this:\n  T v1 <: T v3\n  T v3 <: T v1", "show ?thesis"], ["proof (prove)\nusing this:\n  T v1 <: T v3\n  T v3 <: T v1\n\ngoal (1 subgoal):\n 1. T v3 \\<approx> T v1", "unfolding ty_eq_def"], ["proof (prove)\nusing this:\n  T v1 <: T v3\n  T v3 <: T v1\n\ngoal (1 subgoal):\n 1. T v3 <: T v1 \\<and> T v1 <: T v3", "by blast"], ["proof (state)\nthis:\n  T v3 \\<approx> T v1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  T v3 \\<approx> T v1\n\ngoal (2 subgoals):\n 1. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: T v1 \\<rightarrow> T v2\n 2. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "have Tv4_Tv2: \"T v4 \\<approx> T v2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T v4 \\<approx> T v2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. T v4 \\<approx> T v2", "let ?m = \"val_size v2 + val_size v4\""], ["proof (state)\ngoal (1 subgoal):\n 1. T v4 \\<approx> T v2", "from v12"], ["proof (chain)\npicking this:\n  (v1, v2) \\<in> set t", "have sv2: \"val_size v2 < fun_size t\""], ["proof (prove)\nusing this:\n  (v1, v2) \\<in> set t\n\ngoal (1 subgoal):\n 1. val_size v2 < fun_size t", "using val_size_mem_r"], ["proof (prove)\nusing this:\n  (v1, v2) \\<in> set t\n  (?a, ?b) \\<in> set ?t \\<Longrightarrow> val_size ?b < fun_size ?t\n\ngoal (1 subgoal):\n 1. val_size v2 < fun_size t", "by auto"], ["proof (state)\nthis:\n  val_size v2 < fun_size t\n\ngoal (1 subgoal):\n 1. T v4 \\<approx> T v2", "from v34"], ["proof (chain)\npicking this:\n  (v3, v4) \\<in> set t'", "have sv4: \"val_size v4 < fun_size t'\""], ["proof (prove)\nusing this:\n  (v3, v4) \\<in> set t'\n\ngoal (1 subgoal):\n 1. val_size v4 < fun_size t'", "using val_size_mem_r"], ["proof (prove)\nusing this:\n  (v3, v4) \\<in> set t'\n  (?a, ?b) \\<in> set ?t \\<Longrightarrow> val_size ?b < fun_size ?t\n\ngoal (1 subgoal):\n 1. val_size v4 < fun_size t'", "by auto"], ["proof (state)\nthis:\n  val_size v4 < fun_size t'\n\ngoal (1 subgoal):\n 1. T v4 \\<approx> T v2", "from 1 v42 n sv2 sv4"], ["proof (chain)\npicking this:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n  v4 \\<sqsubseteq> v2\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  val_size v2 < fun_size t\n  val_size v4 < fun_size t'", "have Tv2_v4: \"T v2 <: T v4\""], ["proof (prove)\nusing this:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n  v4 \\<sqsubseteq> v2\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  val_size v2 < fun_size t\n  val_size v4 < fun_size t'\n\ngoal (1 subgoal):\n 1. T v2 <: T v4", "apply (erule_tac x=\"?m\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     val_size v2 + val_size v4 < n \\<longrightarrow>\n     (\\<forall>v v' t t'.\n         val_size v2 + val_size v4 =\n         val_size v + val_size v' + fun_size t +\n         fun_size t' \\<longrightarrow>\n         (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n         (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t))\\<rbrakk>\n    \\<Longrightarrow> T v2 <: T v4", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v2 + val_size v4 < n\n 2. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     \\<forall>v v' t t'.\n        val_size v2 + val_size v4 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v2 <: T v4", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     \\<forall>v v' t t'.\n        val_size v2 + val_size v4 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v2 <: T v4", "apply (erule_tac x=v4 in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     \\<forall>v' t t'.\n        val_size v2 + val_size v4 =\n        val_size v4 + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v4 \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v4) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v2 <: T v4", "apply (erule_tac x=v2 in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     \\<forall>t t'.\n        val_size v2 + val_size v4 =\n        val_size v4 + val_size v2 + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v4 \\<sqsubseteq> v2 \\<longrightarrow> T v2 <: T v4) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v2 <: T v4", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     \\<forall>t'.\n        val_size v2 + val_size v4 =\n        val_size v4 + val_size v2 + fun_size [] +\n        fun_size t' \\<longrightarrow>\n        (v4 \\<sqsubseteq> v2 \\<longrightarrow> T v2 <: T v4) \\<and>\n        ([] \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v2 <: T v4", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     val_size v2 + val_size v4 =\n     val_size v4 + val_size v2 + fun_size [] + fun_size [] \\<longrightarrow>\n     (v4 \\<sqsubseteq> v2 \\<longrightarrow> T v2 <: T v4) \\<and>\n     ([] \\<lesssim> [] \\<longrightarrow> Tf [] <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v2 <: T v4", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v2 + val_size v4 =\n                      val_size v4 + val_size v2 + fun_size [] + fun_size []\n 2. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     (v4 \\<sqsubseteq> v2 \\<longrightarrow> T v2 <: T v4) \\<and>\n     ([] \\<lesssim> [] \\<longrightarrow> Tf [] <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v2 <: T v4", "defer"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     (v4 \\<sqsubseteq> v2 \\<longrightarrow> T v2 <: T v4) \\<and>\n     ([] \\<lesssim> [] \\<longrightarrow> Tf [] <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v2 <: T v4\n 2. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v2 + val_size v4 =\n                      val_size v4 + val_size v2 + fun_size [] + fun_size []", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v4 \\<sqsubseteq> v2;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v2 + val_size v4 =\n                      val_size v4 + val_size v2 + fun_size [] + fun_size []", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  T v2 <: T v4\n\ngoal (1 subgoal):\n 1. T v4 \\<approx> T v2", "from 1 v24 n sv2 sv4"], ["proof (chain)\npicking this:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n  v2 \\<sqsubseteq> v4\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  val_size v2 < fun_size t\n  val_size v4 < fun_size t'", "have Tv4_v2: \"T v4 <: T v2\""], ["proof (prove)\nusing this:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n  v2 \\<sqsubseteq> v4\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  val_size v2 < fun_size t\n  val_size v4 < fun_size t'\n\ngoal (1 subgoal):\n 1. T v4 <: T v2", "apply (erule_tac x=\"?m\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     val_size v2 + val_size v4 < n \\<longrightarrow>\n     (\\<forall>v v' t t'.\n         val_size v2 + val_size v4 =\n         val_size v + val_size v' + fun_size t +\n         fun_size t' \\<longrightarrow>\n         (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n         (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t))\\<rbrakk>\n    \\<Longrightarrow> T v4 <: T v2", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v2 + val_size v4 < n\n 2. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     \\<forall>v v' t t'.\n        val_size v2 + val_size v4 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v4 <: T v2", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     \\<forall>v v' t t'.\n        val_size v2 + val_size v4 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v4 <: T v2", "apply (erule_tac x=v2 in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     \\<forall>v' t t'.\n        val_size v2 + val_size v4 =\n        val_size v2 + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v2 \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v2) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v4 <: T v2", "apply (erule_tac x=v4 in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     \\<forall>t t'.\n        val_size v2 + val_size v4 =\n        val_size v2 + val_size v4 + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v2 \\<sqsubseteq> v4 \\<longrightarrow> T v4 <: T v2) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> T v4 <: T v2", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     \\<forall>t'.\n        val_size v2 + val_size v4 =\n        val_size v2 + val_size v4 + fun_size [] +\n        fun_size t' \\<longrightarrow>\n        (v2 \\<sqsubseteq> v4 \\<longrightarrow> T v4 <: T v2) \\<and>\n        ([] \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v4 <: T v2", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     val_size v2 + val_size v4 =\n     val_size v2 + val_size v4 + fun_size [] + fun_size [] \\<longrightarrow>\n     (v2 \\<sqsubseteq> v4 \\<longrightarrow> T v4 <: T v2) \\<and>\n     ([] \\<lesssim> [] \\<longrightarrow> Tf [] <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v4 <: T v2", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v2 + val_size v4 =\n                      val_size v2 + val_size v4 + fun_size [] + fun_size []\n 2. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     (v2 \\<sqsubseteq> v4 \\<longrightarrow> T v4 <: T v2) \\<and>\n     ([] \\<lesssim> [] \\<longrightarrow> Tf [] <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v4 <: T v2", "defer"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t';\n     (v2 \\<sqsubseteq> v4 \\<longrightarrow> T v4 <: T v2) \\<and>\n     ([] \\<lesssim> [] \\<longrightarrow> Tf [] <:: Tf [])\\<rbrakk>\n    \\<Longrightarrow> T v4 <: T v2\n 2. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v2 + val_size v4 =\n                      val_size v2 + val_size v4 + fun_size [] + fun_size []", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v2 \\<sqsubseteq> v4;\n     n = val_size v + val_size v' + fun_size t + fun_size t';\n     val_size v2 < fun_size t; val_size v4 < fun_size t'\\<rbrakk>\n    \\<Longrightarrow> val_size v2 + val_size v4 =\n                      val_size v2 + val_size v4 + fun_size [] + fun_size []", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  T v4 <: T v2\n\ngoal (1 subgoal):\n 1. T v4 \\<approx> T v2", "from Tv2_v4 Tv4_v2"], ["proof (chain)\npicking this:\n  T v2 <: T v4\n  T v4 <: T v2", "show ?thesis"], ["proof (prove)\nusing this:\n  T v2 <: T v4\n  T v4 <: T v2\n\ngoal (1 subgoal):\n 1. T v4 \\<approx> T v2", "unfolding ty_eq_def"], ["proof (prove)\nusing this:\n  T v2 <: T v4\n  T v4 <: T v2\n\ngoal (1 subgoal):\n 1. T v4 <: T v2 \\<and> T v2 <: T v4", "by blast"], ["proof (state)\nthis:\n  T v4 \\<approx> T v2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  T v4 \\<approx> T v2\n\ngoal (2 subgoals):\n 1. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: T v1 \\<rightarrow> T v2\n 2. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "from Tv3_Tv1 Tv4_Tv2"], ["proof (chain)\npicking this:\n  T v3 \\<approx> T v1\n  T v4 \\<approx> T v2", "have T34_T12: \"T v3 \\<rightarrow> T v4 <:: T v1 \\<rightarrow> T v2\""], ["proof (prove)\nusing this:\n  T v3 \\<approx> T v1\n  T v4 \\<approx> T v2\n\ngoal (1 subgoal):\n 1. T v3 \\<rightarrow> T v4 <:: T v1 \\<rightarrow> T v2", "unfolding ty_eq_def"], ["proof (prove)\nusing this:\n  T v3 <: T v1 \\<and> T v1 <: T v3\n  T v4 <: T v2 \\<and> T v2 <: T v4\n\ngoal (1 subgoal):\n 1. T v3 \\<rightarrow> T v4 <:: T v1 \\<rightarrow> T v2", "by blast"], ["proof (state)\nthis:\n  T v3 \\<rightarrow> T v4 <:: T v1 \\<rightarrow> T v2\n\ngoal (2 subgoals):\n 1. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: T v1 \\<rightarrow> T v2\n 2. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "from v34"], ["proof (chain)\npicking this:\n  (v3, v4) \\<in> set t'", "have tp_T34: \"Tf t' <:: T v3 \\<rightarrow> T v4\""], ["proof (prove)\nusing this:\n  (v3, v4) \\<in> set t'\n\ngoal (1 subgoal):\n 1. Tf t' <:: T v3 \\<rightarrow> T v4", "using table_mem_sub"], ["proof (prove)\nusing this:\n  (v3, v4) \\<in> set t'\n  (?v, ?v') \\<in> set ?t \\<Longrightarrow>\n  Tf ?t <:: T ?v \\<rightarrow> T ?v'\n\ngoal (1 subgoal):\n 1. Tf t' <:: T v3 \\<rightarrow> T v4", "by blast"], ["proof (state)\nthis:\n  Tf t' <:: T v3 \\<rightarrow> T v4\n\ngoal (2 subgoals):\n 1. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: T v1 \\<rightarrow> T v2\n 2. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "from tp_T34 T34_T12"], ["proof (chain)\npicking this:\n  Tf t' <:: T v3 \\<rightarrow> T v4\n  T v3 \\<rightarrow> T v4 <:: T v1 \\<rightarrow> T v2", "show \"Tf t' <:: T v1 \\<rightarrow> T v2\""], ["proof (prove)\nusing this:\n  Tf t' <:: T v3 \\<rightarrow> T v4\n  T v3 \\<rightarrow> T v4 <:: T v1 \\<rightarrow> T v2\n\ngoal (1 subgoal):\n 1. Tf t' <:: T v1 \\<rightarrow> T v2", "by (rule sub_trans)"], ["proof (state)\nthis:\n  Tf t' <:: T v1 \\<rightarrow> T v2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "let ?m = \"fun_size t' + fun_size t1\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "from Cons Pair t_tp"], ["proof (chain)\npicking this:\n  t = a # t1\n  a = (v1, v2)\n  t \\<lesssim> t'", "have t1_tp: \"t1 \\<lesssim> t'\""], ["proof (prove)\nusing this:\n  t = a # t1\n  a = (v1, v2)\n  t \\<lesssim> t'\n\ngoal (1 subgoal):\n 1. t1 \\<lesssim> t'", "by auto"], ["proof (state)\nthis:\n  t1 \\<lesssim> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>t = (v1, v2) # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "from 1 n t1_tp Cons Pair"], ["proof (chain)\npicking this:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  t1 \\<lesssim> t'\n  t = a # t1\n  a = (v1, v2)", "show \"Tf t' <:: Tf t1\""], ["proof (prove)\nusing this:\n  \\<forall>m<n.\n     \\<forall>v v' t t'.\n        m =\n        val_size v + val_size v' + fun_size t +\n        fun_size t' \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n  n = val_size v + val_size v' + fun_size t + fun_size t'\n  t1 \\<lesssim> t'\n  t = a # t1\n  a = (v1, v2)\n\ngoal (1 subgoal):\n 1. Tf t' <:: Tf t1", "apply (erule_tac x=\"?m\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n     t1 \\<lesssim> t'; t = a # t1; a = (v1, v2);\n     fun_size t' + fun_size t1 < n \\<longrightarrow>\n     (\\<forall>v v' t t'a.\n         fun_size t' + fun_size t1 =\n         val_size v + val_size v' + fun_size t +\n         fun_size t'a \\<longrightarrow>\n         (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n         (t \\<lesssim> t'a \\<longrightarrow> Tf t'a <:: Tf t))\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n     t1 \\<lesssim> t'; t = a # t1; a = (v1, v2)\\<rbrakk>\n    \\<Longrightarrow> fun_size t' + fun_size t1 < n\n 2. \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n     t1 \\<lesssim> t'; t = a # t1; a = (v1, v2);\n     \\<forall>v v' t t'a.\n        fun_size t' + fun_size t1 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t'a \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t'a \\<longrightarrow> Tf t'a <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n     t1 \\<lesssim> t'; t = a # t1; a = (v1, v2);\n     \\<forall>v v' t t'a.\n        fun_size t' + fun_size t1 =\n        val_size v + val_size v' + fun_size t +\n        fun_size t'a \\<longrightarrow>\n        (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n        (t \\<lesssim> t'a \\<longrightarrow> Tf t'a <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "apply (erule_tac x=\"VNat 0\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n     t1 \\<lesssim> t'; t = a # t1; a = (v1, v2);\n     \\<forall>v' t t'a.\n        fun_size t' + fun_size t1 =\n        val_size (VNat 0) + val_size v' + fun_size t +\n        fun_size t'a \\<longrightarrow>\n        (VNat 0 \\<sqsubseteq> v' \\<longrightarrow>\n         T v' <: T (VNat 0)) \\<and>\n        (t \\<lesssim> t'a \\<longrightarrow> Tf t'a <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "apply (erule_tac x=\"VNat 0\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n     t1 \\<lesssim> t'; t = a # t1; a = (v1, v2);\n     \\<forall>t t'a.\n        fun_size t' + fun_size t1 =\n        val_size (VNat 0) + val_size (VNat 0) + fun_size t +\n        fun_size t'a \\<longrightarrow>\n        (VNat 0 \\<sqsubseteq> VNat 0 \\<longrightarrow>\n         T (VNat 0) <: T (VNat 0)) \\<and>\n        (t \\<lesssim> t'a \\<longrightarrow> Tf t'a <:: Tf t)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "apply (erule_tac x=\"t1\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n     t1 \\<lesssim> t'; t = a # t1; a = (v1, v2);\n     \\<forall>t'a.\n        fun_size t' + fun_size t1 =\n        val_size (VNat 0) + val_size (VNat 0) + fun_size t1 +\n        fun_size t'a \\<longrightarrow>\n        (VNat 0 \\<sqsubseteq> VNat 0 \\<longrightarrow>\n         T (VNat 0) <: T (VNat 0)) \\<and>\n        (t1 \\<lesssim> t'a \\<longrightarrow> Tf t'a <:: Tf t1)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "apply (erule_tac x=\"t'\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = val_size v + val_size v' + fun_size t + fun_size t';\n     t1 \\<lesssim> t'; t = a # t1; a = (v1, v2);\n     fun_size t' + fun_size t1 =\n     val_size (VNat 0) + val_size (VNat 0) + fun_size t1 +\n     fun_size t' \\<longrightarrow>\n     (VNat 0 \\<sqsubseteq> VNat 0 \\<longrightarrow>\n      T (VNat 0) <: T (VNat 0)) \\<and>\n     (t1 \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t1)\\<rbrakk>\n    \\<Longrightarrow> Tf t' <:: Tf t1", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tf t' <:: Tf t1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tf t' <:: Tf t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tf t' <:: Tf t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tf t' <:: Tf t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v v' t t'.\n     n =\n     val_size v + val_size v' + fun_size t + fun_size t' \\<longrightarrow>\n     (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n     (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n\ngoal:\nNo subgoals!", "qed"], ["", "proposition le_sub_flip: \"v \\<sqsubseteq> v' \\<Longrightarrow> T v' <: T v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<sqsubseteq> v' \\<Longrightarrow> T v' <: T v", "using le_sub_flip_aux"], ["proof (prove)\nusing this:\n  \\<forall>v v' t t'.\n     ?n =\n     val_size v + val_size v' + fun_size t + fun_size t' \\<longrightarrow>\n     (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n     (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n\ngoal (1 subgoal):\n 1. v \\<sqsubseteq> v' \\<Longrightarrow> T v' <: T v", "by blast"], ["", "lemma le_sub_fun_flip: \"t \\<lesssim> t' \\<Longrightarrow> Tf t' <:: Tf t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<lesssim> t' \\<Longrightarrow> Tf t' <:: Tf t", "using le_sub_flip_aux"], ["proof (prove)\nusing this:\n  \\<forall>v v' t t'.\n     ?n =\n     val_size v + val_size v' + fun_size t + fun_size t' \\<longrightarrow>\n     (v \\<sqsubseteq> v' \\<longrightarrow> T v' <: T v) \\<and>\n     (t \\<lesssim> t' \\<longrightarrow> Tf t' <:: Tf t)\n\ngoal (1 subgoal):\n 1. t \\<lesssim> t' \\<Longrightarrow> Tf t' <:: Tf t", "by blast"], ["", "lemma Tf_append: \"Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2", "proof (induction t1)"], ["proof (state)\ngoal (2 subgoals):\n 1. Tf ([] @ t2) <:: Tf [] \\<sqinter> Tf t2\n 2. \\<And>a t1.\n       Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2 \\<Longrightarrow>\n       Tf ((a # t1) @ t2) <:: Tf (a # t1) \\<sqinter> Tf t2", "case Nil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. Tf ([] @ t2) <:: Tf [] \\<sqinter> Tf t2\n 2. \\<And>a t1.\n       Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2 \\<Longrightarrow>\n       Tf ((a # t1) @ t2) <:: Tf (a # t1) \\<sqinter> Tf t2", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf ([] @ t2) <:: Tf [] \\<sqinter> Tf t2", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf t2 <:: \\<top> \\<sqinter> Tf t2", "apply (rule sub_inter_r)"], ["proof (prove)\ngoal (2 subgoals):\n 1. Tf t2 <:: \\<top>\n 2. Tf t2 <:: Tf t2", "using Tf_top"], ["proof (prove)\nusing this:\n  Tf ?t <:: \\<top>\n\ngoal (2 subgoals):\n 1. Tf t2 <:: \\<top>\n 2. Tf t2 <:: Tf t2", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf t2 <:: Tf t2", "apply (rule fsub_refl)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tf ([] @ t2) <:: Tf [] \\<sqinter> Tf t2\n\ngoal (1 subgoal):\n 1. \\<And>a t1.\n       Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2 \\<Longrightarrow>\n       Tf ((a # t1) @ t2) <:: Tf (a # t1) \\<sqinter> Tf t2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a t1.\n       Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2 \\<Longrightarrow>\n       Tf ((a # t1) @ t2) <:: Tf (a # t1) \\<sqinter> Tf t2", "case (Cons a t1)"], ["proof (state)\nthis:\n  Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2\n\ngoal (1 subgoal):\n 1. \\<And>a t1.\n       Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2 \\<Longrightarrow>\n       Tf ((a # t1) @ t2) <:: Tf (a # t1) \\<sqinter> Tf t2", "then"], ["proof (chain)\npicking this:\n  Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2", "show ?case"], ["proof (prove)\nusing this:\n  Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2\n\ngoal (1 subgoal):\n 1. Tf ((a # t1) @ t2) <:: Tf (a # t1) \\<sqinter> Tf t2", "apply (case_tac a)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tf ((a # t1) @ t2) <:: Tf (a # t1) \\<sqinter> Tf t2", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         ((T aa \\<rightarrow> T b) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2", "apply (rule sub_inter_r)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         (T aa \\<rightarrow> T b) \\<sqinter> Tf t1\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t2", "apply (rule sub_inter_r)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         T aa \\<rightarrow> T b\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t1\n 3. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t2", "apply (rule sub_inter_left1)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> T aa \\<rightarrow> T b <:: T aa \\<rightarrow> T b\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t1\n 3. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t2", "apply (rule fsub_refl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t1\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t2", "apply (rule sub_inter_left2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tf (t1 @ t2) <:: Tf t1\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t2", "apply (subgoal_tac \"Tf t1 \\<sqinter> Tf t2 <:: Tf t1\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t1\\<rbrakk>\n       \\<Longrightarrow> Tf (t1 @ t2) <:: Tf t1\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tf t1 \\<sqinter> Tf t2 <:: Tf t1\n 3. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t2", "prefer 2"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tf t1 \\<sqinter> Tf t2 <:: Tf t1\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t1\\<rbrakk>\n       \\<Longrightarrow> Tf (t1 @ t2) <:: Tf t1\n 3. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t2", "apply (rule sub_inter_left1)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tf t1 <:: Tf t1\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t1\\<rbrakk>\n       \\<Longrightarrow> Tf (t1 @ t2) <:: Tf t1\n 3. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t2", "apply (rule fsub_refl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t1\\<rbrakk>\n       \\<Longrightarrow> Tf (t1 @ t2) <:: Tf t1\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t2", "apply (rule sub_trans)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t1\\<rbrakk>\n       \\<Longrightarrow> Tf (t1 @ t2) <:: ?T2.17 aa b\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t1\\<rbrakk>\n       \\<Longrightarrow> ?T2.17 aa b <:: Tf t1\n 3. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t2", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t1\\<rbrakk>\n       \\<Longrightarrow> Tf t1 \\<sqinter> Tf t2 <:: Tf t1\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t2", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> (T aa \\<rightarrow> T b) \\<sqinter>\n                         Tf (t1 @ t2) <::\n                         Tf t2", "apply (rule sub_inter_left2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tf (t1 @ t2) <:: Tf t2", "apply (subgoal_tac \"Tf t1 \\<sqinter> Tf t2 <:: Tf t2\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t2\\<rbrakk>\n       \\<Longrightarrow> Tf (t1 @ t2) <:: Tf t2\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tf t1 \\<sqinter> Tf t2 <:: Tf t2", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tf t1 \\<sqinter> Tf t2 <:: Tf t2\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t2\\<rbrakk>\n       \\<Longrightarrow> Tf (t1 @ t2) <:: Tf t2", "apply (rule sub_inter_left2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2;\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tf t2 <:: Tf t2\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t2\\<rbrakk>\n       \\<Longrightarrow> Tf (t1 @ t2) <:: Tf t2", "apply (rule fsub_refl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t2\\<rbrakk>\n       \\<Longrightarrow> Tf (t1 @ t2) <:: Tf t2", "apply (rule sub_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t2\\<rbrakk>\n       \\<Longrightarrow> Tf (t1 @ t2) <:: ?T2.26 aa b\n 2. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t2\\<rbrakk>\n       \\<Longrightarrow> ?T2.26 aa b <:: Tf t2", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>Tf (t1 @ t2) <:: Tf t1 \\<sqinter> Tf t2; a = (aa, b);\n        Tf t1 \\<sqinter> Tf t2 <:: Tf t2\\<rbrakk>\n       \\<Longrightarrow> Tf t1 \\<sqinter> Tf t2 <:: Tf t2", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tf ((a # t1) @ t2) <:: Tf (a # t1) \\<sqinter> Tf t2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma append_Tf: \"Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2)", "proof (induction t1)"], ["proof (state)\ngoal (2 subgoals):\n 1. Tf [] \\<sqinter> Tf t2 <:: Tf ([] @ t2)\n 2. \\<And>a t1.\n       Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2) \\<Longrightarrow>\n       Tf (a # t1) \\<sqinter> Tf t2 <:: Tf ((a # t1) @ t2)", "case Nil"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. Tf [] \\<sqinter> Tf t2 <:: Tf ([] @ t2)\n 2. \\<And>a t1.\n       Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2) \\<Longrightarrow>\n       Tf (a # t1) \\<sqinter> Tf t2 <:: Tf ((a # t1) @ t2)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf [] \\<sqinter> Tf t2 <:: Tf ([] @ t2)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<top> \\<sqinter> Tf t2 <:: Tf t2", "apply (rule sub_inter_left2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf t2 <:: Tf t2", "apply (rule fsub_refl)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tf [] \\<sqinter> Tf t2 <:: Tf ([] @ t2)\n\ngoal (1 subgoal):\n 1. \\<And>a t1.\n       Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2) \\<Longrightarrow>\n       Tf (a # t1) \\<sqinter> Tf t2 <:: Tf ((a # t1) @ t2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a t1.\n       Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2) \\<Longrightarrow>\n       Tf (a # t1) \\<sqinter> Tf t2 <:: Tf ((a # t1) @ t2)", "case (Cons p t1)"], ["proof (state)\nthis:\n  Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2)\n\ngoal (1 subgoal):\n 1. \\<And>a t1.\n       Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2) \\<Longrightarrow>\n       Tf (a # t1) \\<sqinter> Tf t2 <:: Tf ((a # t1) @ t2)", "then"], ["proof (chain)\npicking this:\n  Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2)", "show ?case"], ["proof (prove)\nusing this:\n  Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2)\n\ngoal (1 subgoal):\n 1. Tf (p # t1) \\<sqinter> Tf t2 <:: Tf ((p # t1) @ t2)", "apply (cases p)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (a, b)\\<rbrakk>\n       \\<Longrightarrow> Tf (p # t1) \\<sqinter> Tf t2 <:: Tf ((p # t1) @ t2)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (a, b)\\<rbrakk>\n       \\<Longrightarrow> ((T a \\<rightarrow> T b) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         (T a \\<rightarrow> T b) \\<sqinter> Tf (t1 @ t2)", "apply (rule sub_inter_r)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (a, b)\\<rbrakk>\n       \\<Longrightarrow> ((T a \\<rightarrow> T b) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         T a \\<rightarrow> T b\n 2. \\<And>a b.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (a, b)\\<rbrakk>\n       \\<Longrightarrow> ((T a \\<rightarrow> T b) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)", "apply (rule sub_inter_left1)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (a, b)\\<rbrakk>\n       \\<Longrightarrow> (T a \\<rightarrow> T b) \\<sqinter> Tf t1 <::\n                         T a \\<rightarrow> T b\n 2. \\<And>a b.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (a, b)\\<rbrakk>\n       \\<Longrightarrow> ((T a \\<rightarrow> T b) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)", "apply (rule sub_inter_left1)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (a, b)\\<rbrakk>\n       \\<Longrightarrow> T a \\<rightarrow> T b <:: T a \\<rightarrow> T b\n 2. \\<And>a b.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (a, b)\\<rbrakk>\n       \\<Longrightarrow> ((T a \\<rightarrow> T b) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)", "apply (rule fsub_refl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (a, b)\\<rbrakk>\n       \\<Longrightarrow> ((T a \\<rightarrow> T b) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)", "apply (rename_tac v1 v2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2);\n        p = (v1, v2)\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)", "apply (subgoal_tac \"((T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1) \\<sqinter> Tf t2 <:: Tf t1 \\<sqinter> Tf t2\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (v1, v2);\n        ((T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1) \\<sqinter> Tf t2 <::\n        Tf t1 \\<sqinter> Tf t2\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)\n 2. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2);\n        p = (v1, v2)\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf t1 \\<sqinter> Tf t2", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2);\n        p = (v1, v2)\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf t1 \\<sqinter> Tf t2\n 2. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (v1, v2);\n        ((T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1) \\<sqinter> Tf t2 <::\n        Tf t1 \\<sqinter> Tf t2\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)", "apply (rule sub_inter_r)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2);\n        p = (v1, v2)\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf t1\n 2. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2);\n        p = (v1, v2)\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf t2\n 3. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (v1, v2);\n        ((T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1) \\<sqinter> Tf t2 <::\n        Tf t1 \\<sqinter> Tf t2\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)", "apply (rule sub_inter_left1)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2);\n        p = (v1, v2)\\<rbrakk>\n       \\<Longrightarrow> (T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1 <::\n                         Tf t1\n 2. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2);\n        p = (v1, v2)\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf t2\n 3. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (v1, v2);\n        ((T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1) \\<sqinter> Tf t2 <::\n        Tf t1 \\<sqinter> Tf t2\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)", "apply (rule sub_inter_left2)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2);\n        p = (v1, v2)\\<rbrakk>\n       \\<Longrightarrow> Tf t1 <:: Tf t1\n 2. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2);\n        p = (v1, v2)\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf t2\n 3. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (v1, v2);\n        ((T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1) \\<sqinter> Tf t2 <::\n        Tf t1 \\<sqinter> Tf t2\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)", "apply (rule fsub_refl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2);\n        p = (v1, v2)\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf t2\n 2. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (v1, v2);\n        ((T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1) \\<sqinter> Tf t2 <::\n        Tf t1 \\<sqinter> Tf t2\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)", "apply (rule sub_inter_left2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2);\n        p = (v1, v2)\\<rbrakk>\n       \\<Longrightarrow> Tf t2 <:: Tf t2\n 2. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (v1, v2);\n        ((T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1) \\<sqinter> Tf t2 <::\n        Tf t1 \\<sqinter> Tf t2\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)", "apply (rule fsub_refl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (v1, v2);\n        ((T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1) \\<sqinter> Tf t2 <::\n        Tf t1 \\<sqinter> Tf t2\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         Tf (t1 @ t2)", "apply (rule sub_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (v1, v2);\n        ((T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1) \\<sqinter> Tf t2 <::\n        Tf t1 \\<sqinter> Tf t2\\<rbrakk>\n       \\<Longrightarrow> ((T v1 \\<rightarrow> T v2) \\<sqinter>\n                          Tf t1) \\<sqinter>\n                         Tf t2 <::\n                         ?T2.22 v1 v2\n 2. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (v1, v2);\n        ((T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1) \\<sqinter> Tf t2 <::\n        Tf t1 \\<sqinter> Tf t2\\<rbrakk>\n       \\<Longrightarrow> ?T2.22 v1 v2 <:: Tf (t1 @ t2)", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v1 v2.\n       \\<lbrakk>Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2); p = (v1, v2);\n        ((T v1 \\<rightarrow> T v2) \\<sqinter> Tf t1) \\<sqinter> Tf t2 <::\n        Tf t1 \\<sqinter> Tf t2\\<rbrakk>\n       \\<Longrightarrow> Tf t1 \\<sqinter> Tf t2 <:: Tf (t1 @ t2)", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tf (p # t1) \\<sqinter> Tf t2 <:: Tf ((p # t1) @ t2)\n\ngoal:\nNo subgoals!", "qed"], ["", "proposition tv_id: shows \"T (V A) \\<approx> A\" and \"Tf (Vf F) \\<simeq> F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T (V A) \\<approx> A &&& Tf (Vf F) \\<simeq> F", "proof (induction rule: V_Vf.induct)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>n. T (V (TNat n)) \\<approx> TNat n\n 2. \\<And>f.\n       Tf (Vf f) \\<simeq> f \\<Longrightarrow>\n       T (V (TFun f)) \\<approx> TFun f\n 3. \\<And>A B.\n       \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<rightarrow> B)) \\<simeq>\n                         A \\<rightarrow> B\n 4. \\<And>A B.\n       \\<lbrakk>Tf (Vf A) \\<simeq> A; Tf (Vf B) \\<simeq> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B\n 5. Tf (Vf \\<top>) \\<simeq> \\<top>", "case (1 n)"], ["proof (state)\nthis:\n  \n\ngoal (5 subgoals):\n 1. \\<And>n. T (V (TNat n)) \\<approx> TNat n\n 2. \\<And>f.\n       Tf (Vf f) \\<simeq> f \\<Longrightarrow>\n       T (V (TFun f)) \\<approx> TFun f\n 3. \\<And>A B.\n       \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<rightarrow> B)) \\<simeq>\n                         A \\<rightarrow> B\n 4. \\<And>A B.\n       \\<lbrakk>Tf (Vf A) \\<simeq> A; Tf (Vf B) \\<simeq> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B\n 5. Tf (Vf \\<top>) \\<simeq> \\<top>", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. T (V (TNat n)) \\<approx> TNat n", "apply (simp add: ty_eq_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. TNat n <: TNat n", "apply (rule sub_refl)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  T (V (TNat n)) \\<approx> TNat n\n\ngoal (4 subgoals):\n 1. \\<And>f.\n       Tf (Vf f) \\<simeq> f \\<Longrightarrow>\n       T (V (TFun f)) \\<approx> TFun f\n 2. \\<And>A B.\n       \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<rightarrow> B)) \\<simeq>\n                         A \\<rightarrow> B\n 3. \\<And>A B.\n       \\<lbrakk>Tf (Vf A) \\<simeq> A; Tf (Vf B) \\<simeq> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B\n 4. Tf (Vf \\<top>) \\<simeq> \\<top>", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>f.\n       Tf (Vf f) \\<simeq> f \\<Longrightarrow>\n       T (V (TFun f)) \\<approx> TFun f\n 2. \\<And>A B.\n       \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<rightarrow> B)) \\<simeq>\n                         A \\<rightarrow> B\n 3. \\<And>A B.\n       \\<lbrakk>Tf (Vf A) \\<simeq> A; Tf (Vf B) \\<simeq> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B\n 4. Tf (Vf \\<top>) \\<simeq> \\<top>", "case (2 f)"], ["proof (state)\nthis:\n  Tf (Vf f) \\<simeq> f\n\ngoal (4 subgoals):\n 1. \\<And>f.\n       Tf (Vf f) \\<simeq> f \\<Longrightarrow>\n       T (V (TFun f)) \\<approx> TFun f\n 2. \\<And>A B.\n       \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<rightarrow> B)) \\<simeq>\n                         A \\<rightarrow> B\n 3. \\<And>A B.\n       \\<lbrakk>Tf (Vf A) \\<simeq> A; Tf (Vf B) \\<simeq> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B\n 4. Tf (Vf \\<top>) \\<simeq> \\<top>", "then"], ["proof (chain)\npicking this:\n  Tf (Vf f) \\<simeq> f", "show ?case"], ["proof (prove)\nusing this:\n  Tf (Vf f) \\<simeq> f\n\ngoal (1 subgoal):\n 1. T (V (TFun f)) \\<approx> TFun f", "apply (simp add: ty_eq_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf (Vf f) \\<simeq> f \\<Longrightarrow>\n    TFun (Tf (Vf f)) <: TFun f \\<and> TFun f <: TFun (Tf (Vf f))", "apply (rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. Tf (Vf f) \\<simeq> f \\<Longrightarrow> TFun (Tf (Vf f)) <: TFun f\n 2. Tf (Vf f) \\<simeq> f \\<Longrightarrow> TFun f <: TFun (Tf (Vf f))", "apply (rule sub_funty)"], ["proof (prove)\ngoal (2 subgoals):\n 1. Tf (Vf f) \\<simeq> f \\<Longrightarrow> Tf (Vf f) <:: f\n 2. Tf (Vf f) \\<simeq> f \\<Longrightarrow> TFun f <: TFun (Tf (Vf f))", "using le_sub_flip fty_eq_def"], ["proof (prove)\nusing this:\n  ?v \\<sqsubseteq> ?v' \\<Longrightarrow> T ?v' <: T ?v\n  ?F1.0 \\<simeq> ?F2.0 \\<equiv> ?F1.0 <:: ?F2.0 \\<and> ?F2.0 <:: ?F1.0\n\ngoal (2 subgoals):\n 1. Tf (Vf f) \\<simeq> f \\<Longrightarrow> Tf (Vf f) <:: f\n 2. Tf (Vf f) \\<simeq> f \\<Longrightarrow> TFun f <: TFun (Tf (Vf f))", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf (Vf f) \\<simeq> f \\<Longrightarrow> TFun f <: TFun (Tf (Vf f))", "apply (rule sub_funty)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf (Vf f) \\<simeq> f \\<Longrightarrow> f <:: Tf (Vf f)", "using le_sub_flip fty_eq_def"], ["proof (prove)\nusing this:\n  ?v \\<sqsubseteq> ?v' \\<Longrightarrow> T ?v' <: T ?v\n  ?F1.0 \\<simeq> ?F2.0 \\<equiv> ?F1.0 <:: ?F2.0 \\<and> ?F2.0 <:: ?F1.0\n\ngoal (1 subgoal):\n 1. Tf (Vf f) \\<simeq> f \\<Longrightarrow> f <:: Tf (Vf f)", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  T (V (TFun f)) \\<approx> TFun f\n\ngoal (3 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<rightarrow> B)) \\<simeq>\n                         A \\<rightarrow> B\n 2. \\<And>A B.\n       \\<lbrakk>Tf (Vf A) \\<simeq> A; Tf (Vf B) \\<simeq> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B\n 3. Tf (Vf \\<top>) \\<simeq> \\<top>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<rightarrow> B)) \\<simeq>\n                         A \\<rightarrow> B\n 2. \\<And>A B.\n       \\<lbrakk>Tf (Vf A) \\<simeq> A; Tf (Vf B) \\<simeq> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B\n 3. Tf (Vf \\<top>) \\<simeq> \\<top>", "case (3 A B)"], ["proof (state)\nthis:\n  T (V A) \\<approx> A\n  T (V B) \\<approx> B\n\ngoal (3 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<rightarrow> B)) \\<simeq>\n                         A \\<rightarrow> B\n 2. \\<And>A B.\n       \\<lbrakk>Tf (Vf A) \\<simeq> A; Tf (Vf B) \\<simeq> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B\n 3. Tf (Vf \\<top>) \\<simeq> \\<top>", "then"], ["proof (chain)\npicking this:\n  T (V A) \\<approx> A\n  T (V B) \\<approx> B", "show ?case"], ["proof (prove)\nusing this:\n  T (V A) \\<approx> A\n  T (V B) \\<approx> B\n\ngoal (1 subgoal):\n 1. Tf (Vf (A \\<rightarrow> B)) \\<simeq> A \\<rightarrow> B", "apply (simp add: fty_eq_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> (T (V A) \\<rightarrow> T (V B)) \\<sqinter> \\<top> <::\n                      A \\<rightarrow> B \\<and>\n                      A \\<rightarrow> B <::\n                      (T (V A) \\<rightarrow> T (V B)) \\<sqinter> \\<top>", "apply(rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> (T (V A) \\<rightarrow> T (V B)) \\<sqinter> \\<top> <::\n                      A \\<rightarrow> B\n 2. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> A \\<rightarrow> B <::\n                      (T (V A) \\<rightarrow> T (V B)) \\<sqinter> \\<top>", "apply (rule sub_inter_left1)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> T (V A) \\<rightarrow> T (V B) <:: A \\<rightarrow> B\n 2. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> A \\<rightarrow> B <::\n                      (T (V A) \\<rightarrow> T (V B)) \\<sqinter> \\<top>", "using ty_eq_def"], ["proof (prove)\nusing this:\n  ?A \\<approx> ?B \\<equiv> ?A <: ?B \\<and> ?B <: ?A\n\ngoal (2 subgoals):\n 1. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> T (V A) \\<rightarrow> T (V B) <:: A \\<rightarrow> B\n 2. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> A \\<rightarrow> B <::\n                      (T (V A) \\<rightarrow> T (V B)) \\<sqinter> \\<top>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> A \\<rightarrow> B <::\n                      (T (V A) \\<rightarrow> T (V B)) \\<sqinter> \\<top>", "apply (rule sub_inter_r)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> A \\<rightarrow> B <:: T (V A) \\<rightarrow> T (V B)\n 2. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> A \\<rightarrow> B <:: \\<top>", "using ty_eq_def"], ["proof (prove)\nusing this:\n  ?A \\<approx> ?B \\<equiv> ?A <: ?B \\<and> ?B <: ?A\n\ngoal (2 subgoals):\n 1. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> A \\<rightarrow> B <:: T (V A) \\<rightarrow> T (V B)\n 2. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> A \\<rightarrow> B <:: \\<top>", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>T (V A) \\<approx> A; T (V B) \\<approx> B\\<rbrakk>\n    \\<Longrightarrow> A \\<rightarrow> B <:: \\<top>", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tf (Vf (A \\<rightarrow> B)) \\<simeq> A \\<rightarrow> B\n\ngoal (2 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>Tf (Vf A) \\<simeq> A; Tf (Vf B) \\<simeq> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B\n 2. Tf (Vf \\<top>) \\<simeq> \\<top>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>Tf (Vf A) \\<simeq> A; Tf (Vf B) \\<simeq> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B\n 2. Tf (Vf \\<top>) \\<simeq> \\<top>", "case (4 A B)"], ["proof (state)\nthis:\n  Tf (Vf A) \\<simeq> A\n  Tf (Vf B) \\<simeq> B\n\ngoal (2 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>Tf (Vf A) \\<simeq> A; Tf (Vf B) \\<simeq> B\\<rbrakk>\n       \\<Longrightarrow> Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B\n 2. Tf (Vf \\<top>) \\<simeq> \\<top>", "then"], ["proof (chain)\npicking this:\n  Tf (Vf A) \\<simeq> A\n  Tf (Vf B) \\<simeq> B", "show ?case"], ["proof (prove)\nusing this:\n  Tf (Vf A) \\<simeq> A\n  Tf (Vf B) \\<simeq> B\n\ngoal (1 subgoal):\n 1. Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B", "using fty_eq_def"], ["proof (prove)\nusing this:\n  Tf (Vf A) \\<simeq> A\n  Tf (Vf B) \\<simeq> B\n  ?F1.0 \\<simeq> ?F2.0 \\<equiv> ?F1.0 <:: ?F2.0 \\<and> ?F2.0 <:: ?F1.0\n\ngoal (1 subgoal):\n 1. Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: A \\<sqinter> B \\<and>\n                      A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: A \\<sqinter> B\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (rule sub_inter_r)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: A\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (subgoal_tac \"Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\")"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: A\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 4. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "prefer 2"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: A\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 4. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "using Tf_append"], ["proof (prove)\nusing this:\n  Tf (?t1.0 @ ?t2.0) <:: Tf ?t1.0 \\<sqinter> Tf ?t2.0\n\ngoal (4 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: A\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 4. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: A\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (subgoal_tac \"Tf (Vf A) \\<sqinter> Tf (Vf B) <:: A\")"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B);\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: A\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: A\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: A\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 4. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (rule sub_trans)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B);\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: A\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: ?T2.14\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B);\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: A\\<rbrakk>\n    \\<Longrightarrow> ?T2.14 <:: A\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: A\n 4. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 5. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply assumption"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B);\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: A\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: A\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: A\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 4. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply assumption"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: A\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (rule sub_inter_left1)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) <:: A\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply blast"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (subgoal_tac \"Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "prefer 2"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "using Tf_append"], ["proof (prove)\nusing this:\n  Tf (?t1.0 @ ?t2.0) <:: Tf ?t1.0 \\<sqinter> Tf ?t2.0\n\ngoal (3 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (subgoal_tac \"Tf (Vf A) \\<sqinter> Tf (Vf B) <:: B\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B);\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: B\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: B\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: B\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (rule sub_trans)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B);\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: B\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A @ Vf B) <:: ?T2.26\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B);\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: B\\<rbrakk>\n    \\<Longrightarrow> ?T2.26 <:: B\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: B\n 4. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply assumption"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B);\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: B\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: B\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: B\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: B\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (rule sub_inter_left2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A @ Vf B) <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf B) <:: B\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (subgoal_tac \"Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2.\n        F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (rule append_Tf)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)", "apply (subgoal_tac \"A \\<sqinter> B <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B);\n     A \\<sqinter> B <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A @ Vf B)\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A) \\<sqinter> Tf (Vf B)", "apply (rule sub_trans)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B);\n     A \\<sqinter> B <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: ?T2.38\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B);\n     A \\<sqinter> B <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> ?T2.38 <:: Tf (Vf A @ Vf B)\n 3. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A) \\<sqinter> Tf (Vf B)", "apply blast"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B);\n     A \\<sqinter> B <:: Tf (Vf A) \\<sqinter> Tf (Vf B)\\<rbrakk>\n    \\<Longrightarrow> Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A) \\<sqinter> Tf (Vf B)", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A) \\<sqinter> Tf (Vf B)", "apply (rule sub_inter_r)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf A)\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf B)", "apply (rule sub_inter_left1)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> A <:: Tf (Vf A)\n 2. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf B)", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> A \\<sqinter> B <:: Tf (Vf B)", "apply (rule sub_inter_left2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Tf (Vf A) <:: A \\<and> A <:: Tf (Vf A);\n     Tf (Vf B) <:: B \\<and> B <:: Tf (Vf B);\n     \\<And>F1 F2. F1 \\<simeq> F2 \\<equiv> F1 <:: F2 \\<and> F2 <:: F1;\n     Tf (Vf A) \\<sqinter> Tf (Vf B) <:: Tf (Vf A @ Vf B)\\<rbrakk>\n    \\<Longrightarrow> B <:: Tf (Vf B)", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tf (Vf (A \\<sqinter> B)) \\<simeq> A \\<sqinter> B\n\ngoal (1 subgoal):\n 1. Tf (Vf \\<top>) \\<simeq> \\<top>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. Tf (Vf \\<top>) \\<simeq> \\<top>", "case 5"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. Tf (Vf \\<top>) \\<simeq> \\<top>", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. Tf (Vf \\<top>) \\<simeq> \\<top>", "using fty_eq_def"], ["proof (prove)\nusing this:\n  ?F1.0 \\<simeq> ?F2.0 \\<equiv> ?F1.0 <:: ?F2.0 \\<and> ?F2.0 <:: ?F1.0\n\ngoal (1 subgoal):\n 1. Tf (Vf \\<top>) \\<simeq> \\<top>", "by auto"], ["proof (state)\nthis:\n  Tf (Vf \\<top>) \\<simeq> \\<top>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma denot_lam_implies_ts:\n  assumes et: \"\\<forall> v \\<rho>. v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\" and\n       fe: \"\\<forall>v1 v2. (v1, v2) \\<in> set f \\<longrightarrow> v2 \\<in> E e ((x, v1) # \\<rho>)\"\n  shows \"Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)", "using et fe"], ["proof (prove)\nusing this:\n  \\<forall>v \\<rho>.\n     v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\n  \\<forall>v1 v2.\n     (v1, v2) \\<in> set f \\<longrightarrow> v2 \\<in> E e ((x, v1) # \\<rho>)\n\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)", "proof (induction f)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<forall>v \\<rho>.\n                v \\<in> E e \\<rho> \\<longrightarrow>\n                Tenv \\<rho> \\<turnstile> e : T v;\n     \\<forall>v1 v2.\n        (v1, v2) \\<in> set [] \\<longrightarrow>\n        v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n    \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf [])\n 2. \\<And>a f.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "case Nil"], ["proof (state)\nthis:\n  \\<forall>v \\<rho>.\n     v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\n  \\<forall>v1 v2.\n     (v1, v2) \\<in> set [] \\<longrightarrow> v2 \\<in> E e ((x, v1) # \\<rho>)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<forall>v \\<rho>.\n                v \\<in> E e \\<rho> \\<longrightarrow>\n                Tenv \\<rho> \\<turnstile> e : T v;\n     \\<forall>v1 v2.\n        (v1, v2) \\<in> set [] \\<longrightarrow>\n        v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n    \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf [])\n 2. \\<And>a f.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "then"], ["proof (chain)\npicking this:\n  \\<forall>v \\<rho>.\n     v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\n  \\<forall>v1 v2.\n     (v1, v2) \\<in> set [] \\<longrightarrow> v2 \\<in> E e ((x, v1) # \\<rho>)", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>v \\<rho>.\n     v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\n  \\<forall>v1 v2.\n     (v1, v2) \\<in> set [] \\<longrightarrow> v2 \\<in> E e ((x, v1) # \\<rho>)\n\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf [])", "by auto"], ["proof (state)\nthis:\n  Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf [])\n\ngoal (1 subgoal):\n 1. \\<And>a f.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a f.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "case (Cons a f)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>v \\<rho>.\n              v \\<in> E e \\<rho> \\<longrightarrow>\n              Tenv \\<rho> \\<turnstile> e : T v;\n   \\<forall>v1 v2.\n      (v1, v2) \\<in> set f \\<longrightarrow>\n      v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n  \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)\n  \\<forall>v \\<rho>.\n     v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\n  \\<forall>v1 v2.\n     (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n     v2 \\<in> E e ((x, v1) # \\<rho>)\n\ngoal (1 subgoal):\n 1. \\<And>a f.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<forall>v \\<rho>.\n              v \\<in> E e \\<rho> \\<longrightarrow>\n              Tenv \\<rho> \\<turnstile> e : T v;\n   \\<forall>v1 v2.\n      (v1, v2) \\<in> set f \\<longrightarrow>\n      v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n  \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)\n  \\<forall>v \\<rho>.\n     v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\n  \\<forall>v1 v2.\n     (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n     v2 \\<in> E e ((x, v1) # \\<rho>)", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<forall>v \\<rho>.\n              v \\<in> E e \\<rho> \\<longrightarrow>\n              Tenv \\<rho> \\<turnstile> e : T v;\n   \\<forall>v1 v2.\n      (v1, v2) \\<in> set f \\<longrightarrow>\n      v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n  \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)\n  \\<forall>v \\<rho>.\n     v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\n  \\<forall>v1 v2.\n     (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n     v2 \\<in> E e ((x, v1) # \\<rho>)\n\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "proof (cases a)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "case (Pair v v')"], ["proof (state)\nthis:\n  a = (v, v')\n\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "{"], ["proof (state)\nthis:\n  a = (v, v')\n\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "assume 1: \"Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)\" and\n        2: \"\\<forall>v \\<rho>. v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\" and\n        3: \"\\<forall>v1 v2.\n          (v1 = v \\<and> v2 = v' \\<longrightarrow> v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n          ((v1, v2) \\<in> set f \\<longrightarrow> v2 \\<in> E e ((x, v1) # \\<rho>))\""], ["proof (state)\nthis:\n  Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)\n  \\<forall>v \\<rho>.\n     v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\n  \\<forall>v1 v2.\n     (v1 = v \\<and> v2 = v' \\<longrightarrow>\n      v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n     ((v1, v2) \\<in> set f \\<longrightarrow>\n      v2 \\<in> E e ((x, v1) # \\<rho>))\n\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "from 3"], ["proof (chain)\npicking this:\n  \\<forall>v1 v2.\n     (v1 = v \\<and> v2 = v' \\<longrightarrow>\n      v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n     ((v1, v2) \\<in> set f \\<longrightarrow>\n      v2 \\<in> E e ((x, v1) # \\<rho>))", "have 4: \"v' \\<in> E e ((x,v)#\\<rho>)\""], ["proof (prove)\nusing this:\n  \\<forall>v1 v2.\n     (v1 = v \\<and> v2 = v' \\<longrightarrow>\n      v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n     ((v1, v2) \\<in> set f \\<longrightarrow>\n      v2 \\<in> E e ((x, v1) # \\<rho>))\n\ngoal (1 subgoal):\n 1. v' \\<in> E e ((x, v) # \\<rho>)", "by simp"], ["proof (state)\nthis:\n  v' \\<in> E e ((x, v) # \\<rho>)\n\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "from 2 4"], ["proof (chain)\npicking this:\n  \\<forall>v \\<rho>.\n     v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\n  v' \\<in> E e ((x, v) # \\<rho>)", "have 5: \"Tenv ((x,v)#\\<rho>) \\<turnstile> e : T v'\""], ["proof (prove)\nusing this:\n  \\<forall>v \\<rho>.\n     v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\n  v' \\<in> E e ((x, v) # \\<rho>)\n\ngoal (1 subgoal):\n 1. Tenv ((x, v) # \\<rho>) \\<turnstile> e : T v'", "apply (erule_tac x=v' in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v' \\<in> E e ((x, v) # \\<rho>);\n     \\<forall>\\<rho>.\n        v' \\<in> E e \\<rho> \\<longrightarrow>\n        Tenv \\<rho> \\<turnstile> e : T v'\\<rbrakk>\n    \\<Longrightarrow> Tenv ((x, v) # \\<rho>) \\<turnstile> e : T v'", "apply (erule_tac x=\"(x,v)#\\<rho>\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v' \\<in> E e ((x, v) # \\<rho>);\n     v' \\<in> E e ((x, v) # \\<rho>) \\<longrightarrow>\n     Tenv ((x, v) # \\<rho>) \\<turnstile> e : T v'\\<rbrakk>\n    \\<Longrightarrow> Tenv ((x, v) # \\<rho>) \\<turnstile> e : T v'", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tenv ((x, v) # \\<rho>) \\<turnstile> e : T v'\n\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "from 5"], ["proof (chain)\npicking this:\n  Tenv ((x, v) # \\<rho>) \\<turnstile> e : T v'", "have \"(x, T v) # Tenv \\<rho> \\<turnstile> e : T v'\""], ["proof (prove)\nusing this:\n  Tenv ((x, v) # \\<rho>) \\<turnstile> e : T v'\n\ngoal (1 subgoal):\n 1. (x, T v) # Tenv \\<rho> \\<turnstile> e : T v'", "by simp"], ["proof (state)\nthis:\n  (x, T v) # Tenv \\<rho> \\<turnstile> e : T v'\n\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "}"], ["proof (state)\nthis:\n  \\<lbrakk>Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f);\n   \\<forall>v \\<rho>.\n      v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v;\n   \\<forall>v1 v2.\n      (v1 = v \\<and> v2 = v' \\<longrightarrow>\n       v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n      ((v1, v2) \\<in> set f \\<longrightarrow>\n       v2 \\<in> E e ((x, v1) # \\<rho>))\\<rbrakk>\n  \\<Longrightarrow> (x, T v) # Tenv \\<rho> \\<turnstile> e : T v'\n\ngoal (1 subgoal):\n 1. \\<And>aa b.\n       \\<lbrakk>\\<lbrakk>\\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v;\n                 \\<forall>v1 v2.\n                    (v1, v2) \\<in> set f \\<longrightarrow>\n                    v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n                \\<Longrightarrow> Tenv\n                                   \\<rho> \\<turnstile> ELam x\n                  e : TFun (Tf f);\n        \\<forall>v \\<rho>.\n           v \\<in> E e \\<rho> \\<longrightarrow>\n           Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        a = (aa, b)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "from Cons Pair this"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<forall>v \\<rho>.\n              v \\<in> E e \\<rho> \\<longrightarrow>\n              Tenv \\<rho> \\<turnstile> e : T v;\n   \\<forall>v1 v2.\n      (v1, v2) \\<in> set f \\<longrightarrow>\n      v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n  \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)\n  \\<forall>v \\<rho>.\n     v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\n  \\<forall>v1 v2.\n     (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n     v2 \\<in> E e ((x, v1) # \\<rho>)\n  a = (v, v')\n  \\<lbrakk>Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f);\n   \\<forall>v \\<rho>.\n      v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v;\n   \\<forall>v1 v2.\n      (v1 = v \\<and> v2 = v' \\<longrightarrow>\n       v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n      ((v1, v2) \\<in> set f \\<longrightarrow>\n       v2 \\<in> E e ((x, v1) # \\<rho>))\\<rbrakk>\n  \\<Longrightarrow> (x, T v) # Tenv \\<rho> \\<turnstile> e : T v'", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<forall>v \\<rho>.\n              v \\<in> E e \\<rho> \\<longrightarrow>\n              Tenv \\<rho> \\<turnstile> e : T v;\n   \\<forall>v1 v2.\n      (v1, v2) \\<in> set f \\<longrightarrow>\n      v2 \\<in> E e ((x, v1) # \\<rho>)\\<rbrakk>\n  \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)\n  \\<forall>v \\<rho>.\n     v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v\n  \\<forall>v1 v2.\n     (v1, v2) \\<in> set (a # f) \\<longrightarrow>\n     v2 \\<in> E e ((x, v1) # \\<rho>)\n  a = (v, v')\n  \\<lbrakk>Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f);\n   \\<forall>v \\<rho>.\n      v \\<in> E e \\<rho> \\<longrightarrow> Tenv \\<rho> \\<turnstile> e : T v;\n   \\<forall>v1 v2.\n      (v1 = v \\<and> v2 = v' \\<longrightarrow>\n       v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n      ((v1, v2) \\<in> set f \\<longrightarrow>\n       v2 \\<in> E e ((x, v1) # \\<rho>))\\<rbrakk>\n  \\<Longrightarrow> (x, T v) # Tenv \\<rho> \\<turnstile> e : T v'\n\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f);\n     \\<forall>v \\<rho>.\n        v \\<in> E e \\<rho> \\<longrightarrow>\n        Tenv \\<rho> \\<turnstile> e : T v;\n     \\<forall>v1 v2.\n        (v1 = v \\<and> v2 = v' \\<longrightarrow>\n         v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n        ((v1, v2) \\<in> set f \\<longrightarrow>\n         v2 \\<in> E e ((x, v1) # \\<rho>));\n     a = (v, v'); (x, T v) # Tenv \\<rho> \\<turnstile> e : T v'\\<rbrakk>\n    \\<Longrightarrow> Tenv\n                       \\<rho> \\<turnstile> ELam x\n      e : TFun ((T v \\<rightarrow> T v') \\<sqinter> Tf f)", "apply (rule wt_inter)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f);\n     \\<forall>v \\<rho>.\n        v \\<in> E e \\<rho> \\<longrightarrow>\n        Tenv \\<rho> \\<turnstile> e : T v;\n     \\<forall>v1 v2.\n        (v1 = v \\<and> v2 = v' \\<longrightarrow>\n         v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n        ((v1, v2) \\<in> set f \\<longrightarrow>\n         v2 \\<in> E e ((x, v1) # \\<rho>));\n     a = (v, v'); (x, T v) # Tenv \\<rho> \\<turnstile> e : T v'\\<rbrakk>\n    \\<Longrightarrow> Tenv\n                       \\<rho> \\<turnstile> ELam x\n      e : TFun (T v \\<rightarrow> T v')\n 2. \\<lbrakk>Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f);\n     \\<forall>v \\<rho>.\n        v \\<in> E e \\<rho> \\<longrightarrow>\n        Tenv \\<rho> \\<turnstile> e : T v;\n     \\<forall>v1 v2.\n        (v1 = v \\<and> v2 = v' \\<longrightarrow>\n         v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n        ((v1, v2) \\<in> set f \\<longrightarrow>\n         v2 \\<in> E e ((x, v1) # \\<rho>));\n     a = (v, v'); (x, T v) # Tenv \\<rho> \\<turnstile> e : T v'\\<rbrakk>\n    \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)", "apply (rule wt_lam)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f);\n     \\<forall>v \\<rho>.\n        v \\<in> E e \\<rho> \\<longrightarrow>\n        Tenv \\<rho> \\<turnstile> e : T v;\n     \\<forall>v1 v2.\n        (v1 = v \\<and> v2 = v' \\<longrightarrow>\n         v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n        ((v1, v2) \\<in> set f \\<longrightarrow>\n         v2 \\<in> E e ((x, v1) # \\<rho>));\n     a = (v, v'); (x, T v) # Tenv \\<rho> \\<turnstile> e : T v'\\<rbrakk>\n    \\<Longrightarrow> (x, T v) # Tenv \\<rho> \\<turnstile> e : T v'\n 2. \\<lbrakk>Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f);\n     \\<forall>v \\<rho>.\n        v \\<in> E e \\<rho> \\<longrightarrow>\n        Tenv \\<rho> \\<turnstile> e : T v;\n     \\<forall>v1 v2.\n        (v1 = v \\<and> v2 = v' \\<longrightarrow>\n         v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n        ((v1, v2) \\<in> set f \\<longrightarrow>\n         v2 \\<in> E e ((x, v1) # \\<rho>));\n     a = (v, v'); (x, T v) # Tenv \\<rho> \\<turnstile> e : T v'\\<rbrakk>\n    \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f);\n     \\<forall>v \\<rho>.\n        v \\<in> E e \\<rho> \\<longrightarrow>\n        Tenv \\<rho> \\<turnstile> e : T v;\n     \\<forall>v1 v2.\n        (v1 = v \\<and> v2 = v' \\<longrightarrow>\n         v' \\<in> E e ((x, v) # \\<rho>)) \\<and>\n        ((v1, v2) \\<in> set f \\<longrightarrow>\n         v2 \\<in> E e ((x, v1) # \\<rho>));\n     a = (v, v'); (x, T v) # Tenv \\<rho> \\<turnstile> e : T v'\\<rbrakk>\n    \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf (a # f))\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem denot_implies_ts: \n  assumes ve: \"v \\<in> E e \\<rho>\" shows \"Tenv \\<rho> \\<turnstile> e : T v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> e : T v", "using ve"], ["proof (prove)\nusing this:\n  v \\<in> E e \\<rho>\n\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> e : T v", "proof (induction e arbitrary: v \\<rho>)"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x v \\<rho>.\n       v \\<in> E (EVar x) \\<rho> \\<Longrightarrow>\n       Tenv \\<rho> \\<turnstile> EVar x : T v\n 2. \\<And>x v \\<rho>.\n       v \\<in> E (ENat x) \\<rho> \\<Longrightarrow>\n       Tenv \\<rho> \\<turnstile> ENat x : T v\n 3. \\<And>x1a e v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        v \\<in> E (ELam x1a e) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x1a e : T v\n 4. \\<And>e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EApp e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 5. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 6. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "case (EVar x)"], ["proof (state)\nthis:\n  v \\<in> E (EVar x) \\<rho>\n\ngoal (6 subgoals):\n 1. \\<And>x v \\<rho>.\n       v \\<in> E (EVar x) \\<rho> \\<Longrightarrow>\n       Tenv \\<rho> \\<turnstile> EVar x : T v\n 2. \\<And>x v \\<rho>.\n       v \\<in> E (ENat x) \\<rho> \\<Longrightarrow>\n       Tenv \\<rho> \\<turnstile> ENat x : T v\n 3. \\<And>x1a e v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        v \\<in> E (ELam x1a e) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x1a e : T v\n 4. \\<And>e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EApp e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 5. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 6. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "then"], ["proof (chain)\npicking this:\n  v \\<in> E (EVar x) \\<rho>", "show ?case"], ["proof (prove)\nusing this:\n  v \\<in> E (EVar x) \\<rho>\n\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> EVar x : T v", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>v'.\n       lookup \\<rho> x = Some v' \\<and> v \\<sqsubseteq> v' \\<Longrightarrow>\n    Tenv \\<rho> \\<turnstile> EVar x : T v", "apply (erule exE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v'.\n       lookup \\<rho> x = Some v' \\<and> v \\<sqsubseteq> v' \\<Longrightarrow>\n       Tenv \\<rho> \\<turnstile> EVar x : T v", "apply (erule conjE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v'.\n       \\<lbrakk>lookup \\<rho> x = Some v'; v \\<sqsubseteq> v'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EVar x : T v", "apply (subgoal_tac \"lookup (Tenv \\<rho>) x = Some (T v')\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v'.\n       \\<lbrakk>lookup \\<rho> x = Some v'; v \\<sqsubseteq> v';\n        lookup (Tenv \\<rho>) x = Some (T v')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EVar x : T v\n 2. \\<And>v'.\n       \\<lbrakk>lookup \\<rho> x = Some v'; v \\<sqsubseteq> v'\\<rbrakk>\n       \\<Longrightarrow> lookup (Tenv \\<rho>) x = Some (T v')", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v'.\n       \\<lbrakk>lookup \\<rho> x = Some v'; v \\<sqsubseteq> v'\\<rbrakk>\n       \\<Longrightarrow> lookup (Tenv \\<rho>) x = Some (T v')\n 2. \\<And>v'.\n       \\<lbrakk>lookup \\<rho> x = Some v'; v \\<sqsubseteq> v';\n        lookup (Tenv \\<rho>) x = Some (T v')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EVar x : T v", "apply (rule lookup_tenv)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v'.\n       \\<lbrakk>lookup \\<rho> x = Some v'; v \\<sqsubseteq> v'\\<rbrakk>\n       \\<Longrightarrow> lookup \\<rho> x = Some v'\n 2. \\<And>v'.\n       \\<lbrakk>lookup \\<rho> x = Some v'; v \\<sqsubseteq> v';\n        lookup (Tenv \\<rho>) x = Some (T v')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EVar x : T v", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v'.\n       \\<lbrakk>lookup \\<rho> x = Some v'; v \\<sqsubseteq> v';\n        lookup (Tenv \\<rho>) x = Some (T v')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EVar x : T v", "apply (rule wt_sub)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v'.\n       \\<lbrakk>lookup \\<rho> x = Some v'; v \\<sqsubseteq> v';\n        lookup (Tenv \\<rho>) x = Some (T v')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EVar x : ?A8 v'\n 2. \\<And>v'.\n       \\<lbrakk>lookup \\<rho> x = Some v'; v \\<sqsubseteq> v';\n        lookup (Tenv \\<rho>) x = Some (T v')\\<rbrakk>\n       \\<Longrightarrow> ?A8 v' <: T v", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v'.\n       \\<lbrakk>lookup \\<rho> x = Some v'; v \\<sqsubseteq> v';\n        lookup (Tenv \\<rho>) x = Some (T v')\\<rbrakk>\n       \\<Longrightarrow> T v' <: T v", "apply (rule le_sub_flip)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v'.\n       \\<lbrakk>lookup \\<rho> x = Some v'; v \\<sqsubseteq> v';\n        lookup (Tenv \\<rho>) x = Some (T v')\\<rbrakk>\n       \\<Longrightarrow> v \\<sqsubseteq> v'", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tenv \\<rho> \\<turnstile> EVar x : T v\n\ngoal (5 subgoals):\n 1. \\<And>x v \\<rho>.\n       v \\<in> E (ENat x) \\<rho> \\<Longrightarrow>\n       Tenv \\<rho> \\<turnstile> ENat x : T v\n 2. \\<And>x1a e v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        v \\<in> E (ELam x1a e) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x1a e : T v\n 3. \\<And>e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EApp e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 4. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 5. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x v \\<rho>.\n       v \\<in> E (ENat x) \\<rho> \\<Longrightarrow>\n       Tenv \\<rho> \\<turnstile> ENat x : T v\n 2. \\<And>x1a e v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        v \\<in> E (ELam x1a e) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x1a e : T v\n 3. \\<And>e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EApp e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 4. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 5. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "case (ENat x)"], ["proof (state)\nthis:\n  v \\<in> E (ENat x) \\<rho>\n\ngoal (5 subgoals):\n 1. \\<And>x v \\<rho>.\n       v \\<in> E (ENat x) \\<rho> \\<Longrightarrow>\n       Tenv \\<rho> \\<turnstile> ENat x : T v\n 2. \\<And>x1a e v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        v \\<in> E (ELam x1a e) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x1a e : T v\n 3. \\<And>e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EApp e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 4. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 5. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "then"], ["proof (chain)\npicking this:\n  v \\<in> E (ENat x) \\<rho>", "show ?case"], ["proof (prove)\nusing this:\n  v \\<in> E (ENat x) \\<rho>\n\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> ENat x : T v", "by auto"], ["proof (state)\nthis:\n  Tenv \\<rho> \\<turnstile> ENat x : T v\n\ngoal (4 subgoals):\n 1. \\<And>x1a e v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        v \\<in> E (ELam x1a e) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x1a e : T v\n 2. \\<And>e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EApp e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 3. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 4. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1a e v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        v \\<in> E (ELam x1a e) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x1a e : T v\n 2. \\<And>e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EApp e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 3. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 4. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "case (ELam x e)"], ["proof (state)\nthis:\n  ?v \\<in> E e ?\\<rho> \\<Longrightarrow> Tenv ?\\<rho> \\<turnstile> e : T ?v\n  v \\<in> E (ELam x e) \\<rho>\n\ngoal (4 subgoals):\n 1. \\<And>x1a e v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        v \\<in> E (ELam x1a e) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x1a e : T v\n 2. \\<And>e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EApp e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 3. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 4. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "then"], ["proof (chain)\npicking this:\n  ?v \\<in> E e ?\\<rho> \\<Longrightarrow> Tenv ?\\<rho> \\<turnstile> e : T ?v\n  v \\<in> E (ELam x e) \\<rho>", "show ?case"], ["proof (prove)\nusing this:\n  ?v \\<in> E e ?\\<rho> \\<Longrightarrow> Tenv ?\\<rho> \\<turnstile> e : T ?v\n  v \\<in> E (ELam x e) \\<rho>\n\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> ELam x e : T v", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>v \\<rho>.\n                v \\<in> E e \\<rho> \\<Longrightarrow>\n                Tenv \\<rho> \\<turnstile> e : T v;\n     \\<exists>f.\n        v = VFun f \\<and>\n        (\\<forall>v1 v2.\n            (v1, v2) \\<in> set f \\<longrightarrow>\n            v2 \\<in> E e ((x, v1) # \\<rho>))\\<rbrakk>\n    \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : T v", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set f \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        v = VFun f\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : T (VFun f)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set f \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        v = VFun f\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> ELam x e : TFun (Tf f)", "apply (rule denot_lam_implies_ts)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set f \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        v = VFun f\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v \\<rho>.\n                            v \\<in> E e \\<rho> \\<longrightarrow>\n                            Tenv \\<rho> \\<turnstile> e : T v\n 2. \\<And>f.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set f \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        v = VFun f\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v1 v2.\n                            (v1, v2) \\<in> set f \\<longrightarrow>\n                            v2 \\<in> E e ((x, v1) # \\<rho>)", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e : T v;\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set f \\<longrightarrow>\n           v2 \\<in> E e ((x, v1) # \\<rho>);\n        v = VFun f\\<rbrakk>\n       \\<Longrightarrow> \\<forall>v1 v2.\n                            (v1, v2) \\<in> set f \\<longrightarrow>\n                            v2 \\<in> E e ((x, v1) # \\<rho>)", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tenv \\<rho> \\<turnstile> ELam x e : T v\n\ngoal (3 subgoals):\n 1. \\<And>e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EApp e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 2. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 3. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EApp e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 2. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 3. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "case (EApp e1 e2)"], ["proof (state)\nthis:\n  ?v \\<in> E e1 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e1 : T ?v\n  ?v \\<in> E e2 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e2 : T ?v\n  v \\<in> E (EApp e1 e2) \\<rho>\n\ngoal (3 subgoals):\n 1. \\<And>e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EApp e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 2. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 3. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "then"], ["proof (chain)\npicking this:\n  ?v \\<in> E e1 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e1 : T ?v\n  ?v \\<in> E e2 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e2 : T ?v\n  v \\<in> E (EApp e1 e2) \\<rho>", "show ?case"], ["proof (prove)\nusing this:\n  ?v \\<in> E e1 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e1 : T ?v\n  ?v \\<in> E e2 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e2 : T ?v\n  v \\<in> E (EApp e1 e2) \\<rho>\n\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>v \\<rho>.\n                v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                Tenv \\<rho> \\<turnstile> e1 : T v;\n     \\<And>v \\<rho>.\n        v \\<in> E e2 \\<rho> \\<Longrightarrow>\n        Tenv \\<rho> \\<turnstile> e2 : T v;\n     \\<exists>f.\n        VFun f \\<in> E e1 \\<rho> \\<and>\n        (\\<exists>v2.\n            v2 \\<in> E e2 \\<rho> \\<and>\n            (\\<exists>v2' v3'.\n                (v2', v3') \\<in> set f \\<and>\n                v2' \\<sqsubseteq> v2 \\<and> v \\<sqsubseteq> v3'))\\<rbrakk>\n    \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2;\n        v \\<sqsubseteq> v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v", "apply (subgoal_tac \"Tenv \\<rho> \\<turnstile> e1 : T (VFun f)\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f)\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2;\n        v \\<sqsubseteq> v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e1 : T (VFun f)", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2;\n        v \\<sqsubseteq> v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e1 : T (VFun f)\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f)\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f)\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v", "apply (subgoal_tac \"Tf f <:: T v2' \\<rightarrow> T v3'\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f)\\<rbrakk>\n       \\<Longrightarrow> Tf f <:: T v2' \\<rightarrow> T v3'", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f)\\<rbrakk>\n       \\<Longrightarrow> Tf f <:: T v2' \\<rightarrow> T v3'\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v", "apply (rule table_mem_sub)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f)\\<rbrakk>\n       \\<Longrightarrow> (v2', v3') \\<in> set f\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v", "apply (subgoal_tac \"Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'", "apply (rule wt_sub)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> EApp e1 e2 : ?A20 f v2 v2' v3'\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'\\<rbrakk>\n       \\<Longrightarrow> ?A20 f v2 v2' v3' <: T v\n 3. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'\\<rbrakk>\n       \\<Longrightarrow> T v3' <: T v\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'", "apply (rule le_sub_flip)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'\\<rbrakk>\n       \\<Longrightarrow> v \\<sqsubseteq> v3'\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'", "apply (subgoal_tac \"Tenv \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv\n         \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> e1 : TFun\n              (T v2' \\<rightarrow> T v3')", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> e1 : TFun\n              (T v2' \\<rightarrow> T v3')\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv\n         \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'", "apply (rule wt_sub)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e1 : ?A26 f v2 v2' v3'\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> ?A26 f v2 v2' v3' <:\n                         TFun (T v2' \\<rightarrow> T v3')\n 3. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv\n         \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> T (VFun f) <: TFun (T v2' \\<rightarrow> T v3')\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv\n         \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : TFun (Tf f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> TFun (Tf f) <: TFun (T v2' \\<rightarrow> T v3')\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv\n         \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'", "apply (rule sub_funty)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : TFun (Tf f);\n        Tf f <:: T v2' \\<rightarrow> T v3'\\<rbrakk>\n       \\<Longrightarrow> Tf f <:: T v2' \\<rightarrow> T v3'\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv\n         \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv\n         \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v3'", "apply (rule wt_app)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv\n         \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> e1 : TFun\n              (?A31 f v2 v2' v3' \\<rightarrow> T v3')\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv\n         \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : ?A31 f v2 v2' v3'", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv\n         \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T v2'", "apply (subgoal_tac \"Tenv \\<rho> \\<turnstile> e2 : T v2\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3');\n        Tenv \\<rho> \\<turnstile> e2 : T v2\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T v2'\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv\n         \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T v2", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv\n         \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3')\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T v2\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3');\n        Tenv \\<rho> \\<turnstile> e2 : T v2\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T v2'", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3');\n        Tenv \\<rho> \\<turnstile> e2 : T v2\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T v2'", "apply (rule wt_sub)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3');\n        Tenv \\<rho> \\<turnstile> e2 : T v2\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : ?A37 f v2 v2' v3'\n 2. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3');\n        Tenv \\<rho> \\<turnstile> e2 : T v2\\<rbrakk>\n       \\<Longrightarrow> ?A37 f v2 v2' v3' <: T v2'", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3');\n        Tenv \\<rho> \\<turnstile> e2 : T v2\\<rbrakk>\n       \\<Longrightarrow> T v2 <: T v2'", "apply (rule le_sub_flip)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f v2 v2' v3'.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VFun f \\<in> E e1 \\<rho>; v2 \\<in> E e2 \\<rho>;\n        (v2', v3') \\<in> set f; v2' \\<sqsubseteq> v2; v \\<sqsubseteq> v3';\n        Tenv \\<rho> \\<turnstile> e1 : T (VFun f);\n        Tf f <:: T v2' \\<rightarrow> T v3';\n        Tenv \\<rho> \\<turnstile> e1 : TFun (T v2' \\<rightarrow> T v3');\n        Tenv \\<rho> \\<turnstile> e2 : T v2\\<rbrakk>\n       \\<Longrightarrow> v2' \\<sqsubseteq> v2", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tenv \\<rho> \\<turnstile> EApp e1 e2 : T v\n\ngoal (2 subgoals):\n 1. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 2. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 2. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "case (EPrim f e1 e2)"], ["proof (state)\nthis:\n  ?v \\<in> E e1 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e1 : T ?v\n  ?v \\<in> E e2 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e2 : T ?v\n  v \\<in> E (EPrim f e1 e2) \\<rho>\n\ngoal (2 subgoals):\n 1. \\<And>x1a e1 e2 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        v \\<in> E (EPrim x1a e1 e2) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim x1a e1 e2 : T v\n 2. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "then"], ["proof (chain)\npicking this:\n  ?v \\<in> E e1 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e1 : T ?v\n  ?v \\<in> E e2 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e2 : T ?v\n  v \\<in> E (EPrim f e1 e2) \\<rho>", "show ?case"], ["proof (prove)\nusing this:\n  ?v \\<in> E e1 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e1 : T ?v\n  ?v \\<in> E e2 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e2 : T ?v\n  v \\<in> E (EPrim f e1 e2) \\<rho>\n\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> EPrim f e1 e2 : T v", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>v \\<rho>.\n                v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                Tenv \\<rho> \\<turnstile> e1 : T v;\n     \\<And>v \\<rho>.\n        v \\<in> E e2 \\<rho> \\<Longrightarrow>\n        Tenv \\<rho> \\<turnstile> e2 : T v;\n     \\<exists>n1.\n        VNat n1 \\<in> E e1 \\<rho> \\<and>\n        (\\<exists>n2.\n            VNat n2 \\<in> E e2 \\<rho> \\<and> v = VNat (f n1 n2))\\<rbrakk>\n    \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EPrim f e1 e2 : T v", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n1 n2.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VNat n1 \\<in> E e1 \\<rho>; VNat n2 \\<in> E e2 \\<rho>;\n        v = VNat (f n1 n2)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> EPrim f e1\n         e2 : T (VNat (f n1 n2))", "apply (subgoal_tac \"Tenv \\<rho> \\<turnstile> e1 : T (VNat n1)\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n1 n2.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VNat n1 \\<in> E e1 \\<rho>; VNat n2 \\<in> E e2 \\<rho>;\n        v = VNat (f n1 n2);\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n1)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> EPrim f e1\n         e2 : T (VNat (f n1 n2))\n 2. \\<And>n1 n2.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VNat n1 \\<in> E e1 \\<rho>; VNat n2 \\<in> E e2 \\<rho>;\n        v = VNat (f n1 n2)\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e1 : T (VNat n1)", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n1 n2.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VNat n1 \\<in> E e1 \\<rho>; VNat n2 \\<in> E e2 \\<rho>;\n        v = VNat (f n1 n2)\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e1 : T (VNat n1)\n 2. \\<And>n1 n2.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VNat n1 \\<in> E e1 \\<rho>; VNat n2 \\<in> E e2 \\<rho>;\n        v = VNat (f n1 n2);\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n1)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> EPrim f e1\n         e2 : T (VNat (f n1 n2))", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n1 n2.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VNat n1 \\<in> E e1 \\<rho>; VNat n2 \\<in> E e2 \\<rho>;\n        v = VNat (f n1 n2);\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n1)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> EPrim f e1\n         e2 : T (VNat (f n1 n2))", "apply (subgoal_tac \"Tenv \\<rho> \\<turnstile> e2 : T (VNat n2)\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n1 n2.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VNat n1 \\<in> E e1 \\<rho>; VNat n2 \\<in> E e2 \\<rho>;\n        v = VNat (f n1 n2); Tenv \\<rho> \\<turnstile> e1 : T (VNat n1);\n        Tenv \\<rho> \\<turnstile> e2 : T (VNat n2)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> EPrim f e1\n         e2 : T (VNat (f n1 n2))\n 2. \\<And>n1 n2.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VNat n1 \\<in> E e1 \\<rho>; VNat n2 \\<in> E e2 \\<rho>;\n        v = VNat (f n1 n2);\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n1)\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T (VNat n2)", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n1 n2.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VNat n1 \\<in> E e1 \\<rho>; VNat n2 \\<in> E e2 \\<rho>;\n        v = VNat (f n1 n2);\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n1)\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T (VNat n2)\n 2. \\<And>n1 n2.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VNat n1 \\<in> E e1 \\<rho>; VNat n2 \\<in> E e2 \\<rho>;\n        v = VNat (f n1 n2); Tenv \\<rho> \\<turnstile> e1 : T (VNat n1);\n        Tenv \\<rho> \\<turnstile> e2 : T (VNat n2)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> EPrim f e1\n         e2 : T (VNat (f n1 n2))", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n1 n2.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        VNat n1 \\<in> E e1 \\<rho>; VNat n2 \\<in> E e2 \\<rho>;\n        v = VNat (f n1 n2); Tenv \\<rho> \\<turnstile> e1 : T (VNat n1);\n        Tenv \\<rho> \\<turnstile> e2 : T (VNat n2)\\<rbrakk>\n       \\<Longrightarrow> Tenv\n                          \\<rho> \\<turnstile> EPrim f e1\n         e2 : T (VNat (f n1 n2))", "apply force"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tenv \\<rho> \\<turnstile> EPrim f e1 e2 : T v\n\ngoal (1 subgoal):\n 1. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "case (EIf e1 e2 e3)"], ["proof (state)\nthis:\n  ?v \\<in> E e1 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e1 : T ?v\n  ?v \\<in> E e2 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e2 : T ?v\n  ?v \\<in> E e3 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e3 : T ?v\n  v \\<in> E (EIf e1 e2 e3) \\<rho>\n\ngoal (1 subgoal):\n 1. \\<And>e1 e2 e3 v \\<rho>.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        v \\<in> E (EIf e1 e2 e3) \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "then"], ["proof (chain)\npicking this:\n  ?v \\<in> E e1 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e1 : T ?v\n  ?v \\<in> E e2 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e2 : T ?v\n  ?v \\<in> E e3 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e3 : T ?v\n  v \\<in> E (EIf e1 e2 e3) \\<rho>", "show ?case"], ["proof (prove)\nusing this:\n  ?v \\<in> E e1 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e1 : T ?v\n  ?v \\<in> E e2 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e2 : T ?v\n  ?v \\<in> E e3 ?\\<rho> \\<Longrightarrow>\n  Tenv ?\\<rho> \\<turnstile> e3 : T ?v\n  v \\<in> E (EIf e1 e2 e3) \\<rho>\n\ngoal (1 subgoal):\n 1. Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>v \\<rho>.\n                v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                Tenv \\<rho> \\<turnstile> e1 : T v;\n     \\<And>v \\<rho>.\n        v \\<in> E e2 \\<rho> \\<Longrightarrow>\n        Tenv \\<rho> \\<turnstile> e2 : T v;\n     \\<And>v \\<rho>.\n        v \\<in> E e3 \\<rho> \\<Longrightarrow>\n        Tenv \\<rho> \\<turnstile> e3 : T v;\n     \\<exists>n.\n        VNat n \\<in> E e1 \\<rho> \\<and>\n        (n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>) \\<and>\n        (0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>)\\<rbrakk>\n    \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply (subgoal_tac \"Tenv \\<rho> \\<turnstile> e1 : T (VNat n)\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n)\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v\n 2. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e1 : T (VNat n)", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e1 : T (VNat n)\n 2. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n)\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n)\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply (case_tac n)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n); n = 0\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v\n 2. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n); n = Suc nat\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat 0 \\<in> E e1 \\<rho>; v \\<in> E e3 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat 0; n = 0\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v\n 2. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n); n = Suc nat\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply (subgoal_tac \"Tenv \\<rho> \\<turnstile> e3 : T v\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat 0 \\<in> E e1 \\<rho>; v \\<in> E e3 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat 0; n = 0;\n        Tenv \\<rho> \\<turnstile> e3 : T v\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v\n 2. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat 0 \\<in> E e1 \\<rho>; v \\<in> E e3 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat 0; n = 0\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e3 : T v\n 3. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n); n = Suc nat\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "prefer 2"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat 0 \\<in> E e1 \\<rho>; v \\<in> E e3 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat 0; n = 0\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e3 : T v\n 2. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat 0 \\<in> E e1 \\<rho>; v \\<in> E e3 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat 0; n = 0;\n        Tenv \\<rho> \\<turnstile> e3 : T v\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v\n 3. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n); n = Suc nat\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat 0 \\<in> E e1 \\<rho>; v \\<in> E e3 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat 0; n = 0;\n        Tenv \\<rho> \\<turnstile> e3 : T v\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v\n 2. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n); n = Suc nat\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat n \\<in> E e1 \\<rho>;\n        n = 0 \\<longrightarrow> v \\<in> E e3 \\<rho>;\n        0 < n \\<longrightarrow> v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : T (VNat n); n = Suc nat\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat (Suc nat) \\<in> E e1 \\<rho>; v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat (Suc nat); n = Suc nat\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply (subgoal_tac \"Tenv \\<rho> \\<turnstile> e2 : T v\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat (Suc nat) \\<in> E e1 \\<rho>; v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat (Suc nat); n = Suc nat;\n        Tenv \\<rho> \\<turnstile> e2 : T v\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v\n 2. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat (Suc nat) \\<in> E e1 \\<rho>; v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat (Suc nat); n = Suc nat\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T v", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat (Suc nat) \\<in> E e1 \\<rho>; v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat (Suc nat); n = Suc nat\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T v\n 2. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat (Suc nat) \\<in> E e1 \\<rho>; v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat (Suc nat); n = Suc nat;\n        Tenv \\<rho> \\<turnstile> e2 : T v\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat (Suc nat) \\<in> E e1 \\<rho>; v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat (Suc nat); n = Suc nat;\n        Tenv \\<rho> \\<turnstile> e2 : T v\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v", "apply (rule wt_ifnz)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat (Suc nat) \\<in> E e1 \\<rho>; v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat (Suc nat); n = Suc nat;\n        Tenv \\<rho> \\<turnstile> e2 : T v\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e1 : TNat (?n23 n nat)\n 2. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat (Suc nat) \\<in> E e1 \\<rho>; v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat (Suc nat); n = Suc nat;\n        Tenv \\<rho> \\<turnstile> e2 : T v\\<rbrakk>\n       \\<Longrightarrow> ?n23 n nat \\<noteq> 0\n 3. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat (Suc nat) \\<in> E e1 \\<rho>; v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat (Suc nat); n = Suc nat;\n        Tenv \\<rho> \\<turnstile> e2 : T v\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T v", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat (Suc nat) \\<in> E e1 \\<rho>; v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat (Suc nat); n = Suc nat;\n        Tenv \\<rho> \\<turnstile> e2 : T v\\<rbrakk>\n       \\<Longrightarrow> Suc nat \\<noteq> 0\n 2. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat (Suc nat) \\<in> E e1 \\<rho>; v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat (Suc nat); n = Suc nat;\n        Tenv \\<rho> \\<turnstile> e2 : T v\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T v", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n nat.\n       \\<lbrakk>\\<And>v \\<rho>.\n                   v \\<in> E e1 \\<rho> \\<Longrightarrow>\n                   Tenv \\<rho> \\<turnstile> e1 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e2 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e2 : T v;\n        \\<And>v \\<rho>.\n           v \\<in> E e3 \\<rho> \\<Longrightarrow>\n           Tenv \\<rho> \\<turnstile> e3 : T v;\n        VNat (Suc nat) \\<in> E e1 \\<rho>; v \\<in> E e2 \\<rho>;\n        Tenv \\<rho> \\<turnstile> e1 : TNat (Suc nat); n = Suc nat;\n        Tenv \\<rho> \\<turnstile> e2 : T v\\<rbrakk>\n       \\<Longrightarrow> Tenv \\<rho> \\<turnstile> e2 : T v", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  Tenv \\<rho> \\<turnstile> EIf e1 e2 e3 : T v\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma venv_lookup: assumes lx: \"lookup \\<Gamma> x = Some A\" shows \"lookup (Venv \\<Gamma>) x = Some (V A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lookup (Venv \\<Gamma>) x = Some (V A)", "using lx"], ["proof (prove)\nusing this:\n  lookup \\<Gamma> x = Some A\n\ngoal (1 subgoal):\n 1. lookup (Venv \\<Gamma>) x = Some (V A)", "proof (induction \\<Gamma> arbitrary: A)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>A.\n       lookup [] x = Some A \\<Longrightarrow>\n       lookup (Venv []) x = Some (V A)\n 2. \\<And>a \\<Gamma> A.\n       \\<lbrakk>\\<And>A.\n                   lookup \\<Gamma> x = Some A \\<Longrightarrow>\n                   lookup (Venv \\<Gamma>) x = Some (V A);\n        lookup (a # \\<Gamma>) x = Some A\\<rbrakk>\n       \\<Longrightarrow> lookup (Venv (a # \\<Gamma>)) x = Some (V A)", "case Nil"], ["proof (state)\nthis:\n  lookup [] x = Some A\n\ngoal (2 subgoals):\n 1. \\<And>A.\n       lookup [] x = Some A \\<Longrightarrow>\n       lookup (Venv []) x = Some (V A)\n 2. \\<And>a \\<Gamma> A.\n       \\<lbrakk>\\<And>A.\n                   lookup \\<Gamma> x = Some A \\<Longrightarrow>\n                   lookup (Venv \\<Gamma>) x = Some (V A);\n        lookup (a # \\<Gamma>) x = Some A\\<rbrakk>\n       \\<Longrightarrow> lookup (Venv (a # \\<Gamma>)) x = Some (V A)", "then"], ["proof (chain)\npicking this:\n  lookup [] x = Some A", "show ?case"], ["proof (prove)\nusing this:\n  lookup [] x = Some A\n\ngoal (1 subgoal):\n 1. lookup (Venv []) x = Some (V A)", "by auto"], ["proof (state)\nthis:\n  lookup (Venv []) x = Some (V A)\n\ngoal (1 subgoal):\n 1. \\<And>a \\<Gamma> A.\n       \\<lbrakk>\\<And>A.\n                   lookup \\<Gamma> x = Some A \\<Longrightarrow>\n                   lookup (Venv \\<Gamma>) x = Some (V A);\n        lookup (a # \\<Gamma>) x = Some A\\<rbrakk>\n       \\<Longrightarrow> lookup (Venv (a # \\<Gamma>)) x = Some (V A)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a \\<Gamma> A.\n       \\<lbrakk>\\<And>A.\n                   lookup \\<Gamma> x = Some A \\<Longrightarrow>\n                   lookup (Venv \\<Gamma>) x = Some (V A);\n        lookup (a # \\<Gamma>) x = Some A\\<rbrakk>\n       \\<Longrightarrow> lookup (Venv (a # \\<Gamma>)) x = Some (V A)", "case (Cons b \\<Gamma>)"], ["proof (state)\nthis:\n  lookup \\<Gamma> x = Some ?A \\<Longrightarrow>\n  lookup (Venv \\<Gamma>) x = Some (V ?A)\n  lookup (b # \\<Gamma>) x = Some A\n\ngoal (1 subgoal):\n 1. \\<And>a \\<Gamma> A.\n       \\<lbrakk>\\<And>A.\n                   lookup \\<Gamma> x = Some A \\<Longrightarrow>\n                   lookup (Venv \\<Gamma>) x = Some (V A);\n        lookup (a # \\<Gamma>) x = Some A\\<rbrakk>\n       \\<Longrightarrow> lookup (Venv (a # \\<Gamma>)) x = Some (V A)", "obtain x' B where \"b = (x',B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x' B. b = (x', B) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases b) auto"], ["proof (state)\nthis:\n  b = (x', B)\n\ngoal (1 subgoal):\n 1. \\<And>a \\<Gamma> A.\n       \\<lbrakk>\\<And>A.\n                   lookup \\<Gamma> x = Some A \\<Longrightarrow>\n                   lookup (Venv \\<Gamma>) x = Some (V A);\n        lookup (a # \\<Gamma>) x = Some A\\<rbrakk>\n       \\<Longrightarrow> lookup (Venv (a # \\<Gamma>)) x = Some (V A)", "with Cons"], ["proof (chain)\npicking this:\n  lookup \\<Gamma> x = Some ?A \\<Longrightarrow>\n  lookup (Venv \\<Gamma>) x = Some (V ?A)\n  lookup (b # \\<Gamma>) x = Some A\n  b = (x', B)", "show ?case"], ["proof (prove)\nusing this:\n  lookup \\<Gamma> x = Some ?A \\<Longrightarrow>\n  lookup (Venv \\<Gamma>) x = Some (V ?A)\n  lookup (b # \\<Gamma>) x = Some A\n  b = (x', B)\n\ngoal (1 subgoal):\n 1. lookup (Venv (b # \\<Gamma>)) x = Some (V A)", "by (cases \"x = x'\") auto"], ["proof (state)\nthis:\n  lookup (Venv (b # \\<Gamma>)) x = Some (V A)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma append_fun_equiv: \"\\<lbrakk> t1' \\<sim> t1; t2' \\<sim> t2 \\<rbrakk> \\<Longrightarrow> t1' @ t2' \\<sim> t1 @ t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1' \\<sim> t1; t2' \\<sim> t2\\<rbrakk>\n    \\<Longrightarrow> t1' @ t2' \\<sim> t1 @ t2", "apply (simp add: val_eq_def fun_eq_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1' \\<lesssim> t1 \\<and> t1 \\<lesssim> t1';\n     t2' \\<lesssim> t2 \\<and> t2 \\<lesssim> t2'\\<rbrakk>\n    \\<Longrightarrow> t1' @ t2' \\<lesssim> t1 @ t2 \\<and>\n                      t1 @ t2 \\<lesssim> t1' @ t2'", "using append_fun_le"], ["proof (prove)\nusing this:\n  \\<lbrakk>?t1' \\<lesssim> ?t1.0; ?t2' \\<lesssim> ?t2.0\\<rbrakk>\n  \\<Longrightarrow> ?t1' @ ?t2' \\<lesssim> ?t1.0 @ ?t2.0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>t1' \\<lesssim> t1 \\<and> t1 \\<lesssim> t1';\n     t2' \\<lesssim> t2 \\<and> t2 \\<lesssim> t2'\\<rbrakk>\n    \\<Longrightarrow> t1' @ t2' \\<lesssim> t1 @ t2 \\<and>\n                      t1 @ t2 \\<lesssim> t1' @ t2'", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma append_eq_symm: \"t2 @ t1 \\<sim> t1 @ t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t2 @ t1 \\<sim> t1 @ t2", "unfolding fun_eq_def val_eq_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. t2 @ t1 \\<lesssim> t1 @ t2 \\<and> t1 @ t2 \\<lesssim> t2 @ t1", "apply (rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. t2 @ t1 \\<lesssim> t1 @ t2\n 2. t1 @ t2 \\<lesssim> t2 @ t1", "apply (rule append_leq_symm)"], ["proof (prove)\ngoal (1 subgoal):\n 1. t1 @ t2 \\<lesssim> t2 @ t1", "apply (rule append_leq_symm)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma sub_le_flip: \"(A <: B \\<longrightarrow> V B \\<sqsubseteq> V A) \\<and> (f1 <:: f2 \\<longrightarrow> (Vf f2) \\<lesssim> (Vf f1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A <: B \\<longrightarrow> V B \\<sqsubseteq> V A) \\<and>\n    (f1 <:: f2 \\<longrightarrow> Vf f2 \\<lesssim> Vf f1)", "proof (induction rule: subtype_fsubtype.induct)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>A. V A \\<sqsubseteq> V A\n 2. \\<And>f1 f2.\n       \\<lbrakk>f1 <:: f2; Vf f2 \\<lesssim> Vf f1\\<rbrakk>\n       \\<Longrightarrow> V (TFun f2) \\<sqsubseteq> V (TFun f1)\n 3. \\<And>T1 T1' T2 T2'.\n       \\<lbrakk>T1 <: T1'; V T1' \\<sqsubseteq> V T1; T1' <: T1;\n        V T1 \\<sqsubseteq> V T1'; T2 <: T2'; V T2' \\<sqsubseteq> V T2;\n        T2' <: T2; V T2 \\<sqsubseteq> V T2'\\<rbrakk>\n       \\<Longrightarrow> Vf (T1' \\<rightarrow> T2') \\<lesssim>\n                         Vf (T1 \\<rightarrow> T2)\n 4. \\<And>T1 T2. Vf T1 \\<lesssim> Vf (T1 \\<sqinter> T2)\n 5. \\<And>T1 T2. Vf T2 \\<lesssim> Vf (T1 \\<sqinter> T2)\n 6. \\<And>T3 T1 T2.\n       \\<lbrakk>T3 <:: T1; Vf T1 \\<lesssim> Vf T3; T3 <:: T2;\n        Vf T2 \\<lesssim> Vf T3\\<rbrakk>\n       \\<Longrightarrow> Vf (T1 \\<sqinter> T2) \\<lesssim> Vf T3\n 7. \\<And>T1 T2. Vf \\<top> \\<lesssim> Vf (T1 \\<rightarrow> T2)\n 8. Vf \\<top> \\<lesssim> Vf \\<top>\n 9. \\<And>T. Vf T \\<lesssim> Vf T\n 10. \\<And>T1 T2 T3.\n        \\<lbrakk>T1 <:: T2; Vf T2 \\<lesssim> Vf T1; T2 <:: T3;\n         Vf T3 \\<lesssim> Vf T2\\<rbrakk>\n        \\<Longrightarrow> Vf T3 \\<lesssim> Vf T1", "case (sub_trans T1 T2 T3)"], ["proof (state)\nthis:\n  T1 <:: T2\n  T2 <:: T3\n  Vf T2 \\<lesssim> Vf T1\n  Vf T3 \\<lesssim> Vf T2\n\ngoal (10 subgoals):\n 1. \\<And>A. V A \\<sqsubseteq> V A\n 2. \\<And>f1 f2.\n       \\<lbrakk>f1 <:: f2; Vf f2 \\<lesssim> Vf f1\\<rbrakk>\n       \\<Longrightarrow> V (TFun f2) \\<sqsubseteq> V (TFun f1)\n 3. \\<And>T1 T1' T2 T2'.\n       \\<lbrakk>T1 <: T1'; V T1' \\<sqsubseteq> V T1; T1' <: T1;\n        V T1 \\<sqsubseteq> V T1'; T2 <: T2'; V T2' \\<sqsubseteq> V T2;\n        T2' <: T2; V T2 \\<sqsubseteq> V T2'\\<rbrakk>\n       \\<Longrightarrow> Vf (T1' \\<rightarrow> T2') \\<lesssim>\n                         Vf (T1 \\<rightarrow> T2)\n 4. \\<And>T1 T2. Vf T1 \\<lesssim> Vf (T1 \\<sqinter> T2)\n 5. \\<And>T1 T2. Vf T2 \\<lesssim> Vf (T1 \\<sqinter> T2)\n 6. \\<And>T3 T1 T2.\n       \\<lbrakk>T3 <:: T1; Vf T1 \\<lesssim> Vf T3; T3 <:: T2;\n        Vf T2 \\<lesssim> Vf T3\\<rbrakk>\n       \\<Longrightarrow> Vf (T1 \\<sqinter> T2) \\<lesssim> Vf T3\n 7. \\<And>T1 T2. Vf \\<top> \\<lesssim> Vf (T1 \\<rightarrow> T2)\n 8. Vf \\<top> \\<lesssim> Vf \\<top>\n 9. \\<And>T. Vf T \\<lesssim> Vf T\n 10. \\<And>T1 T2 T3.\n        \\<lbrakk>T1 <:: T2; Vf T2 \\<lesssim> Vf T1; T2 <:: T3;\n         Vf T3 \\<lesssim> Vf T2\\<rbrakk>\n        \\<Longrightarrow> Vf T3 \\<lesssim> Vf T1", "then"], ["proof (chain)\npicking this:\n  T1 <:: T2\n  T2 <:: T3\n  Vf T2 \\<lesssim> Vf T1\n  Vf T3 \\<lesssim> Vf T2", "show ?case"], ["proof (prove)\nusing this:\n  T1 <:: T2\n  T2 <:: T3\n  Vf T2 \\<lesssim> Vf T1\n  Vf T3 \\<lesssim> Vf T2\n\ngoal (1 subgoal):\n 1. Vf T3 \\<lesssim> Vf T1", "using fun_le_trans"], ["proof (prove)\nusing this:\n  T1 <:: T2\n  T2 <:: T3\n  Vf T2 \\<lesssim> Vf T1\n  Vf T3 \\<lesssim> Vf T2\n  \\<lbrakk>?t1.0 \\<lesssim> ?t2.0; ?t2.0 \\<lesssim> ?t3.0\\<rbrakk>\n  \\<Longrightarrow> ?t1.0 \\<lesssim> ?t3.0\n\ngoal (1 subgoal):\n 1. Vf T3 \\<lesssim> Vf T1", "by blast"], ["proof (state)\nthis:\n  Vf T3 \\<lesssim> Vf T1\n\ngoal (9 subgoals):\n 1. \\<And>A. V A \\<sqsubseteq> V A\n 2. \\<And>f1 f2.\n       \\<lbrakk>f1 <:: f2; Vf f2 \\<lesssim> Vf f1\\<rbrakk>\n       \\<Longrightarrow> V (TFun f2) \\<sqsubseteq> V (TFun f1)\n 3. \\<And>T1 T1' T2 T2'.\n       \\<lbrakk>T1 <: T1'; V T1' \\<sqsubseteq> V T1; T1' <: T1;\n        V T1 \\<sqsubseteq> V T1'; T2 <: T2'; V T2' \\<sqsubseteq> V T2;\n        T2' <: T2; V T2 \\<sqsubseteq> V T2'\\<rbrakk>\n       \\<Longrightarrow> Vf (T1' \\<rightarrow> T2') \\<lesssim>\n                         Vf (T1 \\<rightarrow> T2)\n 4. \\<And>T1 T2. Vf T1 \\<lesssim> Vf (T1 \\<sqinter> T2)\n 5. \\<And>T1 T2. Vf T2 \\<lesssim> Vf (T1 \\<sqinter> T2)\n 6. \\<And>T3 T1 T2.\n       \\<lbrakk>T3 <:: T1; Vf T1 \\<lesssim> Vf T3; T3 <:: T2;\n        Vf T2 \\<lesssim> Vf T3\\<rbrakk>\n       \\<Longrightarrow> Vf (T1 \\<sqinter> T2) \\<lesssim> Vf T3\n 7. \\<And>T1 T2. Vf \\<top> \\<lesssim> Vf (T1 \\<rightarrow> T2)\n 8. Vf \\<top> \\<lesssim> Vf \\<top>\n 9. \\<And>T. Vf T \\<lesssim> Vf T", "qed force+"], ["", "theorem ts_implies_denot:\n  assumes wte: \"\\<Gamma> \\<turnstile> e : A\" shows \"V A \\<in> E e (Venv \\<Gamma>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. V A \\<in> E e (Venv \\<Gamma>)", "using wte"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> e : A\n\ngoal (1 subgoal):\n 1. V A \\<in> E e (Venv \\<Gamma>)", "proof (induction \\<Gamma> e A rule: wt.induct)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>\\<Gamma> x T.\n       lookup \\<Gamma> x = Some T \\<Longrightarrow>\n       V T \\<in> E (EVar x) (Venv \\<Gamma>)\n 2. \\<And>\\<Gamma> n. V (TNat n) \\<in> E (ENat n) (Venv \\<Gamma>)\n 3. \\<And>x A \\<Gamma> e B.\n       \\<lbrakk>(x, A) # \\<Gamma> \\<turnstile> e : B;\n        V B \\<in> E e (Venv ((x, A) # \\<Gamma>))\\<rbrakk>\n       \\<Longrightarrow> V (TFun (A \\<rightarrow> B))\n                         \\<in> E (ELam x e) (Venv \\<Gamma>)\n 4. \\<And>\\<Gamma> e1 A B e2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TFun (A \\<rightarrow> B);\n        V (TFun (A \\<rightarrow> B)) \\<in> E e1 (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> e2 : A;\n        V A \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EApp e1 e2) (Venv \\<Gamma>)\n 5. \\<And>\\<Gamma> x e. V (TFun \\<top>) \\<in> E (ELam x e) (Venv \\<Gamma>)\n 6. \\<And>\\<Gamma> x e A B.\n       \\<lbrakk>\\<Gamma> \\<turnstile> ELam x e : TFun A;\n        V (TFun A) \\<in> E (ELam x e) (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> ELam x e : TFun B;\n        V (TFun B) \\<in> E (ELam x e) (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V (TFun (A \\<sqinter> B))\n                         \\<in> E (ELam x e) (Venv \\<Gamma>)\n 7. \\<And>\\<Gamma> e A B.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e : A; V A \\<in> E e (Venv \\<Gamma>);\n        A <: B\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E e (Venv \\<Gamma>)\n 8. \\<And>\\<Gamma> e1 n1 e2 n2 f.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat n1;\n        V (TNat n1) \\<in> E e1 (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> e2 : TNat n2;\n        V (TNat n2) \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V (TNat (f n1 n2))\n                         \\<in> E (EPrim f e1 e2) (Venv \\<Gamma>)\n 9. \\<And>\\<Gamma> e1 e3 B e2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat 0;\n        V (TNat 0) \\<in> E e1 (Venv \\<Gamma>); \\<Gamma> \\<turnstile> e3 : B;\n        V B \\<in> E e3 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EIf e1 e2 e3) (Venv \\<Gamma>)\n 10. \\<And>\\<Gamma> e1 n e2 B e3.\n        \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat n;\n         V (TNat n) \\<in> E e1 (Venv \\<Gamma>); n \\<noteq> 0;\n         \\<Gamma> \\<turnstile> e2 : B;\n         V B \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n        \\<Longrightarrow> V B \\<in> E (EIf e1 e2 e3) (Venv \\<Gamma>)", "case (wt_var \\<Gamma> x T)"], ["proof (state)\nthis:\n  lookup \\<Gamma> x = Some T\n\ngoal (10 subgoals):\n 1. \\<And>\\<Gamma> x T.\n       lookup \\<Gamma> x = Some T \\<Longrightarrow>\n       V T \\<in> E (EVar x) (Venv \\<Gamma>)\n 2. \\<And>\\<Gamma> n. V (TNat n) \\<in> E (ENat n) (Venv \\<Gamma>)\n 3. \\<And>x A \\<Gamma> e B.\n       \\<lbrakk>(x, A) # \\<Gamma> \\<turnstile> e : B;\n        V B \\<in> E e (Venv ((x, A) # \\<Gamma>))\\<rbrakk>\n       \\<Longrightarrow> V (TFun (A \\<rightarrow> B))\n                         \\<in> E (ELam x e) (Venv \\<Gamma>)\n 4. \\<And>\\<Gamma> e1 A B e2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TFun (A \\<rightarrow> B);\n        V (TFun (A \\<rightarrow> B)) \\<in> E e1 (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> e2 : A;\n        V A \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EApp e1 e2) (Venv \\<Gamma>)\n 5. \\<And>\\<Gamma> x e. V (TFun \\<top>) \\<in> E (ELam x e) (Venv \\<Gamma>)\n 6. \\<And>\\<Gamma> x e A B.\n       \\<lbrakk>\\<Gamma> \\<turnstile> ELam x e : TFun A;\n        V (TFun A) \\<in> E (ELam x e) (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> ELam x e : TFun B;\n        V (TFun B) \\<in> E (ELam x e) (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V (TFun (A \\<sqinter> B))\n                         \\<in> E (ELam x e) (Venv \\<Gamma>)\n 7. \\<And>\\<Gamma> e A B.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e : A; V A \\<in> E e (Venv \\<Gamma>);\n        A <: B\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E e (Venv \\<Gamma>)\n 8. \\<And>\\<Gamma> e1 n1 e2 n2 f.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat n1;\n        V (TNat n1) \\<in> E e1 (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> e2 : TNat n2;\n        V (TNat n2) \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V (TNat (f n1 n2))\n                         \\<in> E (EPrim f e1 e2) (Venv \\<Gamma>)\n 9. \\<And>\\<Gamma> e1 e3 B e2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat 0;\n        V (TNat 0) \\<in> E e1 (Venv \\<Gamma>); \\<Gamma> \\<turnstile> e3 : B;\n        V B \\<in> E e3 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EIf e1 e2 e3) (Venv \\<Gamma>)\n 10. \\<And>\\<Gamma> e1 n e2 B e3.\n        \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat n;\n         V (TNat n) \\<in> E e1 (Venv \\<Gamma>); n \\<noteq> 0;\n         \\<Gamma> \\<turnstile> e2 : B;\n         V B \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n        \\<Longrightarrow> V B \\<in> E (EIf e1 e2 e3) (Venv \\<Gamma>)", "then"], ["proof (chain)\npicking this:\n  lookup \\<Gamma> x = Some T", "show ?case"], ["proof (prove)\nusing this:\n  lookup \\<Gamma> x = Some T\n\ngoal (1 subgoal):\n 1. V T \\<in> E (EVar x) (Venv \\<Gamma>)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. lookup \\<Gamma> x = Some T \\<Longrightarrow>\n    \\<exists>v'.\n       lookup (Venv \\<Gamma>) x = Some v' \\<and> V T \\<sqsubseteq> v'", "apply (subgoal_tac \"lookup (Venv \\<Gamma>) x = Some (V T)\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>lookup \\<Gamma> x = Some T;\n     lookup (Venv \\<Gamma>) x = Some (V T)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v'.\n                         lookup (Venv \\<Gamma>) x = Some v' \\<and>\n                         V T \\<sqsubseteq> v'\n 2. lookup \\<Gamma> x = Some T \\<Longrightarrow>\n    lookup (Venv \\<Gamma>) x = Some (V T)", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. lookup \\<Gamma> x = Some T \\<Longrightarrow>\n    lookup (Venv \\<Gamma>) x = Some (V T)\n 2. \\<lbrakk>lookup \\<Gamma> x = Some T;\n     lookup (Venv \\<Gamma>) x = Some (V T)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v'.\n                         lookup (Venv \\<Gamma>) x = Some v' \\<and>\n                         V T \\<sqsubseteq> v'", "apply (rule venv_lookup)"], ["proof (prove)\ngoal (2 subgoals):\n 1. lookup \\<Gamma> x = Some T \\<Longrightarrow> lookup \\<Gamma> x = Some T\n 2. \\<lbrakk>lookup \\<Gamma> x = Some T;\n     lookup (Venv \\<Gamma>) x = Some (V T)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v'.\n                         lookup (Venv \\<Gamma>) x = Some v' \\<and>\n                         V T \\<sqsubseteq> v'", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>lookup \\<Gamma> x = Some T;\n     lookup (Venv \\<Gamma>) x = Some (V T)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>v'.\n                         lookup (Venv \\<Gamma>) x = Some v' \\<and>\n                         V T \\<sqsubseteq> v'", "apply (rule_tac x=\"V T\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>lookup \\<Gamma> x = Some T;\n     lookup (Venv \\<Gamma>) x = Some (V T)\\<rbrakk>\n    \\<Longrightarrow> lookup (Venv \\<Gamma>) x = Some (V T) \\<and>\n                      V T \\<sqsubseteq> V T", "apply force"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  V T \\<in> E (EVar x) (Venv \\<Gamma>)\n\ngoal (9 subgoals):\n 1. \\<And>\\<Gamma> n. V (TNat n) \\<in> E (ENat n) (Venv \\<Gamma>)\n 2. \\<And>x A \\<Gamma> e B.\n       \\<lbrakk>(x, A) # \\<Gamma> \\<turnstile> e : B;\n        V B \\<in> E e (Venv ((x, A) # \\<Gamma>))\\<rbrakk>\n       \\<Longrightarrow> V (TFun (A \\<rightarrow> B))\n                         \\<in> E (ELam x e) (Venv \\<Gamma>)\n 3. \\<And>\\<Gamma> e1 A B e2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TFun (A \\<rightarrow> B);\n        V (TFun (A \\<rightarrow> B)) \\<in> E e1 (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> e2 : A;\n        V A \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EApp e1 e2) (Venv \\<Gamma>)\n 4. \\<And>\\<Gamma> x e. V (TFun \\<top>) \\<in> E (ELam x e) (Venv \\<Gamma>)\n 5. \\<And>\\<Gamma> x e A B.\n       \\<lbrakk>\\<Gamma> \\<turnstile> ELam x e : TFun A;\n        V (TFun A) \\<in> E (ELam x e) (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> ELam x e : TFun B;\n        V (TFun B) \\<in> E (ELam x e) (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V (TFun (A \\<sqinter> B))\n                         \\<in> E (ELam x e) (Venv \\<Gamma>)\n 6. \\<And>\\<Gamma> e A B.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e : A; V A \\<in> E e (Venv \\<Gamma>);\n        A <: B\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E e (Venv \\<Gamma>)\n 7. \\<And>\\<Gamma> e1 n1 e2 n2 f.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat n1;\n        V (TNat n1) \\<in> E e1 (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> e2 : TNat n2;\n        V (TNat n2) \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V (TNat (f n1 n2))\n                         \\<in> E (EPrim f e1 e2) (Venv \\<Gamma>)\n 8. \\<And>\\<Gamma> e1 e3 B e2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat 0;\n        V (TNat 0) \\<in> E e1 (Venv \\<Gamma>); \\<Gamma> \\<turnstile> e3 : B;\n        V B \\<in> E e3 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EIf e1 e2 e3) (Venv \\<Gamma>)\n 9. \\<And>\\<Gamma> e1 n e2 B e3.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat n;\n        V (TNat n) \\<in> E e1 (Venv \\<Gamma>); n \\<noteq> 0;\n        \\<Gamma> \\<turnstile> e2 : B;\n        V B \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EIf e1 e2 e3) (Venv \\<Gamma>)", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>\\<Gamma> n. V (TNat n) \\<in> E (ENat n) (Venv \\<Gamma>)\n 2. \\<And>x A \\<Gamma> e B.\n       \\<lbrakk>(x, A) # \\<Gamma> \\<turnstile> e : B;\n        V B \\<in> E e (Venv ((x, A) # \\<Gamma>))\\<rbrakk>\n       \\<Longrightarrow> V (TFun (A \\<rightarrow> B))\n                         \\<in> E (ELam x e) (Venv \\<Gamma>)\n 3. \\<And>\\<Gamma> e1 A B e2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TFun (A \\<rightarrow> B);\n        V (TFun (A \\<rightarrow> B)) \\<in> E e1 (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> e2 : A;\n        V A \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EApp e1 e2) (Venv \\<Gamma>)\n 4. \\<And>\\<Gamma> x e. V (TFun \\<top>) \\<in> E (ELam x e) (Venv \\<Gamma>)\n 5. \\<And>\\<Gamma> x e A B.\n       \\<lbrakk>\\<Gamma> \\<turnstile> ELam x e : TFun A;\n        V (TFun A) \\<in> E (ELam x e) (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> ELam x e : TFun B;\n        V (TFun B) \\<in> E (ELam x e) (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V (TFun (A \\<sqinter> B))\n                         \\<in> E (ELam x e) (Venv \\<Gamma>)\n 6. \\<And>\\<Gamma> e A B.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e : A; V A \\<in> E e (Venv \\<Gamma>);\n        A <: B\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E e (Venv \\<Gamma>)\n 7. \\<And>\\<Gamma> e1 n1 e2 n2 f.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat n1;\n        V (TNat n1) \\<in> E e1 (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> e2 : TNat n2;\n        V (TNat n2) \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V (TNat (f n1 n2))\n                         \\<in> E (EPrim f e1 e2) (Venv \\<Gamma>)\n 8. \\<And>\\<Gamma> e1 e3 B e2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat 0;\n        V (TNat 0) \\<in> E e1 (Venv \\<Gamma>); \\<Gamma> \\<turnstile> e3 : B;\n        V B \\<in> E e3 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EIf e1 e2 e3) (Venv \\<Gamma>)\n 9. \\<And>\\<Gamma> e1 n e2 B e3.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat n;\n        V (TNat n) \\<in> E e1 (Venv \\<Gamma>); n \\<noteq> 0;\n        \\<Gamma> \\<turnstile> e2 : B;\n        V B \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EIf e1 e2 e3) (Venv \\<Gamma>)", "case (wt_sub \\<Gamma> e A B)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> e : A\n  A <: B\n  V A \\<in> E e (Venv \\<Gamma>)\n\ngoal (9 subgoals):\n 1. \\<And>\\<Gamma> n. V (TNat n) \\<in> E (ENat n) (Venv \\<Gamma>)\n 2. \\<And>x A \\<Gamma> e B.\n       \\<lbrakk>(x, A) # \\<Gamma> \\<turnstile> e : B;\n        V B \\<in> E e (Venv ((x, A) # \\<Gamma>))\\<rbrakk>\n       \\<Longrightarrow> V (TFun (A \\<rightarrow> B))\n                         \\<in> E (ELam x e) (Venv \\<Gamma>)\n 3. \\<And>\\<Gamma> e1 A B e2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TFun (A \\<rightarrow> B);\n        V (TFun (A \\<rightarrow> B)) \\<in> E e1 (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> e2 : A;\n        V A \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EApp e1 e2) (Venv \\<Gamma>)\n 4. \\<And>\\<Gamma> x e. V (TFun \\<top>) \\<in> E (ELam x e) (Venv \\<Gamma>)\n 5. \\<And>\\<Gamma> x e A B.\n       \\<lbrakk>\\<Gamma> \\<turnstile> ELam x e : TFun A;\n        V (TFun A) \\<in> E (ELam x e) (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> ELam x e : TFun B;\n        V (TFun B) \\<in> E (ELam x e) (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V (TFun (A \\<sqinter> B))\n                         \\<in> E (ELam x e) (Venv \\<Gamma>)\n 6. \\<And>\\<Gamma> e A B.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e : A; V A \\<in> E e (Venv \\<Gamma>);\n        A <: B\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E e (Venv \\<Gamma>)\n 7. \\<And>\\<Gamma> e1 n1 e2 n2 f.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat n1;\n        V (TNat n1) \\<in> E e1 (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> e2 : TNat n2;\n        V (TNat n2) \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V (TNat (f n1 n2))\n                         \\<in> E (EPrim f e1 e2) (Venv \\<Gamma>)\n 8. \\<And>\\<Gamma> e1 e3 B e2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat 0;\n        V (TNat 0) \\<in> E e1 (Venv \\<Gamma>); \\<Gamma> \\<turnstile> e3 : B;\n        V B \\<in> E e3 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EIf e1 e2 e3) (Venv \\<Gamma>)\n 9. \\<And>\\<Gamma> e1 n e2 B e3.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat n;\n        V (TNat n) \\<in> E e1 (Venv \\<Gamma>); n \\<noteq> 0;\n        \\<Gamma> \\<turnstile> e2 : B;\n        V B \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EIf e1 e2 e3) (Venv \\<Gamma>)", "then"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> e : A\n  A <: B\n  V A \\<in> E e (Venv \\<Gamma>)", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> e : A\n  A <: B\n  V A \\<in> E e (Venv \\<Gamma>)\n\ngoal (1 subgoal):\n 1. V B \\<in> E e (Venv \\<Gamma>)", "apply (subgoal_tac \"V B \\<sqsubseteq> V A\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> e : A; A <: B;\n     V A \\<in> E e (Venv \\<Gamma>); V B \\<sqsubseteq> V A\\<rbrakk>\n    \\<Longrightarrow> V B \\<in> E e (Venv \\<Gamma>)\n 2. \\<lbrakk>\\<Gamma> \\<turnstile> e : A; A <: B;\n     V A \\<in> E e (Venv \\<Gamma>)\\<rbrakk>\n    \\<Longrightarrow> V B \\<sqsubseteq> V A", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> e : A; A <: B;\n     V A \\<in> E e (Venv \\<Gamma>)\\<rbrakk>\n    \\<Longrightarrow> V B \\<sqsubseteq> V A\n 2. \\<lbrakk>\\<Gamma> \\<turnstile> e : A; A <: B;\n     V A \\<in> E e (Venv \\<Gamma>); V B \\<sqsubseteq> V A\\<rbrakk>\n    \\<Longrightarrow> V B \\<in> E e (Venv \\<Gamma>)", "using sub_le_flip"], ["proof (prove)\nusing this:\n  (?A <: ?B \\<longrightarrow> V ?B \\<sqsubseteq> V ?A) \\<and>\n  (?f1.0 <:: ?f2.0 \\<longrightarrow> Vf ?f2.0 \\<lesssim> Vf ?f1.0)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> e : A; A <: B;\n     V A \\<in> E e (Venv \\<Gamma>)\\<rbrakk>\n    \\<Longrightarrow> V B \\<sqsubseteq> V A\n 2. \\<lbrakk>\\<Gamma> \\<turnstile> e : A; A <: B;\n     V A \\<in> E e (Venv \\<Gamma>); V B \\<sqsubseteq> V A\\<rbrakk>\n    \\<Longrightarrow> V B \\<in> E e (Venv \\<Gamma>)", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> e : A; A <: B;\n     V A \\<in> E e (Venv \\<Gamma>); V B \\<sqsubseteq> V A\\<rbrakk>\n    \\<Longrightarrow> V B \\<in> E e (Venv \\<Gamma>)", "apply (rule e_sub)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> e : A; A <: B;\n     V A \\<in> E e (Venv \\<Gamma>); V B \\<sqsubseteq> V A\\<rbrakk>\n    \\<Longrightarrow> ?v16 \\<in> E e (Venv \\<Gamma>)\n 2. \\<lbrakk>\\<Gamma> \\<turnstile> e : A; A <: B;\n     V A \\<in> E e (Venv \\<Gamma>); V B \\<sqsubseteq> V A\\<rbrakk>\n    \\<Longrightarrow> V B \\<sqsubseteq> ?v16", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  V B \\<in> E e (Venv \\<Gamma>)\n\ngoal (8 subgoals):\n 1. \\<And>\\<Gamma> n. V (TNat n) \\<in> E (ENat n) (Venv \\<Gamma>)\n 2. \\<And>x A \\<Gamma> e B.\n       \\<lbrakk>(x, A) # \\<Gamma> \\<turnstile> e : B;\n        V B \\<in> E e (Venv ((x, A) # \\<Gamma>))\\<rbrakk>\n       \\<Longrightarrow> V (TFun (A \\<rightarrow> B))\n                         \\<in> E (ELam x e) (Venv \\<Gamma>)\n 3. \\<And>\\<Gamma> e1 A B e2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TFun (A \\<rightarrow> B);\n        V (TFun (A \\<rightarrow> B)) \\<in> E e1 (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> e2 : A;\n        V A \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EApp e1 e2) (Venv \\<Gamma>)\n 4. \\<And>\\<Gamma> x e. V (TFun \\<top>) \\<in> E (ELam x e) (Venv \\<Gamma>)\n 5. \\<And>\\<Gamma> x e A B.\n       \\<lbrakk>\\<Gamma> \\<turnstile> ELam x e : TFun A;\n        V (TFun A) \\<in> E (ELam x e) (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> ELam x e : TFun B;\n        V (TFun B) \\<in> E (ELam x e) (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V (TFun (A \\<sqinter> B))\n                         \\<in> E (ELam x e) (Venv \\<Gamma>)\n 6. \\<And>\\<Gamma> e1 n1 e2 n2 f.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat n1;\n        V (TNat n1) \\<in> E e1 (Venv \\<Gamma>);\n        \\<Gamma> \\<turnstile> e2 : TNat n2;\n        V (TNat n2) \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V (TNat (f n1 n2))\n                         \\<in> E (EPrim f e1 e2) (Venv \\<Gamma>)\n 7. \\<And>\\<Gamma> e1 e3 B e2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat 0;\n        V (TNat 0) \\<in> E e1 (Venv \\<Gamma>); \\<Gamma> \\<turnstile> e3 : B;\n        V B \\<in> E e3 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EIf e1 e2 e3) (Venv \\<Gamma>)\n 8. \\<And>\\<Gamma> e1 n e2 B e3.\n       \\<lbrakk>\\<Gamma> \\<turnstile> e1 : TNat n;\n        V (TNat n) \\<in> E e1 (Venv \\<Gamma>); n \\<noteq> 0;\n        \\<Gamma> \\<turnstile> e2 : B;\n        V B \\<in> E e2 (Venv \\<Gamma>)\\<rbrakk>\n       \\<Longrightarrow> V B \\<in> E (EIf e1 e2 e3) (Venv \\<Gamma>)", "qed fastforce+"], ["", "end"]]}