{"file_name": "/home/qj213/afp-2021-10-22/thys/Decl_Sem_Fun_PL/ValueProps.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Decl_Sem_Fun_PL", "problem_names": ["lemma fun_le_cons: \"(a # t1) \\<lesssim> t2 \\<Longrightarrow> t1 \\<lesssim> t2\"", "lemma val_size_mem: \"(a, b) \\<in> set t \\<Longrightarrow> val_size a + val_size b < fun_size t\"", "lemma val_size_mem_l: \"(a, b) \\<in> set t \\<Longrightarrow> val_size a < fun_size t\"", "lemma val_size_mem_r: \"(a, b) \\<in> set t \\<Longrightarrow> val_size b < fun_size t\"", "lemma val_fun_le_refl: \"\\<forall> v t. n = val_size v + fun_size t \\<longrightarrow> v \\<sqsubseteq> v \\<and> t \\<lesssim> t\"", "lemma fun_le_refl[simp]: fixes t::func shows \"t \\<lesssim> t\"", "lemma vfun_eq[intro!]: \"t \\<sim> t' \\<Longrightarrow> VFun t \\<sim> VFun t'\"", "lemma val_eq_refl[simp]: fixes v::val shows \"v \\<sim> v\"", "lemma val_eq_symm: fixes v1::val and v2::val shows \"v1 \\<sim> v2 \\<Longrightarrow> v2 \\<sim> v1\"", "lemma val_le_fun_le_trans: \n   \"\\<forall> v2 t2. n = val_size v2 + fun_size t2 \\<longrightarrow> \n    (\\<forall> v1 v3. v1 \\<sqsubseteq> v2 \\<longrightarrow> v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \n    \\<and> (\\<forall> t1 t3. t1 \\<lesssim> t2 \\<longrightarrow> t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\"", "lemma fun_le_trans: \"\\<lbrakk> t1 \\<lesssim> t2; t2 \\<lesssim> t3 \\<rbrakk> \\<Longrightarrow> t1 \\<lesssim> t3\"", "lemma val_eq_trans: fixes v1::val and v2::val and v3::val \n  assumes v12: \"v1 \\<sim> v2\" and v23: \"v2 \\<sim> v3\" shows \"v1 \\<sim> v3\"", "lemma fun_eq_refl[simp]: fixes t::func shows \"t \\<sim> t\"", "lemma fun_eq_trans: fixes t1::func and t2::func and t3::func\n  assumes t12: \"t1 \\<sim> t2\" and t23: \"t2 \\<sim> t3\" shows \"t1 \\<sim> t3\"", "lemma append_fun_le:\n   \"\\<lbrakk> t1' \\<lesssim> t1; t2' \\<lesssim> t2 \\<rbrakk> \\<Longrightarrow> t1' @ t2' \\<lesssim> t1 @ t2\"", "lemma append_fun_equiv:\n   \"\\<lbrakk> t1' \\<sim> t1; t2' \\<sim> t2 \\<rbrakk> \\<Longrightarrow> t1' @ t2' \\<sim> t1 @ t2\"", "lemma append_leq_symm: \"t2 @ t1 \\<lesssim> t1 @ t2\"", "lemma append_eq_symm: \"t2 @ t1 \\<sim> t1 @ t2\"", "lemma le_nat_any[simp]: \"VNat n \\<sqsubseteq> v \\<Longrightarrow> v = VNat n\"", "lemma le_any_nat[simp]: \"v \\<sqsubseteq> VNat n \\<Longrightarrow> v = VNat n\"", "lemma le_nat_nat[simp]: \"VNat n \\<sqsubseteq> VNat n' \\<Longrightarrow> n = n'\""], "translations": [["", "lemma fun_le_cons: \"(a # t1) \\<lesssim> t2 \\<Longrightarrow> t1 \\<lesssim> t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a # t1 \\<lesssim> t2 \\<Longrightarrow> t1 \\<lesssim> t2", "by (case_tac a) auto"], ["", "function val_size :: \"val \\<Rightarrow> nat\" and fun_size :: \"func \\<Rightarrow> nat\" where\n  \"val_size (VNat n) = 0\" |\n  \"val_size (VFun t) = 1 + fun_size t\" |\n  \"fun_size [] = 0\" |\n  \"fun_size ((v1,v2)#t) = 1 + val_size v1 + val_size v2 + fun_size t\""], ["proof (prove)\ngoal (11 subgoals):\n 1. \\<And>P x.\n       \\<lbrakk>\\<And>n. x = Inl (VNat n) \\<Longrightarrow> P;\n        \\<And>t. x = Inl (VFun t) \\<Longrightarrow> P;\n        x = Inr [] \\<Longrightarrow> P;\n        \\<And>v1 v2 t. x = Inr ((v1, v2) # t) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>n na. Inl (VNat n) = Inl (VNat na) \\<Longrightarrow> 0 = 0\n 3. \\<And>n t.\n       Inl (VNat n) = Inl (VFun t) \\<Longrightarrow>\n       0 = 1 + val_size_fun_size_sumC (Inr t)\n 4. \\<And>n. Inl (VNat n) = Inr [] \\<Longrightarrow> 0 = 0\n 5. \\<And>n v1 v2 t.\n       Inl (VNat n) = Inr ((v1, v2) # t) \\<Longrightarrow>\n       0 =\n       1 + val_size_fun_size_sumC (Inl v1) +\n       val_size_fun_size_sumC (Inl v2) +\n       val_size_fun_size_sumC (Inr t)\n 6. \\<And>t ta.\n       Inl (VFun t) = Inl (VFun ta) \\<Longrightarrow>\n       1 + val_size_fun_size_sumC (Inr t) =\n       1 + val_size_fun_size_sumC (Inr ta)\n 7. \\<And>t.\n       Inl (VFun t) = Inr [] \\<Longrightarrow>\n       1 + val_size_fun_size_sumC (Inr t) = 0\n 8. \\<And>t v1 v2 ta.\n       Inl (VFun t) = Inr ((v1, v2) # ta) \\<Longrightarrow>\n       1 + val_size_fun_size_sumC (Inr t) =\n       1 + val_size_fun_size_sumC (Inl v1) +\n       val_size_fun_size_sumC (Inl v2) +\n       val_size_fun_size_sumC (Inr ta)\n 9. Inr [] = Inr [] \\<Longrightarrow> 0 = 0\n 10. \\<And>v1 v2 t.\n        Inr [] = Inr ((v1, v2) # t) \\<Longrightarrow>\n        0 =\n        1 + val_size_fun_size_sumC (Inl v1) +\n        val_size_fun_size_sumC (Inl v2) +\n        val_size_fun_size_sumC (Inr t)\nA total of 11 subgoals...", "by pat_completeness auto"], ["", "termination val_size"], ["proof (prove)\ngoal (1 subgoal):\n 1. All val_size_fun_size_dom", "by size_change"], ["", "lemma val_size_mem: \"(a, b) \\<in> set t \\<Longrightarrow> val_size a + val_size b < fun_size t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a, b) \\<in> set t \\<Longrightarrow>\n    val_size a + val_size b < fun_size t", "by (induction t) auto"], ["", "lemma val_size_mem_l: \"(a, b) \\<in> set t \\<Longrightarrow> val_size a < fun_size t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a, b) \\<in> set t \\<Longrightarrow> val_size a < fun_size t", "by (induction t) auto"], ["", "lemma val_size_mem_r: \"(a, b) \\<in> set t \\<Longrightarrow> val_size b < fun_size t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a, b) \\<in> set t \\<Longrightarrow> val_size b < fun_size t", "by (induction t) auto"], ["", "lemma val_fun_le_refl: \"\\<forall> v t. n = val_size v + fun_size t \\<longrightarrow> v \\<sqsubseteq> v \\<and> t \\<lesssim> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v t.\n       n = val_size v + fun_size t \\<longrightarrow>\n       v \\<sqsubseteq> v \\<and> t \\<lesssim> t", "proof (induction n rule: nat_less_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>m<n.\n          \\<forall>v t.\n             m = val_size v + fun_size t \\<longrightarrow>\n             v \\<sqsubseteq> v \\<and> t \\<lesssim> t \\<Longrightarrow>\n       \\<forall>v t.\n          n = val_size v + fun_size t \\<longrightarrow>\n          v \\<sqsubseteq> v \\<and> t \\<lesssim> t", "case (1 n)"], ["proof (state)\nthis:\n  \\<forall>m<n.\n     \\<forall>v t.\n        m = val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>m<n.\n          \\<forall>v t.\n             m = val_size v + fun_size t \\<longrightarrow>\n             v \\<sqsubseteq> v \\<and> t \\<lesssim> t \\<Longrightarrow>\n       \\<forall>v t.\n          n = val_size v + fun_size t \\<longrightarrow>\n          v \\<sqsubseteq> v \\<and> t \\<lesssim> t", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v t.\n       n = val_size v + fun_size t \\<longrightarrow>\n       v \\<sqsubseteq> v \\<and> t \\<lesssim> t", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v t.\n       n = val_size v + fun_size t \\<Longrightarrow>\n       v \\<sqsubseteq> v \\<and> t \\<lesssim> t", "apply (rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>v t.\n       n = val_size v + fun_size t \\<Longrightarrow> v \\<sqsubseteq> v\n 2. \\<And>v t. n = val_size v + fun_size t \\<Longrightarrow> t \\<lesssim> t", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v t.\n       n = val_size v + fun_size t \\<Longrightarrow> v \\<sqsubseteq> v\n 2. \\<And>v t. n = val_size v + fun_size t \\<Longrightarrow> t \\<lesssim> t", "fix v::val and t::func"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v t.\n       n = val_size v + fun_size t \\<Longrightarrow> v \\<sqsubseteq> v\n 2. \\<And>v t. n = val_size v + fun_size t \\<Longrightarrow> t \\<lesssim> t", "assume n: \"n = val_size v + fun_size t\""], ["proof (state)\nthis:\n  n = val_size v + fun_size t\n\ngoal (2 subgoals):\n 1. \\<And>v t.\n       n = val_size v + fun_size t \\<Longrightarrow> v \\<sqsubseteq> v\n 2. \\<And>v t. n = val_size v + fun_size t \\<Longrightarrow> t \\<lesssim> t", "show \"v \\<sqsubseteq> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<sqsubseteq> v", "proof (cases v)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1. v = VNat x1 \\<Longrightarrow> v \\<sqsubseteq> v\n 2. \\<And>x2. v = VFun x2 \\<Longrightarrow> v \\<sqsubseteq> v", "case (VNat x1)"], ["proof (state)\nthis:\n  v = VNat x1\n\ngoal (2 subgoals):\n 1. \\<And>x1. v = VNat x1 \\<Longrightarrow> v \\<sqsubseteq> v\n 2. \\<And>x2. v = VFun x2 \\<Longrightarrow> v \\<sqsubseteq> v", "then"], ["proof (chain)\npicking this:\n  v = VNat x1", "show ?thesis"], ["proof (prove)\nusing this:\n  v = VNat x1\n\ngoal (1 subgoal):\n 1. v \\<sqsubseteq> v", "by auto"], ["proof (state)\nthis:\n  v \\<sqsubseteq> v\n\ngoal (1 subgoal):\n 1. \\<And>x2. v = VFun x2 \\<Longrightarrow> v \\<sqsubseteq> v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x2. v = VFun x2 \\<Longrightarrow> v \\<sqsubseteq> v", "case (VFun t')"], ["proof (state)\nthis:\n  v = VFun t'\n\ngoal (1 subgoal):\n 1. \\<And>x2. v = VFun x2 \\<Longrightarrow> v \\<sqsubseteq> v", "let ?m = \"val_size (VNat 0) + fun_size t'\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x2. v = VFun x2 \\<Longrightarrow> v \\<sqsubseteq> v", "from 1 n VFun"], ["proof (chain)\npicking this:\n  \\<forall>m<n.\n     \\<forall>v t.\n        m = val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\n  n = val_size v + fun_size t\n  v = VFun t'", "have \"t' \\<lesssim> t'\""], ["proof (prove)\nusing this:\n  \\<forall>m<n.\n     \\<forall>v t.\n        m = val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\n  n = val_size v + fun_size t\n  v = VFun t'\n\ngoal (1 subgoal):\n 1. t' \\<lesssim> t'", "apply (erule_tac x=\"?m\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = val_size v + fun_size t; v = VFun t';\n     val_size (VNat 0) + fun_size t' < n \\<longrightarrow>\n     (\\<forall>v t.\n         val_size (VNat 0) + fun_size t' =\n         val_size v + fun_size t \\<longrightarrow>\n         v \\<sqsubseteq> v \\<and> t \\<lesssim> t)\\<rbrakk>\n    \\<Longrightarrow> t' \\<lesssim> t'", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>n = val_size v + fun_size t; v = VFun t'\\<rbrakk>\n    \\<Longrightarrow> val_size (VNat 0) + fun_size t' < n\n 2. \\<lbrakk>n = val_size v + fun_size t; v = VFun t';\n     \\<forall>v t.\n        val_size (VNat 0) + fun_size t' =\n        val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> t' \\<lesssim> t'", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = val_size v + fun_size t; v = VFun t';\n     \\<forall>v t.\n        val_size (VNat 0) + fun_size t' =\n        val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> t' \\<lesssim> t'", "apply (erule_tac x=\"VNat 0\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = val_size v + fun_size t; v = VFun t';\n     \\<forall>t.\n        val_size (VNat 0) + fun_size t' =\n        val_size (VNat 0) + fun_size t \\<longrightarrow>\n        VNat 0 \\<sqsubseteq> VNat 0 \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> t' \\<lesssim> t'", "apply (erule_tac x=\"t'\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = val_size v + fun_size t; v = VFun t';\n     val_size (VNat 0) + fun_size t' =\n     val_size (VNat 0) + fun_size t' \\<longrightarrow>\n     VNat 0 \\<sqsubseteq> VNat 0 \\<and> t' \\<lesssim> t'\\<rbrakk>\n    \\<Longrightarrow> t' \\<lesssim> t'", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  t' \\<lesssim> t'\n\ngoal (1 subgoal):\n 1. \\<And>x2. v = VFun x2 \\<Longrightarrow> v \\<sqsubseteq> v", "from this VFun"], ["proof (chain)\npicking this:\n  t' \\<lesssim> t'\n  v = VFun t'", "show ?thesis"], ["proof (prove)\nusing this:\n  t' \\<lesssim> t'\n  v = VFun t'\n\ngoal (1 subgoal):\n 1. v \\<sqsubseteq> v", "by force"], ["proof (state)\nthis:\n  v \\<sqsubseteq> v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v \\<sqsubseteq> v\n\ngoal (1 subgoal):\n 1. \\<And>v t. n = val_size v + fun_size t \\<Longrightarrow> t \\<lesssim> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v t. n = val_size v + fun_size t \\<Longrightarrow> t \\<lesssim> t", "fix v::val and t::func"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v t. n = val_size v + fun_size t \\<Longrightarrow> t \\<lesssim> t", "assume n: \"n = val_size v + fun_size t\""], ["proof (state)\nthis:\n  n = val_size v + fun_size t\n\ngoal (1 subgoal):\n 1. \\<And>v t. n = val_size v + fun_size t \\<Longrightarrow> t \\<lesssim> t", "show \"t \\<lesssim> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<lesssim> t", "apply (rule fun_le)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v1 v2.\n       (v1, v2) \\<in> set t \\<longrightarrow>\n       (\\<exists>v3 v4.\n           (v3, v4) \\<in> set t \\<and>\n           v1 \\<sqsubseteq> v3 \\<and>\n           v3 \\<sqsubseteq> v1 \\<and>\n           v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2)", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v1 v2.\n       (v1, v2) \\<in> set t \\<Longrightarrow>\n       \\<exists>v3 v4.\n          (v3, v4) \\<in> set t \\<and>\n          v1 \\<sqsubseteq> v3 \\<and>\n          v3 \\<sqsubseteq> v1 \\<and>\n          v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v1 v2.\n       (v1, v2) \\<in> set t \\<Longrightarrow>\n       \\<exists>v3 v4.\n          (v3, v4) \\<in> set t \\<and>\n          v1 \\<sqsubseteq> v3 \\<and>\n          v3 \\<sqsubseteq> v1 \\<and>\n          v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "fix v1 v2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v1 v2.\n       (v1, v2) \\<in> set t \\<Longrightarrow>\n       \\<exists>v3 v4.\n          (v3, v4) \\<in> set t \\<and>\n          v1 \\<sqsubseteq> v3 \\<and>\n          v3 \\<sqsubseteq> v1 \\<and>\n          v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "assume v12: \"(v1,v2) \\<in> set t\""], ["proof (state)\nthis:\n  (v1, v2) \\<in> set t\n\ngoal (1 subgoal):\n 1. \\<And>v1 v2.\n       (v1, v2) \\<in> set t \\<Longrightarrow>\n       \\<exists>v3 v4.\n          (v3, v4) \\<in> set t \\<and>\n          v1 \\<sqsubseteq> v3 \\<and>\n          v3 \\<sqsubseteq> v1 \\<and>\n          v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "from 1 v12"], ["proof (chain)\npicking this:\n  \\<forall>m<n.\n     \\<forall>v t.\n        m = val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\n  (v1, v2) \\<in> set t", "have v11: \"v1 \\<sqsubseteq> v1\""], ["proof (prove)\nusing this:\n  \\<forall>m<n.\n     \\<forall>v t.\n        m = val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\n  (v1, v2) \\<in> set t\n\ngoal (1 subgoal):\n 1. v1 \\<sqsubseteq> v1", "apply (erule_tac x=\"val_size v1 + fun_size []\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t;\n     val_size v1 + fun_size [] < n \\<longrightarrow>\n     (\\<forall>v t.\n         val_size v1 + fun_size [] =\n         val_size v + fun_size t \\<longrightarrow>\n         v \\<sqsubseteq> v \\<and> t \\<lesssim> t)\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (v1, v2) \\<in> set t \\<Longrightarrow> val_size v1 + fun_size [] < n\n 2. \\<lbrakk>(v1, v2) \\<in> set t;\n     \\<forall>v t.\n        val_size v1 + fun_size [] =\n        val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1", "using n"], ["proof (prove)\nusing this:\n  n = val_size v + fun_size t\n\ngoal (2 subgoals):\n 1. (v1, v2) \\<in> set t \\<Longrightarrow> val_size v1 + fun_size [] < n\n 2. \\<lbrakk>(v1, v2) \\<in> set t;\n     \\<forall>v t.\n        val_size v1 + fun_size [] =\n        val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(v1, v2) \\<in> set t; n = val_size v + fun_size t\\<rbrakk>\n    \\<Longrightarrow> val_size v1 < val_size v + fun_size t\n 2. \\<lbrakk>(v1, v2) \\<in> set t;\n     \\<forall>v t.\n        val_size v1 + fun_size [] =\n        val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1", "apply (frule val_size_mem)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(v1, v2) \\<in> set t; n = val_size v + fun_size t;\n     val_size v1 + val_size v2 < fun_size t\\<rbrakk>\n    \\<Longrightarrow> val_size v1 < val_size v + fun_size t\n 2. \\<lbrakk>(v1, v2) \\<in> set t;\n     \\<forall>v t.\n        val_size v1 + fun_size [] =\n        val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t;\n     \\<forall>v t.\n        val_size v1 + fun_size [] =\n        val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1", "apply (erule_tac x=v1 in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t;\n     \\<forall>t.\n        val_size v1 + fun_size [] =\n        val_size v1 + fun_size t \\<longrightarrow>\n        v1 \\<sqsubseteq> v1 \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t;\n     val_size v1 + fun_size [] = val_size v1 + fun_size [] \\<longrightarrow>\n     v1 \\<sqsubseteq> v1 \\<and> [] \\<lesssim> []\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1", "apply force"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  v1 \\<sqsubseteq> v1\n\ngoal (1 subgoal):\n 1. \\<And>v1 v2.\n       (v1, v2) \\<in> set t \\<Longrightarrow>\n       \\<exists>v3 v4.\n          (v3, v4) \\<in> set t \\<and>\n          v1 \\<sqsubseteq> v3 \\<and>\n          v3 \\<sqsubseteq> v1 \\<and>\n          v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "from 1 v12"], ["proof (chain)\npicking this:\n  \\<forall>m<n.\n     \\<forall>v t.\n        m = val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\n  (v1, v2) \\<in> set t", "have v22: \"v2 \\<sqsubseteq> v2\""], ["proof (prove)\nusing this:\n  \\<forall>m<n.\n     \\<forall>v t.\n        m = val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\n  (v1, v2) \\<in> set t\n\ngoal (1 subgoal):\n 1. v2 \\<sqsubseteq> v2", "apply (erule_tac x=\"val_size v2 + fun_size []\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t;\n     val_size v2 + fun_size [] < n \\<longrightarrow>\n     (\\<forall>v t.\n         val_size v2 + fun_size [] =\n         val_size v + fun_size t \\<longrightarrow>\n         v \\<sqsubseteq> v \\<and> t \\<lesssim> t)\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (v1, v2) \\<in> set t \\<Longrightarrow> val_size v2 + fun_size [] < n\n 2. \\<lbrakk>(v1, v2) \\<in> set t;\n     \\<forall>v t.\n        val_size v2 + fun_size [] =\n        val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2", "using n"], ["proof (prove)\nusing this:\n  n = val_size v + fun_size t\n\ngoal (2 subgoals):\n 1. (v1, v2) \\<in> set t \\<Longrightarrow> val_size v2 + fun_size [] < n\n 2. \\<lbrakk>(v1, v2) \\<in> set t;\n     \\<forall>v t.\n        val_size v2 + fun_size [] =\n        val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(v1, v2) \\<in> set t; n = val_size v + fun_size t\\<rbrakk>\n    \\<Longrightarrow> val_size v2 < val_size v + fun_size t\n 2. \\<lbrakk>(v1, v2) \\<in> set t;\n     \\<forall>v t.\n        val_size v2 + fun_size [] =\n        val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2", "apply (frule val_size_mem)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(v1, v2) \\<in> set t; n = val_size v + fun_size t;\n     val_size v1 + val_size v2 < fun_size t\\<rbrakk>\n    \\<Longrightarrow> val_size v2 < val_size v + fun_size t\n 2. \\<lbrakk>(v1, v2) \\<in> set t;\n     \\<forall>v t.\n        val_size v2 + fun_size [] =\n        val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t;\n     \\<forall>v t.\n        val_size v2 + fun_size [] =\n        val_size v + fun_size t \\<longrightarrow>\n        v \\<sqsubseteq> v \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2", "apply (erule_tac x=v2 in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t;\n     \\<forall>t.\n        val_size v2 + fun_size [] =\n        val_size v2 + fun_size t \\<longrightarrow>\n        v2 \\<sqsubseteq> v2 \\<and> t \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t;\n     val_size v2 + fun_size [] = val_size v2 + fun_size [] \\<longrightarrow>\n     v2 \\<sqsubseteq> v2 \\<and> [] \\<lesssim> []\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2", "apply force"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  v2 \\<sqsubseteq> v2\n\ngoal (1 subgoal):\n 1. \\<And>v1 v2.\n       (v1, v2) \\<in> set t \\<Longrightarrow>\n       \\<exists>v3 v4.\n          (v3, v4) \\<in> set t \\<and>\n          v1 \\<sqsubseteq> v3 \\<and>\n          v3 \\<sqsubseteq> v1 \\<and>\n          v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "from v12 v11 v22"], ["proof (chain)\npicking this:\n  (v1, v2) \\<in> set t\n  v1 \\<sqsubseteq> v1\n  v2 \\<sqsubseteq> v2", "show \"\\<exists> v3 v4. (v3,v4) \\<in> set t \\<and> v1 \\<sqsubseteq> v3 \\<and> v3 \\<sqsubseteq> v1 \\<and> v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2\""], ["proof (prove)\nusing this:\n  (v1, v2) \\<in> set t\n  v1 \\<sqsubseteq> v1\n  v2 \\<sqsubseteq> v2\n\ngoal (1 subgoal):\n 1. \\<exists>v3 v4.\n       (v3, v4) \\<in> set t \\<and>\n       v1 \\<sqsubseteq> v3 \\<and>\n       v3 \\<sqsubseteq> v1 \\<and>\n       v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "by blast"], ["proof (state)\nthis:\n  \\<exists>v3 v4.\n     (v3, v4) \\<in> set t \\<and>\n     v1 \\<sqsubseteq> v3 \\<and>\n     v3 \\<sqsubseteq> v1 \\<and>\n     v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<lesssim> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v t.\n     n = val_size v + fun_size t \\<longrightarrow>\n     v \\<sqsubseteq> v \\<and> t \\<lesssim> t\n\ngoal:\nNo subgoals!", "qed"], ["", "proposition val_le_refl[simp]: fixes v::val shows \"v \\<sqsubseteq> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<sqsubseteq> v", "using val_fun_le_refl"], ["proof (prove)\nusing this:\n  \\<forall>v t.\n     ?n = val_size v + fun_size t \\<longrightarrow>\n     v \\<sqsubseteq> v \\<and> t \\<lesssim> t\n\ngoal (1 subgoal):\n 1. v \\<sqsubseteq> v", "by auto"], ["", "lemma fun_le_refl[simp]: fixes t::func shows \"t \\<lesssim> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<lesssim> t", "using val_fun_le_refl"], ["proof (prove)\nusing this:\n  \\<forall>v t.\n     ?n = val_size v + fun_size t \\<longrightarrow>\n     v \\<sqsubseteq> v \\<and> t \\<lesssim> t\n\ngoal (1 subgoal):\n 1. t \\<lesssim> t", "by auto"], ["", "definition val_eq :: \"val \\<Rightarrow> val \\<Rightarrow> bool\" (infix \"\\<sim>\" 52) where\n  \"val_eq v1 v2 \\<equiv> (v1 \\<sqsubseteq> v2 \\<and> v2 \\<sqsubseteq> v1)\""], ["", "definition fun_eq :: \"func \\<Rightarrow> func \\<Rightarrow> bool\" (infix \"\\<sim>\" 52) where\n  \"fun_eq t1 t2 \\<equiv> (t1 \\<lesssim> t2 \\<and> t2 \\<lesssim> t1)\""], ["", "lemma vfun_eq[intro!]: \"t \\<sim> t' \\<Longrightarrow> VFun t \\<sim> VFun t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<sim> t' \\<Longrightarrow> VFun t \\<sim> VFun t'", "apply (simp add: val_eq_def fun_eq_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<lesssim> t' \\<and> t' \\<lesssim> t \\<Longrightarrow>\n    VFun t \\<sqsubseteq> VFun t' \\<and> VFun t' \\<sqsubseteq> VFun t", "apply (rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. t \\<lesssim> t' \\<and> t' \\<lesssim> t \\<Longrightarrow>\n    VFun t \\<sqsubseteq> VFun t'\n 2. t \\<lesssim> t' \\<and> t' \\<lesssim> t \\<Longrightarrow>\n    VFun t' \\<sqsubseteq> VFun t", "apply (erule conjE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>t \\<lesssim> t'; t' \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> VFun t \\<sqsubseteq> VFun t'\n 2. t \\<lesssim> t' \\<and> t' \\<lesssim> t \\<Longrightarrow>\n    VFun t' \\<sqsubseteq> VFun t", "apply (rule vfun_le)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>t \\<lesssim> t'; t' \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> t \\<lesssim> t'\n 2. t \\<lesssim> t' \\<and> t' \\<lesssim> t \\<Longrightarrow>\n    VFun t' \\<sqsubseteq> VFun t", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<lesssim> t' \\<and> t' \\<lesssim> t \\<Longrightarrow>\n    VFun t' \\<sqsubseteq> VFun t", "apply (erule conjE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<lesssim> t'; t' \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> VFun t' \\<sqsubseteq> VFun t", "apply (rule vfun_le)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<lesssim> t'; t' \\<lesssim> t\\<rbrakk>\n    \\<Longrightarrow> t' \\<lesssim> t", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma val_eq_refl[simp]: fixes v::val shows \"v \\<sim> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<sim> v", "by (simp add: val_eq_def)"], ["", "lemma val_eq_symm: fixes v1::val and v2::val shows \"v1 \\<sim> v2 \\<Longrightarrow> v2 \\<sim> v1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v1 \\<sim> v2 \\<Longrightarrow> v2 \\<sim> v1", "unfolding val_eq_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. v1 \\<sqsubseteq> v2 \\<and> v2 \\<sqsubseteq> v1 \\<Longrightarrow>\n    v2 \\<sqsubseteq> v1 \\<and> v1 \\<sqsubseteq> v2", "by blast"], ["", "lemma val_le_fun_le_trans: \n   \"\\<forall> v2 t2. n = val_size v2 + fun_size t2 \\<longrightarrow> \n    (\\<forall> v1 v3. v1 \\<sqsubseteq> v2 \\<longrightarrow> v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \n    \\<and> (\\<forall> t1 t3. t1 \\<lesssim> t2 \\<longrightarrow> t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v2 t2.\n       n = val_size v2 + fun_size t2 \\<longrightarrow>\n       (\\<forall>v1 v3.\n           v1 \\<sqsubseteq> v2 \\<longrightarrow>\n           v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n       (\\<forall>t1 t3.\n           t1 \\<lesssim> t2 \\<longrightarrow>\n           t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)", "proof (induction n rule: nat_less_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>m<n.\n          \\<forall>v2 t2.\n             m = val_size v2 + fun_size t2 \\<longrightarrow>\n             (\\<forall>v1 v3.\n                 v1 \\<sqsubseteq> v2 \\<longrightarrow>\n                 v2 \\<sqsubseteq> v3 \\<longrightarrow>\n                 v1 \\<sqsubseteq> v3) \\<and>\n             (\\<forall>t1 t3.\n                 t1 \\<lesssim> t2 \\<longrightarrow>\n                 t2 \\<lesssim> t3 \\<longrightarrow>\n                 t1 \\<lesssim> t3) \\<Longrightarrow>\n       \\<forall>v2 t2.\n          n = val_size v2 + fun_size t2 \\<longrightarrow>\n          (\\<forall>v1 v3.\n              v1 \\<sqsubseteq> v2 \\<longrightarrow>\n              v2 \\<sqsubseteq> v3 \\<longrightarrow>\n              v1 \\<sqsubseteq> v3) \\<and>\n          (\\<forall>t1 t3.\n              t1 \\<lesssim> t2 \\<longrightarrow>\n              t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)", "case (1 n)"], ["proof (state)\nthis:\n  \\<forall>m<n.\n     \\<forall>v2 t2.\n        m = val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<forall>m<n.\n          \\<forall>v2 t2.\n             m = val_size v2 + fun_size t2 \\<longrightarrow>\n             (\\<forall>v1 v3.\n                 v1 \\<sqsubseteq> v2 \\<longrightarrow>\n                 v2 \\<sqsubseteq> v3 \\<longrightarrow>\n                 v1 \\<sqsubseteq> v3) \\<and>\n             (\\<forall>t1 t3.\n                 t1 \\<lesssim> t2 \\<longrightarrow>\n                 t2 \\<lesssim> t3 \\<longrightarrow>\n                 t1 \\<lesssim> t3) \\<Longrightarrow>\n       \\<forall>v2 t2.\n          n = val_size v2 + fun_size t2 \\<longrightarrow>\n          (\\<forall>v1 v3.\n              v1 \\<sqsubseteq> v2 \\<longrightarrow>\n              v2 \\<sqsubseteq> v3 \\<longrightarrow>\n              v1 \\<sqsubseteq> v3) \\<and>\n          (\\<forall>t1 t3.\n              t1 \\<lesssim> t2 \\<longrightarrow>\n              t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v2 t2.\n       n = val_size v2 + fun_size t2 \\<longrightarrow>\n       (\\<forall>v1 v3.\n           v1 \\<sqsubseteq> v2 \\<longrightarrow>\n           v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n       (\\<forall>t1 t3.\n           t1 \\<lesssim> t2 \\<longrightarrow>\n           t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v2 t2.\n       n = val_size v2 + fun_size t2 \\<Longrightarrow>\n       (\\<forall>v1 v3.\n           v1 \\<sqsubseteq> v2 \\<longrightarrow>\n           v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n       (\\<forall>t1 t3.\n           t1 \\<lesssim> t2 \\<longrightarrow>\n           t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v2 t2.\n       n = val_size v2 + fun_size t2 \\<Longrightarrow>\n       \\<forall>v1 v3.\n          v1 \\<sqsubseteq> v2 \\<longrightarrow>\n          v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3\n 2. \\<And>v2 t2.\n       n = val_size v2 + fun_size t2 \\<Longrightarrow>\n       \\<forall>t1 t3.\n          t1 \\<lesssim> t2 \\<longrightarrow>\n          t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3", "fix v2 t2"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>v2 t2.\n       n = val_size v2 + fun_size t2 \\<Longrightarrow>\n       \\<forall>v1 v3.\n          v1 \\<sqsubseteq> v2 \\<longrightarrow>\n          v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3\n 2. \\<And>v2 t2.\n       n = val_size v2 + fun_size t2 \\<Longrightarrow>\n       \\<forall>t1 t3.\n          t1 \\<lesssim> t2 \\<longrightarrow>\n          t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3", "assume n: \"n = val_size v2 + fun_size t2\""], ["proof (state)\nthis:\n  n = val_size v2 + fun_size t2\n\ngoal (2 subgoals):\n 1. \\<And>v2 t2.\n       n = val_size v2 + fun_size t2 \\<Longrightarrow>\n       \\<forall>v1 v3.\n          v1 \\<sqsubseteq> v2 \\<longrightarrow>\n          v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3\n 2. \\<And>v2 t2.\n       n = val_size v2 + fun_size t2 \\<Longrightarrow>\n       \\<forall>t1 t3.\n          t1 \\<lesssim> t2 \\<longrightarrow>\n          t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3", "show \"\\<forall>v1 v3. v1 \\<sqsubseteq> v2 \\<longrightarrow> v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v1 v3.\n       v1 \\<sqsubseteq> v2 \\<longrightarrow>\n       v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v1 v3.\n       \\<lbrakk>v1 \\<sqsubseteq> v2; v2 \\<sqsubseteq> v3\\<rbrakk>\n       \\<Longrightarrow> v1 \\<sqsubseteq> v3", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v1 v3.\n       \\<lbrakk>v1 \\<sqsubseteq> v2; v2 \\<sqsubseteq> v3\\<rbrakk>\n       \\<Longrightarrow> v1 \\<sqsubseteq> v3", "fix v1 v3"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v1 v3.\n       \\<lbrakk>v1 \\<sqsubseteq> v2; v2 \\<sqsubseteq> v3\\<rbrakk>\n       \\<Longrightarrow> v1 \\<sqsubseteq> v3", "assume v12: \"v1 \\<sqsubseteq> v2\" and v23: \"v2 \\<sqsubseteq> v3\""], ["proof (state)\nthis:\n  v1 \\<sqsubseteq> v2\n  v2 \\<sqsubseteq> v3\n\ngoal (1 subgoal):\n 1. \\<And>v1 v3.\n       \\<lbrakk>v1 \\<sqsubseteq> v2; v2 \\<sqsubseteq> v3\\<rbrakk>\n       \\<Longrightarrow> v1 \\<sqsubseteq> v3", "show \"v1 \\<sqsubseteq> v3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v1 \\<sqsubseteq> v3", "proof (cases v2)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1. v2 = VNat x1 \\<Longrightarrow> v1 \\<sqsubseteq> v3\n 2. \\<And>x2. v2 = VFun x2 \\<Longrightarrow> v1 \\<sqsubseteq> v3", "case (VNat n)"], ["proof (state)\nthis:\n  v2 = VNat n\n\ngoal (2 subgoals):\n 1. \\<And>x1. v2 = VNat x1 \\<Longrightarrow> v1 \\<sqsubseteq> v3\n 2. \\<And>x2. v2 = VFun x2 \\<Longrightarrow> v1 \\<sqsubseteq> v3", "from VNat v12"], ["proof (chain)\npicking this:\n  v2 = VNat n\n  v1 \\<sqsubseteq> v2", "have v1: \"v1 = VNat n\""], ["proof (prove)\nusing this:\n  v2 = VNat n\n  v1 \\<sqsubseteq> v2\n\ngoal (1 subgoal):\n 1. v1 = VNat n", "by auto"], ["proof (state)\nthis:\n  v1 = VNat n\n\ngoal (2 subgoals):\n 1. \\<And>x1. v2 = VNat x1 \\<Longrightarrow> v1 \\<sqsubseteq> v3\n 2. \\<And>x2. v2 = VFun x2 \\<Longrightarrow> v1 \\<sqsubseteq> v3", "from VNat v23"], ["proof (chain)\npicking this:\n  v2 = VNat n\n  v2 \\<sqsubseteq> v3", "have v3: \"v3 = VNat n\""], ["proof (prove)\nusing this:\n  v2 = VNat n\n  v2 \\<sqsubseteq> v3\n\ngoal (1 subgoal):\n 1. v3 = VNat n", "by auto"], ["proof (state)\nthis:\n  v3 = VNat n\n\ngoal (2 subgoals):\n 1. \\<And>x1. v2 = VNat x1 \\<Longrightarrow> v1 \\<sqsubseteq> v3\n 2. \\<And>x2. v2 = VFun x2 \\<Longrightarrow> v1 \\<sqsubseteq> v3", "from v1 v3"], ["proof (chain)\npicking this:\n  v1 = VNat n\n  v3 = VNat n", "show ?thesis"], ["proof (prove)\nusing this:\n  v1 = VNat n\n  v3 = VNat n\n\ngoal (1 subgoal):\n 1. v1 \\<sqsubseteq> v3", "by auto"], ["proof (state)\nthis:\n  v1 \\<sqsubseteq> v3\n\ngoal (1 subgoal):\n 1. \\<And>x2. v2 = VFun x2 \\<Longrightarrow> v1 \\<sqsubseteq> v3", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x2. v2 = VFun x2 \\<Longrightarrow> v1 \\<sqsubseteq> v3", "case (VFun t2')"], ["proof (state)\nthis:\n  v2 = VFun t2'\n\ngoal (1 subgoal):\n 1. \\<And>x2. v2 = VFun x2 \\<Longrightarrow> v1 \\<sqsubseteq> v3", "from v12 VFun"], ["proof (chain)\npicking this:\n  v1 \\<sqsubseteq> v2\n  v2 = VFun t2'", "obtain t1 where t12: \"t1 \\<lesssim> t2'\" and v1: \"v1 = VFun t1\""], ["proof (prove)\nusing this:\n  v1 \\<sqsubseteq> v2\n  v2 = VFun t2'\n\ngoal (1 subgoal):\n 1. (\\<And>t1.\n        \\<lbrakk>t1 \\<lesssim> t2'; v1 = VFun t1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  t1 \\<lesssim> t2'\n  v1 = VFun t1\n\ngoal (1 subgoal):\n 1. \\<And>x2. v2 = VFun x2 \\<Longrightarrow> v1 \\<sqsubseteq> v3", "from v23 VFun"], ["proof (chain)\npicking this:\n  v2 \\<sqsubseteq> v3\n  v2 = VFun t2'", "obtain t3 where t23: \"t2' \\<lesssim> t3\" and v3: \"v3 = VFun t3\""], ["proof (prove)\nusing this:\n  v2 \\<sqsubseteq> v3\n  v2 = VFun t2'\n\ngoal (1 subgoal):\n 1. (\\<And>t3.\n        \\<lbrakk>t2' \\<lesssim> t3; v3 = VFun t3\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  t2' \\<lesssim> t3\n  v3 = VFun t3\n\ngoal (1 subgoal):\n 1. \\<And>x2. v2 = VFun x2 \\<Longrightarrow> v1 \\<sqsubseteq> v3", "let ?m = \"val_size (VNat 0) + fun_size t2'\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x2. v2 = VFun x2 \\<Longrightarrow> v1 \\<sqsubseteq> v3", "from 1 n VFun"], ["proof (chain)\npicking this:\n  \\<forall>m<n.\n     \\<forall>v2 t2.\n        m = val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n  n = val_size v2 + fun_size t2\n  v2 = VFun t2'", "have IH: \"\\<forall>t1 t3. t1 \\<lesssim> t2' \\<longrightarrow> t2' \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3\""], ["proof (prove)\nusing this:\n  \\<forall>m<n.\n     \\<forall>v2 t2.\n        m = val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n  n = val_size v2 + fun_size t2\n  v2 = VFun t2'\n\ngoal (1 subgoal):\n 1. \\<forall>t1 t3.\n       t1 \\<lesssim> t2' \\<longrightarrow>\n       t2' \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>m<Suc (fun_size t2' + fun_size t2).\n                \\<forall>v2 t2.\n                   m = val_size v2 + fun_size t2 \\<longrightarrow>\n                   (\\<forall>v1.\n                       v1 \\<sqsubseteq> v2 \\<longrightarrow>\n                       (\\<forall>v3.\n                           v2 \\<sqsubseteq> v3 \\<longrightarrow>\n                           v1 \\<sqsubseteq> v3)) \\<and>\n                   (\\<forall>t1.\n                       t1 \\<lesssim> t2 \\<longrightarrow>\n                       (\\<forall>t3.\n                           t2 \\<lesssim> t3 \\<longrightarrow>\n                           t1 \\<lesssim> t3));\n     n = Suc (fun_size t2' + fun_size t2); v2 = VFun t2'\\<rbrakk>\n    \\<Longrightarrow> \\<forall>t1.\n                         t1 \\<lesssim> t2' \\<longrightarrow>\n                         (\\<forall>t3.\n                             t2' \\<lesssim> t3 \\<longrightarrow>\n                             t1 \\<lesssim> t3)", "apply (erule_tac x=\"?m\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = Suc (fun_size t2' + fun_size t2); v2 = VFun t2';\n     val_size (VNat 0) + fun_size t2'\n     < Suc (fun_size t2' + fun_size t2) \\<longrightarrow>\n     (\\<forall>v2 t2.\n         val_size (VNat 0) + fun_size t2' =\n         val_size v2 + fun_size t2 \\<longrightarrow>\n         (\\<forall>v1.\n             v1 \\<sqsubseteq> v2 \\<longrightarrow>\n             (\\<forall>v3.\n                 v2 \\<sqsubseteq> v3 \\<longrightarrow>\n                 v1 \\<sqsubseteq> v3)) \\<and>\n         (\\<forall>t1.\n             t1 \\<lesssim> t2 \\<longrightarrow>\n             (\\<forall>t3.\n                 t2 \\<lesssim> t3 \\<longrightarrow>\n                 t1 \\<lesssim> t3)))\\<rbrakk>\n    \\<Longrightarrow> \\<forall>t1.\n                         t1 \\<lesssim> t2' \\<longrightarrow>\n                         (\\<forall>t3.\n                             t2' \\<lesssim> t3 \\<longrightarrow>\n                             t1 \\<lesssim> t3)", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>n = Suc (fun_size t2' + fun_size t2); v2 = VFun t2'\\<rbrakk>\n    \\<Longrightarrow> val_size (VNat 0) + fun_size t2'\n                      < Suc (fun_size t2' + fun_size t2)\n 2. \\<lbrakk>n = Suc (fun_size t2' + fun_size t2); v2 = VFun t2';\n     \\<forall>v2 t2.\n        val_size (VNat 0) + fun_size t2' =\n        val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            (\\<forall>v3.\n                v2 \\<sqsubseteq> v3 \\<longrightarrow>\n                v1 \\<sqsubseteq> v3)) \\<and>\n        (\\<forall>t1.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            (\\<forall>t3.\n                t2 \\<lesssim> t3 \\<longrightarrow>\n                t1 \\<lesssim> t3))\\<rbrakk>\n    \\<Longrightarrow> \\<forall>t1.\n                         t1 \\<lesssim> t2' \\<longrightarrow>\n                         (\\<forall>t3.\n                             t2' \\<lesssim> t3 \\<longrightarrow>\n                             t1 \\<lesssim> t3)", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = Suc (fun_size t2' + fun_size t2); v2 = VFun t2';\n     \\<forall>v2 t2.\n        val_size (VNat 0) + fun_size t2' =\n        val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            (\\<forall>v3.\n                v2 \\<sqsubseteq> v3 \\<longrightarrow>\n                v1 \\<sqsubseteq> v3)) \\<and>\n        (\\<forall>t1.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            (\\<forall>t3.\n                t2 \\<lesssim> t3 \\<longrightarrow>\n                t1 \\<lesssim> t3))\\<rbrakk>\n    \\<Longrightarrow> \\<forall>t1.\n                         t1 \\<lesssim> t2' \\<longrightarrow>\n                         (\\<forall>t3.\n                             t2' \\<lesssim> t3 \\<longrightarrow>\n                             t1 \\<lesssim> t3)", "apply (erule_tac x=\"VNat 0\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = Suc (fun_size t2' + fun_size t2); v2 = VFun t2';\n     \\<forall>t2.\n        val_size (VNat 0) + fun_size t2' =\n        val_size (VNat 0) + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1.\n            v1 \\<sqsubseteq> VNat 0 \\<longrightarrow>\n            (\\<forall>v3.\n                VNat 0 \\<sqsubseteq> v3 \\<longrightarrow>\n                v1 \\<sqsubseteq> v3)) \\<and>\n        (\\<forall>t1.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            (\\<forall>t3.\n                t2 \\<lesssim> t3 \\<longrightarrow>\n                t1 \\<lesssim> t3))\\<rbrakk>\n    \\<Longrightarrow> \\<forall>t1.\n                         t1 \\<lesssim> t2' \\<longrightarrow>\n                         (\\<forall>t3.\n                             t2' \\<lesssim> t3 \\<longrightarrow>\n                             t1 \\<lesssim> t3)", "apply (erule_tac x=\"t2'\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n = Suc (fun_size t2' + fun_size t2); v2 = VFun t2';\n     val_size (VNat 0) + fun_size t2' =\n     val_size (VNat 0) + fun_size t2' \\<longrightarrow>\n     (\\<forall>v1.\n         v1 \\<sqsubseteq> VNat 0 \\<longrightarrow>\n         (\\<forall>v3.\n             VNat 0 \\<sqsubseteq> v3 \\<longrightarrow>\n             v1 \\<sqsubseteq> v3)) \\<and>\n     (\\<forall>t1.\n         t1 \\<lesssim> t2' \\<longrightarrow>\n         (\\<forall>t3.\n             t2' \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3))\\<rbrakk>\n    \\<Longrightarrow> \\<forall>t1.\n                         t1 \\<lesssim> t2' \\<longrightarrow>\n                         (\\<forall>t3.\n                             t2' \\<lesssim> t3 \\<longrightarrow>\n                             t1 \\<lesssim> t3)", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<forall>t1 t3.\n     t1 \\<lesssim> t2' \\<longrightarrow>\n     t2' \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3\n\ngoal (1 subgoal):\n 1. \\<And>x2. v2 = VFun x2 \\<Longrightarrow> v1 \\<sqsubseteq> v3", "from t12 t23 IH"], ["proof (chain)\npicking this:\n  t1 \\<lesssim> t2'\n  t2' \\<lesssim> t3\n  \\<forall>t1 t3.\n     t1 \\<lesssim> t2' \\<longrightarrow>\n     t2' \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3", "have \"t1 \\<lesssim> t3\""], ["proof (prove)\nusing this:\n  t1 \\<lesssim> t2'\n  t2' \\<lesssim> t3\n  \\<forall>t1 t3.\n     t1 \\<lesssim> t2' \\<longrightarrow>\n     t2' \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3\n\ngoal (1 subgoal):\n 1. t1 \\<lesssim> t3", "by auto"], ["proof (state)\nthis:\n  t1 \\<lesssim> t3\n\ngoal (1 subgoal):\n 1. \\<And>x2. v2 = VFun x2 \\<Longrightarrow> v1 \\<sqsubseteq> v3", "from this v1 v3"], ["proof (chain)\npicking this:\n  t1 \\<lesssim> t3\n  v1 = VFun t1\n  v3 = VFun t3", "show ?thesis"], ["proof (prove)\nusing this:\n  t1 \\<lesssim> t3\n  v1 = VFun t1\n  v3 = VFun t3\n\ngoal (1 subgoal):\n 1. v1 \\<sqsubseteq> v3", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  v1 \\<sqsubseteq> v3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v1 \\<sqsubseteq> v3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v1 v3.\n     v1 \\<sqsubseteq> v2 \\<longrightarrow>\n     v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3\n\ngoal (1 subgoal):\n 1. \\<And>v2 t2.\n       n = val_size v2 + fun_size t2 \\<Longrightarrow>\n       \\<forall>t1 t3.\n          t1 \\<lesssim> t2 \\<longrightarrow>\n          t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v2 t2.\n       n = val_size v2 + fun_size t2 \\<Longrightarrow>\n       \\<forall>t1 t3.\n          t1 \\<lesssim> t2 \\<longrightarrow>\n          t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3", "fix v5 t2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v2 t2.\n       n = val_size v2 + fun_size t2 \\<Longrightarrow>\n       \\<forall>t1 t3.\n          t1 \\<lesssim> t2 \\<longrightarrow>\n          t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3", "assume n: \"n = val_size v5 + fun_size t2\""], ["proof (state)\nthis:\n  n = val_size v5 + fun_size t2\n\ngoal (1 subgoal):\n 1. \\<And>v2 t2.\n       n = val_size v2 + fun_size t2 \\<Longrightarrow>\n       \\<forall>t1 t3.\n          t1 \\<lesssim> t2 \\<longrightarrow>\n          t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3", "show \"\\<forall>t1 t3. t1 \\<lesssim> t2 \\<longrightarrow> t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t1 t3.\n       t1 \\<lesssim> t2 \\<longrightarrow>\n       t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t1 t3 v1 v2.\n       \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3;\n        (v1, v2) \\<in> set t1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set t3 \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t1 t3 v1 v2.\n       \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3;\n        (v1, v2) \\<in> set t1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set t3 \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "fix t1 t3 v1 v2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t1 t3 v1 v2.\n       \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3;\n        (v1, v2) \\<in> set t1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set t3 \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "assume t12: \"t1 \\<lesssim> t2\" and t23: \"t2 \\<lesssim> t3\" and v12: \"(v1,v2) \\<in> set t1\""], ["proof (state)\nthis:\n  t1 \\<lesssim> t2\n  t2 \\<lesssim> t3\n  (v1, v2) \\<in> set t1\n\ngoal (1 subgoal):\n 1. \\<And>t1 t3 v1 v2.\n       \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3;\n        (v1, v2) \\<in> set t1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set t3 \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "from v12 t12"], ["proof (chain)\npicking this:\n  (v1, v2) \\<in> set t1\n  t1 \\<lesssim> t2", "obtain v1' v2' where v12p: \"(v1',v2') \\<in> set t2\" and \n          v1_v1p: \"v1 \\<sqsubseteq> v1'\" and v11p: \"v1' \\<sqsubseteq> v1\" and v22p: \"v2 \\<sqsubseteq> v2'\" and v2p_v2: \"v2' \\<sqsubseteq> v2\""], ["proof (prove)\nusing this:\n  (v1, v2) \\<in> set t1\n  t1 \\<lesssim> t2\n\ngoal (1 subgoal):\n 1. (\\<And>v1' v2'.\n        \\<lbrakk>(v1', v2') \\<in> set t2; v1 \\<sqsubseteq> v1';\n         v1' \\<sqsubseteq> v1; v2 \\<sqsubseteq> v2';\n         v2' \\<sqsubseteq> v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  (v1', v2') \\<in> set t2\n  v1 \\<sqsubseteq> v1'\n  v1' \\<sqsubseteq> v1\n  v2 \\<sqsubseteq> v2'\n  v2' \\<sqsubseteq> v2\n\ngoal (1 subgoal):\n 1. \\<And>t1 t3 v1 v2.\n       \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3;\n        (v1, v2) \\<in> set t1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set t3 \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "from v12p t23"], ["proof (chain)\npicking this:\n  (v1', v2') \\<in> set t2\n  t2 \\<lesssim> t3", "obtain v1'' v2'' where v12pp: \"(v1'',v2'') \\<in> set t3\" and\n         v1p_v1pp: \"v1' \\<sqsubseteq> v1''\" and v11pp: \"v1'' \\<sqsubseteq> v1'\" and \n         v22pp: \"v2' \\<sqsubseteq> v2''\" and v2pp_v2p: \"v2'' \\<sqsubseteq> v2'\""], ["proof (prove)\nusing this:\n  (v1', v2') \\<in> set t2\n  t2 \\<lesssim> t3\n\ngoal (1 subgoal):\n 1. (\\<And>v1'' v2''.\n        \\<lbrakk>(v1'', v2'') \\<in> set t3; v1' \\<sqsubseteq> v1'';\n         v1'' \\<sqsubseteq> v1'; v2' \\<sqsubseteq> v2'';\n         v2'' \\<sqsubseteq> v2'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  (v1'', v2'') \\<in> set t3\n  v1' \\<sqsubseteq> v1''\n  v1'' \\<sqsubseteq> v1'\n  v2' \\<sqsubseteq> v2''\n  v2'' \\<sqsubseteq> v2'\n\ngoal (1 subgoal):\n 1. \\<And>t1 t3 v1 v2.\n       \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3;\n        (v1, v2) \\<in> set t1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set t3 \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "from v12p"], ["proof (chain)\npicking this:\n  (v1', v2') \\<in> set t2", "have sv1p: \"val_size v1' < fun_size t2\""], ["proof (prove)\nusing this:\n  (v1', v2') \\<in> set t2\n\ngoal (1 subgoal):\n 1. val_size v1' < fun_size t2", "using val_size_mem_l"], ["proof (prove)\nusing this:\n  (v1', v2') \\<in> set t2\n  (?a, ?b) \\<in> set ?t \\<Longrightarrow> val_size ?a < fun_size ?t\n\ngoal (1 subgoal):\n 1. val_size v1' < fun_size t2", "by blast"], ["proof (state)\nthis:\n  val_size v1' < fun_size t2\n\ngoal (1 subgoal):\n 1. \\<And>t1 t3 v1 v2.\n       \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3;\n        (v1, v2) \\<in> set t1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set t3 \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "from v12 1 v11p v11pp n sv1p"], ["proof (chain)\npicking this:\n  (v1, v2) \\<in> set t1\n  \\<forall>m<n.\n     \\<forall>v2 t2.\n        m = val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n  v1' \\<sqsubseteq> v1\n  v1'' \\<sqsubseteq> v1'\n  n = val_size v5 + fun_size t2\n  val_size v1' < fun_size t2", "have v1pp_v1: \"v1'' \\<sqsubseteq> v1\""], ["proof (prove)\nusing this:\n  (v1, v2) \\<in> set t1\n  \\<forall>m<n.\n     \\<forall>v2 t2.\n        m = val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n  v1' \\<sqsubseteq> v1\n  v1'' \\<sqsubseteq> v1'\n  n = val_size v5 + fun_size t2\n  val_size v1' < fun_size t2\n\ngoal (1 subgoal):\n 1. v1'' \\<sqsubseteq> v1", "apply (erule_tac x=\"val_size v1' + fun_size []\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1' \\<sqsubseteq> v1;\n     v1'' \\<sqsubseteq> v1'; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     val_size v1' + fun_size [] < n \\<longrightarrow>\n     (\\<forall>v2 t2.\n         val_size v1' + fun_size [] =\n         val_size v2 + fun_size t2 \\<longrightarrow>\n         (\\<forall>v1 v3.\n             v1 \\<sqsubseteq> v2 \\<longrightarrow>\n             v2 \\<sqsubseteq> v3 \\<longrightarrow>\n             v1 \\<sqsubseteq> v3) \\<and>\n         (\\<forall>t1 t3.\n             t1 \\<lesssim> t2 \\<longrightarrow>\n             t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3))\\<rbrakk>\n    \\<Longrightarrow> v1'' \\<sqsubseteq> v1", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1' \\<sqsubseteq> v1;\n     v1'' \\<sqsubseteq> v1'; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2\\<rbrakk>\n    \\<Longrightarrow> val_size v1' + fun_size [] < n\n 2. \\<lbrakk>(v1, v2) \\<in> set t1; v1' \\<sqsubseteq> v1;\n     v1'' \\<sqsubseteq> v1'; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     \\<forall>v2 t2.\n        val_size v1' + fun_size [] =\n        val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v1'' \\<sqsubseteq> v1", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1' \\<sqsubseteq> v1;\n     v1'' \\<sqsubseteq> v1'; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     \\<forall>v2 t2.\n        val_size v1' + fun_size [] =\n        val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v1'' \\<sqsubseteq> v1", "apply (erule_tac x=v1' in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1' \\<sqsubseteq> v1;\n     v1'' \\<sqsubseteq> v1'; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     \\<forall>t2.\n        val_size v1' + fun_size [] =\n        val_size v1' + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v1' \\<longrightarrow>\n            v1' \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v1'' \\<sqsubseteq> v1", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1' \\<sqsubseteq> v1;\n     v1'' \\<sqsubseteq> v1'; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     val_size v1' + fun_size [] =\n     val_size v1' + fun_size [] \\<longrightarrow>\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v1' \\<longrightarrow>\n         v1' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> [] \\<longrightarrow>\n         [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v1'' \\<sqsubseteq> v1", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1' \\<sqsubseteq> v1;\n     v1'' \\<sqsubseteq> v1'; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2\\<rbrakk>\n    \\<Longrightarrow> val_size v1' + fun_size [] =\n                      val_size v1' + fun_size []\n 2. \\<lbrakk>(v1, v2) \\<in> set t1; v1' \\<sqsubseteq> v1;\n     v1'' \\<sqsubseteq> v1'; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v1' \\<longrightarrow>\n         v1' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> [] \\<longrightarrow>\n         [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v1'' \\<sqsubseteq> v1", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1' \\<sqsubseteq> v1;\n     v1'' \\<sqsubseteq> v1'; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v1' \\<longrightarrow>\n         v1' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> [] \\<longrightarrow>\n         [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v1'' \\<sqsubseteq> v1", "apply (erule conjE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1' \\<sqsubseteq> v1;\n     v1'' \\<sqsubseteq> v1'; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     \\<forall>v1 v3.\n        v1 \\<sqsubseteq> v1' \\<longrightarrow>\n        v1' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3;\n     \\<forall>t1 t3.\n        t1 \\<lesssim> [] \\<longrightarrow>\n        [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3\\<rbrakk>\n    \\<Longrightarrow> v1'' \\<sqsubseteq> v1", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  v1'' \\<sqsubseteq> v1\n\ngoal (1 subgoal):\n 1. \\<And>t1 t3 v1 v2.\n       \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3;\n        (v1, v2) \\<in> set t1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set t3 \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "from v12p"], ["proof (chain)\npicking this:\n  (v1', v2') \\<in> set t2", "have sv2p: \"val_size v2' < fun_size t2\""], ["proof (prove)\nusing this:\n  (v1', v2') \\<in> set t2\n\ngoal (1 subgoal):\n 1. val_size v2' < fun_size t2", "using val_size_mem_r"], ["proof (prove)\nusing this:\n  (v1', v2') \\<in> set t2\n  (?a, ?b) \\<in> set ?t \\<Longrightarrow> val_size ?b < fun_size ?t\n\ngoal (1 subgoal):\n 1. val_size v2' < fun_size t2", "by blast"], ["proof (state)\nthis:\n  val_size v2' < fun_size t2\n\ngoal (1 subgoal):\n 1. \\<And>t1 t3 v1 v2.\n       \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3;\n        (v1, v2) \\<in> set t1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set t3 \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "from v12 1 v22p v22pp n sv2p"], ["proof (chain)\npicking this:\n  (v1, v2) \\<in> set t1\n  \\<forall>m<n.\n     \\<forall>v2 t2.\n        m = val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n  v2 \\<sqsubseteq> v2'\n  v2' \\<sqsubseteq> v2''\n  n = val_size v5 + fun_size t2\n  val_size v2' < fun_size t2", "have v2_v2pp: \"v2 \\<sqsubseteq> v2''\""], ["proof (prove)\nusing this:\n  (v1, v2) \\<in> set t1\n  \\<forall>m<n.\n     \\<forall>v2 t2.\n        m = val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n  v2 \\<sqsubseteq> v2'\n  v2' \\<sqsubseteq> v2''\n  n = val_size v5 + fun_size t2\n  val_size v2' < fun_size t2\n\ngoal (1 subgoal):\n 1. v2 \\<sqsubseteq> v2''", "apply (erule_tac x=\"val_size v2' + fun_size []\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2 \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2''; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     val_size v2' + fun_size [] < n \\<longrightarrow>\n     (\\<forall>v2 t2.\n         val_size v2' + fun_size [] =\n         val_size v2 + fun_size t2 \\<longrightarrow>\n         (\\<forall>v1 v3.\n             v1 \\<sqsubseteq> v2 \\<longrightarrow>\n             v2 \\<sqsubseteq> v3 \\<longrightarrow>\n             v1 \\<sqsubseteq> v3) \\<and>\n         (\\<forall>t1 t3.\n             t1 \\<lesssim> t2 \\<longrightarrow>\n             t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3))\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2''", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2 \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2''; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2\\<rbrakk>\n    \\<Longrightarrow> val_size v2' + fun_size [] < n\n 2. \\<lbrakk>(v1, v2) \\<in> set t1; v2 \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2''; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     \\<forall>v2 t2.\n        val_size v2' + fun_size [] =\n        val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2''", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2 \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2''; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     \\<forall>v2 t2.\n        val_size v2' + fun_size [] =\n        val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2''", "apply (erule_tac x=v2' in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2 \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2''; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     \\<forall>t2.\n        val_size v2' + fun_size [] =\n        val_size v2' + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2' \\<longrightarrow>\n            v2' \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2''", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2 \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2''; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     val_size v2' + fun_size [] =\n     val_size v2' + fun_size [] \\<longrightarrow>\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v2' \\<longrightarrow>\n         v2' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> [] \\<longrightarrow>\n         [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2''", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2 \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2''; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2\\<rbrakk>\n    \\<Longrightarrow> val_size v2' + fun_size [] =\n                      val_size v2' + fun_size []\n 2. \\<lbrakk>(v1, v2) \\<in> set t1; v2 \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2''; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v2' \\<longrightarrow>\n         v2' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> [] \\<longrightarrow>\n         [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2''", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2 \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2''; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v2' \\<longrightarrow>\n         v2' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> [] \\<longrightarrow>\n         [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2''", "apply (erule conjE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2 \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2''; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     \\<forall>v1 v3.\n        v1 \\<sqsubseteq> v2' \\<longrightarrow>\n        v2' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3;\n     \\<forall>t1 t3.\n        t1 \\<lesssim> [] \\<longrightarrow>\n        [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3\\<rbrakk>\n    \\<Longrightarrow> v2 \\<sqsubseteq> v2''", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  v2 \\<sqsubseteq> v2''\n\ngoal (1 subgoal):\n 1. \\<And>t1 t3 v1 v2.\n       \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3;\n        (v1, v2) \\<in> set t1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set t3 \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "from v12 1 v1_v1p v1p_v1pp n sv1p"], ["proof (chain)\npicking this:\n  (v1, v2) \\<in> set t1\n  \\<forall>m<n.\n     \\<forall>v2 t2.\n        m = val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n  v1 \\<sqsubseteq> v1'\n  v1' \\<sqsubseteq> v1''\n  n = val_size v5 + fun_size t2\n  val_size v1' < fun_size t2", "have v1_v1pp: \"v1 \\<sqsubseteq> v1''\""], ["proof (prove)\nusing this:\n  (v1, v2) \\<in> set t1\n  \\<forall>m<n.\n     \\<forall>v2 t2.\n        m = val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n  v1 \\<sqsubseteq> v1'\n  v1' \\<sqsubseteq> v1''\n  n = val_size v5 + fun_size t2\n  val_size v1' < fun_size t2\n\ngoal (1 subgoal):\n 1. v1 \\<sqsubseteq> v1''", "apply (erule_tac x=\"val_size v1' + fun_size []\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1 \\<sqsubseteq> v1';\n     v1' \\<sqsubseteq> v1''; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     val_size v1' + fun_size [] < n \\<longrightarrow>\n     (\\<forall>v2 t2.\n         val_size v1' + fun_size [] =\n         val_size v2 + fun_size t2 \\<longrightarrow>\n         (\\<forall>v1 v3.\n             v1 \\<sqsubseteq> v2 \\<longrightarrow>\n             v2 \\<sqsubseteq> v3 \\<longrightarrow>\n             v1 \\<sqsubseteq> v3) \\<and>\n         (\\<forall>t1 t3.\n             t1 \\<lesssim> t2 \\<longrightarrow>\n             t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3))\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1''", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1 \\<sqsubseteq> v1';\n     v1' \\<sqsubseteq> v1''; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2\\<rbrakk>\n    \\<Longrightarrow> val_size v1' + fun_size [] < n\n 2. \\<lbrakk>(v1, v2) \\<in> set t1; v1 \\<sqsubseteq> v1';\n     v1' \\<sqsubseteq> v1''; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     \\<forall>v2 t2.\n        val_size v1' + fun_size [] =\n        val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1''", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1 \\<sqsubseteq> v1';\n     v1' \\<sqsubseteq> v1''; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     \\<forall>v2 t2.\n        val_size v1' + fun_size [] =\n        val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1''", "apply (erule_tac x=v1' in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1 \\<sqsubseteq> v1';\n     v1' \\<sqsubseteq> v1''; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     \\<forall>t2.\n        val_size v1' + fun_size [] =\n        val_size v1' + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v1' \\<longrightarrow>\n            v1' \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1''", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1 \\<sqsubseteq> v1';\n     v1' \\<sqsubseteq> v1''; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     val_size v1' + fun_size [] =\n     val_size v1' + fun_size [] \\<longrightarrow>\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v1' \\<longrightarrow>\n         v1' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> [] \\<longrightarrow>\n         [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1''", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1 \\<sqsubseteq> v1';\n     v1' \\<sqsubseteq> v1''; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2\\<rbrakk>\n    \\<Longrightarrow> val_size v1' + fun_size [] =\n                      val_size v1' + fun_size []\n 2. \\<lbrakk>(v1, v2) \\<in> set t1; v1 \\<sqsubseteq> v1';\n     v1' \\<sqsubseteq> v1''; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v1' \\<longrightarrow>\n         v1' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> [] \\<longrightarrow>\n         [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1''", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1 \\<sqsubseteq> v1';\n     v1' \\<sqsubseteq> v1''; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v1' \\<longrightarrow>\n         v1' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> [] \\<longrightarrow>\n         [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1''", "apply (erule conjE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v1 \\<sqsubseteq> v1';\n     v1' \\<sqsubseteq> v1''; n = val_size v5 + fun_size t2;\n     val_size v1' < fun_size t2;\n     \\<forall>v1 v3.\n        v1 \\<sqsubseteq> v1' \\<longrightarrow>\n        v1' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3;\n     \\<forall>t1 t3.\n        t1 \\<lesssim> [] \\<longrightarrow>\n        [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v1''", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  v1 \\<sqsubseteq> v1''\n\ngoal (1 subgoal):\n 1. \\<And>t1 t3 v1 v2.\n       \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3;\n        (v1, v2) \\<in> set t1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set t3 \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "from v12 1 v2pp_v2p v2p_v2 n sv2p"], ["proof (chain)\npicking this:\n  (v1, v2) \\<in> set t1\n  \\<forall>m<n.\n     \\<forall>v2 t2.\n        m = val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n  v2'' \\<sqsubseteq> v2'\n  v2' \\<sqsubseteq> v2\n  n = val_size v5 + fun_size t2\n  val_size v2' < fun_size t2", "have v2pp_v2: \"v2'' \\<sqsubseteq> v2\""], ["proof (prove)\nusing this:\n  (v1, v2) \\<in> set t1\n  \\<forall>m<n.\n     \\<forall>v2 t2.\n        m = val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n  v2'' \\<sqsubseteq> v2'\n  v2' \\<sqsubseteq> v2\n  n = val_size v5 + fun_size t2\n  val_size v2' < fun_size t2\n\ngoal (1 subgoal):\n 1. v2'' \\<sqsubseteq> v2", "apply (erule_tac x=\"val_size v2' + fun_size []\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2'' \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     val_size v2' + fun_size [] < n \\<longrightarrow>\n     (\\<forall>v2 t2.\n         val_size v2' + fun_size [] =\n         val_size v2 + fun_size t2 \\<longrightarrow>\n         (\\<forall>v1 v3.\n             v1 \\<sqsubseteq> v2 \\<longrightarrow>\n             v2 \\<sqsubseteq> v3 \\<longrightarrow>\n             v1 \\<sqsubseteq> v3) \\<and>\n         (\\<forall>t1 t3.\n             t1 \\<lesssim> t2 \\<longrightarrow>\n             t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3))\\<rbrakk>\n    \\<Longrightarrow> v2'' \\<sqsubseteq> v2", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2'' \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2\\<rbrakk>\n    \\<Longrightarrow> val_size v2' + fun_size [] < n\n 2. \\<lbrakk>(v1, v2) \\<in> set t1; v2'' \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     \\<forall>v2 t2.\n        val_size v2' + fun_size [] =\n        val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v2'' \\<sqsubseteq> v2", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2'' \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     \\<forall>v2 t2.\n        val_size v2' + fun_size [] =\n        val_size v2 + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2 \\<longrightarrow>\n            v2 \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v2'' \\<sqsubseteq> v2", "apply (erule_tac x=v2' in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2'' \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     \\<forall>t2.\n        val_size v2' + fun_size [] =\n        val_size v2' + fun_size t2 \\<longrightarrow>\n        (\\<forall>v1 v3.\n            v1 \\<sqsubseteq> v2' \\<longrightarrow>\n            v2' \\<sqsubseteq> v3 \\<longrightarrow>\n            v1 \\<sqsubseteq> v3) \\<and>\n        (\\<forall>t1 t3.\n            t1 \\<lesssim> t2 \\<longrightarrow>\n            t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v2'' \\<sqsubseteq> v2", "apply (erule_tac x=\"[]\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2'' \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     val_size v2' + fun_size [] =\n     val_size v2' + fun_size [] \\<longrightarrow>\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v2' \\<longrightarrow>\n         v2' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> [] \\<longrightarrow>\n         [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v2'' \\<sqsubseteq> v2", "apply (erule impE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2'' \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2\\<rbrakk>\n    \\<Longrightarrow> val_size v2' + fun_size [] =\n                      val_size v2' + fun_size []\n 2. \\<lbrakk>(v1, v2) \\<in> set t1; v2'' \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v2' \\<longrightarrow>\n         v2' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> [] \\<longrightarrow>\n         [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v2'' \\<sqsubseteq> v2", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2'' \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v2' \\<longrightarrow>\n         v2' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> [] \\<longrightarrow>\n         [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\\<rbrakk>\n    \\<Longrightarrow> v2'' \\<sqsubseteq> v2", "apply (erule conjE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(v1, v2) \\<in> set t1; v2'' \\<sqsubseteq> v2';\n     v2' \\<sqsubseteq> v2; n = val_size v5 + fun_size t2;\n     val_size v2' < fun_size t2;\n     \\<forall>v1 v3.\n        v1 \\<sqsubseteq> v2' \\<longrightarrow>\n        v2' \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3;\n     \\<forall>t1 t3.\n        t1 \\<lesssim> [] \\<longrightarrow>\n        [] \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3\\<rbrakk>\n    \\<Longrightarrow> v2'' \\<sqsubseteq> v2", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  v2'' \\<sqsubseteq> v2\n\ngoal (1 subgoal):\n 1. \\<And>t1 t3 v1 v2.\n       \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3;\n        (v1, v2) \\<in> set t1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set t3 \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "from v12pp v1pp_v1 v2_v2pp v1_v1pp v2pp_v2"], ["proof (chain)\npicking this:\n  (v1'', v2'') \\<in> set t3\n  v1'' \\<sqsubseteq> v1\n  v2 \\<sqsubseteq> v2''\n  v1 \\<sqsubseteq> v1''\n  v2'' \\<sqsubseteq> v2", "show \" \\<exists>v3 v4. (v3, v4) \\<in> set t3 \\<and> v1 \\<sqsubseteq> v3 \\<and> v3 \\<sqsubseteq> v1 \\<and> v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2\""], ["proof (prove)\nusing this:\n  (v1'', v2'') \\<in> set t3\n  v1'' \\<sqsubseteq> v1\n  v2 \\<sqsubseteq> v2''\n  v1 \\<sqsubseteq> v1''\n  v2'' \\<sqsubseteq> v2\n\ngoal (1 subgoal):\n 1. \\<exists>v3 v4.\n       (v3, v4) \\<in> set t3 \\<and>\n       v1 \\<sqsubseteq> v3 \\<and>\n       v3 \\<sqsubseteq> v1 \\<and>\n       v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "by blast"], ["proof (state)\nthis:\n  \\<exists>v3 v4.\n     (v3, v4) \\<in> set t3 \\<and>\n     v1 \\<sqsubseteq> v3 \\<and>\n     v3 \\<sqsubseteq> v1 \\<and>\n     v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>t1 t3.\n     t1 \\<lesssim> t2 \\<longrightarrow>\n     t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v2 t2.\n     n = val_size v2 + fun_size t2 \\<longrightarrow>\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v2 \\<longrightarrow>\n         v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> t2 \\<longrightarrow>\n         t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n\ngoal:\nNo subgoals!", "qed"], ["", "proposition val_le_trans: fixes v2::val shows \"\\<lbrakk> v1 \\<sqsubseteq> v2; v2 \\<sqsubseteq> v3 \\<rbrakk> \\<Longrightarrow> v1 \\<sqsubseteq> v3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v2; v2 \\<sqsubseteq> v3\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v3", "using val_le_fun_le_trans"], ["proof (prove)\nusing this:\n  \\<forall>v2 t2.\n     ?n = val_size v2 + fun_size t2 \\<longrightarrow>\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v2 \\<longrightarrow>\n         v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> t2 \\<longrightarrow>\n         t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v2; v2 \\<sqsubseteq> v3\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v3", "by blast"], ["", "lemma fun_le_trans: \"\\<lbrakk> t1 \\<lesssim> t2; t2 \\<lesssim> t3 \\<rbrakk> \\<Longrightarrow> t1 \\<lesssim> t3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3\\<rbrakk>\n    \\<Longrightarrow> t1 \\<lesssim> t3", "using val_le_fun_le_trans"], ["proof (prove)\nusing this:\n  \\<forall>v2 t2.\n     ?n = val_size v2 + fun_size t2 \\<longrightarrow>\n     (\\<forall>v1 v3.\n         v1 \\<sqsubseteq> v2 \\<longrightarrow>\n         v2 \\<sqsubseteq> v3 \\<longrightarrow> v1 \\<sqsubseteq> v3) \\<and>\n     (\\<forall>t1 t3.\n         t1 \\<lesssim> t2 \\<longrightarrow>\n         t2 \\<lesssim> t3 \\<longrightarrow> t1 \\<lesssim> t3)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t3\\<rbrakk>\n    \\<Longrightarrow> t1 \\<lesssim> t3", "by blast"], ["", "lemma val_eq_trans: fixes v1::val and v2::val and v3::val \n  assumes v12: \"v1 \\<sim> v2\" and v23: \"v2 \\<sim> v3\" shows \"v1 \\<sim> v3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v1 \\<sim> v3", "using v12 v23"], ["proof (prove)\nusing this:\n  v1 \\<sim> v2\n  v2 \\<sim> v3\n\ngoal (1 subgoal):\n 1. v1 \\<sim> v3", "apply (simp only: val_eq_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v2 \\<and> v2 \\<sqsubseteq> v1;\n     v2 \\<sqsubseteq> v3 \\<and> v3 \\<sqsubseteq> v2\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v3 \\<and> v3 \\<sqsubseteq> v1", "using val_le_trans"], ["proof (prove)\nusing this:\n  \\<lbrakk>?v1.0 \\<sqsubseteq> ?v2.0; ?v2.0 \\<sqsubseteq> ?v3.0\\<rbrakk>\n  \\<Longrightarrow> ?v1.0 \\<sqsubseteq> ?v3.0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>v1 \\<sqsubseteq> v2 \\<and> v2 \\<sqsubseteq> v1;\n     v2 \\<sqsubseteq> v3 \\<and> v3 \\<sqsubseteq> v2\\<rbrakk>\n    \\<Longrightarrow> v1 \\<sqsubseteq> v3 \\<and> v3 \\<sqsubseteq> v1", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma fun_eq_refl[simp]: fixes t::func shows \"t \\<sim> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<sim> t", "by (simp add: fun_eq_def)"], ["", "lemma fun_eq_trans: fixes t1::func and t2::func and t3::func\n  assumes t12: \"t1 \\<sim> t2\" and t23: \"t2 \\<sim> t3\" shows \"t1 \\<sim> t3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t1 \\<sim> t3", "using t12 t23"], ["proof (prove)\nusing this:\n  t1 \\<sim> t2\n  t2 \\<sim> t3\n\ngoal (1 subgoal):\n 1. t1 \\<sim> t3", "unfolding fun_eq_def"], ["proof (prove)\nusing this:\n  t1 \\<lesssim> t2 \\<and> t2 \\<lesssim> t1\n  t2 \\<lesssim> t3 \\<and> t3 \\<lesssim> t2\n\ngoal (1 subgoal):\n 1. t1 \\<lesssim> t3 \\<and> t3 \\<lesssim> t1", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t1; t2 \\<lesssim> t3;\n     t3 \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> t1 \\<lesssim> t3 \\<and> t3 \\<lesssim> t1", "apply (rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t1; t2 \\<lesssim> t3;\n     t3 \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> t1 \\<lesssim> t3\n 2. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t1; t2 \\<lesssim> t3;\n     t3 \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> t3 \\<lesssim> t1", "apply (rule fun_le_trans)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t1; t2 \\<lesssim> t3;\n     t3 \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> t1 \\<lesssim> ?t2.7\n 2. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t1; t2 \\<lesssim> t3;\n     t3 \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> ?t2.7 \\<lesssim> t3\n 3. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t1; t2 \\<lesssim> t3;\n     t3 \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> t3 \\<lesssim> t1", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t1; t2 \\<lesssim> t3;\n     t3 \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> t2 \\<lesssim> t3\n 2. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t1; t2 \\<lesssim> t3;\n     t3 \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> t3 \\<lesssim> t1", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t1; t2 \\<lesssim> t3;\n     t3 \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> t3 \\<lesssim> t1", "apply (rule fun_le_trans)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t1; t2 \\<lesssim> t3;\n     t3 \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> t3 \\<lesssim> ?t2.10\n 2. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t1; t2 \\<lesssim> t3;\n     t3 \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> ?t2.10 \\<lesssim> t1", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1 \\<lesssim> t2; t2 \\<lesssim> t1; t2 \\<lesssim> t3;\n     t3 \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> t2 \\<lesssim> t1", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma append_fun_le:\n   \"\\<lbrakk> t1' \\<lesssim> t1; t2' \\<lesssim> t2 \\<rbrakk> \\<Longrightarrow> t1' @ t2' \\<lesssim> t1 @ t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1' \\<lesssim> t1; t2' \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> t1' @ t2' \\<lesssim> t1 @ t2", "apply (rule fun_le)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1' \\<lesssim> t1; t2' \\<lesssim> t2\\<rbrakk>\n    \\<Longrightarrow> \\<forall>v1 v2.\n                         (v1, v2) \\<in> set (t1' @ t2') \\<longrightarrow>\n                         (\\<exists>v3 v4.\n                             (v3, v4) \\<in> set (t1 @ t2) \\<and>\n                             v1 \\<sqsubseteq> v3 \\<and>\n                             v3 \\<sqsubseteq> v1 \\<and>\n                             v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2)", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v1 v2.\n       \\<lbrakk>t1' \\<lesssim> t1; t2' \\<lesssim> t2;\n        (v1, v2) \\<in> set (t1' @ t2')\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            (v3, v4) \\<in> set (t1 @ t2) \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v1 v2.\n       \\<lbrakk>t1' \\<lesssim> t1; t2' \\<lesssim> t2;\n        (v1, v2) \\<in> set t1' \\<or> (v1, v2) \\<in> set t2'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            ((v3, v4) \\<in> set t1 \\<or>\n                             (v3, v4) \\<in> set t2) \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "apply (erule fun_le_inv)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>v1 v2.\n       \\<lbrakk>(v1, v2) \\<in> set t1' \\<or> (v1, v2) \\<in> set t2';\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set t1' \\<longrightarrow>\n           (\\<exists>v3 v4.\n               (v3, v4) \\<in> set t1 \\<and>\n               v1 \\<sqsubseteq> v3 \\<and>\n               v3 \\<sqsubseteq> v1 \\<and>\n               v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2);\n        \\<forall>v1 v2.\n           (v1, v2) \\<in> set t2' \\<longrightarrow>\n           (\\<exists>v3 v4.\n               (v3, v4) \\<in> set t2 \\<and>\n               v1 \\<sqsubseteq> v3 \\<and>\n               v3 \\<sqsubseteq> v1 \\<and>\n               v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>v3 v4.\n                            ((v3, v4) \\<in> set t1 \\<or>\n                             (v3, v4) \\<in> set t2) \\<and>\n                            v1 \\<sqsubseteq> v3 \\<and>\n                            v3 \\<sqsubseteq> v1 \\<and>\n                            v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma append_fun_equiv:\n   \"\\<lbrakk> t1' \\<sim> t1; t2' \\<sim> t2 \\<rbrakk> \\<Longrightarrow> t1' @ t2' \\<sim> t1 @ t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1' \\<sim> t1; t2' \\<sim> t2\\<rbrakk>\n    \\<Longrightarrow> t1' @ t2' \\<sim> t1 @ t2", "apply (simp add: val_eq_def fun_eq_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t1' \\<lesssim> t1 \\<and> t1 \\<lesssim> t1';\n     t2' \\<lesssim> t2 \\<and> t2 \\<lesssim> t2'\\<rbrakk>\n    \\<Longrightarrow> t1' @ t2' \\<lesssim> t1 @ t2 \\<and>\n                      t1 @ t2 \\<lesssim> t1' @ t2'", "using append_fun_le"], ["proof (prove)\nusing this:\n  \\<lbrakk>?t1' \\<lesssim> ?t1.0; ?t2' \\<lesssim> ?t2.0\\<rbrakk>\n  \\<Longrightarrow> ?t1' @ ?t2' \\<lesssim> ?t1.0 @ ?t2.0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>t1' \\<lesssim> t1 \\<and> t1 \\<lesssim> t1';\n     t2' \\<lesssim> t2 \\<and> t2 \\<lesssim> t2'\\<rbrakk>\n    \\<Longrightarrow> t1' @ t2' \\<lesssim> t1 @ t2 \\<and>\n                      t1 @ t2 \\<lesssim> t1' @ t2'", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma append_leq_symm: \"t2 @ t1 \\<lesssim> t1 @ t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t2 @ t1 \\<lesssim> t1 @ t2", "apply (rule fun_le)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v1 v2.\n       (v1, v2) \\<in> set (t2 @ t1) \\<longrightarrow>\n       (\\<exists>v3 v4.\n           (v3, v4) \\<in> set (t1 @ t2) \\<and>\n           v1 \\<sqsubseteq> v3 \\<and>\n           v3 \\<sqsubseteq> v1 \\<and>\n           v2 \\<sqsubseteq> v4 \\<and> v4 \\<sqsubseteq> v2)", "apply force"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma append_eq_symm: \"t2 @ t1 \\<sim> t1 @ t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t2 @ t1 \\<sim> t1 @ t2", "unfolding fun_eq_def val_eq_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. t2 @ t1 \\<lesssim> t1 @ t2 \\<and> t1 @ t2 \\<lesssim> t2 @ t1", "apply (rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. t2 @ t1 \\<lesssim> t1 @ t2\n 2. t1 @ t2 \\<lesssim> t2 @ t1", "apply (rule append_leq_symm)"], ["proof (prove)\ngoal (1 subgoal):\n 1. t1 @ t2 \\<lesssim> t2 @ t1", "apply (rule append_leq_symm)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma le_nat_any[simp]: \"VNat n \\<sqsubseteq> v \\<Longrightarrow> v = VNat n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. VNat n \\<sqsubseteq> v \\<Longrightarrow> v = VNat n", "by (cases v) auto"], ["", "lemma le_any_nat[simp]: \"v \\<sqsubseteq> VNat n \\<Longrightarrow> v = VNat n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<sqsubseteq> VNat n \\<Longrightarrow> v = VNat n", "by (cases v) auto"], ["", "lemma le_nat_nat[simp]: \"VNat n \\<sqsubseteq> VNat n' \\<Longrightarrow> n = n'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. VNat n \\<sqsubseteq> VNat n' \\<Longrightarrow> n = n'", "by auto"], ["", "end"]]}