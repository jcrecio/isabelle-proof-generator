{"file_name": "/home/qj213/afp-2021-10-22/thys/Encodability_Process_Calculi/SuccessSensitiveness.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Encodability_Process_Calculi", "problem_names": ["lemma (in encoding_wrt_barbs) enc_weakly_preserves_barbs_and_barb_set:\n  shows \"enc_weakly_preserves_barbs = (\\<forall>Barbs. enc_weakly_preserves_barb_set Barbs)\"", "lemma (in encoding_wrt_barbs) enc_weakly_reflects_barbs_and_barb_set:\n  shows \"enc_weakly_reflects_barbs = (\\<forall>Barbs. enc_weakly_reflects_barb_set Barbs)\"", "lemma (in encoding_wrt_barbs) enc_weakly_respects_barbs_and_barb_set:\n  shows \"enc_weakly_respects_barbs = (\\<forall>Barbs. enc_weakly_respects_barb_set Barbs)\"", "lemma (in encoding_wrt_barbs) enc_preserves_barbs_and_barb_set:\n  shows \"enc_preserves_barbs = (\\<forall>Barbs. enc_preserves_barb_set Barbs)\"", "lemma (in encoding_wrt_barbs) enc_reflects_barbs_and_barb_set:\n  shows \"enc_reflects_barbs = (\\<forall>Barbs. enc_reflects_barb_set Barbs)\"", "lemma (in encoding_wrt_barbs) enc_respects_barbs_and_barb_set:\n  shows \"enc_respects_barbs = (\\<forall>Barbs. enc_respects_barb_set Barbs)\"", "lemma (in encoding_wrt_barbs) enc_weakly_preserves_barb_set_iff_source_target_rel:\n  fixes Barbs :: \"'barbs set\"\n    and TRel  :: \"('procT \\<times> 'procT) set\"\n  shows \"enc_weakly_preserves_barb_set Barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_preserves_barb_set Rel (STCalWB SWB TWB) Barbs)\"", "lemma (in encoding_wrt_barbs) enc_weakly_preserves_barbs_iff_source_target_rel:\n  shows \"enc_weakly_preserves_barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_preserves_barbs Rel (STCalWB SWB TWB))\"", "lemma (in encoding_wrt_barbs) enc_preserves_barb_set_iff_source_target_rel:\n  fixes Barbs :: \"'barbs set\"\n  shows \"enc_preserves_barb_set Barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_preserves_barb_set Rel (STCalWB SWB TWB) Barbs)\"", "lemma (in encoding_wrt_barbs) enc_preserves_barbs_iff_source_target_rel:\n  shows \"enc_preserves_barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_preserves_barbs Rel (STCalWB SWB TWB))\"", "lemma (in encoding_wrt_barbs) enc_weakly_reflects_barb_set_iff_source_target_rel:\n  fixes Barbs :: \"'barbs set\"\n  shows \"enc_weakly_reflects_barb_set Barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_reflects_barb_set Rel (STCalWB SWB TWB) Barbs)\"", "lemma (in encoding_wrt_barbs) enc_weakly_reflects_barbs_iff_source_target_rel:\n  shows \"enc_weakly_reflects_barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_reflects_barbs Rel (STCalWB SWB TWB))\"", "lemma (in encoding_wrt_barbs) enc_reflects_barb_set_iff_source_target_rel:\n  fixes Barbs :: \"'barbs set\"\n  shows \"enc_reflects_barb_set Barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_reflects_barb_set Rel (STCalWB SWB TWB) Barbs)\"", "lemma (in encoding_wrt_barbs) enc_reflects_barbs_iff_source_target_rel:\n  shows \"enc_reflects_barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_reflects_barbs Rel (STCalWB SWB TWB))\"", "lemma (in encoding_wrt_barbs) enc_weakly_respects_barb_set_iff_source_target_rel:\n  fixes Barbs :: \"'barbs set\"\n  shows \"enc_weakly_respects_barb_set Barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) Barbs)\"", "lemma (in encoding_wrt_barbs) enc_weakly_respects_barbs_iff_source_target_rel:\n  shows \"enc_weakly_respects_barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB))\"", "lemma (in encoding_wrt_barbs) enc_respects_barb_set_iff_source_target_rel:\n  fixes Barbs :: \"'barbs set\"\n  shows \"enc_respects_barb_set Barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) Barbs)\"", "lemma (in encoding_wrt_barbs) enc_respects_barbs_iff_source_target_rel:\n  shows \"enc_respects_barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_respects_barbs Rel (STCalWB SWB TWB))\"", "lemma (in encoding_wrt_barbs) success_sensitive_cond:\n  fixes success :: \"'barbs\"\n  shows \"enc_weakly_respects_barb_set {success} = (\\<forall>S. S\\<Down><SWB>success \\<longleftrightarrow> \\<lbrakk>S\\<rbrakk>\\<Down><TWB>success)\"", "lemma (in encoding_wrt_barbs) success_sensitive_iff_source_target_rel_weakly_respects_success:\n  fixes success :: \"'barbs\"\n  shows \"enc_weakly_respects_barb_set {success}\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\"", "lemma (in encoding_wrt_barbs) success_sensitive_iff_source_target_rel_respects_success:\n  fixes success :: \"'barbs\"\n  shows \"enc_respects_barb_set {success}\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success})\""], "translations": [["", "lemma (in encoding_wrt_barbs) enc_weakly_preserves_barbs_and_barb_set:\n  shows \"enc_weakly_preserves_barbs = (\\<forall>Barbs. enc_weakly_preserves_barb_set Barbs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) =\n    (\\<forall>Barbs S x.\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)))", "by blast"], ["", "abbreviation (in encoding_wrt_barbs) enc_weakly_reflects_barb_set :: \"'barbs set \\<Rightarrow> bool\" where\n  \"enc_weakly_reflects_barb_set Barbs \\<equiv> enc_reflects_binary_pred (\\<lambda>P a. a \\<in> Barbs \\<and> P\\<Down>.a)\""], ["", "abbreviation (in encoding_wrt_barbs) enc_weakly_reflects_barbs :: \"bool\" where\n  \"enc_weakly_reflects_barbs \\<equiv> enc_reflects_binary_pred (\\<lambda>P a. P\\<Down>.a)\""], ["", "lemma (in encoding_wrt_barbs) enc_weakly_reflects_barbs_and_barb_set:\n  shows \"enc_weakly_reflects_barbs = (\\<forall>Barbs. enc_weakly_reflects_barb_set Barbs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) =\n    (\\<forall>Barbs S x.\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))", "by blast"], ["", "abbreviation (in encoding_wrt_barbs) enc_weakly_respects_barb_set :: \"'barbs set \\<Rightarrow> bool\" where\n  \"enc_weakly_respects_barb_set Barbs \\<equiv>\n   enc_weakly_preserves_barb_set Barbs \\<and> enc_weakly_reflects_barb_set Barbs\""], ["", "abbreviation (in encoding_wrt_barbs) enc_weakly_respects_barbs :: \"bool\" where\n  \"enc_weakly_respects_barbs \\<equiv> enc_weakly_preserves_barbs \\<and> enc_weakly_reflects_barbs\""], ["", "lemma (in encoding_wrt_barbs) enc_weakly_respects_barbs_and_barb_set:\n  shows \"enc_weakly_respects_barbs = (\\<forall>Barbs. enc_weakly_respects_barb_set Barbs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n    (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T SourceTerm S \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x))) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n    (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T SourceTerm S \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x))) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))))", "have \"(\\<forall>Barbs. enc_weakly_respects_barb_set Barbs)\n        = (\\<forall>Barbs. (\\<forall>S x. x \\<in> Barbs \\<and> S\\<Down><SWB>x \\<longrightarrow> \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x)\n          \\<and> (\\<forall>S x. x \\<in> Barbs \\<and> \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x \\<longrightarrow> S\\<Down><SWB>x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T SourceTerm S \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x))) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n    (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and> S\\<Down><SWB>x \\<longrightarrow>\n            \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x \\<longrightarrow>\n            S\\<Down><SWB>x))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>Barbs.\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n  (\\<forall>Barbs.\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and> S\\<Down><SWB>x \\<longrightarrow>\n          \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x) \\<and>\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x \\<longrightarrow>\n          S\\<Down><SWB>x))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n    (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T SourceTerm S \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x))) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))))", "hence \"(\\<forall>Barbs. enc_weakly_respects_barb_set Barbs)\n        = ((\\<forall>Barbs. enc_weakly_preserves_barb_set Barbs)\n            \\<and> (\\<forall>Barbs. enc_weakly_reflects_barb_set Barbs))\""], ["proof (prove)\nusing this:\n  (\\<forall>Barbs.\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n  (\\<forall>Barbs.\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and> S\\<Down><SWB>x \\<longrightarrow>\n          \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x) \\<and>\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x \\<longrightarrow>\n          S\\<Down><SWB>x))\n\ngoal (1 subgoal):\n 1. (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T SourceTerm S \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x))) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n    ((\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and> S\\<Down><SWB>x \\<longrightarrow>\n            \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x \\<longrightarrow>\n            S\\<Down><SWB>x)) =\n    ((\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and> S\\<Down><SWB>x \\<longrightarrow>\n         \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x) \\<and>\n     (\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and>\n         \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x \\<longrightarrow>\n         S\\<Down><SWB>x))", "by fast"], ["proof (state)\nthis:\n  (\\<forall>Barbs.\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n  ((\\<forall>Barbs S x.\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>Barbs S x.\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n    (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T SourceTerm S \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x))) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))))", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<forall>Barbs.\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n  ((\\<forall>Barbs S x.\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>Barbs S x.\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n    (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T SourceTerm S \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x))) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<Down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n             (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and> S\\<Down><SWB>x \\<longrightarrow>\n            \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x \\<longrightarrow>\n            S\\<Down><SWB>x)) =\n    ((\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and> S\\<Down><SWB>x \\<longrightarrow>\n         \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x) \\<and>\n     (\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and>\n         \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x \\<longrightarrow>\n         S\\<Down><SWB>x)) \\<Longrightarrow>\n    ((\\<forall>S x.\n         S\\<Down><SWB>x \\<longrightarrow>\n         \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x) \\<and>\n     (\\<forall>S x.\n         \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x \\<longrightarrow>\n         S\\<Down><SWB>x)) =\n    ((\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and> S\\<Down><SWB>x \\<longrightarrow>\n         \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x) \\<and>\n     (\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and>\n         \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x \\<longrightarrow>\n         S\\<Down><SWB>x))", "by blast"], ["proof (state)\nthis:\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n  (\\<forall>Barbs.\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>An encoding strongly respects some set of barbs if, for every source term S and all\n        considered barbs a, S has a iff the translation of S has a.\\<close>"], ["", "abbreviation (in encoding_wrt_barbs) enc_preserves_barb_set :: \"'barbs set \\<Rightarrow> bool\" where\n  \"enc_preserves_barb_set Barbs \\<equiv> enc_preserves_binary_pred (\\<lambda>P a. a \\<in> Barbs \\<and> P\\<down>.a)\""], ["", "abbreviation (in encoding_wrt_barbs) enc_preserves_barbs :: \"bool\" where\n  \"enc_preserves_barbs \\<equiv> enc_preserves_binary_pred (\\<lambda>P a. P\\<down>.a)\""], ["", "lemma (in encoding_wrt_barbs) enc_preserves_barbs_and_barb_set:\n  shows \"enc_preserves_barbs = (\\<forall>Barbs. enc_preserves_barb_set Barbs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) =\n    (\\<forall>Barbs S x.\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)))", "by blast"], ["", "abbreviation (in encoding_wrt_barbs) enc_reflects_barb_set :: \"'barbs set \\<Rightarrow> bool\" where\n  \"enc_reflects_barb_set Barbs \\<equiv> enc_reflects_binary_pred (\\<lambda>P a. a \\<in> Barbs \\<and> P\\<down>.a)\""], ["", "abbreviation (in encoding_wrt_barbs) enc_reflects_barbs :: \"bool\" where\n  \"enc_reflects_barbs \\<equiv> enc_reflects_binary_pred (\\<lambda>P a. P\\<down>.a)\""], ["", "lemma (in encoding_wrt_barbs) enc_reflects_barbs_and_barb_set:\n  shows \"enc_reflects_barbs = (\\<forall>Barbs. enc_reflects_barb_set Barbs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) =\n    (\\<forall>Barbs S x.\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))", "by blast"], ["", "abbreviation (in encoding_wrt_barbs) enc_respects_barb_set :: \"'barbs set \\<Rightarrow> bool\" where\n  \"enc_respects_barb_set Barbs \\<equiv> enc_preserves_barb_set Barbs \\<and> enc_reflects_barb_set Barbs\""], ["", "abbreviation (in encoding_wrt_barbs) enc_respects_barbs :: \"bool\" where\n  \"enc_respects_barbs \\<equiv> enc_preserves_barbs \\<and> enc_reflects_barbs\""], ["", "lemma (in encoding_wrt_barbs) enc_respects_barbs_and_barb_set:\n  shows \"enc_respects_barbs = (\\<forall>Barbs. enc_respects_barb_set Barbs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) =\n    (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T SourceTerm S \\<and>\n                 T\\<down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<down><TWB>x))) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) =\n    (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T SourceTerm S \\<and>\n                 T\\<down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<down><TWB>x))) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))))", "have \"(\\<forall>Barbs. enc_respects_barb_set Barbs)\n        = ((\\<forall>Barbs. enc_preserves_barb_set Barbs)\n            \\<and> (\\<forall>Barbs. enc_reflects_barb_set Barbs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T SourceTerm S \\<and>\n                 T\\<down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<down><TWB>x))) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) =\n    ((\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and> S\\<down><SWB>x \\<longrightarrow>\n            \\<lbrakk>S\\<rbrakk>\\<down><TWB>x) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            \\<lbrakk>S\\<rbrakk>\\<down><TWB>x \\<longrightarrow>\n            S\\<down><SWB>x)) =\n    ((\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and> S\\<down><SWB>x \\<longrightarrow>\n         \\<lbrakk>S\\<rbrakk>\\<down><TWB>x) \\<and>\n     (\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and>\n         \\<lbrakk>S\\<rbrakk>\\<down><TWB>x \\<longrightarrow>\n         S\\<down><SWB>x))", "by fast"], ["proof (state)\nthis:\n  (\\<forall>Barbs.\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) =\n  ((\\<forall>Barbs S x.\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>Barbs S x.\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) =\n    (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T SourceTerm S \\<and>\n                 T\\<down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<down><TWB>x))) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))))", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<forall>Barbs.\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) =\n  ((\\<forall>Barbs S x.\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>Barbs S x.\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> Barbs \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) =\n    (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T SourceTerm S \\<and>\n                 T\\<down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<down><TWB>x))) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T.\n                 T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n                 T\\<down><TWB>x)) \\<longrightarrow>\n            x \\<in> Barbs \\<and>\n            ((\\<exists>Sa.\n                 Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n             (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>Barbs.\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and> S\\<down><SWB>x \\<longrightarrow>\n            \\<lbrakk>S\\<rbrakk>\\<down><TWB>x) \\<and>\n        (\\<forall>S x.\n            x \\<in> Barbs \\<and>\n            \\<lbrakk>S\\<rbrakk>\\<down><TWB>x \\<longrightarrow>\n            S\\<down><SWB>x)) =\n    ((\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and> S\\<down><SWB>x \\<longrightarrow>\n         \\<lbrakk>S\\<rbrakk>\\<down><TWB>x) \\<and>\n     (\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and>\n         \\<lbrakk>S\\<rbrakk>\\<down><TWB>x \\<longrightarrow>\n         S\\<down><SWB>x)) \\<Longrightarrow>\n    ((\\<forall>S x.\n         S\\<down><SWB>x \\<longrightarrow>\n         \\<lbrakk>S\\<rbrakk>\\<down><TWB>x) \\<and>\n     (\\<forall>S x.\n         \\<lbrakk>S\\<rbrakk>\\<down><TWB>x \\<longrightarrow>\n         S\\<down><SWB>x)) =\n    ((\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and> S\\<down><SWB>x \\<longrightarrow>\n         \\<lbrakk>S\\<rbrakk>\\<down><TWB>x) \\<and>\n     (\\<forall>Barbs S x.\n         x \\<in> Barbs \\<and>\n         \\<lbrakk>S\\<rbrakk>\\<down><TWB>x \\<longrightarrow>\n         S\\<down><SWB>x))", "by blast"], ["proof (state)\nthis:\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) =\n  (\\<forall>Barbs.\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> Barbs \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>An encoding (weakly) preserves barbs iff\n        (1) there exists a relation, like indRelR, that relates source terms and their literal\n            translations and preserves (reachability/)existence of barbs, or\n        (2) there exists a relation, like indRelL, that relates literal translations and their\n            source terms and reflects (reachability/)existence of barbs.\\<close>"], ["", "lemma (in encoding_wrt_barbs) enc_weakly_preserves_barb_set_iff_source_target_rel:\n  fixes Barbs :: \"'barbs set\"\n    and TRel  :: \"('procT \\<times> 'procT) set\"\n  shows \"enc_weakly_preserves_barb_set Barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_preserves_barb_set Rel (STCalWB SWB TWB) Barbs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_preserves_barb_set Rel (STCalWB SWB TWB) Barbs)", "using enc_preserves_binary_pred_iff_source_target_rel_preserves_binary_pred[where\n             Pred=\"\\<lambda>P a. a \\<in> Barbs \\<and> P\\<Down><STCalWB SWB TWB>a\"] STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      x \\<in> Barbs \\<and>\n      SourceTerm S\\<Down><STCalWB SWB TWB>x \\<longrightarrow>\n      x \\<in> Barbs \\<and>\n      TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_preserves_barb_set Rel (STCalWB SWB TWB) Barbs)\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_preserves_barb_set Rel (STCalWB SWB TWB) Barbs)", "by simp"], ["", "lemma (in encoding_wrt_barbs) enc_weakly_preserves_barbs_iff_source_target_rel:\n  shows \"enc_weakly_preserves_barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_preserves_barbs Rel (STCalWB SWB TWB))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_preserves_barbs Rel (STCalWB SWB TWB))", "using enc_preserves_binary_pred_iff_source_target_rel_preserves_binary_pred[where\n             Pred=\"\\<lambda>P a. P\\<Down><STCalWB SWB TWB>a\"] STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      SourceTerm S\\<Down><STCalWB SWB TWB>x \\<longrightarrow>\n      TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_preserves_barbs Rel (STCalWB SWB TWB))\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_preserves_barbs Rel (STCalWB SWB TWB))", "by simp"], ["", "lemma (in encoding_wrt_barbs) enc_preserves_barb_set_iff_source_target_rel:\n  fixes Barbs :: \"'barbs set\"\n  shows \"enc_preserves_barb_set Barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_preserves_barb_set Rel (STCalWB SWB TWB) Barbs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_preserves_barb_set Rel (STCalWB SWB TWB) Barbs)", "using enc_preserves_binary_pred_iff_source_target_rel_preserves_binary_pred[where\n             Pred=\"\\<lambda>P a. a \\<in> Barbs \\<and> P\\<down><STCalWB SWB TWB>a\"] STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      x \\<in> Barbs \\<and>\n      SourceTerm S\\<down><STCalWB SWB TWB>x \\<longrightarrow>\n      x \\<in> Barbs \\<and>\n      TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_preserves_barb_set Rel (STCalWB SWB TWB) Barbs)\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_preserves_barb_set Rel (STCalWB SWB TWB) Barbs)", "by simp"], ["", "lemma (in encoding_wrt_barbs) enc_preserves_barbs_iff_source_target_rel:\n  shows \"enc_preserves_barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_preserves_barbs Rel (STCalWB SWB TWB))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_preserves_binary_pred Rel\n         (\\<lambda>a. hasBarb a (STCalWB SWB TWB)))", "using enc_preserves_binary_pred_iff_source_target_rel_preserves_binary_pred[where\n             Pred=\"\\<lambda>P a. P\\<down><STCalWB SWB TWB>a\"] STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  enc_preserves_binary_pred (HasBarb (STCalWB SWB TWB)) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_preserves_binary_pred Rel\n       (\\<lambda>a. hasBarb a (STCalWB SWB TWB)))\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_preserves_binary_pred Rel\n         (\\<lambda>a. hasBarb a (STCalWB SWB TWB)))", "by simp"], ["", "text \\<open>An encoding (weakly) reflects barbs iff\n        (1) there exists a relation, like indRelR, that relates source terms and their literal\n            translations and reflects (reachability/)existence of barbs, or\n        (2) there exists a relation, like indRelL, that relates literal translations and their\n            source terms and preserves (reachability/)existence of barbs.\\<close>"], ["", "lemma (in encoding_wrt_barbs) enc_weakly_reflects_barb_set_iff_source_target_rel:\n  fixes Barbs :: \"'barbs set\"\n  shows \"enc_weakly_reflects_barb_set Barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_reflects_barb_set Rel (STCalWB SWB TWB) Barbs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_reflects_barb_set Rel (STCalWB SWB TWB) Barbs)", "using enc_reflects_binary_pred_iff_source_target_rel_reflects_binary_pred[where\n             Pred=\"\\<lambda>P a. a \\<in> Barbs \\<and> P\\<Down><STCalWB SWB TWB>a\"] STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      x \\<in> Barbs \\<and>\n      TargetTerm\n       (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x \\<longrightarrow>\n      x \\<in> Barbs \\<and> SourceTerm S\\<Down><STCalWB SWB TWB>x) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_reflects_barb_set Rel (STCalWB SWB TWB) Barbs)\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_reflects_barb_set Rel (STCalWB SWB TWB) Barbs)", "by simp"], ["", "lemma (in encoding_wrt_barbs) enc_weakly_reflects_barbs_iff_source_target_rel:\n  shows \"enc_weakly_reflects_barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_reflects_barbs Rel (STCalWB SWB TWB))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_reflects_barbs Rel (STCalWB SWB TWB))", "using enc_reflects_binary_pred_iff_source_target_rel_reflects_binary_pred[where\n             Pred=\"\\<lambda>P a. P\\<Down><STCalWB SWB TWB>a\"] STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      TargetTerm\n       (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x \\<longrightarrow>\n      SourceTerm S\\<Down><STCalWB SWB TWB>x) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_reflects_barbs Rel (STCalWB SWB TWB))\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_reflects_barbs Rel (STCalWB SWB TWB))", "by simp"], ["", "lemma (in encoding_wrt_barbs) enc_reflects_barb_set_iff_source_target_rel:\n  fixes Barbs :: \"'barbs set\"\n  shows \"enc_reflects_barb_set Barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_reflects_barb_set Rel (STCalWB SWB TWB) Barbs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_barb_set Rel (STCalWB SWB TWB) Barbs)", "using enc_reflects_binary_pred_iff_source_target_rel_reflects_binary_pred[where\n             Pred=\"\\<lambda>P a. a \\<in> Barbs \\<and> P\\<down><STCalWB SWB TWB>a\"] STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      x \\<in> Barbs \\<and>\n      TargetTerm\n       (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x \\<longrightarrow>\n      x \\<in> Barbs \\<and> SourceTerm S\\<down><STCalWB SWB TWB>x) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_reflects_barb_set Rel (STCalWB SWB TWB) Barbs)\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> Barbs \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_barb_set Rel (STCalWB SWB TWB) Barbs)", "by simp"], ["", "lemma (in encoding_wrt_barbs) enc_reflects_barbs_iff_source_target_rel:\n  shows \"enc_reflects_barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_reflects_barbs Rel (STCalWB SWB TWB))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_binary_pred Rel\n         (\\<lambda>b. hasBarb b (STCalWB SWB TWB)))", "using enc_reflects_binary_pred_iff_source_target_rel_reflects_binary_pred[where\n             Pred=\"\\<lambda>P a. P\\<down><STCalWB SWB TWB>a\"] STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  enc_reflects_binary_pred (HasBarb (STCalWB SWB TWB)) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_reflects_binary_pred Rel\n       (\\<lambda>b. hasBarb b (STCalWB SWB TWB)))\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_binary_pred Rel\n         (\\<lambda>b. hasBarb b (STCalWB SWB TWB)))", "by simp"], ["", "text \\<open>An encoding (weakly) respects barbs iff\n        (1) there exists a relation, like indRelR, that relates source terms and their literal\n            translations and respects (reachability/)existence of barbs, or\n        (2) there exists a relation, like indRelL, that relates literal translations and their\n            source terms and respects (reachability/)existence of barbs, or\n        (3) there exists a relation, like indRel, that relates source terms and their literal\n            translations in both directions and respects (reachability/)existence of barbs.\\<close>"], ["", "lemma (in encoding_wrt_barbs) enc_weakly_respects_barb_set_iff_source_target_rel:\n  fixes Barbs :: \"'barbs set\"\n  shows \"enc_weakly_respects_barb_set Barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) Barbs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) Barbs)", "using enc_respects_binary_pred_iff_source_target_rel_respects_binary_pred_encR[where\n             Pred=\"\\<lambda>P a. a \\<in> Barbs \\<and> P\\<Down><STCalWB SWB TWB>a\"] STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  ((\\<forall>S x.\n       x \\<in> Barbs \\<and>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x \\<longrightarrow>\n       x \\<in> Barbs \\<and>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x) \\<and>\n   (\\<forall>S x.\n       x \\<in> Barbs \\<and>\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x \\<longrightarrow>\n       x \\<in> Barbs \\<and> SourceTerm S\\<Down><STCalWB SWB TWB>x)) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) Barbs)\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) Barbs)", "by simp"], ["", "lemma (in encoding_wrt_barbs) enc_weakly_respects_barbs_iff_source_target_rel:\n  shows \"enc_weakly_respects_barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_respects_barbs Rel (STCalWB SWB TWB))", "using enc_respects_binary_pred_iff_source_target_rel_respects_binary_pred_encR[where\n             Pred=\"\\<lambda>P a. P\\<Down><STCalWB SWB TWB>a\"] STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  ((\\<forall>S x.\n       SourceTerm S\\<Down><STCalWB SWB TWB>x \\<longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x) \\<and>\n   (\\<forall>S x.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x \\<longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x)) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barbs Rel (STCalWB SWB TWB))\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_respects_barbs Rel (STCalWB SWB TWB))", "by simp"], ["", "lemma (in encoding_wrt_barbs) enc_respects_barb_set_iff_source_target_rel:\n  fixes Barbs :: \"'barbs set\"\n  shows \"enc_respects_barb_set Barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) Barbs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) Barbs)", "using enc_respects_binary_pred_iff_source_target_rel_respects_binary_pred_encR[where\n             Pred=\"\\<lambda>P a. a \\<in> Barbs \\<and> P\\<down><STCalWB SWB TWB>a\"] STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  ((\\<forall>S x.\n       x \\<in> Barbs \\<and>\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<longrightarrow>\n       x \\<in> Barbs \\<and>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x) \\<and>\n   (\\<forall>S x.\n       x \\<in> Barbs \\<and>\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x \\<longrightarrow>\n       x \\<in> Barbs \\<and> SourceTerm S\\<down><STCalWB SWB TWB>x)) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_respects_barb_set Rel (STCalWB SWB TWB) Barbs)\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> Barbs \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) Barbs)", "by simp"], ["", "lemma (in encoding_wrt_barbs) enc_respects_barbs_iff_source_target_rel:\n  shows \"enc_respects_barbs\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_respects_barbs Rel (STCalWB SWB TWB))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_binary_pred Rel\n         (\\<lambda>a. hasBarb a (STCalWB SWB TWB)))", "using enc_respects_binary_pred_iff_source_target_rel_respects_binary_pred_encR[where\n             Pred=\"\\<lambda>P a. P\\<down><STCalWB SWB TWB>a\"] STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  enc_respects_binary_pred (HasBarb (STCalWB SWB TWB)) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_respects_binary_pred Rel\n       (\\<lambda>a. hasBarb a (STCalWB SWB TWB)))\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_binary_pred Rel\n         (\\<lambda>a. hasBarb a (STCalWB SWB TWB)))", "by simp"], ["", "text \\<open>Accordingly an encoding is success sensitive iff there exists such a relation between\n        source and target terms that weakly respects the barb success.\\<close>"], ["", "lemma (in encoding_wrt_barbs) success_sensitive_cond:\n  fixes success :: \"'barbs\"\n  shows \"enc_weakly_respects_barb_set {success} = (\\<forall>S. S\\<Down><SWB>success \\<longleftrightarrow> \\<lbrakk>S\\<rbrakk>\\<Down><TWB>success)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n    (\\<forall>S.\n        S\\<Down><SWB>success = \\<lbrakk>S\\<rbrakk>\\<Down><TWB>success)", "by auto"], ["", "lemma (in encoding_wrt_barbs) success_sensitive_iff_source_target_rel_weakly_respects_success:\n  fixes success :: \"'barbs\"\n  shows \"enc_weakly_respects_barb_set {success}\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})", "by (rule enc_weakly_respects_barb_set_iff_source_target_rel[where Barbs=\"{success}\"])+"], ["", "lemma (in encoding_wrt_barbs) success_sensitive_iff_source_target_rel_respects_success:\n  fixes success :: \"'barbs\"\n  shows \"enc_respects_barb_set {success}\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) {success})", "by (rule enc_respects_barb_set_iff_source_target_rel[where Barbs=\"{success}\"])"], ["", "end"]]}