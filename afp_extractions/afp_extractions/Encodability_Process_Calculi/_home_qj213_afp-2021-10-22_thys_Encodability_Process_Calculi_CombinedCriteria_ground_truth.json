{"file_name": "/home/qj213/afp-2021-10-22/thys/Encodability_Process_Calculi/CombinedCriteria.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Encodability_Process_Calculi", "problem_names": ["lemma (in encoding) criterion_iff_source_target_relation_impl_indRelR:\n  fixes Cond :: \"('procS \\<Rightarrow> 'procT) \\<Rightarrow> bool\"\n    and Pred :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set \\<Rightarrow> bool\"\n  assumes \"Cond enc = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> Pred Rel)\"\n  shows \"Cond enc = (\\<exists>Rel'. Pred (indRelR \\<union> Rel'))\"", "lemma (in encoding) combine_conditions_on_pairs_of_relations:\n  fixes RelA RelB   :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set\"\n    and CondA CondB :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) \\<Rightarrow> bool\"\n  assumes \"\\<forall>(P, Q) \\<in> RelA. CondA (P, Q)\"\n      and \"\\<forall>(P, Q) \\<in> RelB. CondB (P, Q)\"\n  shows \"(\\<forall>(P, Q) \\<in> RelA \\<inter> RelB. CondA (P, Q)) \\<and> (\\<forall>(P, Q) \\<in> RelA \\<inter> RelB. CondB (P, Q))\"", "lemma (in encoding) combine_conditions_on_sets_of_relations:\n  fixes Rel RelA :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set\"\n    and Cond     :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set \\<Rightarrow> bool\"\n    and CondA    :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) \\<Rightarrow> bool\"\n  assumes \"\\<forall>(P, Q) \\<in> RelA. CondA (P, Q)\"\n      and \"Cond Rel \\<and> Rel \\<subseteq> RelA\"\n  shows \"Cond Rel \\<and> (\\<forall>(P, Q) \\<in> Rel. CondA (P, Q))\"", "lemma (in encoding) combine_conditions_on_sets_and_pairs_of_relations:\n  fixes Rel RelA RelB :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set\"\n    and Cond          :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set \\<Rightarrow> bool\"\n    and CondA CondB   :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) \\<Rightarrow> bool\"\n  assumes \"\\<forall>(P, Q) \\<in> RelA. CondA (P, Q)\"\n      and \"\\<forall>(P, Q) \\<in> RelB. CondB (P, Q)\"\n      and \"Cond Rel \\<and> Rel \\<subseteq> RelA \\<and> Rel \\<subseteq> RelB\"\n  shows \"Cond Rel \\<and> (\\<forall>(P, Q) \\<in> Rel. CondA (P, Q)) \\<and> (\\<forall>(P, Q) \\<in> Rel. CondB (P, Q))\"", "lemma (in encoding) combine_conditions_on_relations_indRelR:\n  fixes RelA RelB   :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set\"\n    and Cond        :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set \\<Rightarrow> bool\"\n    and CondA CondB :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) \\<Rightarrow> bool\"\n  assumes A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelA\"\n      and A2: \"\\<forall>(P, Q) \\<in> RelA. CondA (P, Q)\"\n      and A3: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelB\"\n      and A4: \"\\<forall>(P, Q) \\<in> RelB. CondB (P, Q)\"\n  shows \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> (\\<forall>(P, Q) \\<in> Rel. CondA (P, Q))\n          \\<and> (\\<forall>(P, Q) \\<in> Rel. CondB (P, Q))\"\n    and \"Cond indRelR \\<Longrightarrow> (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n         \\<and> (\\<forall>(P, Q) \\<in> Rel. CondA (P, Q)) \\<and> (\\<forall>(P, Q) \\<in> Rel. CondB (P, Q)) \\<and> Cond Rel)\"", "lemma (in encoding) indRelR_cond_respects_predA_and_reflects_predB:\n  fixes PredA PredB :: \"('procS, 'procT) Proc \\<Rightarrow> bool\"\n  shows \"((\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> rel_respects_pred Rel PredA)\n          \\<and> (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> rel_reflects_pred Rel PredB))\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> rel_respects_pred Rel PredA\n            \\<and> rel_reflects_pred Rel PredB)\"", "lemma (in encoding_wrt_barbs) WSS_DR_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n  shows \"(enc_weakly_respects_barb_set {success} \\<and> enc_reflects_divergence)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n            \\<and> rel_reflects_divergence Rel (STCal Source Target))\"", "lemma (in encoding_wrt_barbs) SS_DR_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n  shows \"(enc_respects_barb_set {success} \\<and> enc_reflects_divergence)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n            \\<and> rel_reflects_divergence Rel (STCal Source Target))\"", "lemma (in encoding_wrt_barbs) enc_and_TRel_impl_indRelRTPO_weakly_respects_success:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  assumes encRS:  \"enc_weakly_respects_barb_set {success}\"\n      and trelPS: \"rel_weakly_preserves_barb_set TRel TWB {success}\"\n      and trelRS: \"rel_weakly_reflects_barb_set TRel TWB {success}\"\n  shows \"rel_weakly_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\"", "lemma (in encoding_wrt_barbs) enc_and_TRel_impl_indRelRTPO_weakly_respects_barbs:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  assumes encRS:  \"enc_weakly_respects_barbs\"\n      and trelPS: \"rel_weakly_preserves_barbs TRel TWB\"\n      and trelRS: \"rel_weakly_reflects_barbs TRel TWB\"\n  shows \"rel_weakly_respects_barbs (indRelRTPO TRel) (STCalWB SWB TWB)\"", "lemma (in encoding_wrt_barbs) enc_and_TRel_impl_indRelRTPO_respects_success:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  assumes encRS:  \"enc_respects_barb_set {success}\"\n      and trelPS: \"rel_preserves_barb_set TRel TWB {success}\"\n      and trelRS: \"rel_reflects_barb_set TRel TWB {success}\"\n  shows \"rel_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\"", "lemma (in encoding_wrt_barbs) enc_and_TRel_impl_indRelRTPO_respects_barbs:\n  fixes TRel    :: \"('procT \\<times> 'procT) set\"\n  assumes encRS:  \"enc_respects_barbs\"\n      and trelPS: \"rel_preserves_barbs TRel TWB\"\n      and trelRS: \"rel_reflects_barbs TRel TWB\"\n  shows \"rel_respects_barbs (indRelRTPO TRel) (STCalWB SWB TWB)\"", "lemma (in encoding_wrt_barbs) OC_SS_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding (TRel\\<^sup>*)\n          \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\"", "lemma (in encoding_wrt_barbs) OC_SS_RB_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding (TRel\\<^sup>*)\n          \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\n          \\<and> enc_weakly_respects_barbs \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barbs TRel TWB \\<and> rel_weakly_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n            \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\"", "lemma (in encoding_wrt_barbs) OC_SS_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding TRel \\<and> preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\"", "lemma (in encoding_wrt_barbs) OC_SS_RB_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding TRel \\<and> preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n          \\<and> enc_weakly_respects_barbs \\<and> rel_weakly_respects_barbs TRel TWB\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\"", "lemma (in encoding_wrt_barbs) WOC_SS_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(weakly_operational_corresponding TRel \\<and> preorder TRel\n          \\<and> weak_reduction_correspondence_simulation TRel Target\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\"", "lemma (in encoding_wrt_barbs) WOC_SS_RB_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(weakly_operational_corresponding TRel \\<and> preorder TRel\n          \\<and> weak_reduction_correspondence_simulation TRel Target\n          \\<and> enc_weakly_respects_barbs \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barbs TRel TWB \\<and> rel_weakly_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\"", "lemma (in encoding_wrt_barbs) SOC_SS_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_corresponding TRel \\<and> preorder TRel\n          \\<and> strong_reduction_bisimulation TRel Target\n          \\<and> enc_respects_barb_set {success} \\<and> rel_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> strong_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success})\"", "lemma (in encoding_wrt_barbs) SOC_SS_RB_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_corresponding TRel \\<and> preorder TRel\n          \\<and> strong_reduction_bisimulation TRel Target\n          \\<and> enc_respects_barbs \\<and> rel_respects_barbs TRel TWB\n          \\<and> enc_respects_barb_set {success} \\<and> rel_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> strong_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_respects_barbs Rel (STCalWB SWB TWB)\n            \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success})\"", "lemma (in encoding) enc_and_TRelimpl_indRelRTPO_reflect_divergence:\n  fixes TRel    :: \"('procT \\<times> 'procT) set\"\n  assumes encRD:  \"enc_reflects_divergence\"\n      and trelRD: \"rel_reflects_divergence TRel Target\"\n  shows \"rel_reflects_divergence (indRelRTPO TRel) (STCal Source Target)\"", "lemma (in encoding_wrt_barbs) OC_SS_DR_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding (TRel\\<^sup>*)\n          \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success}\n          \\<and> enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n            \\<and> rel_reflects_divergence Rel (STCal Source Target))\"", "lemma (in encoding_wrt_barbs) WOC_SS_DR_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(weakly_operational_corresponding TRel \\<and> preorder TRel\n          \\<and> weak_reduction_correspondence_simulation TRel Target\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success}\n          \\<and> enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n            \\<and> rel_reflects_divergence Rel (STCal Source Target))\"", "lemma (in encoding_wrt_barbs) OC_SS_DR_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding TRel \\<and> preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success}\n          \\<and> enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n            \\<and> rel_reflects_divergence Rel (STCal Source Target))\"", "lemma (in encoding_wrt_barbs) SOC_SS_DR_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_corresponding TRel \\<and> preorder TRel\n          \\<and> strong_reduction_bisimulation TRel Target\n          \\<and> enc_respects_barb_set {success} \\<and> rel_respects_barb_set TRel TWB {success}\n          \\<and> enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> strong_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n            \\<and> rel_reflects_divergence Rel (STCal Source Target))\"", "lemma (in encoding) FS_OC_modulo_equivalences_iff_source_target_relation:\n  fixes SRel :: \"('procS \\<times> 'procS) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes eqS: \"equivalence SRel\"\n      and eqT: \"equivalence TRel\"\n  shows \"fully_abstract SRel TRel\n         \\<and> operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target\n         \\<longleftrightarrow> (\\<exists>Rel.\n         (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n         \\<and> SRel = {(S1, S2). (SourceTerm S1, SourceTerm S2) \\<in> Rel}\n         \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n         \\<and> trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target))\"", "lemma (in encoding) FA_SOC_modulo_equivalences_iff_source_target_relation:\n  fixes SRel :: \"('procS \\<times> 'procS) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes eqS: \"equivalence SRel\"\n      and eqT: \"equivalence TRel\"\n  shows \"fully_abstract SRel TRel \\<and> strongly_operational_corresponding TRel\n         \\<and> strong_reduction_bisimulation TRel Target \\<longleftrightarrow> (\\<exists>Rel.\n         (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n         \\<and> SRel = {(S1, S2). (SourceTerm S1, SourceTerm S2) \\<in> Rel}\n         \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel} \\<and> trans Rel\n         \\<and> strong_reduction_bisimulation Rel (STCal Source Target))\"", "lemma (in encoding) FA_and_OC_and_TRel_impl_SRel_bisimulation:\n  fixes SRel :: \"('procS \\<times> 'procS) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes fullAbs: \"fully_abstract SRel TRel\"\n      and opCom:   \"operational_complete TRel\"\n      and opSou:   \"operational_sound TRel\"\n      and symmT:   \"sym TRel\"\n      and transT:  \"trans TRel\"\n      and bisimT:  \"weak_reduction_bisimulation TRel Target\"\n  shows \"weak_reduction_bisimulation SRel Source\"", "lemma (in encoding) FA_and_SOC_and_TRel_impl_SRel_strong_bisimulation:\n  fixes SRel :: \"('procS \\<times> 'procS) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes fullAbs: \"fully_abstract SRel TRel\"\n      and opCom:   \"strongly_operational_complete TRel\"\n      and opSou:   \"strongly_operational_sound TRel\"\n      and symmT:   \"sym TRel\"\n      and transT:  \"trans TRel\"\n      and bisimT:  \"strong_reduction_bisimulation TRel Target\"\n  shows \"strong_reduction_bisimulation SRel Source\"", "lemma (in encoding) FA_and_OC_impl_SRel_iff_TRel_bisimulation:\n  fixes SRel :: \"('procS \\<times> 'procS) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes fullAbs: \"fully_abstract SRel TRel\"\n      and opCor:   \"operational_corresponding TRel\"\n      and symmT:   \"sym TRel\"\n      and transT:  \"trans TRel\"\n      and surj:    \"\\<forall>T. \\<exists>S. T = \\<lbrakk>S\\<rbrakk>\"\n  shows \"weak_reduction_bisimulation SRel Source \\<longleftrightarrow> weak_reduction_bisimulation TRel Target\""], "translations": [["", "lemma (in encoding) criterion_iff_source_target_relation_impl_indRelR:\n  fixes Cond :: \"('procS \\<Rightarrow> 'procT) \\<Rightarrow> bool\"\n    and Pred :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set \\<Rightarrow> bool\"\n  assumes \"Cond enc = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> Pred Rel)\"\n  shows \"Cond enc = (\\<exists>Rel'. Pred (indRelR \\<union> Rel'))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Cond enc = (\\<exists>Rel'. Pred (indRelR \\<union> Rel'))", "proof (rule iffI)"], ["proof (state)\ngoal (2 subgoals):\n 1. Cond enc \\<Longrightarrow> \\<exists>Rel'. Pred (indRelR \\<union> Rel')\n 2. \\<exists>Rel'. Pred (indRelR \\<union> Rel') \\<Longrightarrow> Cond enc", "assume \"Cond enc\""], ["proof (state)\nthis:\n  Cond enc\n\ngoal (2 subgoals):\n 1. Cond enc \\<Longrightarrow> \\<exists>Rel'. Pred (indRelR \\<union> Rel')\n 2. \\<exists>Rel'. Pred (indRelR \\<union> Rel') \\<Longrightarrow> Cond enc", "with assms"], ["proof (chain)\npicking this:\n  Cond enc =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      Pred Rel)\n  Cond enc", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\" and A2: \"Pred Rel\""], ["proof (prove)\nusing this:\n  Cond enc =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      Pred Rel)\n  Cond enc\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        Pred Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  Pred Rel\n\ngoal (2 subgoals):\n 1. Cond enc \\<Longrightarrow> \\<exists>Rel'. Pred (indRelR \\<union> Rel')\n 2. \\<exists>Rel'. Pred (indRelR \\<union> Rel') \\<Longrightarrow> Cond enc", "from A1"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "have \"Rel = indRelR \\<union> (Rel - indRelR)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. Rel = indRelR \\<union> (Rel - indRelR)", "by (auto simp add: indRelR.simps)"], ["proof (state)\nthis:\n  Rel = indRelR \\<union> (Rel - indRelR)\n\ngoal (2 subgoals):\n 1. Cond enc \\<Longrightarrow> \\<exists>Rel'. Pred (indRelR \\<union> Rel')\n 2. \\<exists>Rel'. Pred (indRelR \\<union> Rel') \\<Longrightarrow> Cond enc", "with A2"], ["proof (chain)\npicking this:\n  Pred Rel\n  Rel = indRelR \\<union> (Rel - indRelR)", "have \"Pred (indRelR \\<union> (Rel - indRelR))\""], ["proof (prove)\nusing this:\n  Pred Rel\n  Rel = indRelR \\<union> (Rel - indRelR)\n\ngoal (1 subgoal):\n 1. Pred (indRelR \\<union> (Rel - indRelR))", "by simp"], ["proof (state)\nthis:\n  Pred (indRelR \\<union> (Rel - indRelR))\n\ngoal (2 subgoals):\n 1. Cond enc \\<Longrightarrow> \\<exists>Rel'. Pred (indRelR \\<union> Rel')\n 2. \\<exists>Rel'. Pred (indRelR \\<union> Rel') \\<Longrightarrow> Cond enc", "thus \"\\<exists>Rel'. Pred (indRelR \\<union> Rel')\""], ["proof (prove)\nusing this:\n  Pred (indRelR \\<union> (Rel - indRelR))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel'. Pred (indRelR \\<union> Rel')", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel'. Pred (indRelR \\<union> Rel')\n\ngoal (1 subgoal):\n 1. \\<exists>Rel'. Pred (indRelR \\<union> Rel') \\<Longrightarrow> Cond enc", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel'. Pred (indRelR \\<union> Rel') \\<Longrightarrow> Cond enc", "assume \"\\<exists>Rel'. Pred (indRelR \\<union> Rel')\""], ["proof (state)\nthis:\n  \\<exists>Rel'. Pred (indRelR \\<union> Rel')\n\ngoal (1 subgoal):\n 1. \\<exists>Rel'. Pred (indRelR \\<union> Rel') \\<Longrightarrow> Cond enc", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel'. Pred (indRelR \\<union> Rel')", "obtain Rel' where \"Pred (indRelR \\<union> Rel')\""], ["proof (prove)\nusing this:\n  \\<exists>Rel'. Pred (indRelR \\<union> Rel')\n\ngoal (1 subgoal):\n 1. (\\<And>Rel'.\n        Pred (indRelR \\<union> Rel') \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Pred (indRelR \\<union> Rel')\n\ngoal (1 subgoal):\n 1. \\<exists>Rel'. Pred (indRelR \\<union> Rel') \\<Longrightarrow> Cond enc", "moreover"], ["proof (state)\nthis:\n  Pred (indRelR \\<union> Rel')\n\ngoal (1 subgoal):\n 1. \\<exists>Rel'. Pred (indRelR \\<union> Rel') \\<Longrightarrow> Cond enc", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> (indRelR \\<union> Rel')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n       \\<in> indRelR \\<union> Rel'", "by (simp add: indRelR.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n     \\<in> indRelR \\<union> Rel'\n\ngoal (1 subgoal):\n 1. \\<exists>Rel'. Pred (indRelR \\<union> Rel') \\<Longrightarrow> Cond enc", "ultimately"], ["proof (chain)\npicking this:\n  Pred (indRelR \\<union> Rel')\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n     \\<in> indRelR \\<union> Rel'", "show \"Cond enc\""], ["proof (prove)\nusing this:\n  Pred (indRelR \\<union> Rel')\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n     \\<in> indRelR \\<union> Rel'\n\ngoal (1 subgoal):\n 1. Cond enc", "using assms"], ["proof (prove)\nusing this:\n  Pred (indRelR \\<union> Rel')\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n     \\<in> indRelR \\<union> Rel'\n  Cond enc =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      Pred Rel)\n\ngoal (1 subgoal):\n 1. Cond enc", "by blast"], ["proof (state)\nthis:\n  Cond enc\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) combine_conditions_on_pairs_of_relations:\n  fixes RelA RelB   :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set\"\n    and CondA CondB :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) \\<Rightarrow> bool\"\n  assumes \"\\<forall>(P, Q) \\<in> RelA. CondA (P, Q)\"\n      and \"\\<forall>(P, Q) \\<in> RelB. CondB (P, Q)\"\n  shows \"(\\<forall>(P, Q) \\<in> RelA \\<inter> RelB. CondA (P, Q)) \\<and> (\\<forall>(P, Q) \\<in> RelA \\<inter> RelB. CondB (P, Q))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>(P, Q)\\<in>RelA \\<inter> RelB. CondA (P, Q)) \\<and>\n    (\\<forall>(P, Q)\\<in>RelA \\<inter> RelB. CondB (P, Q))", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>(P, Q)\\<in>RelA. CondA (P, Q)\n  \\<forall>(P, Q)\\<in>RelB. CondB (P, Q)\n\ngoal (1 subgoal):\n 1. (\\<forall>(P, Q)\\<in>RelA \\<inter> RelB. CondA (P, Q)) \\<and>\n    (\\<forall>(P, Q)\\<in>RelA \\<inter> RelB. CondB (P, Q))", "by blast"], ["", "lemma (in encoding) combine_conditions_on_sets_of_relations:\n  fixes Rel RelA :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set\"\n    and Cond     :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set \\<Rightarrow> bool\"\n    and CondA    :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) \\<Rightarrow> bool\"\n  assumes \"\\<forall>(P, Q) \\<in> RelA. CondA (P, Q)\"\n      and \"Cond Rel \\<and> Rel \\<subseteq> RelA\"\n  shows \"Cond Rel \\<and> (\\<forall>(P, Q) \\<in> Rel. CondA (P, Q))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Cond Rel \\<and> (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q))", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>(P, Q)\\<in>RelA. CondA (P, Q)\n  Cond Rel \\<and> Rel \\<subseteq> RelA\n\ngoal (1 subgoal):\n 1. Cond Rel \\<and> (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q))", "by blast"], ["", "lemma (in encoding) combine_conditions_on_sets_and_pairs_of_relations:\n  fixes Rel RelA RelB :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set\"\n    and Cond          :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set \\<Rightarrow> bool\"\n    and CondA CondB   :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) \\<Rightarrow> bool\"\n  assumes \"\\<forall>(P, Q) \\<in> RelA. CondA (P, Q)\"\n      and \"\\<forall>(P, Q) \\<in> RelB. CondB (P, Q)\"\n      and \"Cond Rel \\<and> Rel \\<subseteq> RelA \\<and> Rel \\<subseteq> RelB\"\n  shows \"Cond Rel \\<and> (\\<forall>(P, Q) \\<in> Rel. CondA (P, Q)) \\<and> (\\<forall>(P, Q) \\<in> Rel. CondB (P, Q))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Cond Rel \\<and>\n    (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n    (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q))", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>(P, Q)\\<in>RelA. CondA (P, Q)\n  \\<forall>(P, Q)\\<in>RelB. CondB (P, Q)\n  Cond Rel \\<and> Rel \\<subseteq> RelA \\<and> Rel \\<subseteq> RelB\n\ngoal (1 subgoal):\n 1. Cond Rel \\<and>\n    (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n    (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q))", "by blast"], ["", "text \\<open>We mapped several criteria on conditions on relations that relate at least all source terms\n        and their literal translations. The following lemmata help us to combine such conditions by\n        switching to the witness indRelR.\\<close>"], ["", "lemma (in encoding) combine_conditions_on_relations_indRelR:\n  fixes RelA RelB   :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set\"\n    and Cond        :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) set \\<Rightarrow> bool\"\n    and CondA CondB :: \"(('procS, 'procT) Proc \\<times>('procS, 'procT) Proc) \\<Rightarrow> bool\"\n  assumes A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelA\"\n      and A2: \"\\<forall>(P, Q) \\<in> RelA. CondA (P, Q)\"\n      and A3: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelB\"\n      and A4: \"\\<forall>(P, Q) \\<in> RelB. CondB (P, Q)\"\n  shows \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> (\\<forall>(P, Q) \\<in> Rel. CondA (P, Q))\n          \\<and> (\\<forall>(P, Q) \\<in> Rel. CondB (P, Q))\"\n    and \"Cond indRelR \\<Longrightarrow> (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n         \\<and> (\\<forall>(P, Q) \\<in> Rel. CondA (P, Q)) \\<and> (\\<forall>(P, Q) \\<in> Rel. CondB (P, Q)) \\<and> Cond Rel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q)) &&&\n    (Cond indRelR \\<Longrightarrow>\n     \\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n        (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q)) \\<and> Cond Rel)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q))\n 2. Cond indRelR \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q)) \\<and> Cond Rel", "have A5: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> indRelR\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelR.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q))\n 2. Cond indRelR \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q)) \\<and> Cond Rel", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q))\n 2. Cond indRelR \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q)) \\<and> Cond Rel", "have A6: \"indRelR \\<subseteq> RelA\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indRelR \\<subseteq> RelA", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R b \\<Longrightarrow>\n       (a, b) \\<in> RelA", "fix P Q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R b \\<Longrightarrow>\n       (a, b) \\<in> RelA", "assume \"(P, Q) \\<in> indRelR\""], ["proof (state)\nthis:\n  P \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R Q\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R b \\<Longrightarrow>\n       (a, b) \\<in> RelA", "from this A1"], ["proof (chain)\npicking this:\n  P \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R Q\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelA", "show \"(P, Q) \\<in> RelA\""], ["proof (prove)\nusing this:\n  P \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R Q\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelA\n\ngoal (1 subgoal):\n 1. (P, Q) \\<in> RelA", "by (induct, simp)"], ["proof (state)\nthis:\n  (P, Q) \\<in> RelA\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  indRelR \\<subseteq> RelA\n\ngoal (2 subgoals):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q))\n 2. Cond indRelR \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q)) \\<and> Cond Rel", "moreover"], ["proof (state)\nthis:\n  indRelR \\<subseteq> RelA\n\ngoal (2 subgoals):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q))\n 2. Cond indRelR \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q)) \\<and> Cond Rel", "have A7: \"indRelR \\<subseteq> RelB\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indRelR \\<subseteq> RelB", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R b \\<Longrightarrow>\n       (a, b) \\<in> RelB", "fix P Q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R b \\<Longrightarrow>\n       (a, b) \\<in> RelB", "assume \"(P, Q) \\<in> indRelR\""], ["proof (state)\nthis:\n  P \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R Q\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R b \\<Longrightarrow>\n       (a, b) \\<in> RelB", "from this A3"], ["proof (chain)\npicking this:\n  P \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R Q\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelB", "show \"(P, Q) \\<in> RelB\""], ["proof (prove)\nusing this:\n  P \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R Q\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelB\n\ngoal (1 subgoal):\n 1. (P, Q) \\<in> RelB", "by (induct, simp)"], ["proof (state)\nthis:\n  (P, Q) \\<in> RelB\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  indRelR \\<subseteq> RelB\n\ngoal (2 subgoals):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q))\n 2. Cond indRelR \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q)) \\<and> Cond Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  indRelR \\<subseteq> RelA\n  indRelR \\<subseteq> RelB", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> (\\<forall>(P, Q) \\<in> Rel. CondA (P, Q)) \\<and> (\\<forall>(P, Q) \\<in> Rel. CondB (P, Q))\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  indRelR \\<subseteq> RelA\n  indRelR \\<subseteq> RelB\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q))", "using combine_conditions_on_sets_and_pairs_of_relations[where RelA=\"RelA\" and RelB=\"RelB\"\n            and CondA=\"CondA\" and CondB=\"CondB\" and Rel=\"indRelR\"\n            and Cond=\"\\<lambda>R. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> R\"] A2 A4"], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  indRelR \\<subseteq> RelA\n  indRelR \\<subseteq> RelB\n  (\\<forall>(P, Q)\\<in>RelA. CondA (P, Q)) \\<and>\n  (\\<forall>(P, Q)\\<in>RelB. CondB (P, Q)) \\<and>\n  (\\<forall>S.\n      SourceTerm\n       S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm\n   (\\<lbrakk>S\\<rbrakk>)) \\<and>\n  indRelR \\<subseteq> RelA \\<and> indRelR \\<subseteq> RelB \\<Longrightarrow>\n  (\\<forall>S.\n      SourceTerm\n       S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm\n   (\\<lbrakk>S\\<rbrakk>)) \\<and>\n  (\\<forall>(P, Q)\\<in>indRelR. CondA (P, Q)) \\<and>\n  (\\<forall>(P, Q)\\<in>indRelR. CondB (P, Q))\n  \\<forall>(P, Q)\\<in>RelA. CondA (P, Q)\n  \\<forall>(P, Q)\\<in>RelB. CondB (P, Q)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n     (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q))\n\ngoal (1 subgoal):\n 1. Cond indRelR \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q)) \\<and> Cond Rel", "from A2 A4 A5 A6 A7"], ["proof (chain)\npicking this:\n  \\<forall>(P, Q)\\<in>RelA. CondA (P, Q)\n  \\<forall>(P, Q)\\<in>RelB. CondB (P, Q)\n  \\<forall>S.\n     SourceTerm\n      S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  indRelR \\<subseteq> RelA\n  indRelR \\<subseteq> RelB", "show \"Cond indRelR \\<Longrightarrow> (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> (\\<forall>(P, Q) \\<in> Rel. CondA (P, Q)) \\<and> (\\<forall>(P, Q) \\<in> Rel. CondB (P, Q)) \\<and> Cond Rel)\""], ["proof (prove)\nusing this:\n  \\<forall>(P, Q)\\<in>RelA. CondA (P, Q)\n  \\<forall>(P, Q)\\<in>RelB. CondB (P, Q)\n  \\<forall>S.\n     SourceTerm\n      S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  indRelR \\<subseteq> RelA\n  indRelR \\<subseteq> RelB\n\ngoal (1 subgoal):\n 1. Cond indRelR \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q)) \\<and> Cond Rel", "using combine_conditions_on_sets_and_pairs_of_relations[where RelA=\"RelA\" and RelB=\"RelB\"\n            and CondA=\"CondA\" and CondB=\"CondB\" and Rel=\"indRelR\"\n            and Cond=\"\\<lambda>R. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> R \\<and> Cond R\"]"], ["proof (prove)\nusing this:\n  \\<forall>(P, Q)\\<in>RelA. CondA (P, Q)\n  \\<forall>(P, Q)\\<in>RelB. CondB (P, Q)\n  \\<forall>S.\n     SourceTerm\n      S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  indRelR \\<subseteq> RelA\n  indRelR \\<subseteq> RelB\n  (\\<forall>(P, Q)\\<in>RelA. CondA (P, Q)) \\<and>\n  (\\<forall>(P, Q)\\<in>RelB. CondB (P, Q)) \\<and>\n  (\\<forall>S.\n      SourceTerm\n       S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<and>\n      Cond indRelR) \\<and>\n  indRelR \\<subseteq> RelA \\<and> indRelR \\<subseteq> RelB \\<Longrightarrow>\n  (\\<forall>S.\n      SourceTerm\n       S \\<R>\\<lbrakk>\\<cdot>\\<rbrakk>R TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<and>\n      Cond indRelR) \\<and>\n  (\\<forall>(P, Q)\\<in>indRelR. CondA (P, Q)) \\<and>\n  (\\<forall>(P, Q)\\<in>indRelR. CondB (P, Q))\n\ngoal (1 subgoal):\n 1. Cond indRelR \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q)) \\<and> Cond Rel", "by blast"], ["proof (state)\nthis:\n  Cond indRelR \\<Longrightarrow>\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>(P, Q)\\<in>Rel. CondA (P, Q)) \\<and>\n     (\\<forall>(P, Q)\\<in>Rel. CondB (P, Q)) \\<and> Cond Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) indRelR_cond_respects_predA_and_reflects_predB:\n  fixes PredA PredB :: \"('procS, 'procT) Proc \\<Rightarrow> bool\"\n  shows \"((\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> rel_respects_pred Rel PredA)\n          \\<and> (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> rel_reflects_pred Rel PredB))\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> rel_respects_pred Rel PredA\n            \\<and> rel_reflects_pred Rel PredB)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<exists>Rel.\n         (\\<forall>S.\n             (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n             \\<in> Rel) \\<and>\n         rel_respects_pred Rel PredA) \\<and>\n     (\\<exists>Rel.\n         (\\<forall>S.\n             (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n             \\<in> Rel) \\<and>\n         rel_reflects_pred Rel PredB)) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB)", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and>\n       rel_reflects_pred Rel PredB \\<Longrightarrow>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> rel_respects_pred Rel PredA\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_pred Rel PredA\n\ngoal (2 subgoals):\n 1. (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and>\n       rel_reflects_pred Rel PredB \\<Longrightarrow>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_pred Rel PredA", "obtain RelA where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelA\"\n                          and A2: \"rel_respects_pred RelA PredA\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_pred Rel PredA\n\ngoal (1 subgoal):\n 1. (\\<And>RelA.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> RelA) \\<and>\n        rel_respects_pred RelA PredA \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelA\n  rel_respects_pred RelA PredA\n\ngoal (2 subgoals):\n 1. (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and>\n       rel_reflects_pred Rel PredB \\<Longrightarrow>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> rel_reflects_pred Rel PredB\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_reflects_pred Rel PredB\n\ngoal (2 subgoals):\n 1. (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and>\n       rel_reflects_pred Rel PredB \\<Longrightarrow>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_reflects_pred Rel PredB", "obtain RelB where A3: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelB\"\n                          and A4: \"rel_reflects_pred RelB PredB\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_reflects_pred Rel PredB\n\ngoal (1 subgoal):\n 1. (\\<And>RelB.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> RelB) \\<and>\n        rel_reflects_pred RelB PredB \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelB\n  rel_reflects_pred RelB PredB\n\ngoal (2 subgoals):\n 1. (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and>\n       rel_reflects_pred Rel PredB \\<Longrightarrow>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "from A2"], ["proof (chain)\npicking this:\n  rel_respects_pred RelA PredA", "have \"\\<forall>(P, Q) \\<in> RelA. PredA P \\<longleftrightarrow> PredA Q\""], ["proof (prove)\nusing this:\n  rel_respects_pred RelA PredA\n\ngoal (1 subgoal):\n 1. \\<forall>(P, Q)\\<in>RelA. PredA P = PredA Q", "by blast"], ["proof (state)\nthis:\n  \\<forall>(P, Q)\\<in>RelA. PredA P = PredA Q\n\ngoal (2 subgoals):\n 1. (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and>\n       rel_reflects_pred Rel PredB \\<Longrightarrow>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "moreover"], ["proof (state)\nthis:\n  \\<forall>(P, Q)\\<in>RelA. PredA P = PredA Q\n\ngoal (2 subgoals):\n 1. (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and>\n       rel_reflects_pred Rel PredB \\<Longrightarrow>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "from A4"], ["proof (chain)\npicking this:\n  rel_reflects_pred RelB PredB", "have \"\\<forall>(P, Q) \\<in> RelB. PredB Q \\<longrightarrow> PredB P\""], ["proof (prove)\nusing this:\n  rel_reflects_pred RelB PredB\n\ngoal (1 subgoal):\n 1. \\<forall>(P, Q)\\<in>RelB. PredB Q \\<longrightarrow> PredB P", "by blast"], ["proof (state)\nthis:\n  \\<forall>(P, Q)\\<in>RelB. PredB Q \\<longrightarrow> PredB P\n\ngoal (2 subgoals):\n 1. (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and>\n       rel_reflects_pred Rel PredB \\<Longrightarrow>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>(P, Q)\\<in>RelA. PredA P = PredA Q\n  \\<forall>(P, Q)\\<in>RelB. PredB Q \\<longrightarrow> PredB P", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> (\\<forall>(P, Q)\\<in>Rel. PredA P = PredA Q) \\<and> (\\<forall>(P, Q)\\<in>Rel. PredB Q \\<longrightarrow> PredB P)\""], ["proof (prove)\nusing this:\n  \\<forall>(P, Q)\\<in>RelA. PredA P = PredA Q\n  \\<forall>(P, Q)\\<in>RelB. PredB Q \\<longrightarrow> PredB P\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. PredA P = PredA Q) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. PredB Q \\<longrightarrow> PredB P)", "using combine_conditions_on_relations_indRelR(1)[where RelA=\"RelA\" and RelB=\"RelB\" and\n            CondA=\"\\<lambda>(P, Q). PredA P \\<longleftrightarrow> PredA Q\" and CondB=\"\\<lambda>(P, Q). PredB Q \\<longrightarrow> PredB P\"] A1 A3"], ["proof (prove)\nusing this:\n  \\<forall>(P, Q)\\<in>RelA. PredA P = PredA Q\n  \\<forall>(P, Q)\\<in>RelB. PredB Q \\<longrightarrow> PredB P\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelA) \\<and>\n  (\\<forall>(P, Q)\\<in>RelA.\n      case (P, Q) of (P, Q) \\<Rightarrow> PredA P = PredA Q) \\<and>\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelB) \\<and>\n  (\\<forall>(P, Q)\\<in>RelB.\n      case (P, Q) of\n      (P, Q) \\<Rightarrow>\n        PredB Q \\<longrightarrow> PredB P) \\<Longrightarrow>\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>(P, Q)\\<in>Rel.\n         case (P, Q) of (P, Q) \\<Rightarrow> PredA P = PredA Q) \\<and>\n     (\\<forall>(P, Q)\\<in>Rel.\n         case (P, Q) of\n         (P, Q) \\<Rightarrow> PredB Q \\<longrightarrow> PredB P)\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelA\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> RelB\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. PredA P = PredA Q) \\<and>\n       (\\<forall>(P, Q)\\<in>Rel. PredB Q \\<longrightarrow> PredB P)", "by simp"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>(P, Q)\\<in>Rel. PredA P = PredA Q) \\<and>\n     (\\<forall>(P, Q)\\<in>Rel. PredB Q \\<longrightarrow> PredB P)\n\ngoal (2 subgoals):\n 1. (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and>\n       rel_reflects_pred Rel PredB \\<Longrightarrow>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "thus \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> rel_respects_pred Rel PredA\n        \\<and> rel_reflects_pred Rel PredB\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>(P, Q)\\<in>Rel. PredA P = PredA Q) \\<and>\n     (\\<forall>(P, Q)\\<in>Rel. PredB Q \\<longrightarrow> PredB P)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and>\n       rel_reflects_pred Rel PredB \\<Longrightarrow>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and>\n       rel_reflects_pred Rel PredB \\<Longrightarrow>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> rel_respects_pred Rel PredA\n          \\<and> rel_reflects_pred Rel PredB\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel PredA \\<and>\n       rel_reflects_pred Rel PredB \\<Longrightarrow>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "thus \"(\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> rel_respects_pred Rel PredA) \\<and>\n        (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and> rel_reflects_pred Rel PredB)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_pred Rel PredA \\<and> rel_reflects_pred Rel PredB\n\ngoal (1 subgoal):\n 1. (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_pred Rel PredA) \\<and>\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_reflects_pred Rel PredB)", "by blast"], ["proof (state)\nthis:\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_respects_pred Rel PredA) \\<and>\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_reflects_pred Rel PredB)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Divergence Reflection and Success Sensitiveness\\<close>"], ["", "text \\<open>We combine results on divergence reflection and success sensitiveness to analyse their\n        combined effect on an encoding function. An encoding is success sensitive and reflects\n        divergence iff there exists a relation that relates source terms and their literal\n        translations that reflects divergence and respects success.\\<close>"], ["", "lemma (in encoding_wrt_barbs) WSS_DR_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n  shows \"(enc_weakly_respects_barb_set {success} \\<and> enc_reflects_divergence)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n            \\<and> rel_reflects_divergence Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "have \"\\<forall>Rel. rel_reflects_divergence Rel (STCal Source Target)\n        = rel_reflects_pred Rel divergentST\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Rel.\n       rel_reflects_divergence Rel (STCal Source Target) =\n       rel_reflects_pred Rel divergentST", "by (simp add: divergentST_STCal_divergent)"], ["proof (state)\nthis:\n  \\<forall>Rel.\n     rel_reflects_divergence Rel (STCal Source Target) =\n     rel_reflects_pred Rel divergentST\n\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "moreover"], ["proof (state)\nthis:\n  \\<forall>Rel.\n     rel_reflects_divergence Rel (STCal Source Target) =\n     rel_reflects_pred Rel divergentST\n\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "have \"\\<forall>Rel. (rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n                 = rel_respects_pred Rel (\\<lambda>P. P\\<Down>.success))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Rel.\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} =\n       rel_respects_pred Rel\n        (\\<lambda>a.\n            (\\<exists>S. S \\<in>S a \\<and> S\\<Down><SWB>success) \\<or>\n            (\\<exists>T. T \\<in>T a \\<and> T\\<Down><TWB>success))", "by (simp add: STCalWB_reachesBarbST)"], ["proof (state)\nthis:\n  \\<forall>Rel.\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} =\n     rel_respects_pred Rel\n      (\\<lambda>a.\n          (\\<exists>S. S \\<in>S a \\<and> S\\<Down><SWB>success) \\<or>\n          (\\<exists>T. T \\<in>T a \\<and> T\\<Down><TWB>success))\n\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>Rel.\n     rel_reflects_divergence Rel (STCal Source Target) =\n     rel_reflects_pred Rel divergentST\n  \\<forall>Rel.\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} =\n     rel_respects_pred Rel\n      (\\<lambda>a.\n          (\\<exists>S. S \\<in>S a \\<and> S\\<Down><SWB>success) \\<or>\n          (\\<exists>T. T \\<in>T a \\<and> T\\<Down><TWB>success))", "show \"(enc_weakly_respects_barb_set {success} \\<and> enc_reflects_divergence)\n    = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n       \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n       \\<and> rel_reflects_divergence Rel (STCal Source Target))\""], ["proof (prove)\nusing this:\n  \\<forall>Rel.\n     rel_reflects_divergence Rel (STCal Source Target) =\n     rel_reflects_pred Rel divergentST\n  \\<forall>Rel.\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} =\n     rel_respects_pred Rel\n      (\\<lambda>a.\n          (\\<exists>S. S \\<in>S a \\<and> S\\<Down><SWB>success) \\<or>\n          (\\<exists>T. T \\<in>T a \\<and> T\\<Down><TWB>success))\n\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "using success_sensitive_iff_source_target_rel_weakly_respects_success(1)\n            divergence_reflection_iff_source_target_rel_reflects_divergence\n            indRelR_cond_respects_predA_and_reflects_predB[where\n              PredA=\"\\<lambda>P. P\\<Down>.success\" and PredB=\"divergentST\"]"], ["proof (prove)\nusing this:\n  \\<forall>Rel.\n     rel_reflects_divergence Rel (STCal Source Target) =\n     rel_reflects_pred Rel divergentST\n  \\<forall>Rel.\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} =\n     rel_respects_pred Rel\n      (\\<lambda>a.\n          (\\<exists>S. S \\<in>S a \\<and> S\\<Down><SWB>success) \\<or>\n          (\\<exists>T. T \\<in>T a \\<and> T\\<Down><TWB>success))\n  ((\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {?success})\n  enc_reflects_divergence =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_reflects_divergence Rel (STCal Source Target))\n  ((\\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel\n        (\\<lambda>a.\n            (\\<exists>S. S \\<in>S a \\<and> S\\<Down><SWB>success) \\<or>\n            (\\<exists>T. T \\<in>T a \\<and> T\\<Down><TWB>success))) \\<and>\n   (\\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_reflects_pred Rel divergentST)) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_respects_pred Rel\n       (\\<lambda>a.\n           (\\<exists>S. S \\<in>S a \\<and> S\\<Down><SWB>success) \\<or>\n           (\\<exists>T. T \\<in>T a \\<and> T\\<Down><TWB>success)) \\<and>\n      rel_reflects_pred Rel divergentST)\n\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "by simp"], ["proof (state)\nthis:\n  (((\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n   enc_reflects_divergence) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n      rel_reflects_divergence Rel (STCal Source Target))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) SS_DR_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n  shows \"(enc_respects_barb_set {success} \\<and> enc_reflects_divergence)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n            \\<and> rel_reflects_divergence Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "have \"\\<forall>Rel. rel_reflects_divergence Rel (STCal Source Target)\n        = rel_reflects_pred Rel divergentST\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Rel.\n       rel_reflects_divergence Rel (STCal Source Target) =\n       rel_reflects_pred Rel divergentST", "by (simp add: divergentST_STCal_divergent)"], ["proof (state)\nthis:\n  \\<forall>Rel.\n     rel_reflects_divergence Rel (STCal Source Target) =\n     rel_reflects_pred Rel divergentST\n\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "moreover"], ["proof (state)\nthis:\n  \\<forall>Rel.\n     rel_reflects_divergence Rel (STCal Source Target) =\n     rel_reflects_pred Rel divergentST\n\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "have \"\\<forall>Rel. (rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n                 = rel_respects_pred Rel (\\<lambda>P. P\\<down>.success))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Rel.\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} =\n       rel_respects_pred Rel\n        (\\<lambda>a.\n            (\\<exists>S. S \\<in>S a \\<and> S\\<down><SWB>success) \\<or>\n            (\\<exists>T. T \\<in>T a \\<and> T\\<down><TWB>success))", "by (simp add: STCalWB_hasBarbST)"], ["proof (state)\nthis:\n  \\<forall>Rel.\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success} =\n     rel_respects_pred Rel\n      (\\<lambda>a.\n          (\\<exists>S. S \\<in>S a \\<and> S\\<down><SWB>success) \\<or>\n          (\\<exists>T. T \\<in>T a \\<and> T\\<down><TWB>success))\n\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>Rel.\n     rel_reflects_divergence Rel (STCal Source Target) =\n     rel_reflects_pred Rel divergentST\n  \\<forall>Rel.\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success} =\n     rel_respects_pred Rel\n      (\\<lambda>a.\n          (\\<exists>S. S \\<in>S a \\<and> S\\<down><SWB>success) \\<or>\n          (\\<exists>T. T \\<in>T a \\<and> T\\<down><TWB>success))", "show \"(enc_respects_barb_set {success} \\<and> enc_reflects_divergence)\n    = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n       \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n       \\<and> rel_reflects_divergence Rel (STCal Source Target))\""], ["proof (prove)\nusing this:\n  \\<forall>Rel.\n     rel_reflects_divergence Rel (STCal Source Target) =\n     rel_reflects_pred Rel divergentST\n  \\<forall>Rel.\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success} =\n     rel_respects_pred Rel\n      (\\<lambda>a.\n          (\\<exists>S. S \\<in>S a \\<and> S\\<down><SWB>success) \\<or>\n          (\\<exists>T. T \\<in>T a \\<and> T\\<down><TWB>success))\n\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "using success_sensitive_iff_source_target_rel_respects_success(1)\n            divergence_reflection_iff_source_target_rel_reflects_divergence\n            indRelR_cond_respects_predA_and_reflects_predB[where\n              PredA=\"\\<lambda>P. P\\<down>.success\" and PredB=\"divergentST\"]"], ["proof (prove)\nusing this:\n  \\<forall>Rel.\n     rel_reflects_divergence Rel (STCal Source Target) =\n     rel_reflects_pred Rel divergentST\n  \\<forall>Rel.\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success} =\n     rel_respects_pred Rel\n      (\\<lambda>a.\n          (\\<exists>S. S \\<in>S a \\<and> S\\<down><SWB>success) \\<or>\n          (\\<exists>T. T \\<in>T a \\<and> T\\<down><TWB>success))\n  ((\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_respects_barb_set Rel (STCalWB SWB TWB) {?success})\n  enc_reflects_divergence =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_reflects_divergence Rel (STCal Source Target))\n  ((\\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_pred Rel\n        (\\<lambda>a.\n            (\\<exists>S. S \\<in>S a \\<and> S\\<down><SWB>success) \\<or>\n            (\\<exists>T. T \\<in>T a \\<and> T\\<down><TWB>success))) \\<and>\n   (\\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_reflects_pred Rel divergentST)) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_respects_pred Rel\n       (\\<lambda>a.\n           (\\<exists>S. S \\<in>S a \\<and> S\\<down><SWB>success) \\<or>\n           (\\<exists>T. T \\<in>T a \\<and> T\\<down><TWB>success)) \\<and>\n      rel_reflects_pred Rel divergentST)\n\ngoal (1 subgoal):\n 1. (((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n     enc_reflects_divergence) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "by simp"], ["proof (state)\nthis:\n  (((\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n   enc_reflects_divergence) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n      rel_reflects_divergence Rel (STCal Source Target))\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Adding Operational Correspondence\\<close>"], ["", "text \\<open>The effect of operational correspondence includes conditions (TRel is included,\n        transitivity) that require a witness like indRelRTPO. In order to combine operational\n        correspondence with success sensitiveness, we show that if the encoding and TRel (weakly)\n        respects barbs than indRelRTPO (weakly) respects barbs. Since success is only a specific\n        kind of barbs, the same holds for success sensitiveness.\\<close>"], ["", "lemma (in encoding_wrt_barbs) enc_and_TRel_impl_indRelRTPO_weakly_respects_success:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  assumes encRS:  \"enc_weakly_respects_barb_set {success}\"\n      and trelPS: \"rel_weakly_preserves_barb_set TRel TWB {success}\"\n      and trelRS: \"rel_weakly_reflects_barb_set TRel TWB {success}\"\n  shows \"rel_weakly_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB)\n     {success}", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       a \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       b\\<Down><STCalWB SWB TWB>success\n 2. \\<And>a b P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>success", "fix P Q P'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       a \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       b\\<Down><STCalWB SWB TWB>success\n 2. \\<And>a b P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>success", "assume \"P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\" and \"P \\<longmapsto>(Calculus (STCalWB SWB TWB))* P'\"\n     and \"P'\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       a \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       b\\<Down><STCalWB SWB TWB>success\n 2. \\<And>a b P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>success", "thus \"Q\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. Q\\<Down><STCalWB SWB TWB>success", "proof (induct arbitrary: P')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>success\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "case (encR S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>success\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "assume \"SourceTerm S \\<longmapsto>(Calculus (STCalWB SWB TWB))* P'\" and \"P'\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>success\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "hence \"S\\<Down><SWB>success\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. S\\<Down><SWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. S\\<Down><SWB>success", "by blast"], ["proof (state)\nthis:\n  S\\<Down><SWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>success\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "with encRS"], ["proof (chain)\npicking this:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  S\\<Down><SWB>success", "have \"\\<lbrakk>S\\<rbrakk>\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  S\\<Down><SWB>success\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk>\\<Down><TWB>success", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk>\\<Down><TWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>success\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "thus \"TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk>\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk>\\<Down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>success\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "assume \"SourceTerm S \\<longmapsto>(Calculus (STCalWB SWB TWB))* P'\" and \"P'\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "thus \"SourceTerm S\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  SourceTerm S\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "moreover"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "assume \"TargetTerm T1 \\<longmapsto>(Calculus (STCalWB SWB TWB))* P'\"\n                and \"P'\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "hence \"T1\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. T1\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. T1\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  T1\\<Down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (T1, T2) \\<in> TRel\n  T1\\<Down><TWB>success", "have \"T2\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T1\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. T2\\<Down><TWB>success", "using trelPS"], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T1\\<Down><TWB>success\n  rel_weakly_preserves_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. T2\\<Down><TWB>success", "by simp"], ["proof (state)\nthis:\n  T2\\<Down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "thus \"TargetTerm T2\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  T2\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm T2\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  T2\\<Down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm T2\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm T2\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "case (trans P Q R)"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* ?P'3 \\<and>\n  ?P'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  Q\\<Down><STCalWB SWB TWB>success\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?P'3 \\<and>\n  ?P'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  R\\<Down><STCalWB SWB TWB>success\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "assume \"P \\<longmapsto>(Calculus (STCalWB SWB TWB))* P'\" and \"P'\\<down><STCalWB SWB TWB>success\"\n       and \"\\<And>P'. P \\<longmapsto>(Calculus (STCalWB SWB TWB))* P' \\<Longrightarrow> P'\\<down><STCalWB SWB TWB>success\n            \\<Longrightarrow> Q\\<Down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* ?P'3 \\<and>\n  ?P'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  Q\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "hence \"Q\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>success\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* ?P'3 \\<and>\n  ?P'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  Q\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. Q\\<Down><STCalWB SWB TWB>success", "by simp"], ["proof (state)\nthis:\n  Q\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "moreover"], ["proof (state)\nthis:\n  Q\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "assume \"\\<And>Q'. Q \\<longmapsto>(Calculus (STCalWB SWB TWB))* Q' \\<Longrightarrow> Q'\\<down><STCalWB SWB TWB>success\n                     \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  R\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>success;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  Q\\<Down><STCalWB SWB TWB>success\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  R\\<Down><STCalWB SWB TWB>success", "show \"R\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  Q\\<Down><STCalWB SWB TWB>success\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  R\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. R\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  R\\<Down><STCalWB SWB TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Q\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>success", "fix P Q Q'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>success", "assume \"P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\" and \"Q \\<longmapsto>(Calculus (STCalWB SWB TWB))* Q'\"\n     and \"Q'\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>success", "thus \"P\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. P\\<Down><STCalWB SWB TWB>success", "proof (induct arbitrary: Q')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus\n      (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "case (encR S)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus\n      (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "assume \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(Calculus (STCalWB SWB TWB))* Q'\"\n       and \"Q'\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus\n      (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "hence \"\\<lbrakk>S\\<rbrakk>\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk>\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk>\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk>\\<Down><TWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus\n      (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "with encRS"], ["proof (chain)\npicking this:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  \\<lbrakk>S\\<rbrakk>\\<Down><TWB>success", "have \"S\\<Down><SWB>success\""], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  \\<lbrakk>S\\<rbrakk>\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. S\\<Down><SWB>success", "by simp"], ["proof (state)\nthis:\n  S\\<Down><SWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus\n      (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "thus \"SourceTerm S\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  S\\<Down><SWB>success\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  S\\<Down><SWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  SourceTerm S\\<Down><STCalWB SWB TWB>success\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "assume \"SourceTerm S \\<longmapsto>(Calculus (STCalWB SWB TWB))* Q'\" and \"Q'\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "thus \"SourceTerm S\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  SourceTerm S\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "moreover"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "assume \"TargetTerm T2 \\<longmapsto>(Calculus (STCalWB SWB TWB))* Q'\"\n                and \"Q'\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "hence \"T2\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. T2\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. T2\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  T2\\<Down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (T1, T2) \\<in> TRel\n  T2\\<Down><TWB>success", "have \"T1\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T2\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. T1\\<Down><TWB>success", "using trelRS"], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T2\\<Down><TWB>success\n  rel_weakly_reflects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. T1\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  T1\\<Down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>success\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "thus \"TargetTerm T1\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  T1\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm T1\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  T1\\<Down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm T1\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm T1\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "case (trans P Q R R')"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  P\\<Down><STCalWB SWB TWB>success\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  R \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  Q\\<Down><STCalWB SWB TWB>success\n  R \\<longmapsto>Calculus (STCalWB SWB TWB)* R'\n  R'\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "assume \"R \\<longmapsto>(Calculus (STCalWB SWB TWB))* R'\" and \"R'\\<down><STCalWB SWB TWB>success\"\n       and \"\\<And>R'. R \\<longmapsto>(Calculus (STCalWB SWB TWB))* R' \\<Longrightarrow> R'\\<down><STCalWB SWB TWB>success\n            \\<Longrightarrow> Q\\<Down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  R \\<longmapsto>Calculus (STCalWB SWB TWB)* R'\n  R'\\<down><STCalWB SWB TWB>success\n  R \\<longmapsto>Calculus (STCalWB SWB TWB)* ?R'3 \\<and>\n  ?R'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  Q\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "hence \"Q\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  R \\<longmapsto>Calculus (STCalWB SWB TWB)* R'\n  R'\\<down><STCalWB SWB TWB>success\n  R \\<longmapsto>Calculus (STCalWB SWB TWB)* ?R'3 \\<and>\n  ?R'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  Q\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. Q\\<Down><STCalWB SWB TWB>success", "by simp"], ["proof (state)\nthis:\n  Q\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "moreover"], ["proof (state)\nthis:\n  Q\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "assume \"\\<And>Q'. Q \\<longmapsto>(Calculus (STCalWB SWB TWB))* Q' \\<Longrightarrow> Q'\\<down><STCalWB SWB TWB>success\n                     \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  P\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>success;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  Q\\<Down><STCalWB SWB TWB>success\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  P\\<Down><STCalWB SWB TWB>success", "show \"P\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  Q\\<Down><STCalWB SWB TWB>success\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  P\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. P\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  P\\<Down><STCalWB SWB TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P\\<Down><STCalWB SWB TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) enc_and_TRel_impl_indRelRTPO_weakly_respects_barbs:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  assumes encRS:  \"enc_weakly_respects_barbs\"\n      and trelPS: \"rel_weakly_preserves_barbs TRel TWB\"\n      and trelRS: \"rel_weakly_reflects_barbs TRel TWB\"\n  shows \"rel_weakly_respects_barbs (indRelRTPO TRel) (STCalWB SWB TWB)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_weakly_respects_barbs (indRelRTPO TRel) (STCalWB SWB TWB)", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       a \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       b\\<Down><STCalWB SWB TWB>x\n 2. \\<And>a b x P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>x", "fix P Q x P'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       a \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       b\\<Down><STCalWB SWB TWB>x\n 2. \\<And>a b x P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>x", "assume \"P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\" and \"P \\<longmapsto>(Calculus (STCalWB SWB TWB))* P'\"\n     and \"P'\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       a \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       b\\<Down><STCalWB SWB TWB>x\n 2. \\<And>a b x P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>x", "thus \"Q\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. Q\\<Down><STCalWB SWB TWB>x", "proof (induct arbitrary: P')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "case (encR S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "assume \"SourceTerm S \\<longmapsto>(Calculus (STCalWB SWB TWB))* P'\" and \"P'\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "hence \"S\\<Down><SWB>x\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. S\\<Down><SWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. S\\<Down><SWB>x", "by blast"], ["proof (state)\nthis:\n  S\\<Down><SWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "with encRS"], ["proof (chain)\npicking this:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  S\\<Down><SWB>x", "have \"\\<lbrakk>S\\<rbrakk>\\<Down><TWB>x\""], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  S\\<Down><SWB>x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "thus \"TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<Down><STCalWB SWB TWB>x\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "assume \"SourceTerm S \\<longmapsto>(Calculus (STCalWB SWB TWB))* P'\" and \"P'\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "thus \"SourceTerm S\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  SourceTerm S\\<Down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "moreover"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "assume \"TargetTerm T1 \\<longmapsto>(Calculus (STCalWB SWB TWB))* P'\"\n                and \"P'\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "hence \"T1\\<Down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. T1\\<Down><TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. T1\\<Down><TWB>x", "by blast"], ["proof (state)\nthis:\n  T1\\<Down><TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  (T1, T2) \\<in> TRel\n  T1\\<Down><TWB>x", "have \"T2\\<Down><TWB>x\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T1\\<Down><TWB>x\n\ngoal (1 subgoal):\n 1. T2\\<Down><TWB>x", "using trelPS"], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T1\\<Down><TWB>x\n  rel_weakly_preserves_barbs TRel TWB\n\ngoal (1 subgoal):\n 1. T2\\<Down><TWB>x", "by simp"], ["proof (state)\nthis:\n  T2\\<Down><TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "thus \"TargetTerm T2\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  T2\\<Down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm T2\\<Down><STCalWB SWB TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  T2\\<Down><TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm T2\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm T2\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "case (trans P Q R)"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* ?P'3 \\<and>\n  ?P'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  Q\\<Down><STCalWB SWB TWB>x\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?P'3 \\<and>\n  ?P'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  R\\<Down><STCalWB SWB TWB>x\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "assume \"P \\<longmapsto>(Calculus (STCalWB SWB TWB))* P'\" and \"P'\\<down><STCalWB SWB TWB>x\"\n       and \"\\<And>P'. P \\<longmapsto>(Calculus (STCalWB SWB TWB))* P' \\<Longrightarrow> P'\\<down><STCalWB SWB TWB>x\n            \\<Longrightarrow> Q\\<Down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* ?P'3 \\<and>\n  ?P'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  Q\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "hence \"Q\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* P'\n  P'\\<down><STCalWB SWB TWB>x\n  P \\<longmapsto>Calculus (STCalWB SWB TWB)* ?P'3 \\<and>\n  ?P'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  Q\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. Q\\<Down><STCalWB SWB TWB>x", "by simp"], ["proof (state)\nthis:\n  Q\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "moreover"], ["proof (state)\nthis:\n  Q\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "assume \"\\<And>Q'. Q \\<longmapsto>(Calculus (STCalWB SWB TWB))* Q' \\<Longrightarrow> Q'\\<down><STCalWB SWB TWB>x\n                     \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  R\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n           P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           R\\<Down><STCalWB SWB TWB>x;\n        P \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n        P'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<Down><STCalWB SWB TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  Q\\<Down><STCalWB SWB TWB>x\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  R\\<Down><STCalWB SWB TWB>x", "show \"R\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  Q\\<Down><STCalWB SWB TWB>x\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  R\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. R\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  R\\<Down><STCalWB SWB TWB>x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Q\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>x", "fix P Q x Q'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>x", "assume \"P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\" and \"Q \\<longmapsto>(Calculus (STCalWB SWB TWB))* Q'\"\n     and \"Q'\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>Calculus (STCalWB SWB TWB)* P' \\<and>\n       P'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<Down><STCalWB SWB TWB>x", "thus \"P\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. P\\<Down><STCalWB SWB TWB>x", "proof (induct arbitrary: Q')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus\n      (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "case (encR S)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus\n      (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "assume \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(Calculus (STCalWB SWB TWB))* Q'\"\n       and \"Q'\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus\n      (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "hence \"\\<lbrakk>S\\<rbrakk>\\<Down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus\n      (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "with encRS"], ["proof (chain)\npicking this:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x", "have \"S\\<Down><SWB>x\""], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  \\<lbrakk>S\\<rbrakk>\\<Down><TWB>x\n\ngoal (1 subgoal):\n 1. S\\<Down><SWB>x", "by simp"], ["proof (state)\nthis:\n  S\\<Down><SWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>Calculus\n      (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "thus \"SourceTerm S\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  S\\<Down><SWB>x\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<Down><STCalWB SWB TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  S\\<Down><SWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  SourceTerm S\\<Down><STCalWB SWB TWB>x\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "assume \"SourceTerm S \\<longmapsto>(Calculus (STCalWB SWB TWB))* Q'\" and \"Q'\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<Down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "thus \"SourceTerm S\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  SourceTerm S\\<Down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "moreover"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "assume \"TargetTerm T2 \\<longmapsto>(Calculus (STCalWB SWB TWB))* Q'\"\n                and \"Q'\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "hence \"T2\\<Down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. T2\\<Down><TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q'\n  Q'\\<down><STCalWB SWB TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. T2\\<Down><TWB>x", "by blast"], ["proof (state)\nthis:\n  T2\\<Down><TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  (T1, T2) \\<in> TRel\n  T2\\<Down><TWB>x", "have \"T1\\<Down><TWB>x\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T2\\<Down><TWB>x\n\ngoal (1 subgoal):\n 1. T1\\<Down><TWB>x", "using trelRS"], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T2\\<Down><TWB>x\n  rel_weakly_reflects_barbs TRel TWB\n\ngoal (1 subgoal):\n 1. T1\\<Down><TWB>x", "by blast"], ["proof (state)\nthis:\n  T1\\<Down><TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n       Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<Down><STCalWB SWB TWB>x\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "thus \"TargetTerm T1\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  T1\\<Down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm T1\\<Down><STCalWB SWB TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  T1\\<Down><TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm T1\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm T1\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "case (trans P Q R R')"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  P\\<Down><STCalWB SWB TWB>x\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  R \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  Q\\<Down><STCalWB SWB TWB>x\n  R \\<longmapsto>Calculus (STCalWB SWB TWB)* R'\n  R'\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "assume \"R \\<longmapsto>(Calculus (STCalWB SWB TWB))* R'\" and \"R'\\<down><STCalWB SWB TWB>x\"\n       and \"\\<And>R'. R \\<longmapsto>(Calculus (STCalWB SWB TWB))* R' \\<Longrightarrow> R'\\<down><STCalWB SWB TWB>x\n            \\<Longrightarrow> Q\\<Down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  R \\<longmapsto>Calculus (STCalWB SWB TWB)* R'\n  R'\\<down><STCalWB SWB TWB>x\n  R \\<longmapsto>Calculus (STCalWB SWB TWB)* ?R'3 \\<and>\n  ?R'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  Q\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "hence \"Q\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  R \\<longmapsto>Calculus (STCalWB SWB TWB)* R'\n  R'\\<down><STCalWB SWB TWB>x\n  R \\<longmapsto>Calculus (STCalWB SWB TWB)* ?R'3 \\<and>\n  ?R'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  Q\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. Q\\<Down><STCalWB SWB TWB>x", "by simp"], ["proof (state)\nthis:\n  Q\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "moreover"], ["proof (state)\nthis:\n  Q\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "assume \"\\<And>Q'. Q \\<longmapsto>(Calculus (STCalWB SWB TWB))* Q' \\<Longrightarrow> Q'\\<down><STCalWB SWB TWB>x\n                     \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  P\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           P\\<Down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n           Q'\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n           Q\\<Down><STCalWB SWB TWB>x;\n        R \\<longmapsto>Calculus (STCalWB SWB TWB)* Q' \\<and>\n        Q'\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<Down><STCalWB SWB TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  Q\\<Down><STCalWB SWB TWB>x\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  P\\<Down><STCalWB SWB TWB>x", "show \"P\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  Q\\<Down><STCalWB SWB TWB>x\n  Q \\<longmapsto>Calculus (STCalWB SWB TWB)* ?Q'3 \\<and>\n  ?Q'3\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n  P\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. P\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  P\\<Down><STCalWB SWB TWB>x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P\\<Down><STCalWB SWB TWB>x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) enc_and_TRel_impl_indRelRTPO_respects_success:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  assumes encRS:  \"enc_respects_barb_set {success}\"\n      and trelPS: \"rel_preserves_barb_set TRel TWB {success}\"\n      and trelRS: \"rel_reflects_barb_set TRel TWB {success}\"\n  shows \"rel_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       a\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       b\\<down><STCalWB SWB TWB>success\n 2. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>success", "fix P Q"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       a\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       b\\<down><STCalWB SWB TWB>success\n 2. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>success", "assume \"P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\" and \"P\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       a\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       b\\<down><STCalWB SWB TWB>success\n 2. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>success", "thus \"Q\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. Q\\<down><STCalWB SWB TWB>success", "proof induct"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "case (encR S)"], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "assume \"SourceTerm S\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "hence \"S\\<down><SWB>success\""], ["proof (prove)\nusing this:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. S\\<down><SWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. S\\<down><SWB>success", "by blast"], ["proof (state)\nthis:\n  S\\<down><SWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "with encRS"], ["proof (chain)\npicking this:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))\n  S\\<down><SWB>success", "have \"\\<lbrakk>S\\<rbrakk>\\<down><TWB>success\""], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))\n  S\\<down><SWB>success\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk>\\<down><TWB>success", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk>\\<down><TWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "thus \"TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk>\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk>\\<down><TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "assume \"SourceTerm S\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "thus \"SourceTerm S\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<down><STCalWB SWB TWB>success", "by simp"], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T1\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "moreover"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "assume \"TargetTerm T1\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  TargetTerm T1\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "hence \"T1\\<down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm T1\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. T1\\<down><TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TargetTerm T1\\<down><STCalWB SWB TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. T1\\<down><TWB>success", "by blast"], ["proof (state)\nthis:\n  T1\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (T1, T2) \\<in> TRel\n  T1\\<down><TWB>success", "have \"T2\\<down><TWB>success\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T1\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. T2\\<down><TWB>success", "using trelPS"], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T1\\<down><TWB>success\n  rel_preserves_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. T2\\<down><TWB>success", "by simp"], ["proof (state)\nthis:\n  T2\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "thus \"TargetTerm T2\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  T2\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm T2\\<down><STCalWB SWB TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  T2\\<down><TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm T2\\<down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm T2\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "case (trans P Q R)"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  Q\\<down><STCalWB SWB TWB>success\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  R\\<down><STCalWB SWB TWB>success\n  P\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "assume \"P\\<down><STCalWB SWB TWB>success\"\n       and \"P\\<down><STCalWB SWB TWB>success \\<Longrightarrow> Q\\<down><STCalWB SWB TWB>success\"\n       and \"Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  P\\<down><STCalWB SWB TWB>success\n  P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  Q\\<down><STCalWB SWB TWB>success\n  Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  R\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>success;\n        P\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>success", "thus \"R\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  P\\<down><STCalWB SWB TWB>success\n  P\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  Q\\<down><STCalWB SWB TWB>success\n  Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  R\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. R\\<down><STCalWB SWB TWB>success", "by simp"], ["proof (state)\nthis:\n  R\\<down><STCalWB SWB TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Q\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>success", "fix P Q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>success", "assume \"P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\" and \"Q\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>success", "thus \"P\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. P\\<down><STCalWB SWB TWB>success", "proof induct"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB\nTWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "case (encR S)"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB\nTWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "assume \"TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB\nTWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "hence \"\\<lbrakk>S\\<rbrakk>\\<down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk>\\<down><TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk>\\<down><TWB>success", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk>\\<down><TWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB\nTWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "with encRS"], ["proof (chain)\npicking this:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))\n  \\<lbrakk>S\\<rbrakk>\\<down><TWB>success", "have \"S\\<down><SWB>success\""], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))\n  \\<lbrakk>S\\<rbrakk>\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. S\\<down><SWB>success", "by simp"], ["proof (state)\nthis:\n  S\\<down><SWB>success\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB\nTWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "thus \"SourceTerm S\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  S\\<down><SWB>success\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<down><STCalWB SWB TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  S\\<down><SWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "assume \"SourceTerm S\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>success\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "thus \"SourceTerm S\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<down><STCalWB SWB TWB>success", "by simp"], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T2\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "moreover"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "assume \"TargetTerm T2\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  TargetTerm T2\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "hence \"T2\\<down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm T2\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. T2\\<down><TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TargetTerm T2\\<down><STCalWB SWB TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. T2\\<down><TWB>success", "by blast"], ["proof (state)\nthis:\n  T2\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (T1, T2) \\<in> TRel\n  T2\\<down><TWB>success", "have \"T1\\<down><TWB>success\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T2\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. T1\\<down><TWB>success", "using trelRS"], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T2\\<down><TWB>success\n  rel_reflects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. T1\\<down><TWB>success", "by blast"], ["proof (state)\nthis:\n  T1\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>success\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "thus \"TargetTerm T1\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  T1\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm T1\\<down><STCalWB SWB TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  T1\\<down><TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm T1\\<down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm T1\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "case (trans P Q R)"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  P\\<down><STCalWB SWB TWB>success\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  Q\\<down><STCalWB SWB TWB>success\n  R\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "assume \"R\\<down><STCalWB SWB TWB>success\"\n       and \"R\\<down><STCalWB SWB TWB>success \\<Longrightarrow> Q\\<down><STCalWB SWB TWB>success\"\n       and \"Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success\""], ["proof (state)\nthis:\n  R\\<down><STCalWB SWB TWB>success\n  R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  Q\\<down><STCalWB SWB TWB>success\n  Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  P\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>success;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>success;\n        R\\<down><STCalWB SWB TWB>success\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>success", "thus \"P\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  R\\<down><STCalWB SWB TWB>success\n  R\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  Q\\<down><STCalWB SWB TWB>success\n  Q\\<down><STCalWB SWB TWB>success \\<Longrightarrow>\n  P\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. P\\<down><STCalWB SWB TWB>success", "by simp"], ["proof (state)\nthis:\n  P\\<down><STCalWB SWB TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P\\<down><STCalWB SWB TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) enc_and_TRel_impl_indRelRTPO_respects_barbs:\n  fixes TRel    :: \"('procT \\<times> 'procT) set\"\n  assumes encRS:  \"enc_respects_barbs\"\n      and trelPS: \"rel_preserves_barbs TRel TWB\"\n      and trelRS: \"rel_reflects_barbs TRel TWB\"\n  shows \"rel_respects_barbs (indRelRTPO TRel) (STCalWB SWB TWB)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_respects_binary_pred (indRelRTPO TRel)\n     (\\<lambda>a. hasBarb a (STCalWB SWB TWB))", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b x.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       a\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       b\\<down><STCalWB SWB TWB>x\n 2. \\<And>a b x.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>x", "fix P Q x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b x.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       a\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       b\\<down><STCalWB SWB TWB>x\n 2. \\<And>a b x.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>x", "assume \"P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\" and \"P\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       a\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       b\\<down><STCalWB SWB TWB>x\n 2. \\<And>a b x.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>x", "thus \"Q\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. Q\\<down><STCalWB SWB TWB>x", "proof induct"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "case (encR S)"], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "assume \"SourceTerm S\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "hence \"S\\<down><SWB>x\""], ["proof (prove)\nusing this:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. S\\<down><SWB>x", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. S\\<down><SWB>x", "by blast"], ["proof (state)\nthis:\n  S\\<down><SWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "with encRS"], ["proof (chain)\npicking this:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n  S\\<down><SWB>x", "have \"\\<lbrakk>S\\<rbrakk>\\<down><TWB>x\""], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n  S\\<down><SWB>x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk>\\<down><TWB>x", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk>\\<down><TWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "thus \"TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk>\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk>\\<down><TWB>x\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "assume \"SourceTerm S\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "thus \"SourceTerm S\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<down><STCalWB SWB TWB>x", "by simp"], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T1\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "moreover"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "assume \"TargetTerm T1\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  TargetTerm T1\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "hence \"T1\\<down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm T1\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. T1\\<down><TWB>x", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TargetTerm T1\\<down><STCalWB SWB TWB>x\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. T1\\<down><TWB>x", "by blast"], ["proof (state)\nthis:\n  T1\\<down><TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  (T1, T2) \\<in> TRel\n  T1\\<down><TWB>x", "have \"T2\\<down><TWB>x\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T1\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. T2\\<down><TWB>x", "using trelPS"], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T1\\<down><TWB>x\n  rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB)\n\ngoal (1 subgoal):\n 1. T2\\<down><TWB>x", "by simp"], ["proof (state)\nthis:\n  T2\\<down><TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "thus \"TargetTerm T2\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  T2\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm T2\\<down><STCalWB SWB TWB>x", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  T2\\<down><TWB>x\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm T2\\<down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm T2\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "case (trans P Q R)"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P\\<down><STCalWB SWB TWB>x \\<Longrightarrow> Q\\<down><STCalWB SWB TWB>x\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x\n  P\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "assume \"P\\<down><STCalWB SWB TWB>x\"\n       and \"P\\<down><STCalWB SWB TWB>x \\<Longrightarrow> Q\\<down><STCalWB SWB TWB>x\"\n       and \"Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  P\\<down><STCalWB SWB TWB>x\n  P\\<down><STCalWB SWB TWB>x \\<Longrightarrow> Q\\<down><STCalWB SWB TWB>x\n  Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        P\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        R\\<down><STCalWB SWB TWB>x;\n        P\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x", "thus \"R\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  P\\<down><STCalWB SWB TWB>x\n  P\\<down><STCalWB SWB TWB>x \\<Longrightarrow> Q\\<down><STCalWB SWB TWB>x\n  Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow> R\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. R\\<down><STCalWB SWB TWB>x", "by simp"], ["proof (state)\nthis:\n  R\\<down><STCalWB SWB TWB>x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Q\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>x", "fix P Q x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>x", "assume \"P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\" and \"Q\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       a\\<down><STCalWB SWB TWB>x", "thus \"P\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. P\\<down><STCalWB SWB TWB>x", "proof induct"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "case (encR S)"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "assume \"TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "hence \"\\<lbrakk>S\\<rbrakk>\\<down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk>\\<down><TWB>x", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk>\\<down><TWB>x", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk>\\<down><TWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "with encRS"], ["proof (chain)\npicking this:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n  \\<lbrakk>S\\<rbrakk>\\<down><TWB>x", "have \"S\\<down><SWB>x\""], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n  \\<lbrakk>S\\<rbrakk>\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. S\\<down><SWB>x", "by simp"], ["proof (state)\nthis:\n  S\\<down><SWB>x\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>)\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "thus \"SourceTerm S\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  S\\<down><SWB>x\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<down><STCalWB SWB TWB>x", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  S\\<down><SWB>x\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "assume \"SourceTerm S\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm S\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       SourceTerm S\\<down><STCalWB SWB TWB>x\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "thus \"SourceTerm S\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. SourceTerm S\\<down><STCalWB SWB TWB>x", "by simp"], ["proof (state)\nthis:\n  SourceTerm S\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T2\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "moreover"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "assume \"TargetTerm T2\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  TargetTerm T2\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "hence \"T2\\<down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm T2\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. T2\\<down><TWB>x", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TargetTerm T2\\<down><STCalWB SWB TWB>x\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. T2\\<down><TWB>x", "by blast"], ["proof (state)\nthis:\n  T2\\<down><TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  (T1, T2) \\<in> TRel\n  T2\\<down><TWB>x", "have \"T1\\<down><TWB>x\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T2\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. T1\\<down><TWB>x", "using trelRS"], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T2\\<down><TWB>x\n  rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB)\n\ngoal (1 subgoal):\n 1. T1\\<down><TWB>x", "by blast"], ["proof (state)\nthis:\n  T1\\<down><TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n       TargetTerm T1\\<down><STCalWB SWB TWB>x\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "thus \"TargetTerm T1\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  T1\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm T1\\<down><STCalWB SWB TWB>x", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  T1\\<down><TWB>x\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm T1\\<down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm T1\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "case (trans P Q R)"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  R\\<down><STCalWB SWB TWB>x \\<Longrightarrow> Q\\<down><STCalWB SWB TWB>x\n  R\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "assume \"R\\<down><STCalWB SWB TWB>x\"\n       and \"R\\<down><STCalWB SWB TWB>x \\<Longrightarrow> Q\\<down><STCalWB SWB TWB>x\"\n       and \"Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x\""], ["proof (state)\nthis:\n  R\\<down><STCalWB SWB TWB>x\n  R\\<down><STCalWB SWB TWB>x \\<Longrightarrow> Q\\<down><STCalWB SWB TWB>x\n  Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        P\\<down><STCalWB SWB TWB>x;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R\\<down><STCalWB SWB TWB>x \\<Longrightarrow>\n        Q\\<down><STCalWB SWB TWB>x;\n        R\\<down><STCalWB SWB TWB>x\\<rbrakk>\n       \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x", "thus \"P\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  R\\<down><STCalWB SWB TWB>x\n  R\\<down><STCalWB SWB TWB>x \\<Longrightarrow> Q\\<down><STCalWB SWB TWB>x\n  Q\\<down><STCalWB SWB TWB>x \\<Longrightarrow> P\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. P\\<down><STCalWB SWB TWB>x", "by simp"], ["proof (state)\nthis:\n  P\\<down><STCalWB SWB TWB>x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P\\<down><STCalWB SWB TWB>x\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>An encoding is success sensitive and operational corresponding w.r.t. a bisimulation TRel\n        that respects success iff there exists a bisimultion that includes TRel and respects\n        success. The same holds if we consider not only success sensitiveness but barb\n        sensitiveness in general.\\<close>"], ["", "lemma (in encoding_wrt_barbs) OC_SS_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding (TRel\\<^sup>*)\n          \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_corresponding (TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n     ((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     rel_weakly_respects_barb_set TRel TWB {success}) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})", "proof (rule iffI, (erule conjE)+)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume A1: \"rel_weakly_preserves_barb_set TRel TWB {success}\"\n     and A2: \"rel_weakly_reflects_barb_set TRel TWB {success}\"\n     and A3: \"enc_weakly_preserves_barb_set {success}\"\n     and A4: \"enc_weakly_reflects_barb_set {success}\""], ["proof (state)\nthis:\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "define Rel where \"Rel = indRelRTPO TRel\""], ["proof (state)\nthis:\n  Rel = indRelRTPO TRel\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel", "have B2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel", "by (simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel", "have B3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by (simp add: indRelRTPO_to_TRel(4)[where TRel=\"TRel\"])"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel", "have B4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume \"operational_complete (TRel\\<^sup>*)\"\n     and \"operational_sound (TRel\\<^sup>*)\"\n     and \"weak_reduction_simulation (TRel\\<^sup>+) Target\"\n     and \"\\<forall>P Q Q'. (P, Q) \\<in> TRel\\<^sup>+ \\<and> Q \\<longmapsto>Target* Q'\n          \\<longrightarrow> (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)\""], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*)\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n     Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'.\n         P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "with Rel_def"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  operational_complete (TRel\\<^sup>*)\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n     Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'.\n         P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)", "have B5: \"weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  operational_complete (TRel\\<^sup>*)\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n     Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'.\n         P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "using OC_iff_indRelRTPO_is_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  operational_complete (TRel\\<^sup>*)\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n     Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'.\n         P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "have B6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "using enc_and_TRel_impl_indRelRTPO_weakly_respects_success[where TRel=\"TRel\"\n            and success=\"success\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n  rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n  rel_weakly_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n        \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n        \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n        \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n        \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> ?Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation ?Rel (STCal Source Target) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using B1 B2 B3 B4 B5 B6"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> ?Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation ?Rel (STCal Source Target) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n          \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n          \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "obtain Rel where C1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n   and C2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n   and C3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\"\n   and C4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n   and C5: \"weak_reduction_bisimulation Rel (STCal Source Target)\"\n   and C6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n         {success} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from C1 C2 C3 C4 C5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)", "have \"\\<exists>Rel.(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n   \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"operational_corresponding (TRel\\<^sup>*)\n        \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "using OC_iff_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      weak_reduction_bisimulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "by auto"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using C1 C6"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"enc_weakly_respects_barb_set {success}\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))", "using success_sensitive_iff_source_target_rel_weakly_respects_success"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  ((\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {?success})\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))", "by auto"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set TRel TWB {success}", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TP \\<longmapsto>(Calculus TWB)* TP'\" and \"TP'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TQ\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TQ\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TQ \\<longmapsto>(Calculus TWB)* TQ'\" and \"TQ'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TP\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TP\\<Down><TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "ultimately"], ["proof (chain)\npicking this:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  rel_weakly_respects_barb_set TRel TWB {success}", "show \"operational_corresponding (TRel\\<^sup>*)\n   \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\n   \\<and> enc_weakly_respects_barb_set {success} \\<and> rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\nusing this:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "by fast"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) OC_SS_RB_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding (TRel\\<^sup>*)\n          \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\n          \\<and> enc_weakly_respects_barbs \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barbs TRel TWB \\<and> rel_weakly_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n            \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_corresponding (TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n     ((\\<forall>S x.\n          (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n          (\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<and>\n      (\\<forall>S x.\n          (\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x) \\<longrightarrow>\n          (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n     ((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     rel_weakly_respects_barbs TRel TWB \\<and>\n     rel_weakly_respects_barb_set TRel TWB {success}) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n        rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})", "proof (rule iffI, (erule conjE)+)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume A1: \"rel_weakly_preserves_barb_set TRel TWB {success}\"\n     and A2: \"rel_weakly_reflects_barb_set TRel TWB {success}\"\n     and A3: \"enc_weakly_preserves_barb_set {success}\"\n     and A4: \"enc_weakly_reflects_barb_set {success}\"\n     and A5: \"rel_weakly_preserves_barbs TRel TWB\" and A6: \"rel_weakly_reflects_barbs TRel TWB\"\n     and A7: \"enc_weakly_preserves_barbs\" and A8: \"enc_weakly_reflects_barbs\""], ["proof (state)\nthis:\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  rel_weakly_preserves_barbs TRel TWB\n  rel_weakly_reflects_barbs TRel TWB\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "define Rel where \"Rel = indRelRTPO TRel\""], ["proof (state)\nthis:\n  Rel = indRelRTPO TRel\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel", "have B2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel", "by (simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel", "have B3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by (simp add: indRelRTPO_to_TRel(4)[where TRel=\"TRel\"])"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel", "have B4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume \"operational_complete (TRel\\<^sup>*)\"\n     and \"operational_sound (TRel\\<^sup>*)\"\n     and \"weak_reduction_simulation (TRel\\<^sup>+) Target\"\n     and \"\\<forall>P Q Q'. (P, Q) \\<in> TRel\\<^sup>+ \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow> (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)\""], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*)\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n     Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'.\n         P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "with Rel_def"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  operational_complete (TRel\\<^sup>*)\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n     Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'.\n         P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)", "have B5: \"weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  operational_complete (TRel\\<^sup>*)\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n     Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'.\n         P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "using OC_iff_indRelRTPO_is_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  operational_complete (TRel\\<^sup>*)\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n     Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'.\n         P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "have B6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "using enc_and_TRel_impl_indRelRTPO_weakly_respects_success[where TRel=\"TRel\"\n            and success=\"success\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n  rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n  rel_weakly_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A5 A6 A7 A8"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barbs TRel TWB\n  rel_weakly_reflects_barbs TRel TWB\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)", "have B7: \"rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barbs TRel TWB\n  rel_weakly_reflects_barbs TRel TWB\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barbs Rel (STCalWB SWB TWB)", "using enc_and_TRel_impl_indRelRTPO_weakly_respects_barbs[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barbs TRel TWB\n  rel_weakly_reflects_barbs TRel TWB\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n  rel_weakly_preserves_barbs TRel TWB \\<and>\n  rel_weakly_reflects_barbs TRel TWB \\<Longrightarrow>\n  rel_weakly_respects_barbs (indRelRTPO TRel) (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barbs Rel (STCalWB SWB TWB)", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n        \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n        \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n        \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n        \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n        \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> ?Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation ?Rel (STCal Source Target) \\<and>\n    rel_weakly_respects_barbs ?Rel (STCalWB SWB TWB) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using B1 B2 B3 B4 B5 B6 B7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> ?Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation ?Rel (STCal Source Target) \\<and>\n    rel_weakly_respects_barbs ?Rel (STCalWB SWB TWB) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n          \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n          \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n          \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "obtain Rel where C: \"(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n          \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n          \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n          \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n        rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n         {success} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence C1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from C"], ["proof (chain)\npicking this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "have C2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from C"], ["proof (chain)\npicking this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "have C3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from C"], ["proof (chain)\npicking this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "have C4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from C"], ["proof (chain)\npicking this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "have C5: \"weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from C"], ["proof (chain)\npicking this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "have C7: \"rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\""], ["proof (prove)\nusing this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barbs Rel (STCalWB SWB TWB)", "apply (rule conjE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n    rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n    rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n     {success} \\<Longrightarrow>\n    rel_weakly_respects_barbs Rel (STCalWB SWB TWB)", "apply (erule conjE)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation Rel (STCal Source Target) \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> Rel \\<and>\n        Q \\<longmapsto>STCal Source Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target* P' \\<and>\n            (P', Q') \\<in> Rel)) \\<and>\n    rel_weakly_preserves_barbs Rel (STCalWB SWB TWB) \\<and>\n    rel_weakly_reflects_barbs Rel (STCalWB SWB TWB) \\<and>\n    rel_weakly_preserves_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_weakly_reflects_barb_set Rel (STCalWB SWB TWB)\n     {success} \\<Longrightarrow>\n    rel_weakly_respects_barbs Rel (STCalWB SWB TWB)", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from C"], ["proof (chain)\npicking this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "have C6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule conjE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n    rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n    rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n     {success} \\<Longrightarrow>\n    rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (erule conjE)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation Rel (STCal Source Target) \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> Rel \\<and>\n        Q \\<longmapsto>STCal Source Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target* P' \\<and>\n            (P', Q') \\<in> Rel)) \\<and>\n    rel_weakly_preserves_barbs Rel (STCalWB SWB TWB) \\<and>\n    rel_weakly_reflects_barbs Rel (STCalWB SWB TWB) \\<and>\n    rel_weakly_preserves_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_weakly_reflects_barb_set Rel (STCalWB SWB TWB)\n     {success} \\<Longrightarrow>\n    rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from C1 C2 C3 C4 C5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)", "have \"\\<exists>Rel.(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n   \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"operational_corresponding (TRel\\<^sup>*)\n        \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "using OC_iff_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      weak_reduction_bisimulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "by auto"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using C1 C6"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"enc_weakly_respects_barb_set {success}\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))", "using success_sensitive_iff_source_target_rel_weakly_respects_success"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  ((\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {?success})\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))", "by auto"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB)", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barbs ?Rel (STCalWB SWB TWB)", "using C1 C7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barbs ?Rel (STCalWB SWB TWB)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"enc_weakly_respects_barbs\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "using enc_weakly_respects_barbs_iff_source_target_rel"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barbs Rel (STCalWB SWB TWB))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "by auto"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set TRel TWB {success}", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TP \\<longmapsto>(Calculus TWB)* TP'\" and \"TP'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TQ\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TQ\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TQ \\<longmapsto>(Calculus TWB)* TQ'\" and \"TQ'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TP\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TP\\<Down><TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"rel_weakly_respects_barbs TRel TWB\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_weakly_respects_barbs TRel TWB", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "fix TP TQ x TP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "with C2"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "assume \"TP \\<longmapsto>(Calculus TWB)* TP'\" and \"TP'\\<down><TWB>x\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "hence \"TargetTerm TP\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x", "have \"TargetTerm TQ\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "using C7"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "thus \"TQ\\<Down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>x", "by blast"], ["proof (state)\nthis:\n  TQ\\<Down><TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "fix TP TQ x TQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "with C2"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "assume \"TQ \\<longmapsto>(Calculus TWB)* TQ'\" and \"TQ'\\<down><TWB>x\""], ["proof (state)\nthis:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "hence \"TargetTerm TQ\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "have \"TargetTerm TP\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>x", "using C7"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "thus \"TP\\<Down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>x", "by blast"], ["proof (state)\nthis:\n  TP\\<Down><TWB>x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_weakly_respects_barbs TRel TWB\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "ultimately"], ["proof (chain)\npicking this:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  rel_weakly_respects_barb_set TRel TWB {success}\n  rel_weakly_respects_barbs TRel TWB", "show \"operational_corresponding (TRel\\<^sup>*)\n   \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\n   \\<and> enc_weakly_respects_barbs \\<and> enc_weakly_respects_barb_set {success}\n   \\<and> rel_weakly_respects_barbs TRel TWB \\<and> rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\nusing this:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  rel_weakly_respects_barb_set TRel TWB {success}\n  rel_weakly_respects_barbs TRel TWB\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "by fast"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_respects_barbs TRel TWB \\<and>\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) OC_SS_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding TRel \\<and> preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_corresponding TRel \\<and>\n     preorder TRel \\<and>\n     weak_reduction_bisimulation TRel Target \\<and>\n     ((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     rel_weakly_respects_barb_set TRel TWB {success}) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n        preorder Rel \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})", "proof (rule iffI, (erule conjE)+)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume A1: \"rel_weakly_preserves_barb_set TRel TWB {success}\"\n     and A2: \"rel_weakly_reflects_barb_set TRel TWB {success}\"\n     and A3: \"enc_weakly_preserves_barb_set {success}\"\n     and A4: \"enc_weakly_reflects_barb_set {success}\"\n     and A5: \"preorder TRel\""], ["proof (state)\nthis:\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  preorder TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from A5"], ["proof (chain)\npicking this:\n  preorder TRel", "have A6: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel] preorder_on_def"], ["proof (prove)\nusing this:\n  preorder TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n  preorder_on ?A ?r \\<equiv> refl_on ?A ?r \\<and> trans ?r\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from A5"], ["proof (chain)\npicking this:\n  preorder TRel", "have A7: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding refl_on_def preorder_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "define Rel where \"Rel = indRelRTPO TRel\""], ["proof (state)\nthis:\n  Rel = indRelRTPO TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A6"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel", "have B2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "by (auto simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel", "have B3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume \"operational_complete TRel\" and \"operational_sound TRel\"\n     and \"weak_reduction_simulation TRel Target\"\n     and \"\\<forall>P Q Q'. (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow> (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)\""], ["proof (state)\nthis:\n  operational_complete TRel\n  operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "with Rel_def A6 A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)", "have B4: \"weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "using OC_iff_indRelRTPO_is_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A5"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  preorder TRel", "have B5: \"preorder Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n\ngoal (1 subgoal):\n 1. preorder Rel", "using indRelRTPO_is_preorder[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n  refl TRel \\<Longrightarrow> preorder (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. preorder Rel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  refl TRel \\<and> trans TRel\n  refl TRel \\<Longrightarrow>\n  refl (indRelRTPO TRel) \\<and> trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. refl Rel \\<and> trans Rel", "by blast"], ["proof (state)\nthis:\n  preorder Rel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "have B6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "using enc_and_TRel_impl_indRelRTPO_weakly_respects_success[where TRel=\"TRel\"\n            and success=\"success\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n  rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n  rel_weakly_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n        \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n        \\<and> weak_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n        \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    weak_reduction_bisimulation ?Rel (STCal Source Target) \\<and>\n    preorder ?Rel \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using B1 B2 B3 B4 B5 B6"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  preorder Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    weak_reduction_bisimulation ?Rel (STCal Source Target) \\<and>\n    preorder ?Rel \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n          \\<and> weak_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n          \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "obtain Rel where C1: \"(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\"\n   and C2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and C3: \"(\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\"\n   and C4: \"weak_reduction_bisimulation Rel (STCal Source Target)\" and C5: \"preorder Rel\"\n   and C6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n        preorder Rel \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n         {success} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  preorder Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from C1 C2 C3 C4 C5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  preorder Rel", "have \"\\<exists>Rel.(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel})\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and> preorder Rel\n   \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  preorder Rel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"operational_corresponding TRel \\<and> preorder TRel \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "using OC_wrt_preorder_iff_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n  (operational_corresponding TRel \\<and>\n   preorder TRel \\<and> weak_reduction_bisimulation TRel Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      TRel =\n      _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n      preorder Rel \\<and>\n      weak_reduction_bisimulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "by simp"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using C1 C6"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"enc_weakly_respects_barb_set {success}\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))", "using success_sensitive_iff_source_target_rel_weakly_respects_success"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  ((\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {?success})\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set TRel TWB {success}", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TP \\<longmapsto>(Calculus TWB)* TP'\" and \"TP'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TQ\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TQ\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TQ \\<longmapsto>(Calculus TWB)* TQ'\" and \"TQ'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TP\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TP\\<Down><TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "ultimately"], ["proof (chain)\npicking this:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  rel_weakly_respects_barb_set TRel TWB {success}", "show \"operational_corresponding TRel \\<and> preorder TRel\n   \\<and> weak_reduction_bisimulation TRel Target\n   \\<and> enc_weakly_respects_barb_set {success} \\<and> rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\nusing this:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "by fast"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and>\n  weak_reduction_bisimulation TRel Target \\<and>\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) OC_SS_RB_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding TRel \\<and> preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n          \\<and> enc_weakly_respects_barbs \\<and> rel_weakly_respects_barbs TRel TWB\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_corresponding TRel \\<and>\n     preorder TRel \\<and>\n     weak_reduction_bisimulation TRel Target \\<and>\n     ((\\<forall>S x.\n          (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n          (\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<and>\n      (\\<forall>S x.\n          (\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x) \\<longrightarrow>\n          (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n     rel_weakly_respects_barbs TRel TWB \\<and>\n     ((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     rel_weakly_respects_barb_set TRel TWB {success}) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n        preorder Rel \\<and>\n        rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})", "proof (rule iffI, (erule conjE)+)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume A1: \"rel_weakly_preserves_barbs TRel TWB\" and A2: \"rel_weakly_reflects_barbs TRel TWB\"\n     and A3: \"enc_weakly_preserves_barbs\" and A4: \"enc_weakly_reflects_barbs\"\n     and A5: \"preorder TRel\""], ["proof (state)\nthis:\n  rel_weakly_preserves_barbs TRel TWB\n  rel_weakly_reflects_barbs TRel TWB\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)\n  preorder TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from A5"], ["proof (chain)\npicking this:\n  preorder TRel", "have A6: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from A5"], ["proof (chain)\npicking this:\n  preorder TRel", "have A7: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "define Rel where \"Rel = indRelRTPO TRel\""], ["proof (state)\nthis:\n  Rel = indRelRTPO TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A6"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel", "have B2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "by (auto simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel", "have B3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume \"operational_complete TRel\" and \"operational_sound TRel\"\n     and \"weak_reduction_simulation TRel Target\"\n     and \"\\<forall>P Q Q'. (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow> (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)\""], ["proof (state)\nthis:\n  operational_complete TRel\n  operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "with Rel_def A6 A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)", "have B4: \"weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "using OC_iff_indRelRTPO_is_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A5"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  preorder TRel", "have B5: \"preorder Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n\ngoal (1 subgoal):\n 1. preorder Rel", "using indRelRTPO_is_preorder[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n  refl TRel \\<Longrightarrow> preorder (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. preorder Rel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  refl TRel \\<and> trans TRel\n  refl TRel \\<Longrightarrow>\n  refl (indRelRTPO TRel) \\<and> trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. refl Rel \\<and> trans Rel", "by blast"], ["proof (state)\nthis:\n  preorder Rel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barbs TRel TWB\n  rel_weakly_reflects_barbs TRel TWB\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)", "have B6: \"rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barbs TRel TWB\n  rel_weakly_reflects_barbs TRel TWB\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barbs Rel (STCalWB SWB TWB)", "using enc_and_TRel_impl_indRelRTPO_weakly_respects_barbs[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barbs TRel TWB\n  rel_weakly_reflects_barbs TRel TWB\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n  rel_weakly_preserves_barbs TRel TWB \\<and>\n  rel_weakly_reflects_barbs TRel TWB \\<Longrightarrow>\n  rel_weakly_respects_barbs (indRelRTPO TRel) (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barbs Rel (STCalWB SWB TWB)", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence B7: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n        \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n        \\<and> weak_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n        \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n        \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    weak_reduction_bisimulation ?Rel (STCal Source Target) \\<and>\n    preorder ?Rel \\<and>\n    rel_weakly_respects_barbs ?Rel (STCalWB SWB TWB) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using B1 B2 B3 B4 B5 B6 B7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  preorder Rel\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    weak_reduction_bisimulation ?Rel (STCal Source Target) \\<and>\n    preorder ?Rel \\<and>\n    rel_weakly_respects_barbs ?Rel (STCalWB SWB TWB) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n          \\<and> weak_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n          \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n          \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "obtain Rel where C1: \"(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\"\n   and C2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and C3: \"(\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\"\n   and C4: \"weak_reduction_bisimulation Rel (STCal Source Target)\" and C5: \"preorder Rel\"\n   and C6: \"rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n        preorder Rel \\<and>\n        rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  preorder Rel\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from C1 C2 C3 C4 C5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  preorder Rel", "have \"\\<exists>Rel.(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel})\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and> preorder Rel\n   \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  preorder Rel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"operational_corresponding TRel \\<and> preorder TRel \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "using OC_wrt_preorder_iff_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n  (operational_corresponding TRel \\<and>\n   preorder TRel \\<and> weak_reduction_bisimulation TRel Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      TRel =\n      _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n      preorder Rel \\<and>\n      weak_reduction_bisimulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "by simp"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB)", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barbs ?Rel (STCalWB SWB TWB)", "using C1 C6"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barbs ?Rel (STCalWB SWB TWB)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"enc_weakly_respects_barbs\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "using enc_weakly_respects_barbs_iff_source_target_rel"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barbs Rel (STCalWB SWB TWB))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"enc_weakly_respects_barb_set {success}\""], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"rel_weakly_respects_barbs TRel TWB\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_weakly_respects_barbs TRel TWB", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "fix TP TQ x TP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "assume \"TP \\<longmapsto>(Calculus TWB)* TP'\" and \"TP'\\<down><TWB>x\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "hence \"TargetTerm TP\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x", "have \"TargetTerm TQ\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "thus \"TQ\\<Down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>x", "by blast"], ["proof (state)\nthis:\n  TQ\\<Down><TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "fix TP TQ x TQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "assume \"TQ \\<longmapsto>(Calculus TWB)* TQ'\" and \"TQ'\\<down><TWB>x\""], ["proof (state)\nthis:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "hence \"TargetTerm TQ\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "have \"TargetTerm TP\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>x", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "thus \"TP\\<Down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>x", "by blast"], ["proof (state)\nthis:\n  TP\\<Down><TWB>x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_weakly_respects_barbs TRel TWB\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  rel_weakly_respects_barbs TRel TWB\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\nusing this:\n  rel_weakly_respects_barbs TRel TWB\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set TRel TWB {success}", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "ultimately"], ["proof (chain)\npicking this:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  rel_weakly_respects_barbs TRel TWB\n  rel_weakly_respects_barb_set TRel TWB {success}", "show \"operational_corresponding TRel \\<and> preorder TRel\n   \\<and> weak_reduction_bisimulation TRel Target\n   \\<and> enc_weakly_respects_barbs \\<and> rel_weakly_respects_barbs TRel TWB \n   \\<and> enc_weakly_respects_barb_set {success} \\<and> rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\nusing this:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  rel_weakly_respects_barbs TRel TWB\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "by fast"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and>\n  weak_reduction_bisimulation TRel Target \\<and>\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n  rel_weakly_respects_barbs TRel TWB \\<and>\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>An encoding is success sensitive and weakly operational corresponding w.r.t. a\n        correspondence simulation TRel that respects success iff there exists a correspondence\n        simultion that includes TRel and respects success. The same holds if we consider not only\n        success sensitiveness but barb sensitiveness in general.\\<close>"], ["", "lemma (in encoding_wrt_barbs) WOC_SS_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(weakly_operational_corresponding TRel \\<and> preorder TRel\n          \\<and> weak_reduction_correspondence_simulation TRel Target\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (weakly_operational_corresponding TRel \\<and>\n     preorder TRel \\<and>\n     weak_reduction_correspondence_simulation TRel Target \\<and>\n     ((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     rel_weakly_respects_barb_set TRel TWB {success}) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        weak_reduction_correspondence_simulation Rel\n         (STCal Source Target) \\<and>\n        preorder Rel \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})", "proof (rule iffI, (erule conjE)+)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume A1: \"rel_weakly_preserves_barb_set TRel TWB {success}\"\n     and A2: \"rel_weakly_reflects_barb_set TRel TWB {success}\"\n     and A3: \"enc_weakly_preserves_barb_set {success}\"\n     and A4: \"enc_weakly_reflects_barb_set {success}\"\n     and A5: \"preorder TRel\""], ["proof (state)\nthis:\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  preorder TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from A5"], ["proof (chain)\npicking this:\n  preorder TRel", "have A6: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from A5 A6"], ["proof (chain)\npicking this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel", "have A7: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "define Rel where \"Rel = indRelRTPO TRel\""], ["proof (state)\nthis:\n  Rel = indRelRTPO TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A6"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel", "have B2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "by (auto simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel", "have B3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume \"operational_complete TRel\" and \"weakly_operational_sound TRel\"\n     and \"weak_reduction_simulation TRel Target\"\n     and \"\\<forall>P Q Q'. (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q'\n          \\<longrightarrow> (\\<exists>P'' Q''. P \\<longmapsto>Target* P'' \\<and> Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)\""], ["proof (state)\nthis:\n  operational_complete TRel\n  weakly_operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>Target* P'' \\<and>\n         Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "with Rel_def A6 A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  weakly_operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>Target* P'' \\<and>\n         Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)", "have B4: \"weak_reduction_correspondence_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  weakly_operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>Target* P'' \\<and>\n         Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation Rel (STCal Source Target)", "using WOC_iff_indRelRTPO_is_reduction_correspondence_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  weakly_operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>Target* P'' \\<and>\n         Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)\n  (weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target) =\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation Rel (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A5"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  preorder TRel", "have B5: \"preorder Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n\ngoal (1 subgoal):\n 1. preorder Rel", "using indRelRTPO_is_preorder[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n  refl TRel \\<Longrightarrow> preorder (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. preorder Rel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  refl TRel \\<and> trans TRel\n  refl TRel \\<Longrightarrow>\n  refl (indRelRTPO TRel) \\<and> trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. refl Rel \\<and> trans Rel", "by blast"], ["proof (state)\nthis:\n  preorder Rel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "have B6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "using enc_and_TRel_impl_indRelRTPO_weakly_respects_success[where TRel=\"TRel\"\n            and success=\"success\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n  rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n  rel_weakly_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n        \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n        \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and> preorder Rel\n        \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    weak_reduction_correspondence_simulation ?Rel\n     (STCal Source Target) \\<and>\n    preorder ?Rel \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using B1 B2 B3 B4 B5 B6"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  preorder Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    weak_reduction_correspondence_simulation ?Rel\n     (STCal Source Target) \\<and>\n    preorder ?Rel \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_correspondence_simulation Rel\n      (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n          \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and> preorder Rel\n          \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_correspondence_simulation Rel\n      (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_correspondence_simulation Rel\n      (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "obtain Rel where C1: \"(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\"\n   and C2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and C3: \"(\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\"\n   and C4: \"weak_reduction_correspondence_simulation Rel (STCal Source Target)\"\n   and C5: \"preorder Rel\" and C6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_correspondence_simulation Rel\n      (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        weak_reduction_correspondence_simulation Rel\n         (STCal Source Target) \\<and>\n        preorder Rel \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n         {success} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  preorder Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from C1 C2 C3 C4 C5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  preorder Rel", "have \"\\<exists>Rel.(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel})\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and> preorder Rel\n   \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  preorder Rel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"weakly_operational_corresponding TRel \\<and> preorder TRel\n         \\<and> weak_reduction_correspondence_simulation TRel Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "using WOC_wrt_preorder_iff_reduction_correspondence_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  (weakly_operational_corresponding TRel \\<and>\n   preorder TRel \\<and>\n   weak_reduction_correspondence_simulation TRel Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      TRel =\n      _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n      preorder Rel \\<and>\n      weak_reduction_correspondence_simulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "by simp"], ["proof (state)\nthis:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using C1 C6"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"enc_weakly_respects_barb_set {success}\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))", "using success_sensitive_iff_source_target_rel_weakly_respects_success"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  ((\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {?success})\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set TRel TWB {success}", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TP \\<longmapsto>(Calculus TWB)* TP'\" and \"TP'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TQ\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TQ\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TQ \\<longmapsto>(Calculus TWB)* TQ'\" and \"TQ'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TP\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TP\\<Down><TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "ultimately"], ["proof (chain)\npicking this:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  rel_weakly_respects_barb_set TRel TWB {success}", "show \"weakly_operational_corresponding TRel \\<and> preorder TRel\n   \\<and> weak_reduction_correspondence_simulation TRel Target\n   \\<and> enc_weakly_respects_barb_set {success} \\<and> rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\nusing this:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "by fast"], ["proof (state)\nthis:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and>\n  weak_reduction_correspondence_simulation TRel Target \\<and>\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) WOC_SS_RB_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(weakly_operational_corresponding TRel \\<and> preorder TRel\n          \\<and> weak_reduction_correspondence_simulation TRel Target\n          \\<and> enc_weakly_respects_barbs \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barbs TRel TWB \\<and> rel_weakly_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (weakly_operational_corresponding TRel \\<and>\n     preorder TRel \\<and>\n     weak_reduction_correspondence_simulation TRel Target \\<and>\n     ((\\<forall>S x.\n          (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n          (\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<and>\n      (\\<forall>S x.\n          (\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x) \\<longrightarrow>\n          (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n     ((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     rel_weakly_respects_barbs TRel TWB \\<and>\n     rel_weakly_respects_barb_set TRel TWB {success}) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        weak_reduction_correspondence_simulation Rel\n         (STCal Source Target) \\<and>\n        preorder Rel \\<and>\n        rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success})", "proof (rule iffI, (erule conjE)+)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume A1: \"rel_weakly_preserves_barb_set TRel TWB {success}\"\n     and A2: \"rel_weakly_reflects_barb_set TRel TWB {success}\"\n     and A3: \"enc_weakly_preserves_barb_set {success}\"\n     and A4: \"enc_weakly_reflects_barb_set {success}\"\n     and A5: \"preorder TRel\"\n     and A1': \"rel_weakly_preserves_barbs TRel TWB\" and A2': \"rel_weakly_reflects_barbs TRel TWB\"\n     and A3': \"enc_weakly_preserves_barbs\" and A4': \"enc_weakly_reflects_barbs\""], ["proof (state)\nthis:\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  preorder TRel\n  rel_weakly_preserves_barbs TRel TWB\n  rel_weakly_reflects_barbs TRel TWB\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from A5"], ["proof (chain)\npicking this:\n  preorder TRel", "have A6: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from A5 A6"], ["proof (chain)\npicking this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel", "have A7: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "define Rel where \"Rel = indRelRTPO TRel\""], ["proof (state)\nthis:\n  Rel = indRelRTPO TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A6"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel", "have B2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "by (auto simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel", "have B3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume \"operational_complete TRel\" and \"weakly_operational_sound TRel\"\n     and \"weak_reduction_simulation TRel Target\"\n     and \"\\<forall>P Q Q'. (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q'\n          \\<longrightarrow> (\\<exists>P'' Q''. P \\<longmapsto>Target* P'' \\<and> Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)\""], ["proof (state)\nthis:\n  operational_complete TRel\n  weakly_operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>Target* P'' \\<and>\n         Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "with Rel_def A6 A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  weakly_operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>Target* P'' \\<and>\n         Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)", "have B4: \"weak_reduction_correspondence_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  weakly_operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>Target* P'' \\<and>\n         Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation Rel (STCal Source Target)", "using WOC_iff_indRelRTPO_is_reduction_correspondence_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  weakly_operational_sound TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>Target* P'' \\<and>\n         Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)\n  (weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target) =\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation Rel (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A5"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  preorder TRel", "have B5: \"preorder Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n\ngoal (1 subgoal):\n 1. preorder Rel", "using indRelRTPO_is_preorder[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n  refl TRel \\<Longrightarrow> preorder (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. preorder Rel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  refl TRel \\<and> trans TRel\n  refl TRel \\<Longrightarrow>\n  refl (indRelRTPO TRel) \\<and> trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. refl Rel \\<and> trans Rel", "by blast"], ["proof (state)\nthis:\n  preorder Rel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "have B6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "using enc_and_TRel_impl_indRelRTPO_weakly_respects_success[where TRel=\"TRel\"\n            and success=\"success\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n  rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n  rel_weakly_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from Rel_def A1' A2' A3' A4'"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barbs TRel TWB\n  rel_weakly_reflects_barbs TRel TWB\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)", "have B7: \"rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barbs TRel TWB\n  rel_weakly_reflects_barbs TRel TWB\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barbs Rel (STCalWB SWB TWB)", "using enc_and_TRel_impl_indRelRTPO_weakly_respects_barbs[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barbs TRel TWB\n  rel_weakly_reflects_barbs TRel TWB\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<Down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n  rel_weakly_preserves_barbs TRel TWB \\<and>\n  rel_weakly_reflects_barbs TRel TWB \\<Longrightarrow>\n  rel_weakly_respects_barbs (indRelRTPO TRel) (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barbs Rel (STCalWB SWB TWB)", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barbs TRel TWB \\<and>\n    rel_weakly_reflects_barbs TRel TWB \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n        \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n        \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and> preorder Rel\n        \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n        \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    weak_reduction_correspondence_simulation ?Rel\n     (STCal Source Target) \\<and>\n    preorder ?Rel \\<and>\n    rel_weakly_respects_barbs ?Rel (STCalWB SWB TWB) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using B1 B2 B3 B4 B5 B6 B7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  preorder Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    weak_reduction_correspondence_simulation ?Rel\n     (STCal Source Target) \\<and>\n    preorder ?Rel \\<and>\n    rel_weakly_respects_barbs ?Rel (STCalWB SWB TWB) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_correspondence_simulation Rel\n      (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n          \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and> preorder Rel\n          \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n          \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_correspondence_simulation Rel\n      (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_correspondence_simulation Rel\n      (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "obtain Rel where C1: \"(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\"\n   and C2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and C3: \"(\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\"\n   and C4: \"weak_reduction_correspondence_simulation Rel (STCal Source Target)\"\n   and C5: \"preorder Rel\" and C7: \"rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_correspondence_simulation Rel\n      (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        weak_reduction_correspondence_simulation Rel\n         (STCal Source Target) \\<and>\n        preorder Rel \\<and>\n        rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  preorder Rel\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from C1 C2 C3 C4 C5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  preorder Rel", "have \"\\<exists>Rel.(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel})\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and> preorder Rel\n   \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  preorder Rel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence \"weakly_operational_corresponding TRel \\<and> preorder TRel\n         \\<and> weak_reduction_correspondence_simulation TRel Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "using WOC_wrt_preorder_iff_reduction_correspondence_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  (weakly_operational_corresponding TRel \\<and>\n   preorder TRel \\<and>\n   weak_reduction_correspondence_simulation TRel Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      TRel =\n      _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n      preorder Rel \\<and>\n      weak_reduction_correspondence_simulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "by simp"], ["proof (state)\nthis:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB)", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barbs ?Rel (STCalWB SWB TWB)", "using C1 C7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barbs ?Rel (STCalWB SWB TWB)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "hence D1: \"enc_weakly_respects_barbs\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "using enc_weakly_respects_barbs_iff_source_target_rel"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barbs Rel (STCalWB SWB TWB))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from D1"], ["proof (chain)\npicking this:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "have \"enc_weakly_respects_barb_set {success}\""], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "have D2: \"rel_weakly_respects_barbs TRel TWB\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_weakly_respects_barbs TRel TWB", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "fix TP TQ x TP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "assume \"TP \\<longmapsto>(Calculus TWB)* TP'\" and \"TP'\\<down><TWB>x\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "hence \"TargetTerm TP\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x", "have \"TargetTerm TQ\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "using C7"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       b\\<Down><TWB>x\n 2. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "thus \"TQ\\<Down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>x", "by blast"], ["proof (state)\nthis:\n  TQ\\<Down><TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "fix TP TQ x TQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "assume \"TQ \\<longmapsto>(Calculus TWB)* TQ'\" and \"TQ'\\<down><TWB>x\""], ["proof (state)\nthis:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "hence \"TargetTerm TQ\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x", "have \"TargetTerm TP\\<Down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>x", "using C7"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>x\n  rel_weakly_respects_barbs Rel (STCalWB SWB TWB)\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>x \\<Longrightarrow>\n       a\\<Down><TWB>x", "thus \"TP\\<Down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>x", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>x\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>x", "by blast"], ["proof (state)\nthis:\n  TP\\<Down><TWB>x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_weakly_respects_barbs TRel TWB\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  rel_weakly_respects_barbs TRel TWB\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "from D2"], ["proof (chain)\npicking this:\n  rel_weakly_respects_barbs TRel TWB", "have \"rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\nusing this:\n  rel_weakly_respects_barbs TRel TWB\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set TRel TWB {success}", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barbs Rel (STCalWB SWB TWB) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "ultimately"], ["proof (chain)\npicking this:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  rel_weakly_respects_barbs TRel TWB\n  rel_weakly_respects_barb_set TRel TWB {success}", "show \"weakly_operational_corresponding TRel \\<and> preorder TRel\n   \\<and> weak_reduction_correspondence_simulation TRel Target\n   \\<and> enc_weakly_respects_barbs \\<and> enc_weakly_respects_barb_set {success}\n   \\<and> rel_weakly_respects_barbs TRel TWB \\<and> rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\nusing this:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))\n  rel_weakly_respects_barbs TRel TWB\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barbs TRel TWB \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success}", "by fast"], ["proof (state)\nthis:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and>\n  weak_reduction_correspondence_simulation TRel Target \\<and>\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<Down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_respects_barbs TRel TWB \\<and>\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>An encoding is strongly success sensitive and strongly operational corresponding w.r.t. a\n        strong bisimulation TRel that strongly respects success iff there exists a strong\n        bisimultion that includes TRel and strongly respects success. The same holds if we consider\n        not only strong success sensitiveness but strong barb sensitiveness in general.\\<close>"], ["", "lemma (in encoding_wrt_barbs) SOC_SS_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_corresponding TRel \\<and> preorder TRel\n          \\<and> strong_reduction_bisimulation TRel Target\n          \\<and> enc_respects_barb_set {success} \\<and> rel_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> strong_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     preorder TRel \\<and>\n     (strong_reduction_simulation TRel Target \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> TRel \\<and>\n          Q \\<longmapsto>Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n     ((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n     rel_respects_barb_set TRel TWB {success}) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n         (\\<forall>P Q Q'.\n             (P, Q) \\<in> Rel \\<and>\n             Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n             (\\<exists>P'.\n                 P \\<longmapsto>STCal Source Target P' \\<and>\n                 (P', Q') \\<in> Rel))) \\<and>\n        preorder Rel \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) {success})", "proof (rule iffI, (erule conjE)+)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "assume A1: \"rel_preserves_barb_set TRel TWB {success}\"\n     and A2: \"rel_reflects_barb_set TRel TWB {success}\"\n     and A3: \"enc_preserves_barb_set {success}\" and A4: \"enc_reflects_barb_set {success}\"\n     and A5: \"preorder TRel\""], ["proof (state)\nthis:\n  rel_preserves_barb_set TRel TWB {success}\n  rel_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n  preorder TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from A5"], ["proof (chain)\npicking this:\n  preorder TRel", "have A6: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from A5 A6"], ["proof (chain)\npicking this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel", "have A7: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "define Rel where \"Rel = indRelRTPO TRel\""], ["proof (state)\nthis:\n  Rel = indRelRTPO TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "hence B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from Rel_def A6"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel", "have B2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "by (auto simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from Rel_def A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel", "have B3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "assume \"strongly_operational_complete TRel\" and \"strongly_operational_sound TRel\"\n     and \"strong_reduction_simulation TRel Target\"\n     and \"\\<forall>P Q Q'. (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow> (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)\""], ["proof (state)\nthis:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  strong_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "with Rel_def A6 A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  strong_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)", "have B4: \"strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  strong_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation Rel (STCal Source Target) \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> Rel \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            (P', Q') \\<in> Rel))", "using SOC_iff_indRelRTPO_is_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  strong_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n       Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))) =\n  ((\\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n   (\\<forall>P Q Q'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>STCal Source Target P' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')))\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation Rel (STCal Source Target) \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> Rel \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            (P', Q') \\<in> Rel))", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from Rel_def A5"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  preorder TRel", "have B5: \"preorder Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n\ngoal (1 subgoal):\n 1. preorder Rel", "using indRelRTPO_is_preorder[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n  refl TRel \\<Longrightarrow> preorder (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. preorder Rel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  refl TRel \\<and> trans TRel\n  refl TRel \\<Longrightarrow>\n  refl (indRelRTPO TRel) \\<and> trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. refl Rel \\<and> trans Rel", "by blast"], ["proof (state)\nthis:\n  preorder Rel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from Rel_def A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_preserves_barb_set TRel TWB {success}\n  rel_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))", "have B6: \"rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_preserves_barb_set TRel TWB {success}\n  rel_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n\ngoal (1 subgoal):\n 1. rel_respects_barb_set Rel (STCalWB SWB TWB) {success}", "using enc_and_TRel_impl_indRelRTPO_respects_success[where TRel=\"TRel\" and success=\"success\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_preserves_barb_set TRel TWB {success}\n  rel_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n  rel_preserves_barb_set TRel TWB {success} \\<and>\n  rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n  rel_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. rel_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n        \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n        \\<and> strong_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n        \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    (strong_reduction_simulation ?Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> ?Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> ?Rel))) \\<and>\n    preorder ?Rel \\<and>\n    rel_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using B1 B2 B3 B4 B5 B6"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  preorder Rel\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    (strong_reduction_simulation ?Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> ?Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> ?Rel))) \\<and>\n    preorder ?Rel \\<and>\n    rel_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel))) \\<and>\n     preorder Rel \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n          \\<and> strong_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n          \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel))) \\<and>\n     preorder Rel \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel))) \\<and>\n     preorder Rel \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success}", "obtain Rel where C1: \"(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\"\n   and C2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and C3: \"(\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\"\n   and C4: \"strong_reduction_bisimulation Rel (STCal Source Target)\" and C5: \"preorder Rel\"\n   and C6: \"rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel))) \\<and>\n     preorder Rel \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n         (\\<forall>P Q Q'.\n             (P, Q) \\<in> Rel \\<and>\n             Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n             (\\<exists>P'.\n                 P \\<longmapsto>STCal Source Target P' \\<and>\n                 (P', Q') \\<in> Rel))) \\<and>\n        preorder Rel \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB)\n         {success} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  preorder Rel\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from C1 C2 C3 C4 C5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  preorder Rel", "have \"\\<exists>Rel.(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel})\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and> preorder Rel\n   \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  preorder Rel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "hence \"strongly_operational_corresponding TRel \\<and> preorder TRel\n         \\<and> strong_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "using SOC_wrt_preorder_iff_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n   preorder TRel \\<and>\n   strong_reduction_simulation TRel Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      TRel =\n      _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n      preorder Rel \\<and>\n      strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel)))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using C1 C6"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "hence \"enc_respects_barb_set {success}\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))", "using success_sensitive_iff_source_target_rel_respects_success"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  ((\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {?success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_respects_barb_set Rel (STCalWB SWB TWB) {?success})\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "have \"rel_respects_barb_set TRel TWB {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_respects_barb_set TRel TWB {success}", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "fix TP TQ"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "assume \"TP\\<down><TWB>success\""], ["proof (state)\nthis:\n  TP\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "hence \"TargetTerm TP\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TP\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<down><STCalWB SWB TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TP\\<down><TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<down><STCalWB SWB TWB>success", "have \"TargetTerm TQ\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<down><STCalWB SWB TWB>success\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "thus \"TQ\\<down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TQ\\<down><TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TQ\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "fix TP TQ"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "assume \"TQ\\<down><TWB>success\""], ["proof (state)\nthis:\n  TQ\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "hence \"TargetTerm TQ\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TQ\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<down><STCalWB SWB TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TQ\\<down><TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success", "have \"TargetTerm TP\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "thus \"TP\\<down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TP\\<down><TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<down><STCalWB SWB TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TP\\<down><TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "ultimately"], ["proof (chain)\npicking this:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))\n  rel_respects_barb_set TRel TWB {success}", "show \"strongly_operational_corresponding TRel \\<and> preorder TRel\n   \\<and> strong_reduction_bisimulation TRel Target\n   \\<and> enc_respects_barb_set {success} \\<and> rel_respects_barb_set TRel TWB {success}\""], ["proof (prove)\nusing this:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))\n  rel_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "by fast"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  (strong_reduction_simulation TRel Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n  rel_respects_barb_set TRel TWB {success}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) SOC_SS_RB_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_corresponding TRel \\<and> preorder TRel\n          \\<and> strong_reduction_bisimulation TRel Target\n          \\<and> enc_respects_barbs \\<and> rel_respects_barbs TRel TWB\n          \\<and> enc_respects_barb_set {success} \\<and> rel_respects_barb_set TRel TWB {success})\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> strong_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_respects_barbs Rel (STCalWB SWB TWB)\n            \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     preorder TRel \\<and>\n     (strong_reduction_simulation TRel Target \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> TRel \\<and>\n          Q \\<longmapsto>Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n     ((\\<forall>S x.\n          (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n          (\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<and>\n      (\\<forall>S x.\n          (\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x) \\<longrightarrow>\n          (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n     rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n     ((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n     rel_respects_barb_set TRel TWB {success}) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n         (\\<forall>P Q Q'.\n             (P, Q) \\<in> Rel \\<and>\n             Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n             (\\<exists>P'.\n                 P \\<longmapsto>STCal Source Target P' \\<and>\n                 (P', Q') \\<in> Rel))) \\<and>\n        preorder Rel \\<and>\n        rel_respects_binary_pred Rel\n         (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) {success})", "proof (rule iffI, (erule conjE)+)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "assume A1: \"rel_preserves_barbs TRel TWB\" and A2: \"rel_reflects_barbs TRel TWB\"\n     and A3: \"enc_preserves_barbs\" and A4: \"enc_reflects_barbs\"\n     and A5: \"preorder TRel\""], ["proof (state)\nthis:\n  rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB)\n  rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB)\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)\n  preorder TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from A5"], ["proof (chain)\npicking this:\n  preorder TRel", "have A6: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from A5"], ["proof (chain)\npicking this:\n  preorder TRel", "have A7: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "define Rel where \"Rel = indRelRTPO TRel\""], ["proof (state)\nthis:\n  Rel = indRelRTPO TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "hence B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from Rel_def A6"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel", "have B2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "by (auto simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from Rel_def A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel", "have B3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "assume \"strongly_operational_complete TRel\" and \"strongly_operational_sound TRel\"\n     and \"strong_reduction_simulation TRel Target\"\n     and \"\\<forall>P Q Q'. (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow> (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)\""], ["proof (state)\nthis:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  strong_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "with Rel_def A6 A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  strong_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)", "have B4: \"strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  strong_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation Rel (STCal Source Target) \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> Rel \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            (P', Q') \\<in> Rel))", "using SOC_iff_indRelRTPO_is_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  strong_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n       Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))) =\n  ((\\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n   (\\<forall>P Q Q'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>STCal Source Target P' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')))\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation Rel (STCal Source Target) \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> Rel \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            (P', Q') \\<in> Rel))", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from Rel_def A5"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  preorder TRel", "have B5: \"preorder Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n\ngoal (1 subgoal):\n 1. preorder Rel", "using indRelRTPO_is_preorder[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n  refl TRel \\<Longrightarrow> preorder (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. preorder Rel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  refl TRel \\<and> trans TRel\n  refl TRel \\<Longrightarrow>\n  refl (indRelRTPO TRel) \\<and> trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. refl Rel \\<and> trans Rel", "by blast"], ["proof (state)\nthis:\n  preorder Rel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from Rel_def A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB)\n  rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB)\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)", "have B6: \"rel_respects_barbs Rel (STCalWB SWB TWB)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB)\n  rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB)\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)\n\ngoal (1 subgoal):\n 1. rel_respects_binary_pred Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))", "using enc_and_TRel_impl_indRelRTPO_respects_barbs[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB)\n  rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB)\n  \\<forall>S x.\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<down><TWB>x)\n  \\<forall>S x.\n     (\\<exists>Sa.\n         Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T.\n         T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n         T\\<down><TWB>x) \\<longrightarrow>\n     (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n     (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n  rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n  rel_reflects_binary_pred TRel\n   (\\<lambda>b. hasBarb b TWB) \\<Longrightarrow>\n  rel_respects_binary_pred (indRelRTPO TRel)\n   (\\<lambda>a. hasBarb a (STCalWB SWB TWB))\n\ngoal (1 subgoal):\n 1. rel_respects_binary_pred Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))", "by blast"], ["proof (state)\nthis:\n  rel_respects_binary_pred Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "hence B7: \"rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  rel_respects_binary_pred Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))\n\ngoal (1 subgoal):\n 1. rel_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<and>\n    rel_preserves_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    rel_reflects_binary_pred TRel (\\<lambda>b. hasBarb b TWB) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n        \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n        \\<and> strong_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n        \\<and> rel_respects_barbs Rel (STCalWB SWB TWB)\n        \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success}", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    (strong_reduction_simulation ?Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> ?Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> ?Rel))) \\<and>\n    preorder ?Rel \\<and>\n    rel_respects_binary_pred ?Rel\n     (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n    rel_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "using B1 B2 B3 B4 B5 B6"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  preorder Rel\n  rel_respects_binary_pred Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    (strong_reduction_simulation ?Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> ?Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> ?Rel))) \\<and>\n    preorder ?Rel \\<and>\n    rel_respects_binary_pred ?Rel\n     (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n    rel_respects_barb_set ?Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel))) \\<and>\n     preorder Rel \\<and>\n     rel_respects_binary_pred Rel\n      (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n          \\<and> strong_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n          \\<and> rel_respects_barbs Rel (STCalWB SWB TWB)\n          \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel))) \\<and>\n     preorder Rel \\<and>\n     rel_respects_binary_pred Rel\n      (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel))) \\<and>\n     preorder Rel \\<and>\n     rel_respects_binary_pred Rel\n      (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success}", "obtain Rel where C1: \"(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\"\n   and C2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and C3: \"(\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\"\n   and C4: \"strong_reduction_bisimulation Rel (STCal Source Target)\" and C5: \"preorder Rel\"\n   and C6: \"rel_respects_barbs Rel (STCalWB SWB TWB)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel))) \\<and>\n     preorder Rel \\<and>\n     rel_respects_binary_pred Rel\n      (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n         (\\<forall>P Q Q'.\n             (P, Q) \\<in> Rel \\<and>\n             Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n             (\\<exists>P'.\n                 P \\<longmapsto>STCal Source Target P' \\<and>\n                 (P', Q') \\<in> Rel))) \\<and>\n        preorder Rel \\<and>\n        rel_respects_binary_pred Rel\n         (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  preorder Rel\n  rel_respects_binary_pred Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "from C1 C2 C3 C4 C5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  preorder Rel", "have \"\\<exists>Rel.(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel})\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and> preorder Rel\n   \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  preorder Rel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "hence \"strongly_operational_corresponding TRel \\<and> preorder TRel\n         \\<and> strong_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "using SOC_wrt_preorder_iff_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n   preorder TRel \\<and>\n   strong_reduction_simulation TRel Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      TRel =\n      _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n      preorder Rel \\<and>\n      strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel)))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_respects_barbs Rel (STCalWB SWB TWB)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB))", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_respects_binary_pred ?Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))", "using C1 C6"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_respects_binary_pred Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_respects_binary_pred ?Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_binary_pred Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "hence \"enc_respects_barbs\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_binary_pred Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))", "using enc_respects_barbs_iff_source_target_rel"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_binary_pred Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_respects_binary_pred Rel\n       (\\<lambda>a. hasBarb a (STCalWB SWB TWB)))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<and>\n    (\\<forall>S x.\n        (\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x) \\<longrightarrow>\n        (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "hence \"enc_respects_barb_set {success}\""], ["proof (prove)\nusing this:\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n\ngoal (1 subgoal):\n 1. (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "have \"rel_respects_barbs TRel TWB\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB)", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>x \\<Longrightarrow>\n       b\\<down><TWB>x\n 2. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "fix TP TQ x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>x \\<Longrightarrow>\n       b\\<down><TWB>x\n 2. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>x \\<Longrightarrow>\n       b\\<down><TWB>x\n 2. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>x \\<Longrightarrow>\n       b\\<down><TWB>x\n 2. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>x \\<Longrightarrow>\n       b\\<down><TWB>x\n 2. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "assume \"TP\\<down><TWB>x\""], ["proof (state)\nthis:\n  TP\\<down><TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>x \\<Longrightarrow>\n       b\\<down><TWB>x\n 2. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "hence \"TargetTerm TP\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  TP\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<down><STCalWB SWB TWB>x", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TP\\<down><TWB>x\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>x \\<Longrightarrow>\n       b\\<down><TWB>x\n 2. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<down><STCalWB SWB TWB>x", "have \"TargetTerm TQ\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<down><STCalWB SWB TWB>x", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<down><STCalWB SWB TWB>x\n  rel_respects_binary_pred Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<down><STCalWB SWB TWB>x\n\ngoal (2 subgoals):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>x \\<Longrightarrow>\n       b\\<down><TWB>x\n 2. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "thus \"TQ\\<down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TQ\\<down><TWB>x", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<down><STCalWB SWB TWB>x\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<down><TWB>x", "by blast"], ["proof (state)\nthis:\n  TQ\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "fix TP TQ x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "assume \"TQ\\<down><TWB>x\""], ["proof (state)\nthis:\n  TQ\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "hence \"TargetTerm TQ\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  TQ\\<down><TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<down><STCalWB SWB TWB>x", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TQ\\<down><TWB>x\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<down><STCalWB SWB TWB>x", "have \"TargetTerm TP\\<down><STCalWB SWB TWB>x\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<down><STCalWB SWB TWB>x", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<down><STCalWB SWB TWB>x\n  rel_respects_binary_pred Rel (\\<lambda>a. hasBarb a (STCalWB SWB TWB))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<down><STCalWB SWB TWB>x", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. \\<And>a b x.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>x \\<Longrightarrow>\n       a\\<down><TWB>x", "thus \"TP\\<down><TWB>x\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<down><STCalWB SWB TWB>x\n\ngoal (1 subgoal):\n 1. TP\\<down><TWB>x", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<down><STCalWB SWB TWB>x\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<down><TWB>x", "by blast"], ["proof (state)\nthis:\n  TP\\<down><TWB>x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "moreover"], ["proof (state)\nthis:\n  rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "hence \"rel_respects_barb_set TRel TWB {success}\""], ["proof (prove)\nusing this:\n  rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB)\n\ngoal (1 subgoal):\n 1. rel_respects_barb_set TRel TWB {success}", "by blast"], ["proof (state)\nthis:\n  rel_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_binary_pred Rel\n        (\\<lambda>a. hasBarb a (STCalWB SWB TWB)) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB)\n        {success} \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "ultimately"], ["proof (chain)\npicking this:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))\n  rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB)\n  rel_respects_barb_set TRel TWB {success}", "show \"strongly_operational_corresponding TRel \\<and> preorder TRel\n   \\<and> strong_reduction_bisimulation TRel Target\n   \\<and> enc_respects_barbs \\<and> rel_respects_barbs TRel TWB\n   \\<and> enc_respects_barb_set {success} \\<and> rel_respects_barb_set TRel TWB {success}\""], ["proof (prove)\nusing this:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  (\\<forall>S x.\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<and>\n  (\\<forall>S x.\n      (\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x) \\<longrightarrow>\n      (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x))) \\<and>\n  (\\<forall>S x.\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<longrightarrow>\n      x \\<in> {success} \\<and>\n      ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))\n  rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB)\n  rel_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<and>\n     (\\<forall>S x.\n         (\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x) \\<longrightarrow>\n         (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success}", "by fast"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  (strong_reduction_simulation TRel Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n  ((\\<forall>S x.\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x)) \\<and>\n   (\\<forall>S x.\n       (\\<exists>Sa.\n           Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T.\n           T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n           T\\<down><TWB>x) \\<longrightarrow>\n       (\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n       (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n  rel_respects_binary_pred TRel (\\<lambda>a. hasBarb a TWB) \\<and>\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n  rel_respects_barb_set TRel TWB {success}\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Next we also add divergence reflection to operational correspondence and success\n        sensitiveness.\\<close>"], ["", "lemma (in encoding) enc_and_TRelimpl_indRelRTPO_reflect_divergence:\n  fixes TRel    :: \"('procT \\<times> 'procT) set\"\n  assumes encRD:  \"enc_reflects_divergence\"\n      and trelRD: \"rel_reflects_divergence TRel Target\"\n  shows \"rel_reflects_divergence (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_reflects_divergence (indRelRTPO TRel) (STCal Source Target)", "proof auto"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       a \\<longmapsto>STCal Source Target\\<omega>", "fix P Q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       a \\<longmapsto>STCal Source Target\\<omega>", "assume \"P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\" and \"Q \\<longmapsto>(STCal Source Target)\\<omega>\""], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> b \\<and>\n       b \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       a \\<longmapsto>STCal Source Target\\<omega>", "thus \"P \\<longmapsto>(STCal Source Target)\\<omega>\""], ["proof (prove)\nusing this:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (1 subgoal):\n 1. P \\<longmapsto>STCal Source Target\\<omega>", "proof induct"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>S.\n       SourceTerm\n        S \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "case (encR S)"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>S.\n       SourceTerm\n        S \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "assume \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)\\<omega>\""], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>S.\n       SourceTerm\n        S \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "hence \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>(Target)\\<omega>\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target\\<omega>", "by (simp add: STCal_divergent(2))"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target\\<omega>\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>S.\n       SourceTerm\n        S \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "with encRD"], ["proof (chain)\npicking this:\n  enc_reflects_divergence\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target\\<omega>", "have \"S \\<longmapsto>(Source)\\<omega>\""], ["proof (prove)\nusing this:\n  enc_reflects_divergence\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target\\<omega>\n\ngoal (1 subgoal):\n 1. S \\<longmapsto>Source\\<omega>", "by simp"], ["proof (state)\nthis:\n  S \\<longmapsto>Source\\<omega>\n\ngoal (4 subgoals):\n 1. \\<And>S.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>S.\n       SourceTerm\n        S \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 3. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 4. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "thus \"SourceTerm S \\<longmapsto>(STCal Source Target)\\<omega>\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source\\<omega>\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target\\<omega>", "by (simp add: STCal_divergent(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm\n        S \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm\n        S \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm\n        S \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "assume \"SourceTerm S \\<longmapsto>(STCal Source Target)\\<omega>\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (3 subgoals):\n 1. \\<And>S.\n       SourceTerm\n        S \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 3. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "thus \"SourceTerm S \\<longmapsto>(STCal Source Target)\\<omega>\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target\\<omega>", "by simp"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T2 \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "moreover"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "assume \"TargetTerm T2 \\<longmapsto>(STCal Source Target)\\<omega>\""], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "hence \"T2 \\<longmapsto>(Target)\\<omega>\""], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (1 subgoal):\n 1. T2 \\<longmapsto>Target\\<omega>", "by (simp add: STCal_divergent(2))"], ["proof (state)\nthis:\n  T2 \\<longmapsto>Target\\<omega>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "ultimately"], ["proof (chain)\npicking this:\n  (T1, T2) \\<in> TRel\n  T2 \\<longmapsto>Target\\<omega>", "have \"T1 \\<longmapsto>(Target)\\<omega>\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T2 \\<longmapsto>Target\\<omega>\n\ngoal (1 subgoal):\n 1. T1 \\<longmapsto>Target\\<omega>", "using trelRD"], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n  T2 \\<longmapsto>Target\\<omega>\n  rel_reflects_divergence TRel Target\n\ngoal (1 subgoal):\n 1. T1 \\<longmapsto>Target\\<omega>", "by blast"], ["proof (state)\nthis:\n  T1 \\<longmapsto>Target\\<omega>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm\n        T2 \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n       TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n 2. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "thus \"TargetTerm T1 \\<longmapsto>(STCal Source Target)\\<omega>\""], ["proof (prove)\nusing this:\n  T1 \\<longmapsto>Target\\<omega>\n\ngoal (1 subgoal):\n 1. TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>", "by (simp add: STCal_divergent(2))"], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "case (trans P Q R)"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n  P \\<longmapsto>STCal Source Target\\<omega>\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n  Q \\<longmapsto>STCal Source Target\\<omega>\n  R \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "assume \"R \\<longmapsto>(STCal Source Target)\\<omega>\"\n       and \"R \\<longmapsto>(STCal Source Target)\\<omega> \\<Longrightarrow> Q \\<longmapsto>(STCal Source Target)\\<omega>\"\n       and \"Q \\<longmapsto>(STCal Source Target)\\<omega> \\<Longrightarrow> P \\<longmapsto>(STCal Source Target)\\<omega>\""], ["proof (state)\nthis:\n  R \\<longmapsto>STCal Source Target\\<omega>\n  R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n  Q \\<longmapsto>STCal Source Target\\<omega>\n  Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n  P \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        P \\<longmapsto>STCal Source Target\\<omega>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n        Q \\<longmapsto>STCal Source Target\\<omega>;\n        R \\<longmapsto>STCal Source Target\\<omega>\\<rbrakk>\n       \\<Longrightarrow> P \\<longmapsto>STCal Source Target\\<omega>", "thus \"P \\<longmapsto>(STCal Source Target)\\<omega>\""], ["proof (prove)\nusing this:\n  R \\<longmapsto>STCal Source Target\\<omega>\n  R \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n  Q \\<longmapsto>STCal Source Target\\<omega>\n  Q \\<longmapsto>STCal Source Target\\<omega> \\<Longrightarrow>\n  P \\<longmapsto>STCal Source Target\\<omega>\n\ngoal (1 subgoal):\n 1. P \\<longmapsto>STCal Source Target\\<omega>", "by simp"], ["proof (state)\nthis:\n  P \\<longmapsto>STCal Source Target\\<omega>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<longmapsto>STCal Source Target\\<omega>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) OC_SS_DR_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding (TRel\\<^sup>*)\n          \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success}\n          \\<and> enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n            \\<and> rel_reflects_divergence Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_corresponding (TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n     ((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n     enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "proof (rule iffI, (erule conjE)+)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "assume A1: \"rel_weakly_preserves_barb_set TRel TWB {success}\"\n     and A2: \"rel_weakly_reflects_barb_set TRel TWB {success}\"\n     and A3: \"enc_weakly_preserves_barb_set {success}\"\n     and A4: \"enc_weakly_reflects_barb_set {success}\"\n     and A5: \"rel_reflects_divergence TRel Target\" and A6: \"enc_reflects_divergence\""], ["proof (state)\nthis:\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "define Rel where \"Rel = indRelRTPO TRel\""], ["proof (state)\nthis:\n  Rel = indRelRTPO TRel\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "hence B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel", "have B2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel", "by (simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel", "have B3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by (simp add: indRelRTPO_to_TRel(4)[where TRel=\"TRel\"])"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel", "have B4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "assume \"operational_complete (TRel\\<^sup>*)\"\n     and \"operational_sound (TRel\\<^sup>*)\"\n     and \"weak_reduction_simulation (TRel\\<^sup>+) Target\"\n     and \"\\<forall>P Q Q'. (P, Q) \\<in> TRel\\<^sup>+ \\<and> Q \\<longmapsto>Target* Q'\n          \\<longrightarrow> (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)\""], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*)\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n     Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'.\n         P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "with Rel_def"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  operational_complete (TRel\\<^sup>*)\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n     Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'.\n         P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)", "have B5: \"weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  operational_complete (TRel\\<^sup>*)\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n     Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'.\n         P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "using OC_iff_indRelRTPO_is_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  operational_complete (TRel\\<^sup>*)\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n     Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'.\n         P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel\\<^sup>+)\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "have B6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "using enc_and_TRel_impl_indRelRTPO_weakly_respects_success[where TRel=\"TRel\"\n            and success=\"success\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n  rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n  rel_weakly_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A5 A6"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence", "have B7: \"rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence Rel (STCal Source Target)", "using enc_and_TRelimpl_indRelRTPO_reflect_divergence[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence\n  enc_reflects_divergence \\<and>\n  rel_reflects_divergence TRel Target \\<Longrightarrow>\n  rel_reflects_divergence (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n        \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n        \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n        \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n        \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n        \\<and> rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> ?Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation ?Rel (STCal Source Target) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "using B1 B2 B3 B4 B5 B6 B7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> ?Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation ?Rel (STCal Source Target) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n          \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n          \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n          \\<and> rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)", "obtain Rel where C1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n   and C2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n   and C3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\"\n   and C4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n   and C5: \"weak_reduction_bisimulation Rel (STCal Source Target)\"\n   and C6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\"\n   and C7: \"rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from C1 C2 C3 C4 C5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)", "have \"\\<exists>Rel.(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n   \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "hence \"operational_corresponding (TRel\\<^sup>*)\n        \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "using OC_iff_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      weak_reduction_bisimulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "by auto"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "moreover"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n                 \\<and> rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "using C1 C6 C7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "hence \"enc_weakly_respects_barb_set {success} \\<and> enc_reflects_divergence\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    enc_reflects_divergence", "using WSS_DR_iff_source_target_rel"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n  (((\\<forall>S x.\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n   enc_reflects_divergence) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {?success} \\<and>\n      rel_reflects_divergence Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    enc_reflects_divergence", "by auto"], ["proof (state)\nthis:\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "moreover"], ["proof (state)\nthis:\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "have \"rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set TRel TWB {success}", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TP \\<longmapsto>(Calculus TWB)* TP'\" and \"TP'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TQ\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TQ\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TQ \\<longmapsto>(Calculus TWB)* TQ'\" and \"TQ'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TP\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TP\\<Down><TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "moreover"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from C2 C7"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  rel_reflects_divergence Rel (STCal Source Target)", "have \"rel_reflects_divergence TRel Target\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence TRel Target", "using STCal_divergent(2)"], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  rel_reflects_divergence Rel (STCal Source Target)\n  TargetTerm ?T \\<longmapsto>STCal Source Target\\<omega> =\n  ?T \\<longmapsto>Target\\<omega>\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence TRel Target", "by blast"], ["proof (state)\nthis:\n  rel_reflects_divergence TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n  rel_weakly_respects_barb_set TRel TWB {success}\n  rel_reflects_divergence TRel Target", "show \"operational_corresponding (TRel\\<^sup>*)\n   \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\n   \\<and> enc_weakly_respects_barb_set {success} \\<and> rel_weakly_respects_barb_set TRel TWB {success}\n   \\<and> enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target\""], ["proof (prove)\nusing this:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n  rel_weakly_respects_barb_set TRel TWB {success}\n  rel_reflects_divergence TRel Target\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "by fast"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<and>\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n  enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) WOC_SS_DR_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(weakly_operational_corresponding TRel \\<and> preorder TRel\n          \\<and> weak_reduction_correspondence_simulation TRel Target\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success}\n          \\<and> enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n            \\<and> rel_reflects_divergence Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (weakly_operational_corresponding TRel \\<and>\n     preorder TRel \\<and>\n     weak_reduction_correspondence_simulation TRel Target \\<and>\n     ((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n     enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        weak_reduction_correspondence_simulation Rel\n         (STCal Source Target) \\<and>\n        preorder Rel \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "proof (rule iffI, (erule conjE)+)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "assume A1: \"rel_weakly_preserves_barb_set TRel TWB {success}\"\n     and A2: \"rel_weakly_reflects_barb_set TRel TWB {success}\"\n     and A3: \"enc_weakly_preserves_barb_set {success}\"\n     and A4: \"enc_weakly_reflects_barb_set {success}\"\n     and A5: \"rel_reflects_divergence TRel Target\" and A6: \"enc_reflects_divergence\"\n     and A7: \"preorder TRel\""], ["proof (state)\nthis:\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence\n  preorder TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from A7"], ["proof (chain)\npicking this:\n  preorder TRel", "have A8: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from A7"], ["proof (chain)\npicking this:\n  preorder TRel", "have A9: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "define Rel where \"Rel = indRelRTPO TRel\""], ["proof (state)\nthis:\n  Rel = indRelRTPO TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "hence B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A8"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel", "have B2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "by (auto simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A9"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel", "have B3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "assume \"operational_complete TRel\" and \"weakly_operational_sound TRel\" and \"preorder TRel\"\n     and \"weak_reduction_simulation TRel Target\"\n     and \"\\<forall>P Q Q'. (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q'\n          \\<longrightarrow> (\\<exists>P'' Q''. P \\<longmapsto>Target* P'' \\<and> Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)\""], ["proof (state)\nthis:\n  operational_complete TRel\n  weakly_operational_sound TRel\n  preorder TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>Target* P'' \\<and>\n         Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "with Rel_def A8 A9"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  weakly_operational_sound TRel\n  preorder TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>Target* P'' \\<and>\n         Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)", "have B4: \"weak_reduction_correspondence_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  weakly_operational_sound TRel\n  preorder TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>Target* P'' \\<and>\n         Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation Rel (STCal Source Target)", "using WOC_iff_indRelRTPO_is_reduction_correspondence_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  weakly_operational_sound TRel\n  preorder TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>Target* P'' \\<and>\n         Q' \\<longmapsto>Target* Q'' \\<and> (P'', Q'') \\<in> TRel)\n  (weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target) =\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation Rel (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  preorder TRel", "have B5: \"preorder Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n\ngoal (1 subgoal):\n 1. preorder Rel", "using indRelRTPO_is_preorder[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n  refl TRel \\<Longrightarrow> preorder (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. preorder Rel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  refl TRel \\<and> trans TRel\n  refl TRel \\<Longrightarrow>\n  refl (indRelRTPO TRel) \\<and> trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. refl Rel \\<and> trans Rel", "by simp"], ["proof (state)\nthis:\n  preorder Rel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "have B6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "using enc_and_TRel_impl_indRelRTPO_weakly_respects_success[where TRel=\"TRel\"\n            and success=\"success\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n  rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n  rel_weakly_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A5 A6"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence", "have B7: \"rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence Rel (STCal Source Target)", "using enc_and_TRelimpl_indRelRTPO_reflect_divergence[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence\n  enc_reflects_divergence \\<and>\n  rel_reflects_divergence TRel Target \\<Longrightarrow>\n  rel_reflects_divergence (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'' Q''.\n            P \\<longmapsto>Target* P'' \\<and>\n            Q' \\<longmapsto>Target* Q'' \\<and>\n            (P'', Q'') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n        \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n        \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and> preorder Rel\n        \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n        \\<and> rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    weak_reduction_correspondence_simulation ?Rel\n     (STCal Source Target) \\<and>\n    preorder ?Rel \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "using B1 B2 B3 B4 B5 B6 B7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  preorder Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    weak_reduction_correspondence_simulation ?Rel\n     (STCal Source Target) \\<and>\n    preorder ?Rel \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_correspondence_simulation Rel\n      (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n          \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and> preorder Rel\n          \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n          \\<and> rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_correspondence_simulation Rel\n      (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_correspondence_simulation Rel\n      (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)", "obtain Rel where C1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n   and C2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and C3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\"\n   and C4: \"weak_reduction_correspondence_simulation Rel (STCal Source Target)\"\n   and C5: \"preorder Rel\" and C6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\"\n   and C7: \"rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_correspondence_simulation Rel\n      (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        weak_reduction_correspondence_simulation Rel\n         (STCal Source Target) \\<and>\n        preorder Rel \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  preorder Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from C1 C2 C3 C4 C5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  preorder Rel", "have \"\\<exists>Rel.(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and> preorder Rel\n   \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  preorder Rel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "hence \"weakly_operational_corresponding TRel \\<and> preorder TRel\n         \\<and> weak_reduction_correspondence_simulation TRel Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "using WOC_wrt_preorder_iff_reduction_correspondence_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  (weakly_operational_corresponding TRel \\<and>\n   preorder TRel \\<and>\n   weak_reduction_correspondence_simulation TRel Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      TRel =\n      _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n      preorder Rel \\<and>\n      weak_reduction_correspondence_simulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "by simp"], ["proof (state)\nthis:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "moreover"], ["proof (state)\nthis:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n                 \\<and> rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "using C1 C6 C7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "hence \"enc_weakly_respects_barb_set {success} \\<and> enc_reflects_divergence\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    enc_reflects_divergence", "using WSS_DR_iff_source_target_rel"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n  (((\\<forall>S x.\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n   enc_reflects_divergence) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {?success} \\<and>\n      rel_reflects_divergence Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    enc_reflects_divergence", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "moreover"], ["proof (state)\nthis:\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "have \"rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set TRel TWB {success}", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TP \\<longmapsto>(Calculus TWB)* TP'\" and \"TP'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TQ\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TQ\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TQ \\<longmapsto>(Calculus TWB)* TQ'\" and \"TQ'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TP\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TP\\<Down><TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "moreover"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from C2 C7"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  rel_reflects_divergence Rel (STCal Source Target)", "have \"rel_reflects_divergence TRel Target\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence TRel Target", "using STCal_divergent(2)"], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  rel_reflects_divergence Rel (STCal Source Target)\n  TargetTerm ?T \\<longmapsto>STCal Source Target\\<omega> =\n  ?T \\<longmapsto>Target\\<omega>\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence TRel Target", "by blast"], ["proof (state)\nthis:\n  rel_reflects_divergence TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n  rel_weakly_respects_barb_set TRel TWB {success}\n  rel_reflects_divergence TRel Target", "show \"weakly_operational_corresponding TRel \\<and> preorder TRel\n   \\<and> weak_reduction_correspondence_simulation TRel Target\n   \\<and> enc_weakly_respects_barb_set {success} \\<and> rel_weakly_respects_barb_set TRel TWB {success}\n   \\<and> enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target\""], ["proof (prove)\nusing this:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n  rel_weakly_respects_barb_set TRel TWB {success}\n  rel_reflects_divergence TRel Target\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "by fast"], ["proof (state)\nthis:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and>\n  weak_reduction_correspondence_simulation TRel Target \\<and>\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n  enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) OC_SS_DR_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding TRel \\<and> preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n          \\<and> enc_weakly_respects_barb_set {success}\n          \\<and> rel_weakly_respects_barb_set TRel TWB {success}\n          \\<and> enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n            \\<and> rel_reflects_divergence Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_corresponding TRel \\<and>\n     preorder TRel \\<and>\n     weak_reduction_bisimulation TRel Target \\<and>\n     ((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<Down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n     rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n     enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n        preorder Rel \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "proof (rule iffI, (erule conjE)+)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "assume A1: \"rel_weakly_preserves_barb_set TRel TWB {success}\"\n     and A2: \"rel_weakly_reflects_barb_set TRel TWB {success}\"\n     and A3: \"enc_weakly_preserves_barb_set {success}\"\n     and A4: \"enc_weakly_reflects_barb_set {success}\"\n     and A5: \"rel_reflects_divergence TRel Target\" and A6: \"enc_reflects_divergence\"\n     and A7: \"preorder TRel\""], ["proof (state)\nthis:\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence\n  preorder TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from A7"], ["proof (chain)\npicking this:\n  preorder TRel", "have A8: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from A7"], ["proof (chain)\npicking this:\n  preorder TRel", "have A9: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "define Rel where \"Rel = indRelRTPO TRel\""], ["proof (state)\nthis:\n  Rel = indRelRTPO TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "hence B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A8"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel", "have B2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "by (auto simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A9"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel", "have B3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "assume \"operational_complete TRel\" and \"operational_sound TRel\" and \"preorder TRel\"\n     and \"weak_reduction_simulation TRel Target\"\n     and \"\\<forall>P Q Q'. (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow> (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)\""], ["proof (state)\nthis:\n  operational_complete TRel\n  operational_sound TRel\n  preorder TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "with Rel_def A8 A9"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  operational_sound TRel\n  preorder TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)", "have B4: \"weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  operational_sound TRel\n  preorder TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "using OC_iff_indRelRTPO_is_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_complete TRel\n  operational_sound TRel\n  preorder TRel\n  weak_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation Rel (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  preorder TRel", "have B5: \"preorder Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n\ngoal (1 subgoal):\n 1. preorder Rel", "using indRelRTPO_is_preorder[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n  refl TRel \\<Longrightarrow> preorder (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. preorder Rel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  refl TRel \\<and> trans TRel\n  refl TRel \\<Longrightarrow>\n  refl (indRelRTPO TRel) \\<and> trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. refl Rel \\<and> trans Rel", "by simp"], ["proof (state)\nthis:\n  preorder Rel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))", "have B6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "using enc_and_TRel_impl_indRelRTPO_weakly_respects_success[where TRel=\"TRel\"\n            and success=\"success\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_weakly_preserves_barb_set TRel TWB {success}\n  rel_weakly_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<Down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<Down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n  rel_weakly_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n  rel_weakly_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A5 A6"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence", "have B7: \"rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence Rel (STCal Source Target)", "using enc_and_TRelimpl_indRelRTPO_reflect_divergence[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence\n  enc_reflects_divergence \\<and>\n  rel_reflects_divergence TRel Target \\<Longrightarrow>\n  rel_reflects_divergence (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x))) \\<and>\n    rel_weakly_preserves_barb_set TRel TWB {success} \\<and>\n    rel_weakly_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n        \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n        \\<and> weak_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n        \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n        \\<and> rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    weak_reduction_bisimulation ?Rel (STCal Source Target) \\<and>\n    preorder ?Rel \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "using B1 B2 B3 B4 B5 B6 B7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  preorder Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    weak_reduction_bisimulation ?Rel (STCal Source Target) \\<and>\n    preorder ?Rel \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n          \\<and> weak_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n          \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n          \\<and> rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)", "obtain Rel where C1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n   and C2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and C3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\"\n   and C4: \"weak_reduction_bisimulation Rel (STCal Source Target)\" and C5: \"preorder Rel\"\n   and C6: \"rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\"\n   and C7: \"rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n     preorder Rel \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n        preorder Rel \\<and>\n        rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  preorder Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from C1 C2 C3 C4 C5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  preorder Rel", "have \"\\<exists>Rel.(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and> preorder Rel\n   \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  preorder Rel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "hence \"operational_corresponding TRel \\<and> preorder TRel \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "using OC_wrt_preorder_iff_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n  (operational_corresponding TRel \\<and>\n   preorder TRel \\<and> weak_reduction_bisimulation TRel Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      TRel =\n      _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n      preorder Rel \\<and>\n      weak_reduction_bisimulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "by simp"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "moreover"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n                 \\<and> rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "using C1 C6 C7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_weakly_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "hence \"enc_weakly_respects_barb_set {success} \\<and> enc_reflects_divergence\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    enc_reflects_divergence", "using WSS_DR_iff_source_target_rel"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n  (((\\<forall>S x.\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<Down><TWB>x)) \\<longrightarrow>\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n   enc_reflects_divergence) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {?success} \\<and>\n      rel_reflects_divergence Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    enc_reflects_divergence", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "moreover"], ["proof (state)\nthis:\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "have \"rel_weakly_respects_barb_set TRel TWB {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_weakly_respects_barb_set TRel TWB {success}", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TP \\<longmapsto>(Calculus TWB)* TP'\" and \"TP'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Calculus TWB* TP'\n  TP'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       a \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       b\\<Down><TWB>success\n 2. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TQ\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TQ\\<Down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "fix TP TQ TQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "assume \"TQ \\<longmapsto>(Calculus TWB)* TQ'\" and \"TQ'\\<down><TWB>success\""], ["proof (state)\nthis:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "hence \"TargetTerm TQ\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Calculus TWB* TQ'\n  TQ'\\<down><TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success", "have \"TargetTerm TP\\<Down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<Down><STCalWB SWB TWB>success\n  rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<Down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b P'.\n       (a, b) \\<in> TRel \\<and>\n       b \\<longmapsto>Calculus TWB* P' \\<and>\n       P'\\<down><TWB>success \\<Longrightarrow>\n       a\\<Down><TWB>success", "thus \"TP\\<Down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "using STCalWB_reachesBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<Down><STCalWB SWB TWB>success\n  ?P\\<Down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<Down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<Down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<Down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TP\\<Down><TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "moreover"], ["proof (state)\nthis:\n  rel_weakly_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from C2 C7"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  rel_reflects_divergence Rel (STCal Source Target)", "have \"rel_reflects_divergence TRel Target\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence TRel Target", "using STCal_divergent(2)"], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  rel_reflects_divergence Rel (STCal Source Target)\n  TargetTerm ?T \\<longmapsto>STCal Source Target\\<omega> =\n  ?T \\<longmapsto>Target\\<omega>\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence TRel Target", "by blast"], ["proof (state)\nthis:\n  rel_reflects_divergence TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target) \\<and>\n       preorder Rel \\<and>\n       rel_weakly_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n  rel_weakly_respects_barb_set TRel TWB {success}\n  rel_reflects_divergence TRel Target", "show \"operational_corresponding TRel \\<and> preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n   \\<and> enc_weakly_respects_barb_set {success} \\<and> rel_weakly_respects_barb_set TRel TWB {success}\n   \\<and> enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target\""], ["proof (prove)\nusing this:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n  rel_weakly_respects_barb_set TRel TWB {success}\n  rel_reflects_divergence TRel Target\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<Down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n    rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "by fast"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and>\n  weak_reduction_bisimulation TRel Target \\<and>\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<Down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<Down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<Down><TWB>x)))) \\<and>\n  rel_weakly_respects_barb_set TRel TWB {success} \\<and>\n  enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding_wrt_barbs) SOC_SS_DR_wrt_preorder_iff_source_target_rel:\n  fixes success :: \"'barbs\"\n    and TRel    :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_corresponding TRel \\<and> preorder TRel\n          \\<and> strong_reduction_bisimulation TRel Target\n          \\<and> enc_respects_barb_set {success} \\<and> rel_respects_barb_set TRel TWB {success}\n          \\<and> enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> strong_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n            \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n            \\<and> rel_reflects_divergence Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     preorder TRel \\<and>\n     (strong_reduction_simulation TRel Target \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> TRel \\<and>\n          Q \\<longmapsto>Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n     ((\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x))) \\<and>\n      (\\<forall>S x.\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n               T\\<down><TWB>x)) \\<longrightarrow>\n          x \\<in> {success} \\<and>\n          ((\\<exists>Sa.\n               Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n           (\\<exists>T.\n               T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n     rel_respects_barb_set TRel TWB {success} \\<and>\n     enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n         (\\<forall>P Q Q'.\n             (P, Q) \\<in> Rel \\<and>\n             Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n             (\\<exists>P'.\n                 P \\<longmapsto>STCal Source Target P' \\<and>\n                 (P', Q') \\<in> Rel))) \\<and>\n        preorder Rel \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target))", "proof (rule iffI, (erule conjE)+)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "assume A1: \"rel_preserves_barb_set TRel TWB {success}\"\n     and A2: \"rel_reflects_barb_set TRel TWB {success}\"\n     and A3: \"enc_preserves_barb_set {success}\" and A4: \"enc_reflects_barb_set {success}\"\n     and A5: \"rel_reflects_divergence TRel Target\" and A6: \"enc_reflects_divergence\"\n     and A7: \"preorder TRel\""], ["proof (state)\nthis:\n  rel_preserves_barb_set TRel TWB {success}\n  rel_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence\n  preorder TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from A7"], ["proof (chain)\npicking this:\n  preorder TRel", "have A8: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from A7"], ["proof (chain)\npicking this:\n  preorder TRel", "have A9: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "define Rel where \"Rel = indRelRTPO TRel\""], ["proof (state)\nthis:\n  Rel = indRelRTPO TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "hence B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A8"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel", "have B2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "by (auto simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A9"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel", "have B3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>* = TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "assume \"strongly_operational_complete TRel\" and \"strongly_operational_sound TRel\"\n     and \"preorder TRel\" and \"strong_reduction_simulation TRel Target\"\n     and \"\\<forall>P Q Q'. (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow> (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)\""], ["proof (state)\nthis:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  preorder TRel\n  strong_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "with Rel_def A8 A9"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  preorder TRel\n  strong_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)", "have B4: \"strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  preorder TRel\n  strong_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation Rel (STCal Source Target) \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> Rel \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            (P', Q') \\<in> Rel))", "using SOC_iff_indRelRTPO_is_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  preorder TRel\n  strong_reduction_simulation TRel Target\n  \\<forall>P Q Q'.\n     (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n     (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n       Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))) =\n  ((\\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n   (\\<forall>P Q Q'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>STCal Source Target P' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')))\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation Rel (STCal Source Target) \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> Rel \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            (P', Q') \\<in> Rel))", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A7"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  preorder TRel", "have B5: \"preorder Rel\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n\ngoal (1 subgoal):\n 1. preorder Rel", "using indRelRTPO_is_preorder[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  preorder TRel\n  refl TRel \\<Longrightarrow> preorder (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. preorder Rel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  refl TRel \\<and> trans TRel\n  refl TRel \\<Longrightarrow>\n  refl (indRelRTPO TRel) \\<and> trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. refl Rel \\<and> trans Rel", "by simp"], ["proof (state)\nthis:\n  preorder Rel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_preserves_barb_set TRel TWB {success}\n  rel_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))", "have B6: \"rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_preserves_barb_set TRel TWB {success}\n  rel_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n\ngoal (1 subgoal):\n 1. rel_respects_barb_set Rel (STCalWB SWB TWB) {success}", "using enc_and_TRel_impl_indRelRTPO_respects_success[where TRel=\"TRel\" and success=\"success\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_preserves_barb_set TRel TWB {success}\n  rel_reflects_barb_set TRel TWB {success}\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> T\\<down><TWB>x))\n  \\<forall>S x.\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa.\n          Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T.\n          T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n          T\\<down><TWB>x)) \\<longrightarrow>\n     x \\<in> {success} \\<and>\n     ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n      (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n  rel_preserves_barb_set TRel TWB {success} \\<and>\n  rel_reflects_barb_set TRel TWB {success} \\<Longrightarrow>\n  rel_respects_barb_set (indRelRTPO TRel) (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. rel_respects_barb_set Rel (STCalWB SWB TWB) {success}", "by blast"], ["proof (state)\nthis:\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from Rel_def A5 A6"], ["proof (chain)\npicking this:\n  Rel = indRelRTPO TRel\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence", "have B7: \"rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence Rel (STCal Source Target)", "using enc_and_TRelimpl_indRelRTPO_reflect_divergence[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Rel = indRelRTPO TRel\n  rel_reflects_divergence TRel Target\n  enc_reflects_divergence\n  enc_reflects_divergence \\<and>\n  rel_reflects_divergence TRel Target \\<Longrightarrow>\n  rel_reflects_divergence (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel)) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x))) \\<and>\n    rel_preserves_barb_set TRel TWB {success} \\<and>\n    rel_reflects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and>\n    rel_reflects_divergence TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n        \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n        \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n        \\<and> strong_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n        \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n        \\<and> rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    (strong_reduction_simulation ?Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> ?Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> ?Rel))) \\<and>\n    preorder ?Rel \\<and>\n    rel_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "using B1 B2 B3 B4 B5 B6 B7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  preorder Rel\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    TRel =\n    _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n    (\\<forall>S T.\n        (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n        (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n    (strong_reduction_simulation ?Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> ?Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> ?Rel))) \\<and>\n    preorder ?Rel \\<and>\n    rel_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel))) \\<and>\n     preorder Rel \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n          \\<and> strong_reduction_bisimulation Rel (STCal Source Target) \\<and> preorder Rel\n          \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n          \\<and> rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel))) \\<and>\n     preorder Rel \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel))) \\<and>\n     preorder Rel \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)", "obtain Rel where C1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n   and C2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and C3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\"\n   and C4: \"strong_reduction_bisimulation Rel (STCal Source Target)\" and C5: \"preorder Rel\"\n   and C6: \"rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\"\n   and C7: \"rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel))) \\<and>\n     preorder Rel \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n         (\\<forall>P Q Q'.\n             (P, Q) \\<in> Rel \\<and>\n             Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n             (\\<exists>P'.\n                 P \\<longmapsto>STCal Source Target P' \\<and>\n                 (P', Q') \\<in> Rel))) \\<and>\n        preorder Rel \\<and>\n        rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n        rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  preorder Rel\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from C1 C2 C3 C4 C5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  preorder Rel", "have \"\\<exists>Rel.(\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and> preorder Rel\n   \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  preorder Rel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "hence \"strongly_operational_corresponding TRel \\<and> preorder TRel\n         \\<and> strong_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "using SOC_wrt_preorder_iff_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n   preorder TRel \\<and>\n   strong_reduction_simulation TRel Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      TRel =\n      _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n      preorder Rel \\<and>\n      strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel)))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "moreover"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                 \\<and> rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n                 \\<and> rel_reflects_divergence Rel (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target)", "apply (rule exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "using C1 C6 C7"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>S.\n        (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n    rel_respects_barb_set ?Rel (STCalWB SWB TWB) {success} \\<and>\n    rel_reflects_divergence ?Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "hence \"enc_respects_barb_set {success} \\<and> enc_reflects_divergence\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    enc_reflects_divergence", "using SS_DR_iff_source_target_rel"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n     rel_reflects_divergence Rel (STCal Source Target)\n  (((\\<forall>S x.\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x))) \\<and>\n    (\\<forall>S x.\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa.\n             Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T.\n             T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n             T\\<down><TWB>x)) \\<longrightarrow>\n        x \\<in> {?success} \\<and>\n        ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n         (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n   enc_reflects_divergence) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      rel_respects_barb_set Rel (STCalWB SWB TWB) {?success} \\<and>\n      rel_reflects_divergence Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    enc_reflects_divergence", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "moreover"], ["proof (state)\nthis:\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "have \"rel_respects_barb_set TRel TWB {success}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_respects_barb_set TRel TWB {success}", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "fix TP TQ"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "assume \"TP\\<down><TWB>success\""], ["proof (state)\nthis:\n  TP\\<down><TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "hence \"TargetTerm TP\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TP\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<down><STCalWB SWB TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TP\\<down><TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<down><STCalWB SWB TWB>success", "have \"TargetTerm TQ\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP\\<down><STCalWB SWB TWB>success\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> a\\<down><TWB>success \\<Longrightarrow>\n       b\\<down><TWB>success\n 2. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "thus \"TQ\\<down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TQ\\<down><TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TQ\\<down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TQ\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "fix TP TQ"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "with C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "assume \"TQ\\<down><TWB>success\""], ["proof (state)\nthis:\n  TQ\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "hence \"TargetTerm TQ\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  TQ\\<down><TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<down><STCalWB SWB TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TQ\\<down><TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TargetTerm TQ\\<down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success", "have \"TargetTerm TP\\<down><STCalWB SWB TWB>success\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<down><STCalWB SWB TWB>success", "using C6"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ\\<down><STCalWB SWB TWB>success\n  rel_respects_barb_set Rel (STCalWB SWB TWB) {success}\n\ngoal (1 subgoal):\n 1. TargetTerm TP\\<down><STCalWB SWB TWB>success", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<and> b\\<down><TWB>success \\<Longrightarrow>\n       a\\<down><TWB>success", "thus \"TP\\<down><TWB>success\""], ["proof (prove)\nusing this:\n  TargetTerm TP\\<down><STCalWB SWB TWB>success\n\ngoal (1 subgoal):\n 1. TP\\<down><TWB>success", "using STCalWB_hasBarbST"], ["proof (prove)\nusing this:\n  TargetTerm TP\\<down><STCalWB SWB TWB>success\n  ?P\\<down><STCalWB SWB TWB>?a =\n  ((\\<exists>S. S \\<in>S ?P \\<and> S\\<down><SWB>?a) \\<or>\n   (\\<exists>T. T \\<in>T ?P \\<and> T\\<down><TWB>?a))\n\ngoal (1 subgoal):\n 1. TP\\<down><TWB>success", "by blast"], ["proof (state)\nthis:\n  TP\\<down><TWB>success\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rel_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "moreover"], ["proof (state)\nthis:\n  rel_respects_barb_set TRel TWB {success}\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "from C2 C7"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  rel_reflects_divergence Rel (STCal Source Target)", "have \"rel_reflects_divergence TRel Target\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  rel_reflects_divergence Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence TRel Target", "using STCal_divergent(2)"], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  rel_reflects_divergence Rel (STCal Source Target)\n  TargetTerm ?T \\<longmapsto>STCal Source Target\\<omega> =\n  ?T \\<longmapsto>Target\\<omega>\n\ngoal (1 subgoal):\n 1. rel_reflects_divergence TRel Target", "by blast"], ["proof (state)\nthis:\n  rel_reflects_divergence TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel))) \\<and>\n       preorder Rel \\<and>\n       rel_respects_barb_set Rel (STCalWB SWB TWB) {success} \\<and>\n       rel_reflects_divergence Rel (STCal Source Target) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n  rel_respects_barb_set TRel TWB {success}\n  rel_reflects_divergence TRel Target", "show \"strongly_operational_corresponding TRel \\<and> preorder TRel\n   \\<and> strong_reduction_bisimulation TRel Target\n   \\<and> enc_respects_barb_set {success} \\<and> rel_respects_barb_set TRel TWB {success}\n   \\<and> enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target\""], ["proof (prove)\nusing this:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n  enc_reflects_divergence\n  rel_respects_barb_set TRel TWB {success}\n  rel_reflects_divergence TRel Target\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    (strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n    ((\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x))) \\<and>\n     (\\<forall>S x.\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa.\n              Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n              T\\<down><TWB>x)) \\<longrightarrow>\n         x \\<in> {success} \\<and>\n         ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n          (\\<exists>T.\n              T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n    rel_respects_barb_set TRel TWB {success} \\<and>\n    enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target", "by fast"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  (strong_reduction_simulation TRel Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) \\<and>\n  ((\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x))) \\<and>\n   (\\<forall>S x.\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa.\n            Sa \\<in>S TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T.\n            T \\<in>T TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and>\n            T\\<down><TWB>x)) \\<longrightarrow>\n       x \\<in> {success} \\<and>\n       ((\\<exists>Sa. Sa \\<in>S SourceTerm S \\<and> Sa\\<down><SWB>x) \\<or>\n        (\\<exists>T. T \\<in>T SourceTerm S \\<and> T\\<down><TWB>x)))) \\<and>\n  rel_respects_barb_set TRel TWB {success} \\<and>\n  enc_reflects_divergence \\<and> rel_reflects_divergence TRel Target\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Full Abstraction and Operational Correspondence\\<close>"], ["", "text \\<open>To combine full abstraction and operational correspondence we consider a symmetric version\n        of the induced relation and assume that the relations SRel and TRel are equivalences. Then\n        an encoding is fully abstract w.r.t. SRel and TRel and operationally corresponding w.r.t.\n        TRel such that TRel is a bisimulation iff the induced relation contains both SRel and TRel\n        and is a transitive bisimulation.\\<close>"], ["", "lemma (in encoding) FS_OC_modulo_equivalences_iff_source_target_relation:\n  fixes SRel :: \"('procS \\<times> 'procS) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes eqS: \"equivalence SRel\"\n      and eqT: \"equivalence TRel\"\n  shows \"fully_abstract SRel TRel\n         \\<and> operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target\n         \\<longleftrightarrow> (\\<exists>Rel.\n         (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n         \\<and> SRel = {(S1, S2). (SourceTerm S1, SourceTerm S2) \\<in> Rel}\n         \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n         \\<and> trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S1 S2.\n         ((S1, S2) \\<in> SRel) =\n         ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n     operational_corresponding TRel \\<and>\n     weak_reduction_bisimulation TRel Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel \\<and>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n            \\<in> Rel) \\<and>\n        SRel =\n        _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        trans Rel \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target))", "proof (rule iffI, erule conjE, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "assume A1: \"fully_abstract SRel TRel\" and A2: \"operational_corresponding TRel\"\n     and A3: \"weak_reduction_bisimulation TRel Target\""], ["proof (state)\nthis:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have A4: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "have A5:\n   \"\\<forall>S. SourceTerm S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n            (\\<lbrakk>S\\<rbrakk>) \\<and>\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                                S", "by (simp add: indRelTEQ.encR indRelTEQ.encL)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from A4"], ["proof (chain)\npicking this:\n  TRel\\<^sup>* = TRel", "have A6: \"TRel = {(T1, T2). TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2}\""], ["proof (prove)\nusing this:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)", "using indRelTEQ_to_TRel(4)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  TRel\\<^sup>* = TRel\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)", "by (auto simp add: indRelTEQ.target)"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "have A7: \"trans (indRelTEQ TRel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans (indRelTEQ TRel)", "using indRelTEQ.trans[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<and>\n  ?Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R \\<Longrightarrow>\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R\n\ngoal (1 subgoal):\n 1. trans (indRelTEQ TRel)", "unfolding trans_def"], ["proof (prove)\nusing this:\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<and>\n  ?Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R \\<Longrightarrow>\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       x \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> y \\<longrightarrow>\n       y \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> z \\<longrightarrow>\n       x \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> z", "by blast"], ["proof (state)\nthis:\n  trans (indRelTEQ TRel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  trans (indRelTEQ TRel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "have \"SRel = {(S1, S2). SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "from A6"], ["proof (chain)\npicking this:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)", "have \"\\<forall>S1 S2. ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) = TargetTerm (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S2\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n\ngoal (1 subgoal):\n 1. \\<forall>S1 S2.\n       ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n       TargetTerm\n        (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                                 (\\<lbrakk>S2\\<rbrakk>)", "by blast"], ["proof (state)\nthis:\n  \\<forall>S1 S2.\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n     TargetTerm\n      (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                               (\\<lbrakk>S2\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "moreover"], ["proof (state)\nthis:\n  \\<forall>S1 S2.\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n     TargetTerm\n      (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                               (\\<lbrakk>S2\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "have \"indRelTEQ TRel \\<union> {(P, Q). \\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q} = indRelTEQ TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indRelTEQ TRel \\<union>\n    _Collect (P, Q)\n     (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q) =\n    indRelTEQ TRel", "by (auto simp add: indRelTEQ.encL)"], ["proof (state)\nthis:\n  indRelTEQ TRel \\<union>\n  _Collect (P, Q)\n   (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q) =\n  indRelTEQ TRel\n\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "with A7"], ["proof (chain)\npicking this:\n  trans (indRelTEQ TRel)\n  indRelTEQ TRel \\<union>\n  _Collect (P, Q)\n   (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q) =\n  indRelTEQ TRel", "have \"trans (indRelTEQ TRel \\<union> {(P, Q). \\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q})\""], ["proof (prove)\nusing this:\n  trans (indRelTEQ TRel)\n  indRelTEQ TRel \\<union>\n  _Collect (P, Q)\n   (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q) =\n  indRelTEQ TRel\n\ngoal (1 subgoal):\n 1. trans\n     (indRelTEQ TRel \\<union>\n      _Collect (P, Q)\n       (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q))", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<forall>x y z.\n     x \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> y \\<longrightarrow>\n     y \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> z \\<longrightarrow>\n     x \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> z\n  indRelTEQ TRel \\<union>\n  _Collect (P, Q)\n   (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q) =\n  indRelTEQ TRel\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       (x, y)\n       \\<in> indRelTEQ TRel \\<union>\n             _Collect (P, Q)\n              (\\<exists>S.\n                  \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and>\n                  S \\<in>S Q) \\<longrightarrow>\n       (y, z)\n       \\<in> indRelTEQ TRel \\<union>\n             _Collect (P, Q)\n              (\\<exists>S.\n                  \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and>\n                  S \\<in>S Q) \\<longrightarrow>\n       (x, z)\n       \\<in> indRelTEQ TRel \\<union>\n             _Collect (P, Q)\n              (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q)", "by blast"], ["proof (state)\nthis:\n  trans\n   (indRelTEQ TRel \\<union>\n    _Collect (P, Q)\n     (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q))\n\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n     TargetTerm\n      (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                               (\\<lbrakk>S2\\<rbrakk>)\n  trans\n   (indRelTEQ TRel \\<union>\n    _Collect (P, Q)\n     (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q))", "show \"SRel = {(S1, S2). SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2}\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n     TargetTerm\n      (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                               (\\<lbrakk>S2\\<rbrakk>)\n  trans\n   (indRelTEQ TRel \\<union>\n    _Collect (P, Q)\n     (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q))\n\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "using A1 A5 full_abstraction_and_trans_relation_contains_TRel_impl_SRel[where\n                    SRel=\"SRel\" and TRel=\"TRel\" and Rel=\"indRelTEQ TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n     TargetTerm\n      (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                               (\\<lbrakk>S2\\<rbrakk>)\n  trans\n   (indRelTEQ TRel \\<union>\n    _Collect (P, Q)\n     (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q))\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n  (\\<forall>S1 S2.\n      ((S1, S2) \\<in> SRel) =\n      ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n  (\\<forall>S.\n      SourceTerm\n       S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n           (\\<lbrakk>S\\<rbrakk>)) \\<and>\n  (\\<forall>S1 S2.\n      ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n      TargetTerm\n       (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                                (\\<lbrakk>S2\\<rbrakk>)) \\<and>\n  trans\n   (indRelTEQ TRel \\<union>\n    _Collect (P, Q)\n     (\\<exists>S.\n         \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q)) \\<Longrightarrow>\n  SRel =\n  _Collect (S1, S2)\n   (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)\n\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "by blast"], ["proof (state)\nthis:\n  SRel =\n  _Collect (S1, S2)\n   (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  SRel =\n  _Collect (S1, S2)\n   (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  SRel =\n  _Collect (S1, S2)\n   (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from eqT A2 A3"], ["proof (chain)\npicking this:\n  equivalence TRel\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target", "have \"weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  equivalence TRel\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)", "using OC_wrt_equivalence_iff_indRelTEQ_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target\n  equivalence TRel \\<Longrightarrow>\n  (operational_corresponding TRel \\<and>\n   weak_reduction_bisimulation TRel Target) =\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n  trans (indRelTEQ TRel)\n  SRel =\n  _Collect (S1, S2)\n   (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n         \\<and> SRel = {(S1, S2). (SourceTerm S1, SourceTerm S2) \\<in> Rel}\n         \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n         \\<and> trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n  trans (indRelTEQ TRel)\n  SRel =\n  _Collect (S1, S2)\n   (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     SRel =\n     _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "assume\n   \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n    \\<and> SRel = {(S1, S2). (SourceTerm S1, SourceTerm S2) \\<in> Rel}\n    \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n    \\<and> trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     SRel =\n     _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     SRel =\n     _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target)", "obtain Rel where\n       B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\"\n   and B2: \"SRel = {(S1, S2). (SourceTerm S1, SourceTerm S2) \\<in> Rel}\"\n   and B3: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and B4: \"trans Rel\" and B5: \"weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     SRel =\n     _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel \\<and>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n            \\<in> Rel) \\<and>\n        SRel =\n        _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        trans Rel \\<and>\n        weak_reduction_bisimulation Rel\n         (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  SRel = _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel)\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  trans Rel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from B1 B2 B3 B4"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  SRel = _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel)\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  trans Rel", "have \"fully_abstract SRel TRel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  SRel = _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel)\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  trans Rel\n\ngoal (1 subgoal):\n 1. \\<forall>S1 S2.\n       ((S1, S2) \\<in> SRel) =\n       ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)", "using trans_source_target_relation_impl_fully_abstract[where Rel=\"Rel\" and SRel=\"SRel\"\n            and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  SRel = _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel)\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  trans Rel\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n      (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n  SRel = _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  trans Rel \\<Longrightarrow>\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n\ngoal (1 subgoal):\n 1. \\<forall>S1 S2.\n       ((S1, S2) \\<in> SRel) =\n       ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)", "by blast"], ["proof (state)\nthis:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "have \"operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have C1: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding equiv_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> sym TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have C2: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from B1"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from B3"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "have \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from B3 C1"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  TRel\\<^sup>+ = TRel", "have \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "have \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<Longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "fix S T"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<Longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from B1"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<Longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "moreover"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<Longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "assume \"(SourceTerm S, TargetTerm T) \\<in> Rel\""], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<Longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  (SourceTerm S, TargetTerm T) \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  (SourceTerm S, TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel", "using B4"], ["proof (prove)\nusing this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  (SourceTerm S, TargetTerm T) \\<in> Rel\n  trans Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel", "unfolding trans_def"], ["proof (prove)\nusing this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  (SourceTerm S, TargetTerm T) \\<in> Rel\n  \\<forall>x y z.\n     (x, y) \\<in> Rel \\<longrightarrow>\n     (y, z) \\<in> Rel \\<longrightarrow> (x, z) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<Longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "with B3 C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  TRel\\<^sup>* = TRel\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel", "show \"(\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  TRel\\<^sup>* = TRel\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n     \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n     \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n     \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n     \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "using B5"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "with C1 C2"], ["proof (chain)\npicking this:\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)", "show \"operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "using OC_iff_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      weak_reduction_bisimulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "by auto"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  weak_reduction_bisimulation TRel Target\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  operational_corresponding TRel \\<and>\n  weak_reduction_bisimulation TRel Target", "show \"fully_abstract SRel TRel \\<and> operational_corresponding TRel\n                   \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  operational_corresponding TRel \\<and>\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S1 S2.\n      ((S1, S2) \\<in> SRel) =\n      ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n  operational_corresponding TRel \\<and>\n  weak_reduction_bisimulation TRel Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) FA_SOC_modulo_equivalences_iff_source_target_relation:\n  fixes SRel :: \"('procS \\<times> 'procS) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes eqS: \"equivalence SRel\"\n      and eqT: \"equivalence TRel\"\n  shows \"fully_abstract SRel TRel \\<and> strongly_operational_corresponding TRel\n         \\<and> strong_reduction_bisimulation TRel Target \\<longleftrightarrow> (\\<exists>Rel.\n         (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n         \\<and> SRel = {(S1, S2). (SourceTerm S1, SourceTerm S2) \\<in> Rel}\n         \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel} \\<and> trans Rel\n         \\<and> strong_reduction_bisimulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S1 S2.\n         ((S1, S2) \\<in> SRel) =\n         ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n     ((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel \\<and>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n            \\<in> Rel) \\<and>\n        SRel =\n        _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        trans Rel \\<and>\n        strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel)))", "proof (rule iffI, erule conjE, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "assume A1: \"fully_abstract SRel TRel\" and A2: \"strongly_operational_corresponding TRel\"\n     and A3: \"strong_reduction_bisimulation TRel Target\""], ["proof (state)\nthis:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have A4: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have A5:\n   \"\\<forall>S. SourceTerm S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n            (\\<lbrakk>S\\<rbrakk>) \\<and>\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                                S", "by (simp add: indRelTEQ.encR indRelTEQ.encL)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from A4"], ["proof (chain)\npicking this:\n  TRel\\<^sup>* = TRel", "have A6: \"TRel = {(T1, T2). TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2}\""], ["proof (prove)\nusing this:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)", "using indRelTEQ_to_TRel(4)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  TRel\\<^sup>* = TRel\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)", "by (auto simp add: indRelTEQ.target)"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have A7: \"trans (indRelTEQ TRel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans (indRelTEQ TRel)", "using indRelTEQ.trans[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<and>\n  ?Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R \\<Longrightarrow>\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R\n\ngoal (1 subgoal):\n 1. trans (indRelTEQ TRel)", "unfolding trans_def"], ["proof (prove)\nusing this:\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<and>\n  ?Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R \\<Longrightarrow>\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       x \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> y \\<longrightarrow>\n       y \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> z \\<longrightarrow>\n       x \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> z", "by blast"], ["proof (state)\nthis:\n  trans (indRelTEQ TRel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  trans (indRelTEQ TRel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"SRel = {(S1, S2). SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "from A6"], ["proof (chain)\npicking this:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)", "have \"\\<forall>S1 S2. ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) = TargetTerm (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S2\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n\ngoal (1 subgoal):\n 1. \\<forall>S1 S2.\n       ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n       TargetTerm\n        (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                                 (\\<lbrakk>S2\\<rbrakk>)", "by blast"], ["proof (state)\nthis:\n  \\<forall>S1 S2.\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n     TargetTerm\n      (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                               (\\<lbrakk>S2\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "moreover"], ["proof (state)\nthis:\n  \\<forall>S1 S2.\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n     TargetTerm\n      (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                               (\\<lbrakk>S2\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "have \"indRelTEQ TRel \\<union> {(P, Q). \\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q} = indRelTEQ TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. indRelTEQ TRel \\<union>\n    _Collect (P, Q)\n     (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q) =\n    indRelTEQ TRel", "by (auto simp add: indRelTEQ.encL)"], ["proof (state)\nthis:\n  indRelTEQ TRel \\<union>\n  _Collect (P, Q)\n   (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q) =\n  indRelTEQ TRel\n\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "with A7"], ["proof (chain)\npicking this:\n  trans (indRelTEQ TRel)\n  indRelTEQ TRel \\<union>\n  _Collect (P, Q)\n   (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q) =\n  indRelTEQ TRel", "have \"trans (indRelTEQ TRel \\<union> {(P, Q). \\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q})\""], ["proof (prove)\nusing this:\n  trans (indRelTEQ TRel)\n  indRelTEQ TRel \\<union>\n  _Collect (P, Q)\n   (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q) =\n  indRelTEQ TRel\n\ngoal (1 subgoal):\n 1. trans\n     (indRelTEQ TRel \\<union>\n      _Collect (P, Q)\n       (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q))", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<forall>x y z.\n     x \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> y \\<longrightarrow>\n     y \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> z \\<longrightarrow>\n     x \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> z\n  indRelTEQ TRel \\<union>\n  _Collect (P, Q)\n   (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q) =\n  indRelTEQ TRel\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       (x, y)\n       \\<in> indRelTEQ TRel \\<union>\n             _Collect (P, Q)\n              (\\<exists>S.\n                  \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and>\n                  S \\<in>S Q) \\<longrightarrow>\n       (y, z)\n       \\<in> indRelTEQ TRel \\<union>\n             _Collect (P, Q)\n              (\\<exists>S.\n                  \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and>\n                  S \\<in>S Q) \\<longrightarrow>\n       (x, z)\n       \\<in> indRelTEQ TRel \\<union>\n             _Collect (P, Q)\n              (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q)", "by blast"], ["proof (state)\nthis:\n  trans\n   (indRelTEQ TRel \\<union>\n    _Collect (P, Q)\n     (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q))\n\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n     TargetTerm\n      (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                               (\\<lbrakk>S2\\<rbrakk>)\n  trans\n   (indRelTEQ TRel \\<union>\n    _Collect (P, Q)\n     (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q))", "show \"SRel = {(S1, S2). SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2}\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n     TargetTerm\n      (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                               (\\<lbrakk>S2\\<rbrakk>)\n  trans\n   (indRelTEQ TRel \\<union>\n    _Collect (P, Q)\n     (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q))\n\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "using A1 A5 full_abstraction_and_trans_relation_contains_TRel_impl_SRel[where\n                    SRel=\"SRel\" and TRel=\"TRel\" and Rel=\"indRelTEQ TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n     TargetTerm\n      (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                               (\\<lbrakk>S2\\<rbrakk>)\n  trans\n   (indRelTEQ TRel \\<union>\n    _Collect (P, Q)\n     (\\<exists>S. \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q))\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n  (\\<forall>S1 S2.\n      ((S1, S2) \\<in> SRel) =\n      ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n  (\\<forall>S.\n      SourceTerm\n       S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n           (\\<lbrakk>S\\<rbrakk>)) \\<and>\n  (\\<forall>S1 S2.\n      ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel) =\n      TargetTerm\n       (\\<lbrakk>S1\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                                (\\<lbrakk>S2\\<rbrakk>)) \\<and>\n  trans\n   (indRelTEQ TRel \\<union>\n    _Collect (P, Q)\n     (\\<exists>S.\n         \\<lbrakk>S\\<rbrakk> \\<in>T P \\<and> S \\<in>S Q)) \\<Longrightarrow>\n  SRel =\n  _Collect (S1, S2)\n   (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)\n\ngoal (1 subgoal):\n 1. SRel =\n    _Collect (S1, S2)\n     (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)", "by blast"], ["proof (state)\nthis:\n  SRel =\n  _Collect (S1, S2)\n   (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  SRel =\n  _Collect (S1, S2)\n   (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  SRel =\n  _Collect (S1, S2)\n   (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from eqT A2 A3"], ["proof (chain)\npicking this:\n  equivalence TRel\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"strong_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  equivalence TRel\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))", "using SOC_wrt_equivalence_iff_indRelTEQ_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  equivalence TRel \\<Longrightarrow>\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n   strong_reduction_simulation TRel Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) =\n  ((\\<forall>P Q P'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n   (\\<forall>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>STCal Source Target P' \\<and>\n           P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))", "by blast"], ["proof (state)\nthis:\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n\ngoal (2 subgoals):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n  trans (indRelTEQ TRel)\n  SRel =\n  _Collect (S1, S2)\n   (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n         \\<and> SRel = {(S1, S2). (SourceTerm S1, SourceTerm S2) \\<in> Rel}\n         \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel} \\<and> trans Rel\n         \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n  trans (indRelTEQ TRel)\n  SRel =\n  _Collect (S1, S2)\n   (SourceTerm S1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S2)\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     SRel =\n     _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "assume\n   \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n    \\<and> SRel = {(S1, S2). (SourceTerm S1, SourceTerm S2) \\<in> Rel}\n    \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel} \\<and> trans Rel\n    \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     SRel =\n     _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     SRel =\n     _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))", "obtain Rel where\n       B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\"\n   and B2: \"SRel = {(S1, S2). (SourceTerm S1, SourceTerm S2) \\<in> Rel}\"\n   and B3: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\" and B4: \"trans Rel\"\n   and B5: \"strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     SRel =\n     _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel \\<and>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n            \\<in> Rel) \\<and>\n        SRel =\n        _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        trans Rel \\<and>\n        strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  SRel = _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel)\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  trans Rel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from B1 B2 B3 B4"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  SRel = _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel)\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  trans Rel", "have \"fully_abstract SRel TRel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  SRel = _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel)\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  trans Rel\n\ngoal (1 subgoal):\n 1. \\<forall>S1 S2.\n       ((S1, S2) \\<in> SRel) =\n       ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)", "using trans_source_target_relation_impl_fully_abstract[where Rel=\"Rel\" and SRel=\"SRel\"\n            and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  SRel = _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel)\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  trans Rel\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n      (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n  SRel = _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  trans Rel \\<Longrightarrow>\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n\ngoal (1 subgoal):\n 1. \\<forall>S1 S2.\n       ((S1, S2) \\<in> SRel) =\n       ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)", "by blast"], ["proof (state)\nthis:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"strongly_operational_corresponding TRel \\<and> strong_reduction_bisimulation TRel Target\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have C1: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have C2: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from B1"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from B3"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "have \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from B3 C1"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  TRel\\<^sup>+ = TRel", "have \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<Longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "fix S T"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<Longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from B1"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<Longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "moreover"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<Longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "assume \"(SourceTerm S, TargetTerm T) \\<in> Rel\""], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<Longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  (SourceTerm S, TargetTerm T) \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  (SourceTerm S, TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel", "using B4"], ["proof (prove)\nusing this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  (SourceTerm S, TargetTerm T) \\<in> Rel\n  trans Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel", "unfolding trans_def"], ["proof (prove)\nusing this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  (SourceTerm S, TargetTerm T) \\<in> Rel\n  \\<forall>x y z.\n     (x, y) \\<in> Rel \\<longrightarrow>\n     (y, z) \\<in> Rel \\<longrightarrow> (x, z) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<Longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "with B3 C2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  TRel\\<^sup>* = TRel\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel", "show \"(\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  TRel\\<^sup>* = TRel\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n     \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n     \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n     \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n     \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "using B5"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "with C1 C2"], ["proof (chain)\npicking this:\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))", "show \"strongly_operational_corresponding TRel \\<and> strong_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "using SOC_iff_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n       Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel)))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "by auto"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       SRel =\n       _Collect (S1, S2) ((SourceTerm S1, SourceTerm S2) \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "show \"fully_abstract SRel TRel \\<and> strongly_operational_corresponding TRel\n                   \\<and> strong_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. (\\<forall>S1 S2.\n        ((S1, S2) \\<in> SRel) =\n        ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S1 S2.\n      ((S1, S2) \\<in> SRel) =\n      ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>An encoding that is fully abstract w.r.t. the equivalences SRel and TRel and operationally\n        corresponding w.r.t. TRel ensures that SRel is a bisimulation iff TRel is a bisimulation.\n\\<close>"], ["", "lemma (in encoding) FA_and_OC_and_TRel_impl_SRel_bisimulation:\n  fixes SRel :: \"('procS \\<times> 'procS) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes fullAbs: \"fully_abstract SRel TRel\"\n      and opCom:   \"operational_complete TRel\"\n      and opSou:   \"operational_sound TRel\"\n      and symmT:   \"sym TRel\"\n      and transT:  \"trans TRel\"\n      and bisimT:  \"weak_reduction_bisimulation TRel Target\"\n  shows \"weak_reduction_bisimulation SRel Source\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation SRel Source", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source* Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "fix SP SQ SP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source* Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "assume \"SP \\<longmapsto>Source* SP'\""], ["proof (state)\nthis:\n  SP \\<longmapsto>Source* SP'\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source* Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "with opCom"], ["proof (chain)\npicking this:\n  operational_complete TRel\n  SP \\<longmapsto>Source* SP'", "obtain TP' where A1: \"\\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target* TP'\" and A2: \"(\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\""], ["proof (prove)\nusing this:\n  operational_complete TRel\n  SP \\<longmapsto>Source* SP'\n\ngoal (1 subgoal):\n 1. (\\<And>TP'.\n        \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target* TP' \\<and>\n        (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target* TP'\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source* Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "assume \"(SP, SQ) \\<in> SRel\""], ["proof (state)\nthis:\n  (SP, SQ) \\<in> SRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source* Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "with fullAbs"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  (SP, SQ) \\<in> SRel", "have \"(\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  (SP, SQ) \\<in> SRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source* Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "with bisimT A1"], ["proof (chain)\npicking this:\n  weak_reduction_bisimulation TRel Target\n  \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target* TP'\n  (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel", "obtain TQ' where A3: \"\\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target* TQ'\" and A4: \"(TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation TRel Target\n  \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target* TP'\n  (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (\\<And>TQ'.\n        \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target* TQ' \\<and>\n        (TP', TQ') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target* TQ'\n  (TP', TQ') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source* Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "from A3 opSou"], ["proof (chain)\npicking this:\n  \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target* TQ'\n  operational_sound TRel", "obtain SQ' where A5: \"SQ \\<longmapsto>Source* SQ'\" and A6: \"(\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target* TQ'\n  operational_sound TRel\n\ngoal (1 subgoal):\n 1. (\\<And>SQ'.\n        SQ \\<longmapsto>Source* SQ' \\<and>\n        (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SQ \\<longmapsto>Source* SQ'\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source* Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "from A2 A4 A6 symmT transT"], ["proof (chain)\npicking this:\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n  (TP', TQ') \\<in> TRel\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n  sym TRel\n  trans TRel", "have \"(\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n  (TP', TQ') \\<in> TRel\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n  sym TRel\n  trans TRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "unfolding trans_def sym_def"], ["proof (prove)\nusing this:\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n  (TP', TQ') \\<in> TRel\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n  \\<forall>x y. (x, y) \\<in> TRel \\<longrightarrow> (y, x) \\<in> TRel\n  \\<forall>x y z.\n     (x, y) \\<in> TRel \\<longrightarrow>\n     (y, z) \\<in> TRel \\<longrightarrow> (x, z) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source* Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "with fullAbs A5"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  SQ \\<longmapsto>Source* SQ'\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "show \"\\<exists>SQ'. SQ \\<longmapsto>Source* SQ' \\<and> (SP', SQ') \\<in> SRel\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  SQ \\<longmapsto>Source* SQ'\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>SQ'. SQ \\<longmapsto>Source* SQ' \\<and> (SP', SQ') \\<in> SRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>SQ'. SQ \\<longmapsto>Source* SQ' \\<and> (SP', SQ') \\<in> SRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "fix SP SQ SQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "assume \"SQ \\<longmapsto>Source* SQ'\""], ["proof (state)\nthis:\n  SQ \\<longmapsto>Source* SQ'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "with opCom"], ["proof (chain)\npicking this:\n  operational_complete TRel\n  SQ \\<longmapsto>Source* SQ'", "obtain TQ' where B1: \"\\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target* TQ'\" and B2: \"(\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  operational_complete TRel\n  SQ \\<longmapsto>Source* SQ'\n\ngoal (1 subgoal):\n 1. (\\<And>TQ'.\n        \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target* TQ' \\<and>\n        (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target* TQ'\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "assume \"(SP, SQ) \\<in> SRel\""], ["proof (state)\nthis:\n  (SP, SQ) \\<in> SRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "with fullAbs"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  (SP, SQ) \\<in> SRel", "have \"(\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  (SP, SQ) \\<in> SRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "with bisimT B1"], ["proof (chain)\npicking this:\n  weak_reduction_bisimulation TRel Target\n  \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target* TQ'\n  (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel", "obtain TP' where B3: \"\\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target* TP'\" and B4: \"(TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation TRel Target\n  \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target* TQ'\n  (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (\\<And>TP'.\n        \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target* TP' \\<and>\n        (TP', TQ') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target* TP'\n  (TP', TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "from B3 opSou"], ["proof (chain)\npicking this:\n  \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target* TP'\n  operational_sound TRel", "obtain SP' where B5: \"SP \\<longmapsto>Source* SP'\" and B6: \"(\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target* TP'\n  operational_sound TRel\n\ngoal (1 subgoal):\n 1. (\\<And>SP'.\n        SP \\<longmapsto>Source* SP' \\<and>\n        (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SP \\<longmapsto>Source* SP'\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "from B2 B4 B6 symmT transT"], ["proof (chain)\npicking this:\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n  (TP', TQ') \\<in> TRel\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n  sym TRel\n  trans TRel", "have \"(\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n  (TP', TQ') \\<in> TRel\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n  sym TRel\n  trans TRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "unfolding trans_def sym_def"], ["proof (prove)\nusing this:\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n  (TP', TQ') \\<in> TRel\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n  \\<forall>x y. (x, y) \\<in> TRel \\<longrightarrow> (y, x) \\<in> TRel\n  \\<forall>x y z.\n     (x, y) \\<in> TRel \\<longrightarrow>\n     (y, z) \\<in> TRel \\<longrightarrow> (x, z) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source* P' \\<and> (P', Q') \\<in> SRel", "with fullAbs B5"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  SP \\<longmapsto>Source* SP'\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "show \"\\<exists>SP'. SP \\<longmapsto>Source* SP' \\<and> (SP', SQ') \\<in> SRel\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  SP \\<longmapsto>Source* SP'\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>SP'. SP \\<longmapsto>Source* SP' \\<and> (SP', SQ') \\<in> SRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>SP'. SP \\<longmapsto>Source* SP' \\<and> (SP', SQ') \\<in> SRel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) FA_and_SOC_and_TRel_impl_SRel_strong_bisimulation:\n  fixes SRel :: \"('procS \\<times> 'procS) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes fullAbs: \"fully_abstract SRel TRel\"\n      and opCom:   \"strongly_operational_complete TRel\"\n      and opSou:   \"strongly_operational_sound TRel\"\n      and symmT:   \"sym TRel\"\n      and transT:  \"trans TRel\"\n      and bisimT:  \"strong_reduction_bisimulation TRel Target\"\n  shows \"strong_reduction_bisimulation SRel Source\""], ["proof (prove)\ngoal (1 subgoal):\n 1. strong_reduction_simulation SRel Source \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel))", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "fix SP SQ SP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "assume \"SP \\<longmapsto>Source SP'\""], ["proof (state)\nthis:\n  SP \\<longmapsto>Source SP'\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "with opCom"], ["proof (chain)\npicking this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  SP \\<longmapsto>Source SP'", "obtain TP' where A1: \"\\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target TP'\" and A2: \"(\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  SP \\<longmapsto>Source SP'\n\ngoal (1 subgoal):\n 1. (\\<And>TP'.\n        \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target TP' \\<and>\n        (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target TP'\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "assume \"(SP, SQ) \\<in> SRel\""], ["proof (state)\nthis:\n  (SP, SQ) \\<in> SRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "with fullAbs"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  (SP, SQ) \\<in> SRel", "have \"(\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  (SP, SQ) \\<in> SRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "with bisimT A1"], ["proof (chain)\npicking this:\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target TP'\n  (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel", "obtain TQ' where A3: \"\\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target TQ'\" and A4: \"(TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target TP'\n  (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (\\<And>TQ'.\n        \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target TQ' \\<and>\n        (TP', TQ') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target TQ'\n  (TP', TQ') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "from A3 opSou"], ["proof (chain)\npicking this:\n  \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target TQ'\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)", "obtain SQ' where A5: \"SQ \\<longmapsto>Source SQ'\" and A6: \"(\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target TQ'\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n\ngoal (1 subgoal):\n 1. (\\<And>SQ'.\n        SQ \\<longmapsto>Source SQ' \\<and>\n        (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SQ \\<longmapsto>Source SQ'\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "from A2 A4 A6 symmT transT"], ["proof (chain)\npicking this:\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n  (TP', TQ') \\<in> TRel\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n  sym TRel\n  trans TRel", "have \"(\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n  (TP', TQ') \\<in> TRel\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n  sym TRel\n  trans TRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "unfolding trans_def sym_def"], ["proof (prove)\nusing this:\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n  (TP', TQ') \\<in> TRel\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n  \\<forall>x y. (x, y) \\<in> TRel \\<longrightarrow> (y, x) \\<in> TRel\n  \\<forall>x y z.\n     (x, y) \\<in> TRel \\<longrightarrow>\n     (y, z) \\<in> TRel \\<longrightarrow> (x, z) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> SRel \\<and> P \\<longmapsto>Source P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Source Q' \\<and> (P', Q') \\<in> SRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "with fullAbs A5"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  SQ \\<longmapsto>Source SQ'\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "show \"\\<exists>SQ'. SQ \\<longmapsto>Source SQ' \\<and> (SP', SQ') \\<in> SRel\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  SQ \\<longmapsto>Source SQ'\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>SQ'. SQ \\<longmapsto>Source SQ' \\<and> (SP', SQ') \\<in> SRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>SQ'. SQ \\<longmapsto>Source SQ' \\<and> (SP', SQ') \\<in> SRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "fix SP SQ SQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "assume \"SQ \\<longmapsto>Source SQ'\""], ["proof (state)\nthis:\n  SQ \\<longmapsto>Source SQ'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "with opCom"], ["proof (chain)\npicking this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  SQ \\<longmapsto>Source SQ'", "obtain TQ' where B1: \"\\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target TQ'\" and B2: \"(\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  SQ \\<longmapsto>Source SQ'\n\ngoal (1 subgoal):\n 1. (\\<And>TQ'.\n        \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target TQ' \\<and>\n        (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target TQ'\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "assume \"(SP, SQ) \\<in> SRel\""], ["proof (state)\nthis:\n  (SP, SQ) \\<in> SRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "with fullAbs"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  (SP, SQ) \\<in> SRel", "have \"(\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  (SP, SQ) \\<in> SRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "with bisimT B1"], ["proof (chain)\npicking this:\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target TQ'\n  (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel", "obtain TP' where B3: \"\\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target TP'\" and B4: \"(TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  \\<lbrakk>SQ\\<rbrakk> \\<longmapsto>Target TQ'\n  (\\<lbrakk>SP\\<rbrakk>, \\<lbrakk>SQ\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (\\<And>TP'.\n        \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target TP' \\<and>\n        (TP', TQ') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target TP'\n  (TP', TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "from B3 opSou"], ["proof (chain)\npicking this:\n  \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target TP'\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)", "obtain SP' where B5: \"SP \\<longmapsto>Source SP'\" and B6: \"(\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<lbrakk>SP\\<rbrakk> \\<longmapsto>Target TP'\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n\ngoal (1 subgoal):\n 1. (\\<And>SP'.\n        SP \\<longmapsto>Source SP' \\<and>\n        (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SP \\<longmapsto>Source SP'\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "from B2 B4 B6 symmT transT"], ["proof (chain)\npicking this:\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n  (TP', TQ') \\<in> TRel\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n  sym TRel\n  trans TRel", "have \"(\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n  (TP', TQ') \\<in> TRel\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n  sym TRel\n  trans TRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "unfolding trans_def sym_def"], ["proof (prove)\nusing this:\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n  (TP', TQ') \\<in> TRel\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n  \\<forall>x y. (x, y) \\<in> TRel \\<longrightarrow> (y, x) \\<in> TRel\n  \\<forall>x y z.\n     (x, y) \\<in> TRel \\<longrightarrow>\n     (y, z) \\<in> TRel \\<longrightarrow> (x, z) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> SRel \\<and> Q \\<longmapsto>Source Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Source P' \\<and> (P', Q') \\<in> SRel", "with fullAbs B5"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  SP \\<longmapsto>Source SP'\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "show \"\\<exists>SP'. SP \\<longmapsto>Source SP' \\<and> (SP', SQ') \\<in> SRel\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  SP \\<longmapsto>Source SP'\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>SP'. SP \\<longmapsto>Source SP' \\<and> (SP', SQ') \\<in> SRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>SP'. SP \\<longmapsto>Source SP' \\<and> (SP', SQ') \\<in> SRel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) FA_and_OC_impl_SRel_iff_TRel_bisimulation:\n  fixes SRel :: \"('procS \\<times> 'procS) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes fullAbs: \"fully_abstract SRel TRel\"\n      and opCor:   \"operational_corresponding TRel\"\n      and symmT:   \"sym TRel\"\n      and transT:  \"trans TRel\"\n      and surj:    \"\\<forall>T. \\<exists>S. T = \\<lbrakk>S\\<rbrakk>\"\n  shows \"weak_reduction_bisimulation SRel Source \\<longleftrightarrow> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation SRel Source =\n    weak_reduction_bisimulation TRel Target", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. weak_reduction_bisimulation SRel Source \\<Longrightarrow>\n    weak_reduction_bisimulation TRel Target\n 2. weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    weak_reduction_bisimulation SRel Source", "assume bisimS: \"weak_reduction_bisimulation SRel Source\""], ["proof (state)\nthis:\n  weak_reduction_bisimulation SRel Source\n\ngoal (2 subgoals):\n 1. weak_reduction_bisimulation SRel Source \\<Longrightarrow>\n    weak_reduction_bisimulation TRel Target\n 2. weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    weak_reduction_bisimulation SRel Source", "have \"weak_reduction_simulation TRel Target\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weak_reduction_simulation TRel Target", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "fix TP TQ TP'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "from surj"], ["proof (chain)\npicking this:\n  \\<forall>T. \\<exists>S. T = \\<lbrakk>S\\<rbrakk>", "have \"\\<exists>S. TP = \\<lbrakk>S\\<rbrakk>\""], ["proof (prove)\nusing this:\n  \\<forall>T. \\<exists>S. T = \\<lbrakk>S\\<rbrakk>\n\ngoal (1 subgoal):\n 1. \\<exists>S. TP = \\<lbrakk>S\\<rbrakk>", "by simp"], ["proof (state)\nthis:\n  \\<exists>S. TP = \\<lbrakk>S\\<rbrakk>\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "from this"], ["proof (chain)\npicking this:\n  \\<exists>S. TP = \\<lbrakk>S\\<rbrakk>", "obtain SP where A1: \"\\<lbrakk>SP\\<rbrakk> = TP\""], ["proof (prove)\nusing this:\n  \\<exists>S. TP = \\<lbrakk>S\\<rbrakk>\n\ngoal (1 subgoal):\n 1. (\\<And>SP.\n        \\<lbrakk>SP\\<rbrakk> = TP \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>SP\\<rbrakk> = TP\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "from surj"], ["proof (chain)\npicking this:\n  \\<forall>T. \\<exists>S. T = \\<lbrakk>S\\<rbrakk>", "have \"\\<exists>S. TQ = \\<lbrakk>S\\<rbrakk>\""], ["proof (prove)\nusing this:\n  \\<forall>T. \\<exists>S. T = \\<lbrakk>S\\<rbrakk>\n\ngoal (1 subgoal):\n 1. \\<exists>S. TQ = \\<lbrakk>S\\<rbrakk>", "by simp"], ["proof (state)\nthis:\n  \\<exists>S. TQ = \\<lbrakk>S\\<rbrakk>\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "from this"], ["proof (chain)\npicking this:\n  \\<exists>S. TQ = \\<lbrakk>S\\<rbrakk>", "obtain SQ where A2: \"\\<lbrakk>SQ\\<rbrakk> = TQ\""], ["proof (prove)\nusing this:\n  \\<exists>S. TQ = \\<lbrakk>S\\<rbrakk>\n\ngoal (1 subgoal):\n 1. (\\<And>SQ.\n        \\<lbrakk>SQ\\<rbrakk> = TQ \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>SQ\\<rbrakk> = TQ\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "assume \"TP \\<longmapsto>Target* TP'\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Target* TP'\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "with opCor A1"], ["proof (chain)\npicking this:\n  operational_corresponding TRel\n  \\<lbrakk>SP\\<rbrakk> = TP\n  TP \\<longmapsto>Target* TP'", "obtain SP' where A3: \"SP \\<longmapsto>Source* SP'\" and A4: \"(\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\""], ["proof (prove)\nusing this:\n  operational_corresponding TRel\n  \\<lbrakk>SP\\<rbrakk> = TP\n  TP \\<longmapsto>Target* TP'\n\ngoal (1 subgoal):\n 1. (\\<And>SP'.\n        SP \\<longmapsto>Source* SP' \\<and>\n        (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SP \\<longmapsto>Source* SP'\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "with fullAbs A1 A2"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  \\<lbrakk>SP\\<rbrakk> = TP\n  \\<lbrakk>SQ\\<rbrakk> = TQ\n  (TP, TQ) \\<in> TRel", "have \"(SP, SQ) \\<in> SRel\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  \\<lbrakk>SP\\<rbrakk> = TP\n  \\<lbrakk>SQ\\<rbrakk> = TQ\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (SP, SQ) \\<in> SRel", "by simp"], ["proof (state)\nthis:\n  (SP, SQ) \\<in> SRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "with bisimS A3"], ["proof (chain)\npicking this:\n  weak_reduction_bisimulation SRel Source\n  SP \\<longmapsto>Source* SP'\n  (SP, SQ) \\<in> SRel", "obtain SQ' where A5: \"SQ \\<longmapsto>Source* SQ'\" and A6: \"(SP', SQ') \\<in> SRel\""], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation SRel Source\n  SP \\<longmapsto>Source* SP'\n  (SP, SQ) \\<in> SRel\n\ngoal (1 subgoal):\n 1. (\\<And>SQ'.\n        SQ \\<longmapsto>Source* SQ' \\<and>\n        (SP', SQ') \\<in> SRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SQ \\<longmapsto>Source* SQ'\n  (SP', SQ') \\<in> SRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "from opCor A2 A5"], ["proof (chain)\npicking this:\n  operational_corresponding TRel\n  \\<lbrakk>SQ\\<rbrakk> = TQ\n  SQ \\<longmapsto>Source* SQ'", "obtain TQ' where A7: \"TQ \\<longmapsto>Target* TQ'\" and A8: \"(\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  operational_corresponding TRel\n  \\<lbrakk>SQ\\<rbrakk> = TQ\n  SQ \\<longmapsto>Source* SQ'\n\ngoal (1 subgoal):\n 1. (\\<And>TQ'.\n        TQ \\<longmapsto>Target* TQ' \\<and>\n        (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  TQ \\<longmapsto>Target* TQ'\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "from symmT A4"], ["proof (chain)\npicking this:\n  sym TRel\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel", "have \"(TP', \\<lbrakk>SP'\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  sym TRel\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TP', \\<lbrakk>SP'\\<rbrakk>) \\<in> TRel", "unfolding sym_def"], ["proof (prove)\nusing this:\n  \\<forall>x y. (x, y) \\<in> TRel \\<longrightarrow> (y, x) \\<in> TRel\n  (\\<lbrakk>SP'\\<rbrakk>, TP') \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TP', \\<lbrakk>SP'\\<rbrakk>) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (TP', \\<lbrakk>SP'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  (TP', \\<lbrakk>SP'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "from fullAbs A6"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  (SP', SQ') \\<in> SRel", "have \"(\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  (SP', SQ') \\<in> SRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  (TP', \\<lbrakk>SP'\\<rbrakk>) \\<in> TRel\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel", "have \"(TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  (TP', \\<lbrakk>SP'\\<rbrakk>) \\<in> TRel\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TP', TQ') \\<in> TRel", "using transT A8"], ["proof (prove)\nusing this:\n  (TP', \\<lbrakk>SP'\\<rbrakk>) \\<in> TRel\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\n  trans TRel\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TP', TQ') \\<in> TRel", "unfolding trans_def"], ["proof (prove)\nusing this:\n  (TP', \\<lbrakk>SP'\\<rbrakk>) \\<in> TRel\n  (\\<lbrakk>SP'\\<rbrakk>, \\<lbrakk>SQ'\\<rbrakk>) \\<in> TRel\n  \\<forall>x y z.\n     (x, y) \\<in> TRel \\<longrightarrow>\n     (y, z) \\<in> TRel \\<longrightarrow> (x, z) \\<in> TRel\n  (\\<lbrakk>SQ'\\<rbrakk>, TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TP', TQ') \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (TP', TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel", "with A7"], ["proof (chain)\npicking this:\n  TQ \\<longmapsto>Target* TQ'\n  (TP', TQ') \\<in> TRel", "show \"\\<exists>TQ'. TQ \\<longmapsto>Target* TQ' \\<and> (TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Target* TQ'\n  (TP', TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>TQ'. TQ \\<longmapsto>Target* TQ' \\<and> (TP', TQ') \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>TQ'. TQ \\<longmapsto>Target* TQ' \\<and> (TP', TQ') \\<in> TRel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  weak_reduction_simulation TRel Target\n\ngoal (2 subgoals):\n 1. weak_reduction_bisimulation SRel Source \\<Longrightarrow>\n    weak_reduction_bisimulation TRel Target\n 2. weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    weak_reduction_bisimulation SRel Source", "with symmT"], ["proof (chain)\npicking this:\n  sym TRel\n  weak_reduction_simulation TRel Target", "show \"weak_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  sym TRel\n  weak_reduction_simulation TRel Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation TRel Target", "using symm_weak_reduction_simulation_is_bisimulation[where Rel=\"TRel\" and Cal=\"Target\"]"], ["proof (prove)\nusing this:\n  sym TRel\n  weak_reduction_simulation TRel Target\n  sym TRel \\<and> weak_reduction_simulation TRel Target \\<Longrightarrow>\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation TRel Target", "by blast"], ["proof (state)\nthis:\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    weak_reduction_bisimulation SRel Source", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    weak_reduction_bisimulation SRel Source", "assume \"weak_reduction_bisimulation TRel Target\""], ["proof (state)\nthis:\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    weak_reduction_bisimulation SRel Source", "with fullAbs opCor symmT transT"], ["proof (chain)\npicking this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  operational_corresponding TRel\n  sym TRel\n  trans TRel\n  weak_reduction_bisimulation TRel Target", "show \"weak_reduction_bisimulation SRel Source\""], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  operational_corresponding TRel\n  sym TRel\n  trans TRel\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation SRel Source", "using FA_and_OC_and_TRel_impl_SRel_bisimulation[where SRel=\"SRel\" and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S1 S2.\n     ((S1, S2) \\<in> SRel) =\n     ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)\n  operational_corresponding TRel\n  sym TRel\n  trans TRel\n  weak_reduction_bisimulation TRel Target\n  (\\<forall>S1 S2.\n      ((S1, S2) \\<in> SRel) =\n      ((\\<lbrakk>S1\\<rbrakk>, \\<lbrakk>S2\\<rbrakk>) \\<in> TRel)) \\<and>\n  operational_complete TRel \\<and>\n  operational_sound TRel \\<and>\n  sym TRel \\<and>\n  trans TRel \\<and>\n  weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n  weak_reduction_bisimulation SRel Source\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation SRel Source", "by blast"], ["proof (state)\nthis:\n  weak_reduction_bisimulation SRel Source\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}