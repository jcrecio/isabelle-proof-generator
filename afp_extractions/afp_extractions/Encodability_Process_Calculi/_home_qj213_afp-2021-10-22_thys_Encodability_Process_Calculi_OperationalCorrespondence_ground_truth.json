{"file_name": "/home/qj213/afp-2021-10-22/thys/Encodability_Process_Calculi/OperationalCorrespondence.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Encodability_Process_Calculi", "problem_names": ["lemma (in encoding) operational_correspondence_modulo_all_relation:\n  shows \"operational_complete {(T1, T2). True}\"\n    and \"weakly_operational_sound {(T1, T2). True}\"\n    and \"operational_sound {(T1, T2). True}\"", "lemma all_relation_is_weak_reduction_bisimulation:\n  fixes Cal :: \"'a processCalculus\"\n  shows \"weak_reduction_bisimulation {(a, b). True} Cal\"", "lemma (in encoding) operational_correspondence_modulo_some_target_relation:\n  shows \"\\<exists>TRel. weakly_operational_corresponding TRel\"\n    and \"\\<exists>TRel. operational_corresponding TRel\"\n    and \"\\<exists>TRel. weakly_operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target\"\n    and \"\\<exists>TRel. operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target\"", "lemma (in encoding) strong_operational_correspondence_modulo_some_target_relation:\n  shows \"(\\<exists>TRel. strongly_operational_corresponding TRel)\n         = (\\<forall>S. (\\<exists>S'. S \\<longmapsto>Source S') \\<longleftrightarrow> (\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T))\"\n    and \"(\\<exists>TRel. strongly_operational_corresponding TRel\n          \\<and> weak_reduction_bisimulation TRel Target)\n         = (\\<forall>S. (\\<exists>S'. S \\<longmapsto>Source S') \\<longleftrightarrow> (\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T))\"", "lemma (in encoding) weak_reduction_simulation_impl_OCom:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n      and A2: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n      and A3: \"weak_reduction_simulation Rel (STCal Source Target)\"\n  shows \"operational_complete (TRel\\<^sup>*)\"", "lemma (in encoding) OCom_iff_indRelRTPO_is_weak_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_complete (TRel\\<^sup>*)\n         \\<and> weak_reduction_simulation (TRel\\<^sup>+) Target)\n         = weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\"", "lemma (in encoding) OCom_iff_weak_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_complete (TRel\\<^sup>*)\n         \\<and> weak_reduction_simulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_simulation Rel (STCal Source Target))\"", "lemma (in encoding) strong_reduction_simulation_impl_SOCom:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n      and A2: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n      and A3: \"strong_reduction_simulation Rel (STCal Source Target)\"\n  shows \"strongly_operational_complete (TRel\\<^sup>*)\"", "lemma (in encoding) SOCom_iff_indRelRTPO_is_strong_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_complete (TRel\\<^sup>*)\n         \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target)\n         = strong_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\"", "lemma (in encoding) SOCom_iff_strong_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_complete (TRel\\<^sup>*)\n         \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> strong_reduction_simulation Rel (STCal Source Target))\"", "lemma (in encoding) target_relation_from_source_target_relation:\n  fixes Rel :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n  assumes stre: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel\n                 \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\"\n  shows \"\\<exists>TRel. (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\"", "lemma (in encoding) SOCom_modulo_TRel_iff_strong_reduction_simulation:\n  shows \"(\\<exists>TRel. strongly_operational_complete (TRel\\<^sup>*)\n         \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n           \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\n           \\<and> strong_reduction_simulation Rel (STCal Source Target))\"", "lemma (in encoding) weak_reduction_contrasimulation_impl_WOSou:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n      and A2: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n      and A3: \"weak_reduction_contrasimulation (Rel\\<inverse>) (STCal Source Target)\"\n  shows \"weakly_operational_sound (TRel\\<^sup>*)\"", "lemma (in encoding) weak_reduction_simulation_impl_OSou:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n      and A2: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n      and A3: \"weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\"\n  shows \"operational_sound (TRel\\<^sup>*)\"", "lemma (in encoding) OSou_iff_inverse_of_indRelRTPO_is_weak_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_sound (TRel\\<^sup>*)\n         \\<and> weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target)\n         = weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\"", "lemma (in encoding) OSou_iff_weak_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_sound (TRel\\<^sup>*)\n         \\<and> weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target))\"", "lemma (in encoding) strong_reduction_simulation_impl_SOSou:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n      and A2: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n      and A3: \"strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\"\n  shows \"strongly_operational_sound (TRel\\<^sup>*)\"", "lemma (in encoding) SOSou_iff_inverse_of_indRelRTPO_is_strong_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_sound (TRel\\<^sup>*)\n         \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target)\n         = strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\"", "lemma (in encoding) SOSou_iff_strong_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_sound (TRel\\<^sup>*) \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target))\"", "lemma (in encoding) SOSou_modulo_TRel_iff_strong_reduction_simulation:\n  shows \"(\\<exists>TRel. strongly_operational_sound (TRel\\<^sup>*)\n         \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n           \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\n           \\<and> strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target))\"", "lemma (in encoding) weak_reduction_correspondence_simulation_impl_WOC:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes enc:  \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n      and tRel: \"(\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\"\n      and cs:   \"weak_reduction_correspondence_simulation Rel (STCal Source Target)\"\n  shows \"weakly_operational_corresponding (TRel\\<^sup>*)\"", "lemma (in encoding) WOC_iff_indRelRTPO_is_reduction_correspondence_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(weakly_operational_corresponding (TRel\\<^sup>*)\n         \\<and> weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target)\n         = weak_reduction_correspondence_simulation (indRelRTPO TRel) (STCal Source Target)\"", "lemma (in encoding) WOC_iff_reduction_correspondence_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(weakly_operational_corresponding (TRel\\<^sup>*)\n         \\<and> weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target))\"", "lemma rel_includes_TRel_modulo_preorder:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes transT: \"trans TRel\"\n  shows \"((\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+))\n         = (TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel})\"", "lemma (in encoding) WOC_wrt_preorder_iff_reduction_correspondence_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(weakly_operational_corresponding TRel \\<and> preorder TRel\n         \\<and> weak_reduction_correspondence_simulation TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> preorder Rel\n            \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target))\"", "lemma (in encoding) OC_iff_indRelRTPO_is_weak_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding (TRel\\<^sup>*)\n         \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target)\n         = weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\"", "lemma (in encoding) OC_iff_weak_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding (TRel\\<^sup>*) \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target))\"", "lemma (in encoding) OC_wrt_preorder_iff_weak_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding TRel \\<and> preorder TRel\n         \\<and> weak_reduction_bisimulation TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> preorder Rel\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target))\"", "lemma (in encoding) OC_wrt_equivalence_iff_indRelTEQ_weak_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  assumes eqT: \"equivalence TRel\"\n  shows \"(operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target) \\<longleftrightarrow>\n         weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\"", "lemma (in encoding) OC_wrt_equivalence_iff_weak_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  assumes eqT: \"equivalence TRel\"\n  shows \"(operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target) \\<longleftrightarrow> (\\<exists>Rel.\n         (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n         \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n         \\<and> trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target))\"", "lemma (in encoding) SOC_iff_indRelRTPO_is_strong_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_corresponding (TRel\\<^sup>*)\n         \\<and> strong_reduction_bisimulation (TRel\\<^sup>+) Target)\n         = strong_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\"", "lemma (in encoding) SOC_iff_strong_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_corresponding (TRel\\<^sup>*)\n         \\<and> strong_reduction_bisimulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> strong_reduction_bisimulation Rel (STCal Source Target))\"", "lemma (in encoding) SOC_wrt_preorder_iff_strong_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_corresponding TRel \\<and> preorder TRel\n         \\<and> strong_reduction_bisimulation TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> preorder Rel\n            \\<and> strong_reduction_bisimulation Rel (STCal Source Target))\"", "lemma (in encoding) SOC_wrt_TRel_iff_strong_reduction_bisimulation:\n  shows \"(\\<exists>TRel. strongly_operational_corresponding (TRel\\<^sup>*)\n         \\<and> strong_reduction_bisimulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel\n               \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\n            \\<and> strong_reduction_bisimulation Rel (STCal Source Target))\"", "lemma (in encoding) SOC_wrt_equivalence_iff_indRelTEQ_strong_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  assumes eqT: \"equivalence TRel\"\n  shows \"(strongly_operational_corresponding TRel \\<and> strong_reduction_bisimulation TRel Target)\n         \\<longleftrightarrow> strong_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\"", "lemma (in encoding) SOC_wrt_equivalence_iff_strong_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  assumes eqT: \"equivalence TRel\"\n  shows \"(strongly_operational_corresponding TRel \\<and> strong_reduction_bisimulation TRel Target)\n         \\<longleftrightarrow> (\\<exists>Rel.\n         (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n         \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n         \\<and> trans Rel \\<and> strong_reduction_bisimulation Rel (STCal Source Target))\""], "translations": [["", "lemma (in encoding) operational_correspondence_modulo_all_relation:\n  shows \"operational_complete {(T1, T2). True}\"\n    and \"weakly_operational_sound {(T1, T2). True}\"\n    and \"operational_sound {(T1, T2). True}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. operational_complete (_Collect (T1, T2) True) &&&\n    weakly_operational_sound (_Collect (T1, T2) True) &&&\n    operational_sound (_Collect (T1, T2) True)", "using steps_refl[where Cal=\"Source\"] steps_refl[where Cal=\"Target\"]"], ["proof (prove)\nusing this:\n  ?P \\<longmapsto>Source* ?P\n  ?P \\<longmapsto>Target* ?P\n\ngoal (1 subgoal):\n 1. operational_complete (_Collect (T1, T2) True) &&&\n    weakly_operational_sound (_Collect (T1, T2) True) &&&\n    operational_sound (_Collect (T1, T2) True)", "by blast+"], ["", "lemma all_relation_is_weak_reduction_bisimulation:\n  fixes Cal :: \"'a processCalculus\"\n  shows \"weak_reduction_bisimulation {(a, b). True} Cal\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (_Collect (a, b) True) Cal", "using steps_refl[where Cal=\"Cal\"]"], ["proof (prove)\nusing this:\n  ?P \\<longmapsto>Cal* ?P\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (_Collect (a, b) True) Cal", "by blast"], ["", "lemma (in encoding) operational_correspondence_modulo_some_target_relation:\n  shows \"\\<exists>TRel. weakly_operational_corresponding TRel\"\n    and \"\\<exists>TRel. operational_corresponding TRel\"\n    and \"\\<exists>TRel. weakly_operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target\"\n    and \"\\<exists>TRel. operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>TRel. weakly_operational_corresponding TRel &&&\n     \\<exists>TRel. operational_corresponding TRel) &&&\n    \\<exists>TRel.\n       weakly_operational_corresponding TRel \\<and>\n       weak_reduction_bisimulation TRel Target &&&\n    \\<exists>TRel.\n       operational_corresponding TRel \\<and>\n       weak_reduction_bisimulation TRel Target", "using operational_correspondence_modulo_all_relation\n            all_relation_is_weak_reduction_bisimulation[where Cal=\"Target\"]"], ["proof (prove)\nusing this:\n  operational_complete (_Collect (T1, T2) True)\n  weakly_operational_sound (_Collect (T1, T2) True)\n  operational_sound (_Collect (T1, T2) True)\n  weak_reduction_bisimulation (_Collect (a, b) True) Target\n\ngoal (1 subgoal):\n 1. (\\<exists>TRel. weakly_operational_corresponding TRel &&&\n     \\<exists>TRel. operational_corresponding TRel) &&&\n    \\<exists>TRel.\n       weakly_operational_corresponding TRel \\<and>\n       weak_reduction_bisimulation TRel Target &&&\n    \\<exists>TRel.\n       operational_corresponding TRel \\<and>\n       weak_reduction_bisimulation TRel Target", "by blast+"], ["", "text \\<open>Strong operational correspondence requires that source can perform a step iff their\n        translations can perform a step.\\<close>"], ["", "lemma (in encoding) strong_operational_correspondence_modulo_some_target_relation:\n  shows \"(\\<exists>TRel. strongly_operational_corresponding TRel)\n         = (\\<forall>S. (\\<exists>S'. S \\<longmapsto>Source S') \\<longleftrightarrow> (\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T))\"\n    and \"(\\<exists>TRel. strongly_operational_corresponding TRel\n          \\<and> weak_reduction_bisimulation TRel Target)\n         = (\\<forall>S. (\\<exists>S'. S \\<longmapsto>Source S') \\<longleftrightarrow> (\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>TRel.\n        (\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target)) &&&\n    (\\<exists>TRel.\n        ((\\<forall>S S'.\n             S \\<longmapsto>Source S' \\<longrightarrow>\n             (\\<exists>T.\n                 \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n         (\\<forall>S T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n             (\\<exists>S'.\n                 S \\<longmapsto>Source S' \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n        weak_reduction_bisimulation TRel Target) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<exists>TRel.\n        (\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))\n 2. (\\<exists>TRel.\n        ((\\<forall>S S'.\n             S \\<longmapsto>Source S' \\<longrightarrow>\n             (\\<exists>T.\n                 \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n         (\\<forall>S T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n             (\\<exists>S'.\n                 S \\<longmapsto>Source S' \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n        weak_reduction_bisimulation TRel Target) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))", "have A1: \"\\<exists>TRel. strongly_operational_corresponding TRel\n            \\<Longrightarrow> \\<forall>S. (\\<exists>S'. S \\<longmapsto>Source S') \\<longleftrightarrow> (\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<Longrightarrow>\n    \\<forall>S. Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>TRel.\n     (\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<Longrightarrow>\n  \\<forall>S. Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target)\n\ngoal (2 subgoals):\n 1. (\\<exists>TRel.\n        (\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))\n 2. (\\<exists>TRel.\n        ((\\<forall>S S'.\n             S \\<longmapsto>Source S' \\<longrightarrow>\n             (\\<exists>T.\n                 \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n         (\\<forall>S T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n             (\\<exists>S'.\n                 S \\<longmapsto>Source S' \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n        weak_reduction_bisimulation TRel Target) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))", "moreover"], ["proof (state)\nthis:\n  \\<exists>TRel.\n     (\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<Longrightarrow>\n  \\<forall>S. Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target)\n\ngoal (2 subgoals):\n 1. (\\<exists>TRel.\n        (\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))\n 2. (\\<exists>TRel.\n        ((\\<forall>S S'.\n             S \\<longmapsto>Source S' \\<longrightarrow>\n             (\\<exists>T.\n                 \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n         (\\<forall>S T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n             (\\<exists>S'.\n                 S \\<longmapsto>Source S' \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n        weak_reduction_bisimulation TRel Target) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))", "have A2: \"\\<forall>S. (\\<exists>S'. S \\<longmapsto>Source S') \\<longleftrightarrow> (\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T)\n                     \\<Longrightarrow> \\<exists>TRel. strongly_operational_corresponding TRel\n                          \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       Ex (step S Source) =\n       Ex (step (\\<lbrakk>S\\<rbrakk>) Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n       weak_reduction_bisimulation TRel Target", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       Ex (step S Source) =\n       Ex (step (\\<lbrakk>S\\<rbrakk>) Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n       weak_reduction_bisimulation TRel Target", "assume \"\\<forall>S. (\\<exists>S'. S \\<longmapsto>Source S') \\<longleftrightarrow> (\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T)\""], ["proof (state)\nthis:\n  \\<forall>S. Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target)\n\ngoal (1 subgoal):\n 1. \\<forall>S.\n       Ex (step S Source) =\n       Ex (step (\\<lbrakk>S\\<rbrakk>) Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n       weak_reduction_bisimulation TRel Target", "hence \"strongly_operational_corresponding {(T1, T2). True}\""], ["proof (prove)\nusing this:\n  \\<forall>S. Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> _Collect (T1, T2) True)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> _Collect (T1, T2) True))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> _Collect (T1, T2) True)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> _Collect (T1, T2) True))\n\ngoal (1 subgoal):\n 1. \\<forall>S.\n       Ex (step S Source) =\n       Ex (step (\\<lbrakk>S\\<rbrakk>) Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n       weak_reduction_bisimulation TRel Target", "thus \"\\<exists>TRel. strongly_operational_corresponding TRel\n          \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> _Collect (T1, T2) True)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> _Collect (T1, T2) True))\n\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n       weak_reduction_bisimulation TRel Target", "using all_relation_is_weak_reduction_bisimulation[where Cal=\"Target\"]"], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> _Collect (T1, T2) True)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> _Collect (T1, T2) True))\n  weak_reduction_bisimulation (_Collect (a, b) True) Target\n\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n       weak_reduction_bisimulation TRel Target", "by blast"], ["proof (state)\nthis:\n  \\<exists>TRel.\n     ((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     weak_reduction_bisimulation TRel Target\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>S.\n     Ex (step S Source) =\n     Ex (step (\\<lbrakk>S\\<rbrakk>) Target) \\<Longrightarrow>\n  \\<exists>TRel.\n     ((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     weak_reduction_bisimulation TRel Target\n\ngoal (2 subgoals):\n 1. (\\<exists>TRel.\n        (\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))\n 2. (\\<exists>TRel.\n        ((\\<forall>S S'.\n             S \\<longmapsto>Source S' \\<longrightarrow>\n             (\\<exists>T.\n                 \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n         (\\<forall>S T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n             (\\<exists>S'.\n                 S \\<longmapsto>Source S' \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n        weak_reduction_bisimulation TRel Target) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>TRel.\n     (\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<Longrightarrow>\n  \\<forall>S. Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target)\n  \\<forall>S.\n     Ex (step S Source) =\n     Ex (step (\\<lbrakk>S\\<rbrakk>) Target) \\<Longrightarrow>\n  \\<exists>TRel.\n     ((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     weak_reduction_bisimulation TRel Target", "show \"(\\<exists>TRel. strongly_operational_corresponding TRel\n                    \\<and> weak_reduction_bisimulation TRel Target)\n                   = (\\<forall>S. (\\<exists>S'. S \\<longmapsto>Source S') \\<longleftrightarrow> (\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T))\""], ["proof (prove)\nusing this:\n  \\<exists>TRel.\n     (\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<Longrightarrow>\n  \\<forall>S. Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target)\n  \\<forall>S.\n     Ex (step S Source) =\n     Ex (step (\\<lbrakk>S\\<rbrakk>) Target) \\<Longrightarrow>\n  \\<exists>TRel.\n     ((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. (\\<exists>TRel.\n        ((\\<forall>S S'.\n             S \\<longmapsto>Source S' \\<longrightarrow>\n             (\\<exists>T.\n                 \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n         (\\<forall>S T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n             (\\<exists>S'.\n                 S \\<longmapsto>Source S' \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n        weak_reduction_bisimulation TRel Target) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))", "by blast"], ["proof (state)\nthis:\n  (\\<exists>TRel.\n      ((\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n      weak_reduction_bisimulation TRel Target) =\n  (\\<forall>S. Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))\n\ngoal (1 subgoal):\n 1. (\\<exists>TRel.\n        (\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))", "from A1 A2"], ["proof (chain)\npicking this:\n  \\<exists>TRel.\n     (\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<Longrightarrow>\n  \\<forall>S. Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target)\n  \\<forall>S.\n     Ex (step S Source) =\n     Ex (step (\\<lbrakk>S\\<rbrakk>) Target) \\<Longrightarrow>\n  \\<exists>TRel.\n     ((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     weak_reduction_bisimulation TRel Target", "show \"(\\<exists>TRel. strongly_operational_corresponding TRel)\n                   = (\\<forall>S. (\\<exists>S'. S \\<longmapsto>Source S') \\<longleftrightarrow> (\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T))\""], ["proof (prove)\nusing this:\n  \\<exists>TRel.\n     (\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<Longrightarrow>\n  \\<forall>S. Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target)\n  \\<forall>S.\n     Ex (step S Source) =\n     Ex (step (\\<lbrakk>S\\<rbrakk>) Target) \\<Longrightarrow>\n  \\<exists>TRel.\n     ((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. (\\<exists>TRel.\n        (\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) =\n    (\\<forall>S.\n        Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))", "by blast"], ["proof (state)\nthis:\n  (\\<exists>TRel.\n      (\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) =\n  (\\<forall>S. Ex (step S Source) = Ex (step (\\<lbrakk>S\\<rbrakk>) Target))\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>(Strong) Operational Completeness vs (Strong) Simulation\\<close>"], ["", "text \\<open>An encoding is operational complete modulo a weak simulation on target terms TRel iff there\n        is a relation, like indRelRTPO, that relates at least all source terms to their literal\n        translations, includes TRel, and is a weak simulation.\\<close>"], ["", "lemma (in encoding) weak_reduction_simulation_impl_OCom:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n      and A2: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n      and A3: \"weak_reduction_simulation Rel (STCal Source Target)\"\n  shows \"operational_complete (TRel\\<^sup>*)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*)", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "fix S S'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from A1"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "have \"(SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "moreover"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "assume \"S \\<longmapsto>Source* S'\""], ["proof (state)\nthis:\n  S \\<longmapsto>Source* S'\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "hence \"SourceTerm S \\<longmapsto>(STCal Source Target)* (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'", "by (simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "ultimately"], ["proof (chain)\npicking this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'", "obtain Q' where A5: \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* Q'\"\n                         and A6: \"(SourceTerm S', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm\n         (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n        (SourceTerm S', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A3"], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n  weak_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm\n         (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n        (SourceTerm S', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'\n  (SourceTerm S', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from A5"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'", "obtain T where A7: \"T \\<in>T Q'\" and A8: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        T \\<in>T Q' \\<and>\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  T \\<in>T Q'\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from A2 A6 A7"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  (SourceTerm S', Q') \\<in> Rel\n  T \\<in>T Q'", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  (SourceTerm S', Q') \\<in> Rel\n  T \\<in>T Q'\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "with A8"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "show \"\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n       (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by blast"], ["proof (state)\nthis:\n  \\<exists>T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n     (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) OCom_iff_indRelRTPO_is_weak_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_complete (TRel\\<^sup>*)\n         \\<and> weak_reduction_simulation (TRel\\<^sup>+) Target)\n         = weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_complete (TRel\\<^sup>*) \\<and>\n     weak_reduction_simulation (TRel\\<^sup>+) Target) =\n    weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n 2. weak_reduction_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "assume oc:  \"operational_complete (TRel\\<^sup>*)\"\n     and sim: \"weak_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n 2. weak_reduction_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "show \"weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "fix P Q P'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "assume \"P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\" and \"P \\<longmapsto>(STCal Source Target)* P'\""], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "thus \"\\<exists>Q'. Q \\<longmapsto>(STCal Source Target)* Q' \\<and> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (prove)\nusing this:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       Q \\<longmapsto>STCal Source Target* Q' \\<and>\n       P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "proof (induct arbitrary: P')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "case (encR S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "assume \"SourceTerm S \\<longmapsto>(STCal Source Target)* P'\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'", "obtain S' where A1: \"S' \\<in>S P'\" and A2: \"S \\<longmapsto>Source* S'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S' \\<in>S P' \\<and> S \\<longmapsto>Source* S' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  S' \\<in>S P'\n  S \\<longmapsto>Source* S'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from oc A2"], ["proof (chain)\npicking this:\n  operational_complete (TRel\\<^sup>*)\n  S \\<longmapsto>Source* S'", "obtain T where A3: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\" and A4: \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  operational_complete (TRel\\<^sup>*)\n  S \\<longmapsto>Source* S'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>* \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from A3"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T", "have \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "have \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "from A4"], ["proof (chain)\npicking this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "have \"\\<lbrakk>S'\\<rbrakk> = T \\<or> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T \\<or>\n    (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "using rtrancl_eq_or_trancl[of \"\\<lbrakk>S'\\<rbrakk>\" T TRel]"], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  ((\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*) =\n  (\\<lbrakk>S'\\<rbrakk> = T \\<or>\n   \\<lbrakk>S'\\<rbrakk> \\<noteq> T \\<and>\n   (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T \\<or>\n    (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "from A1"], ["proof (chain)\npicking this:\n  S' \\<in>S P'", "have A5: \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  S' \\<in>S P'\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n              (\\<lbrakk>S'\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n            (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "hence \"\\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n            (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n    P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "assume \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\""], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "hence \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                   T", "proof induct"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny\n 2. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "fix T"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny\n 2. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "assume \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>y.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny\n 2. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "thus \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                   T", "by (rule indRelRTPO.target)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "case (step TQ TR)"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, TQ) \\<in> TRel\\<^sup>+\n  (TQ, TR) \\<in> TRel\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "assume \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\""], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "moreover"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "assume \"(TQ, TR) \\<in> TRel\""], ["proof (state)\nthis:\n  (TQ, TR) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "hence \"TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\""], ["proof (prove)\nusing this:\n  (TQ, TR) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR", "by (rule indRelRTPO.target)"], ["proof (state)\nthis:\n  TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TQ\n  TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR", "show \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\""], ["proof (prove)\nusing this:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TQ\n  TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                   TR", "by (rule indRelRTPO.trans)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TR\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "with A5"], ["proof (chain)\npicking this:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n            (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T", "show \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n            (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "by (rule indRelRTPO.trans)"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "show \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "by blast"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "show \"\\<exists>Q'. TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* Q' \\<and> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n       P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n     P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "then"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'", "obtain S' where B1: \"S' \\<in>S P'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. (\\<And>S'. S' \\<in>S P' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  S' \\<in>S P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "hence \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\""], ["proof (prove)\nusing this:\n  S' \\<in>S P'\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "by (simp add: indRelRTPO.source)"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "with source"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "show \"\\<exists>Q'. SourceTerm S \\<longmapsto>(STCal Source Target)* Q' \\<and> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n       P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n     P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T1 \\<longmapsto>STCal Source Target* P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "assume \"TargetTerm T1 \\<longmapsto>(STCal Source Target)* P'\""], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* P'", "obtain T1' where C1: \"T1' \\<in>T P'\" and C2: \"T1 \\<longmapsto>Target* T1'\""], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. (\\<And>T1'.\n        T1' \\<in>T P' \\<and> T1 \\<longmapsto>Target* T1' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  T1' \\<in>T P'\n  T1 \\<longmapsto>Target* T1'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "hence \"(T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "with C2 sim"], ["proof (chain)\npicking this:\n  T1 \\<longmapsto>Target* T1'\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  (T1, T2) \\<in> TRel\\<^sup>+", "obtain T2' where C3: \"T2 \\<longmapsto>Target* T2'\"\n                               and C4: \"(T1', T2') \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  T1 \\<longmapsto>Target* T1'\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. (\\<And>T2'.\n        T2 \\<longmapsto>Target* T2' \\<and>\n        (T1', T2') \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  T2 \\<longmapsto>Target* T2'\n  (T1', T2') \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from C3"], ["proof (chain)\npicking this:\n  T2 \\<longmapsto>Target* T2'", "have \"TargetTerm T2 \\<longmapsto>(STCal Source Target)* (TargetTerm T2')\""], ["proof (prove)\nusing this:\n  T2 \\<longmapsto>Target* T2'\n\ngoal (1 subgoal):\n 1. TargetTerm T2 \\<longmapsto>STCal Source Target* TargetTerm T2'", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from C4"], ["proof (chain)\npicking this:\n  (T1', T2') \\<in> TRel\\<^sup>+", "have \"TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\""], ["proof (prove)\nusing this:\n  (T1', T2') \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TargetTerm\n     T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "proof induct"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       (T1', y) \\<in> TRel \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm y\n 2. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "fix T2'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       (T1', y) \\<in> TRel \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm y\n 2. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "assume \"(T1', T2') \\<in> TRel\""], ["proof (state)\nthis:\n  (T1', T2') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>y.\n       (T1', y) \\<in> TRel \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm y\n 2. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "thus \"TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\""], ["proof (prove)\nusing this:\n  (T1', T2') \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm\n     T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "by (rule indRelRTPO.target)"], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "case (step TQ TR)"], ["proof (state)\nthis:\n  (T1', TQ) \\<in> TRel\\<^sup>+\n  (TQ, TR) \\<in> TRel\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "assume \"TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\""], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "moreover"], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "assume \"(TQ, TR) \\<in> TRel\""], ["proof (state)\nthis:\n  (TQ, TR) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "hence \"TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\""], ["proof (prove)\nusing this:\n  (TQ, TR) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR", "by (rule indRelRTPO.target)"], ["proof (state)\nthis:\n  TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n  TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR", "show \"TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\""], ["proof (prove)\nusing this:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n  TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\n\ngoal (1 subgoal):\n 1. TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR", "by (rule indRelRTPO.trans)"], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "with C1"], ["proof (chain)\npicking this:\n  T1' \\<in>T P'\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "have \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\""], ["proof (prove)\nusing this:\n  T1' \\<in>T P'\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "by simp"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* TargetTerm T2'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "show \"\\<exists>Q'. TargetTerm T2 \\<longmapsto>(STCal Source Target)* Q' \\<and> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* TargetTerm T2'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n       P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n     P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "case (trans P Q R)"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P \\<longmapsto>STCal Source Target* ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     ?P'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  Q \\<longmapsto>STCal Source Target* ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     R \\<longmapsto>STCal Source Target* Q' \\<and>\n     ?P'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n  P \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "assume \"P \\<longmapsto>(STCal Source Target)* P'\"\n         and \"\\<And>P'. P \\<longmapsto>(STCal Source Target)* P'\n              \\<Longrightarrow> \\<exists>Q'. Q \\<longmapsto>(STCal Source Target)* Q' \\<and> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (state)\nthis:\n  P \\<longmapsto>STCal Source Target* P'\n  P \\<longmapsto>STCal Source Target* ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     ?P'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  P \\<longmapsto>STCal Source Target* P'\n  P \\<longmapsto>STCal Source Target* ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     ?P'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "obtain Q' where D1: \"Q \\<longmapsto>(STCal Source Target)* Q'\"\n                            and D2: \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto>STCal Source Target* P'\n  P \\<longmapsto>STCal Source Target* ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     ?P'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        Q \\<longmapsto>STCal Source Target* Q' \\<and>\n        P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target* Q'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "assume \"\\<And>Q'. Q \\<longmapsto>(STCal Source Target)* Q'\n              \\<Longrightarrow> \\<exists>R'. R \\<longmapsto>(STCal Source Target)* R' \\<and> Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\""], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target* R' \\<and>\n     ?Q'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "with D1"], ["proof (chain)\npicking this:\n  Q \\<longmapsto>STCal Source Target* Q'\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target* R' \\<and>\n     ?Q'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'", "obtain R' where D3: \"R \\<longmapsto>(STCal Source Target)* R'\"\n                          and D4: \"Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto>STCal Source Target* Q'\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target* R' \\<and>\n     ?Q'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        R \\<longmapsto>STCal Source Target* R' \\<and>\n        Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<longmapsto>STCal Source Target* R'\n  Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from D2 D4"], ["proof (chain)\npicking this:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n  Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'", "have \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\""], ["proof (prove)\nusing this:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n  Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'", "by (rule indRelRTPO.trans)"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "with D3"], ["proof (chain)\npicking this:\n  R \\<longmapsto>STCal Source Target* R'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'", "show \"\\<exists>R'. R \\<longmapsto>(STCal Source Target)* R' \\<and> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto>STCal Source Target* R'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<longmapsto>STCal Source Target* R' \\<and>\n       P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'", "by blast"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target* R' \\<and>\n     P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] trans_closure_of_TRel_refl_cond"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (?TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> ?TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "assume sim: \"weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (state)\nthis:\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)", "have \"operational_complete (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*)", "using weak_reduction_simulation_impl_OCom[where Rel=\"indRelRTPO TRel\" and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n  (\\<forall>S.\n      SourceTerm\n       S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                (\\<lbrakk>S\\<rbrakk>)) \\<and>\n  (\\<forall>S T.\n      SourceTerm\n       S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (indRelRTPO TRel)\n   (STCal Source Target) \\<Longrightarrow>\n  operational_complete (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "from sim"], ["proof (chain)\npicking this:\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)", "have \"weak_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (TRel\\<^sup>+) Target", "using indRelRTPO_impl_TRel_is_weak_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n  weak_reduction_simulation (indRelRTPO TRel)\n   (STCal Source Target) \\<Longrightarrow>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  operational_complete (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target", "show \"operational_complete (TRel\\<^sup>*)\n                   \\<and> weak_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  operational_complete (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) OCom_iff_weak_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_complete (TRel\\<^sup>*)\n         \\<and> weak_reduction_simulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_simulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_complete (TRel\\<^sup>*) \\<and>\n     weak_reduction_simulation (TRel\\<^sup>+) Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_simulation Rel (STCal Source Target))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> indRelRTPO TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2", "by (simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>T1 T2. TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2 \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] trans_closure_of_TRel_refl_cond"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (?TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> ?TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "assume \"operational_complete (TRel\\<^sup>*)\"\n              and \"weak_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "hence \"weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  operational_complete (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)", "using OCom_iff_indRelRTPO_is_weak_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  operational_complete (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  (operational_complete (TRel\\<^sup>*) \\<and>\n   weak_reduction_simulation (TRel\\<^sup>+) Target) =\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n                   \\<and> weak_reduction_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n          \\<and> weak_reduction_simulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_simulation Rel (STCal Source Target)", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n    and A2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n    and A3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\"\n    and A4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n    and A5: \"weak_reduction_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_simulation Rel\n         (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "from A1 A4 A5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation Rel (STCal Source Target)", "have \"operational_complete (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*)", "using weak_reduction_simulation_impl_OCom[where Rel=\"Rel\" and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation Rel (STCal Source Target)\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n  operational_complete (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "from A2 A3 A5"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  weak_reduction_simulation Rel (STCal Source Target)", "have \"weak_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  weak_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (TRel\\<^sup>+) Target", "using rel_with_target_impl_transC_TRel_is_weak_reduction_simulation[where Rel=\"Rel\" and\n             TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  weak_reduction_simulation Rel (STCal Source Target)\n  weak_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<Longrightarrow>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n    operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  operational_complete (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target", "show \"operational_complete (TRel\\<^sup>*)\n                   \\<and> weak_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  operational_complete (TRel\\<^sup>*)\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>An encoding is strong operational complete modulo a strong simulation on target terms TRel\n        iff there is a relation, like indRelRTPO, that relates at least all source terms to their\n        literal translations, includes TRel, and is a strong simulation.\\<close>"], ["", "lemma (in encoding) strong_reduction_simulation_impl_SOCom:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n      and A2: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n      and A3: \"strong_reduction_simulation Rel (STCal Source Target)\"\n  shows \"strongly_operational_complete (TRel\\<^sup>*)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "fix S S'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from A1"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "have \"(SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "moreover"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "assume \"S \\<longmapsto>Source S'\""], ["proof (state)\nthis:\n  S \\<longmapsto>Source S'\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "hence \"SourceTerm S \\<longmapsto>(STCal Source Target) (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'", "by (simp add: STCal_step(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "ultimately"], ["proof (chain)\npicking this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'", "obtain Q' where A5: \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) Q'\"\n                         and A6: \"(SourceTerm S', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm\n         (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n        (SourceTerm S', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A3"], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n  strong_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm\n         (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n        (SourceTerm S', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'\n  (SourceTerm S', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from A5"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'", "obtain T where A7: \"T \\<in>T Q'\" and A8: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        T \\<in>T Q' \\<and>\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(2))"], ["proof (state)\nthis:\n  T \\<in>T Q'\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from A2 A6 A7"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  (SourceTerm S', Q') \\<in> Rel\n  T \\<in>T Q'", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  (SourceTerm S', Q') \\<in> Rel\n  T \\<in>T Q'\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "with A8"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "show \"\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n       (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by blast"], ["proof (state)\nthis:\n  \\<exists>T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n     (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) SOCom_iff_indRelRTPO_is_strong_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_complete (TRel\\<^sup>*)\n         \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target)\n         = strong_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     strong_reduction_simulation (TRel\\<^sup>+) Target) =\n    (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n 2. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "assume soc: \"strongly_operational_complete (TRel\\<^sup>*)\"\n     and sim: \"strong_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (state)\nthis:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n 2. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "show \"strong_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "fix P Q P'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "assume \"P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\" and \"P \\<longmapsto>(STCal Source Target) P'\""], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "thus \"\\<exists>Q'. Q \\<longmapsto>(STCal Source Target) Q' \\<and> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (prove)\nusing this:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       Q \\<longmapsto>STCal Source Target Q' \\<and>\n       P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "proof (induct arbitrary: P')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "case (encR S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "assume \"SourceTerm S \\<longmapsto>(STCal Source Target) P'\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'", "obtain S' where A1: \"S' \\<in>S P'\" and A2: \"S \\<longmapsto>Source S'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S' \\<in>S P' \\<and> S \\<longmapsto>Source S' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(1))"], ["proof (state)\nthis:\n  S' \\<in>S P'\n  S \\<longmapsto>Source S'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from soc A2"], ["proof (chain)\npicking this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  S \\<longmapsto>Source S'", "obtain T where A3: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\" and A4: \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  S \\<longmapsto>Source S'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>* \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from A3"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T", "have \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T", "by (simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "have \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "from A4"], ["proof (chain)\npicking this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "have \"\\<lbrakk>S'\\<rbrakk> = T \\<or> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T \\<or>\n    (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "using rtrancl_eq_or_trancl[of \"\\<lbrakk>S'\\<rbrakk>\" T TRel]"], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  ((\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*) =\n  (\\<lbrakk>S'\\<rbrakk> = T \\<or>\n   \\<lbrakk>S'\\<rbrakk> \\<noteq> T \\<and>\n   (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T \\<or>\n    (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "from A1"], ["proof (chain)\npicking this:\n  S' \\<in>S P'", "have A5: \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  S' \\<in>S P'\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n              (\\<lbrakk>S'\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n            (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "hence \"\\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n            (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n    P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "assume \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\""], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "hence \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                   T", "proof induct"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny\n 2. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "fix TQ"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny\n 2. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "assume \"(\\<lbrakk>S'\\<rbrakk>, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>y.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny\n 2. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "thus \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                   TQ", "by (rule indRelRTPO.target)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "case (step TQ TR)"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, TQ) \\<in> TRel\\<^sup>+\n  (TQ, TR) \\<in> TRel\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "assume \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\""], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "moreover"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "assume \"(TQ, TR) \\<in> TRel\""], ["proof (state)\nthis:\n  (TQ, TR) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "hence \"TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\""], ["proof (prove)\nusing this:\n  (TQ, TR) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR", "by (rule indRelRTPO.target)"], ["proof (state)\nthis:\n  TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (\\<lbrakk>S'\\<rbrakk>, y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\ny \\<Longrightarrow>\n       TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\nz", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TQ\n  TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR", "show \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\""], ["proof (prove)\nusing this:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TQ\n  TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                   TR", "by (rule indRelRTPO.trans)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 TR\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "with A5"], ["proof (chain)\npicking this:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n            (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T", "show \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n            (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "by (rule indRelRTPO.trans)"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "show \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "by blast"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "show \"\\<exists>Q'. TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) Q' \\<and> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n       P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n     P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "then"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'", "obtain S' where B1: \"S' \\<in>S P'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. (\\<And>S'. S' \\<in>S P' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(1))"], ["proof (state)\nthis:\n  S' \\<in>S P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "hence \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\""], ["proof (prove)\nusing this:\n  S' \\<in>S P'\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "by (simp add: indRelRTPO.source)"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "with source"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "show \"\\<exists>Q'. SourceTerm S \\<longmapsto>(STCal Source Target) Q' \\<and> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n       P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n     P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T1 \\<longmapsto>STCal Source Target P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "assume \"TargetTerm T1 \\<longmapsto>(STCal Source Target) P'\""], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target P'", "obtain T1' where C1: \"T1' \\<in>T P'\" and C2: \"T1 \\<longmapsto>Target T1'\""], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. (\\<And>T1'.\n        T1' \\<in>T P' \\<and> T1 \\<longmapsto>Target T1' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(2))"], ["proof (state)\nthis:\n  T1' \\<in>T P'\n  T1 \\<longmapsto>Target T1'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "hence \"(T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "with C2 sim"], ["proof (chain)\npicking this:\n  T1 \\<longmapsto>Target T1'\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n  (T1, T2) \\<in> TRel\\<^sup>+", "obtain T2' where C3: \"T2 \\<longmapsto>Target T2'\" and C4: \"(T1', T2') \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  T1 \\<longmapsto>Target T1'\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n  (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. (\\<And>T2'.\n        T2 \\<longmapsto>Target T2' \\<and>\n        (T1', T2') \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  T2 \\<longmapsto>Target T2'\n  (T1', T2') \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from C3"], ["proof (chain)\npicking this:\n  T2 \\<longmapsto>Target T2'", "have \"TargetTerm T2 \\<longmapsto>(STCal Source Target) (TargetTerm T2')\""], ["proof (prove)\nusing this:\n  T2 \\<longmapsto>Target T2'\n\ngoal (1 subgoal):\n 1. TargetTerm T2 \\<longmapsto>STCal Source Target TargetTerm T2'", "by (simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from C4"], ["proof (chain)\npicking this:\n  (T1', T2') \\<in> TRel\\<^sup>+", "have \"TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\""], ["proof (prove)\nusing this:\n  (T1', T2') \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TargetTerm\n     T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "proof induct"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       (T1', y) \\<in> TRel \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm y\n 2. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "fix T2'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       (T1', y) \\<in> TRel \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm y\n 2. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "assume \"(T1', T2') \\<in> TRel\""], ["proof (state)\nthis:\n  (T1', T2') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>y.\n       (T1', y) \\<in> TRel \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm y\n 2. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "thus \"TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\""], ["proof (prove)\nusing this:\n  (T1', T2') \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm\n     T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "by (rule indRelRTPO.target)"], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "case (step TQ TR)"], ["proof (state)\nthis:\n  (T1', TQ) \\<in> TRel\\<^sup>+\n  (TQ, TR) \\<in> TRel\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "assume \"TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\""], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "moreover"], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "assume \"(TQ, TR) \\<in> TRel\""], ["proof (state)\nthis:\n  (TQ, TR) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "hence \"TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\""], ["proof (prove)\nusing this:\n  (TQ, TR) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR", "by (rule indRelRTPO.target)"], ["proof (state)\nthis:\n  TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       (T1', y) \\<in> TRel\\<^sup>+ \\<and>\n       (y, z) \\<in> TRel \\<and>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                   y \\<Longrightarrow>\n       TargetTerm\n        T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm z", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n  TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR", "show \"TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\""], ["proof (prove)\nusing this:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n  TargetTerm TQ \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\n\ngoal (1 subgoal):\n 1. TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR", "by (rule indRelRTPO.trans)"], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TR\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "with C1"], ["proof (chain)\npicking this:\n  T1' \\<in>T P'\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "have \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\""], ["proof (prove)\nusing this:\n  T1' \\<in>T P'\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "by simp"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target TargetTerm T2'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "show \"\\<exists>Q'. TargetTerm T2 \\<longmapsto>(STCal Source Target) Q' \\<and> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target TargetTerm T2'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n       P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n     P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "case (trans P Q R)"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  P \\<longmapsto>STCal Source Target ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     ?P'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  Q \\<longmapsto>STCal Source Target ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     R \\<longmapsto>STCal Source Target Q' \\<and>\n     ?P'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n  P \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "assume \"P \\<longmapsto>(STCal Source Target) P'\"\n         and \"\\<And>P'. P \\<longmapsto>(STCal Source Target) P'\n              \\<Longrightarrow> \\<exists>Q'. Q \\<longmapsto>(STCal Source Target) Q' \\<and> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (state)\nthis:\n  P \\<longmapsto>STCal Source Target P'\n  P \\<longmapsto>STCal Source Target ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     ?P'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  P \\<longmapsto>STCal Source Target P'\n  P \\<longmapsto>STCal Source Target ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     ?P'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "obtain Q' where D1: \"Q \\<longmapsto>(STCal Source Target) Q'\"\n                            and D2: \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto>STCal Source Target P'\n  P \\<longmapsto>STCal Source Target ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     ?P'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        Q \\<longmapsto>STCal Source Target Q' \\<and>\n        P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target Q'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "assume \"\\<And>Q'. Q \\<longmapsto>(STCal Source Target) Q'\n              \\<Longrightarrow> \\<exists>R'. R \\<longmapsto>(STCal Source Target) R' \\<and> Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\""], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target R' \\<and>\n     ?Q'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "with D1"], ["proof (chain)\npicking this:\n  Q \\<longmapsto>STCal Source Target Q'\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target R' \\<and>\n     ?Q'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'", "obtain R' where D3: \"R \\<longmapsto>(STCal Source Target) R'\"\n                          and D4: \"Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto>STCal Source Target Q'\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target R' \\<and>\n     ?Q'3 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        R \\<longmapsto>STCal Source Target R' \\<and>\n        Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<longmapsto>STCal Source Target R'\n  Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "from D2 D4"], ["proof (chain)\npicking this:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n  Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'", "have \"P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\""], ["proof (prove)\nusing this:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n  Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal (1 subgoal):\n 1. P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'", "by (rule indRelRTPO.trans)"], ["proof (state)\nthis:\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "with D3"], ["proof (chain)\npicking this:\n  R \\<longmapsto>STCal Source Target R'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'", "show \"\\<exists>R'. R \\<longmapsto>(STCal Source Target) R' \\<and> P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto>STCal Source Target R'\n  P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<longmapsto>STCal Source Target R' \\<and>\n       P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'", "by blast"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target R' \\<and>\n     P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] trans_closure_of_TRel_refl_cond"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (?TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> ?TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "assume sim: \"strong_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')", "have \"strongly_operational_complete (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n\ngoal (1 subgoal):\n 1. \\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "using strong_reduction_simulation_impl_SOCom[where Rel=\"indRelRTPO TRel\" and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n  (\\<forall>S.\n      SourceTerm\n       S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                (\\<lbrakk>S\\<rbrakk>)) \\<and>\n  (\\<forall>S T.\n      SourceTerm\n       S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "from sim"], ["proof (chain)\npicking this:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')", "have \"strong_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation (TRel\\<^sup>+) Target", "using indRelRTPO_impl_TRel_is_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q') \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation (TRel\\<^sup>+) Target", "show \"strongly_operational_complete (TRel\\<^sup>*)\n                   \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) SOCom_iff_strong_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_complete (TRel\\<^sup>*)\n         \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> strong_reduction_simulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     strong_reduction_simulation (TRel\\<^sup>+) Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        strong_reduction_simulation Rel (STCal Source Target))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> indRelRTPO TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2", "by (simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>T1 T2. TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2 \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] trans_closure_of_TRel_refl_cond"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (?TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> ?TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "assume \"strongly_operational_complete (TRel\\<^sup>*)\"\n              and \"strong_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (state)\nthis:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "hence \"strong_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')", "using SOCom_iff_indRelRTPO_is_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target) =\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')", "by simp"], ["proof (state)\nthis:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n                   \\<and> strong_reduction_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n          \\<and> strong_reduction_simulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target)", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n    and A2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n    and A3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\"\n    and A4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n    and A5: \"strong_reduction_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        strong_reduction_simulation Rel\n         (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "from A1 A4 A5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation Rel (STCal Source Target)", "have \"strongly_operational_complete (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "using strong_reduction_simulation_impl_SOCom[where Rel=\"Rel\" and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation Rel (STCal Source Target)\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  strong_reduction_simulation Rel (STCal Source Target) \\<Longrightarrow>\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "from A2 A3 A5"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  strong_reduction_simulation Rel (STCal Source Target)", "have \"strong_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  strong_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation (TRel\\<^sup>+) Target", "using rel_with_target_impl_transC_TRel_is_strong_reduction_simulation[where Rel=\"Rel\" and\n             TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  strong_reduction_simulation Rel (STCal Source Target)\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<Longrightarrow>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation (TRel\\<^sup>+) Target", "show \"strongly_operational_complete (TRel\\<^sup>*)\n                   \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) target_relation_from_source_target_relation:\n  fixes Rel :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n  assumes stre: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel\n                 \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\"\n  shows \"\\<exists>TRel. (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "define TRel where \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\""], ["proof (state)\nthis:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "from TRel_def"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "have \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "from TRel_def"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "have \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by blast"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "from stre TRel_def"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "have \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by blast"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "by blast"], ["proof (state)\nthis:\n  \\<exists>TRel.\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) SOCom_modulo_TRel_iff_strong_reduction_simulation:\n  shows \"(\\<exists>TRel. strongly_operational_complete (TRel\\<^sup>*)\n         \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n           \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\n           \\<and> strong_reduction_simulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>TRel.\n        (\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        strong_reduction_simulation (TRel\\<^sup>+) Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n            \\<in> Rel\\<^sup>=) \\<and>\n        strong_reduction_simulation Rel (STCal Source Target))", "proof (rule iffI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "assume \"\\<exists>TRel. strongly_operational_complete (TRel\\<^sup>*)\n          \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (state)\nthis:\n  \\<exists>TRel.\n     (\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>TRel.\n     (\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     strong_reduction_simulation (TRel\\<^sup>+) Target", "obtain TRel where \"strongly_operational_complete (TRel\\<^sup>*)\"\n                          and \"strong_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<exists>TRel.\n     (\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. (\\<And>TRel.\n        (\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "hence \"strong_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')", "using SOCom_iff_indRelRTPO_is_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target) =\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')", "by simp"], ["proof (state)\nthis:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n                 \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> (indRelRTPO TRel)\\<^sup>=\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n       \\<in> (indRelRTPO TRel)\\<^sup>=", "using indRelRTPO_relates_source_target[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  SourceTerm\n   ?S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             ?T \\<Longrightarrow>\n  (TargetTerm (\\<lbrakk>?S\\<rbrakk>), TargetTerm ?T)\n  \\<in> (indRelRTPO TRel)\\<^sup>=\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n       \\<in> (indRelRTPO TRel)\\<^sup>=", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n     \\<in> (indRelRTPO TRel)\\<^sup>=\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n     \\<in> (indRelRTPO TRel)\\<^sup>=", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel\n                      \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\n                   \\<and> strong_reduction_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n     \\<in> (indRelRTPO TRel)\\<^sup>=\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n         \\<in> Rel\\<^sup>=) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\n          \\<and> strong_reduction_simulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n         \\<in> Rel\\<^sup>=) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n         \\<in> Rel\\<^sup>=) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target)", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n                         and A2: \"(\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel\n                                  \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\"\n                         and A3: \"strong_reduction_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n         \\<in> Rel\\<^sup>=) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n            \\<in> Rel\\<^sup>=) \\<and>\n        strong_reduction_simulation Rel\n         (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\n  strong_reduction_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "from A2"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=", "obtain TRel where \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n   and \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\"\n   and \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\n\ngoal (1 subgoal):\n 1. (\\<And>TRel.\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using target_relation_from_source_target_relation[where Rel=\"Rel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n     \\<in> Rel\\<^sup>= \\<Longrightarrow>\n  \\<exists>TRel.\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. (\\<And>TRel.\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "with A1 A3"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  strong_reduction_simulation Rel (STCal Source Target)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "have \"strongly_operational_complete (TRel\\<^sup>*)\n                   \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  strong_reduction_simulation Rel (STCal Source Target)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "using SOCom_iff_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  strong_reduction_simulation Rel (STCal Source Target)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      strong_reduction_simulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "by blast"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "thus \"\\<exists>TRel. strongly_operational_complete (TRel\\<^sup>*)\n        \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       (\\<forall>S S'.\n           S \\<longmapsto>Source S' \\<longrightarrow>\n           (\\<exists>T.\n               \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target", "by blast"], ["proof (state)\nthis:\n  \\<exists>TRel.\n     (\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Weak Operational Soundness vs Contrasimulation\\<close>"], ["", "text \\<open>If the inverse of a relation that includes TRel and relates source terms and their literal\n        translations is a contrasimulation, then the encoding is weakly operational sound.\\<close>"], ["", "lemma (in encoding) weak_reduction_contrasimulation_impl_WOSou:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n      and A2: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n      and A3: \"weak_reduction_contrasimulation (Rel\\<inverse>) (STCal Source Target)\"\n  shows \"weakly_operational_sound (TRel\\<^sup>*)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weakly_operational_sound (TRel\\<^sup>*)", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "fix S T"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "from A1"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>", "by simp"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "moreover"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "assume \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\""], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "hence \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "obtain Q' where A5: \"SourceTerm S \\<longmapsto>(STCal Source Target)* Q'\"\n                         and A6: \"(Q', TargetTerm T) \\<in> Rel\\<inverse>\""], ["proof (prove)\nusing this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n        (Q', TargetTerm T) \\<in> Rel\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A3"], ["proof (prove)\nusing this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n  weak_reduction_contrasimulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n        (Q', TargetTerm T) \\<in> Rel\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n  (Q', TargetTerm T) \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "from A5"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'", "obtain S' where A7: \"S' \\<in>S Q'\" and A8: \"S \\<longmapsto>Source* S'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S' \\<in>S Q' \\<and> S \\<longmapsto>Source* S' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  S' \\<in>S Q'\n  S \\<longmapsto>Source* S'\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "have \"Q' \\<longmapsto>(STCal Source Target)* Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q' \\<longmapsto>STCal Source Target* Q'", "by (simp add: steps_refl)"], ["proof (state)\nthis:\n  Q' \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "with A6 A3"], ["proof (chain)\npicking this:\n  (Q', TargetTerm T) \\<in> Rel\\<inverse>\n  weak_reduction_contrasimulation (Rel\\<inverse>) (STCal Source Target)\n  Q' \\<longmapsto>STCal Source Target* Q'", "obtain P'' where A9:  \"TargetTerm T \\<longmapsto>(STCal Source Target)* P''\"\n                          and A10: \"(P'', Q') \\<in> Rel\\<inverse>\""], ["proof (prove)\nusing this:\n  (Q', TargetTerm T) \\<in> Rel\\<inverse>\n  weak_reduction_contrasimulation (Rel\\<inverse>) (STCal Source Target)\n  Q' \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        TargetTerm T \\<longmapsto>STCal Source Target* P'' \\<and>\n        (P'', Q') \\<in> Rel\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  TargetTerm T \\<longmapsto>STCal Source Target* P''\n  (P'', Q') \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "from A9"], ["proof (chain)\npicking this:\n  TargetTerm T \\<longmapsto>STCal Source Target* P''", "obtain T' where A11: \"T' \\<in>T P''\" and A12: \"T \\<longmapsto>Target* T'\""], ["proof (prove)\nusing this:\n  TargetTerm T \\<longmapsto>STCal Source Target* P''\n\ngoal (1 subgoal):\n 1. (\\<And>T'.\n        T' \\<in>T P'' \\<and> T \\<longmapsto>Target* T' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  T' \\<in>T P''\n  T \\<longmapsto>Target* T'\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "from A10"], ["proof (chain)\npicking this:\n  (P'', Q') \\<in> Rel\\<inverse>", "have \"(Q', P'') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (P'', Q') \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. (Q', P'') \\<in> Rel", "by induct"], ["proof (state)\nthis:\n  (Q', P'') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "with A2 A7 A11"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  S' \\<in>S Q'\n  T' \\<in>T P''\n  (Q', P'') \\<in> Rel", "have \"(\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  S' \\<in>S Q'\n  T' \\<in>T P''\n  (Q', P'') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "with A8 A12"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source* S'\n  T \\<longmapsto>Target* T'\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "show \"\\<exists>S' T'. S \\<longmapsto>Source* S' \\<and> T \\<longmapsto>Target* T' \\<and> (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n  T \\<longmapsto>Target* T'\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>S' T'.\n       S \\<longmapsto>Source* S' \\<and>\n       T \\<longmapsto>Target* T' \\<and>\n       (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "by blast"], ["proof (state)\nthis:\n  \\<exists>S' T'.\n     S \\<longmapsto>Source* S' \\<and>\n     T \\<longmapsto>Target* T' \\<and>\n     (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>(Strong) Operational Soundness vs (Strong) Simulation\\<close>"], ["", "text \\<open>An encoding is operational sound modulo a relation TRel whose inverse is a weak reduction\n        simulation on target terms iff there is a relation, like indRelRTPO, that relates at least\n        all source terms to their literal translations, includes TRel, and whose inverse is a weak\n        simulation.\\<close>"], ["", "lemma (in encoding) weak_reduction_simulation_impl_OSou:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n      and A2: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n      and A3: \"weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\"\n  shows \"operational_sound (TRel\\<^sup>*)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. operational_sound (TRel\\<^sup>*)", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "fix S T"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from A1"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>", "by simp"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "moreover"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "assume \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\""], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "hence \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "obtain Q' where A5: \"SourceTerm S \\<longmapsto>(STCal Source Target)* Q'\"\n                         and A6: \"(TargetTerm T, Q') \\<in> Rel\\<inverse>\""], ["proof (prove)\nusing this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n        (TargetTerm T, Q') \\<in> Rel\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A3"], ["proof (prove)\nusing this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n        (TargetTerm T, Q') \\<in> Rel\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n  (TargetTerm T, Q') \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from A5"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'", "obtain S' where A7: \"S' \\<in>S Q'\" and A8: \"S \\<longmapsto>Source* S'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S' \\<in>S Q' \\<and> S \\<longmapsto>Source* S' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  S' \\<in>S Q'\n  S \\<longmapsto>Source* S'\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from A6"], ["proof (chain)\npicking this:\n  (TargetTerm T, Q') \\<in> Rel\\<inverse>", "have \"(Q', TargetTerm T) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (TargetTerm T, Q') \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. (Q', TargetTerm T) \\<in> Rel", "by induct"], ["proof (state)\nthis:\n  (Q', TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "with A2 A7"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  S' \\<in>S Q'\n  (Q', TargetTerm T) \\<in> Rel", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  S' \\<in>S Q'\n  (Q', TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "with A8"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source* S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "show \"\\<exists>S'. S \\<longmapsto>Source* S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>S'.\n       S \\<longmapsto>Source* S' \\<and>\n       (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by blast"], ["proof (state)\nthis:\n  \\<exists>S'.\n     S \\<longmapsto>Source* S' \\<and>\n     (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) OSou_iff_inverse_of_indRelRTPO_is_weak_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_sound (TRel\\<^sup>*)\n         \\<and> weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target)\n         = weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_sound (TRel\\<^sup>*) \\<and>\n     weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n    weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)\n 2. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "assume os:  \"operational_sound (TRel\\<^sup>*)\"\n     and sim: \"weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (state)\nthis:\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)\n 2. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "show \"weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<longmapsto>STCal Source Target* P' \\<and>\n       Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "fix P Q P'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<longmapsto>STCal Source Target* P' \\<and>\n       Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P\" and \"P \\<longmapsto>(STCal Source Target)* P'\""], ["proof (state)\nthis:\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P\n  P \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<longmapsto>STCal Source Target* P' \\<and>\n       Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "thus \"\\<exists>Q'. Q \\<longmapsto>(STCal Source Target)* Q' \\<and> (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P\n  P \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       Q \\<longmapsto>STCal Source Target* Q' \\<and>\n       (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "proof (induct arbitrary: P')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "case (encR S)"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* P'\""], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from this"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P'", "obtain T where A1: \"T \\<in>T P'\" and A2: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        T \\<in>T P' \\<and>\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  T \\<in>T P'\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from os A2"], ["proof (chain)\npicking this:\n  operational_sound (TRel\\<^sup>*)\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T", "obtain S' where A3: \"S \\<longmapsto>Source* S'\" and A4: \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  operational_sound (TRel\\<^sup>*)\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source* S' \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>* \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  S \\<longmapsto>Source* S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from A3"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source* S'", "have \"SourceTerm S \\<longmapsto>(STCal Source Target)* (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'", "by (simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "moreover"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "have \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "from A4"], ["proof (chain)\npicking this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "have \"\\<lbrakk>S'\\<rbrakk> = T \\<or> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T \\<or>\n    (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "using rtrancl_eq_or_trancl[of \"\\<lbrakk>S'\\<rbrakk>\" T TRel]"], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  ((\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*) =\n  (\\<lbrakk>S'\\<rbrakk> = T \\<or>\n   \\<lbrakk>S'\\<rbrakk> \\<noteq> T \\<and>\n   (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T \\<or>\n    (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "have A5: \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm\n     S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S'\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "with A1"], ["proof (chain)\npicking this:\n  T \\<in>T P'\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)", "have \"\\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow> SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\""], ["proof (prove)\nusing this:\n  T \\<in>T P'\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow> SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "assume \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\""], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "hence \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                   T", "by (rule transitive_closure_of_TRel_to_indRelRTPO)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "with A5"], ["proof (chain)\npicking this:\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T", "have \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "by (rule indRelRTPO.trans)"], ["proof (state)\nthis:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "with A1"], ["proof (chain)\npicking this:\n  T \\<in>T P'\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "show \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\""], ["proof (prove)\nusing this:\n  T \\<in>T P'\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "by simp"], ["proof (state)\nthis:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "show \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "by blast"], ["proof (state)\nthis:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "hence \"(P', SourceTerm S') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (1 subgoal):\n 1. (P', SourceTerm S') \\<in> (indRelRTPO TRel)\\<inverse>", "by simp"], ["proof (state)\nthis:\n  (P', SourceTerm S') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n  (P', SourceTerm S') \\<in> (indRelRTPO TRel)\\<inverse>", "show \"\\<exists>Q'. SourceTerm S \\<longmapsto>(STCal Source Target)* Q' \\<and> (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n  (P', SourceTerm S') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n       (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n     (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "then"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'", "obtain S' where B1: \"S' \\<in>S P'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. (\\<And>S'. S' \\<in>S P' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  S' \\<in>S P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "hence \"(P', P') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  S' \\<in>S P'\n\ngoal (1 subgoal):\n 1. (P', P') \\<in> (indRelRTPO TRel)\\<inverse>", "by (simp add: indRelRTPO.source)"], ["proof (state)\nthis:\n  (P', P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "with source"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n  (P', P') \\<in> (indRelRTPO TRel)\\<inverse>", "show \"\\<exists>Q'. SourceTerm S \\<longmapsto>(STCal Source Target)* Q' \\<and> (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n  (P', P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n       (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n     (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T2 \\<longmapsto>STCal Source Target* P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"TargetTerm T2 \\<longmapsto>(STCal Source Target)* P'\""], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from this"], ["proof (chain)\npicking this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* P'", "obtain T2' where C1: \"T2' \\<in>T P'\" and C2: \"T2 \\<longmapsto>Target* T2'\""], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. (\\<And>T2'.\n        T2' \\<in>T P' \\<and> T2 \\<longmapsto>Target* T2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  T2' \\<in>T P'\n  T2 \\<longmapsto>Target* T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "hence \"(T2, T1) \\<in> (TRel\\<^sup>+)\\<inverse>\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (T2, T1) \\<in> (TRel\\<^sup>+)\\<inverse>", "by simp"], ["proof (state)\nthis:\n  (T2, T1) \\<in> (TRel\\<^sup>+)\\<inverse>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "with C2 sim"], ["proof (chain)\npicking this:\n  T2 \\<longmapsto>Target* T2'\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  (T2, T1) \\<in> (TRel\\<^sup>+)\\<inverse>", "obtain T1' where C3: \"T1 \\<longmapsto>Target* T1'\" and C4: \"(T2', T1') \\<in> (TRel\\<^sup>+)\\<inverse>\""], ["proof (prove)\nusing this:\n  T2 \\<longmapsto>Target* T2'\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  (T2, T1) \\<in> (TRel\\<^sup>+)\\<inverse>\n\ngoal (1 subgoal):\n 1. (\\<And>T1'.\n        T1 \\<longmapsto>Target* T1' \\<and>\n        (T2', T1') \\<in> (TRel\\<^sup>+)\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  T1 \\<longmapsto>Target* T1'\n  (T2', T1') \\<in> (TRel\\<^sup>+)\\<inverse>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from C3"], ["proof (chain)\npicking this:\n  T1 \\<longmapsto>Target* T1'", "have \"TargetTerm T1 \\<longmapsto>(STCal Source Target)* (TargetTerm T1')\""], ["proof (prove)\nusing this:\n  T1 \\<longmapsto>Target* T1'\n\ngoal (1 subgoal):\n 1. TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "moreover"], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from C4"], ["proof (chain)\npicking this:\n  (T2', T1') \\<in> (TRel\\<^sup>+)\\<inverse>", "have \"(T1', T2') \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  (T2', T1') \\<in> (TRel\\<^sup>+)\\<inverse>\n\ngoal (1 subgoal):\n 1. (T1', T2') \\<in> TRel\\<^sup>+", "by induct"], ["proof (state)\nthis:\n  (T1', T2') \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "hence \"TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\""], ["proof (prove)\nusing this:\n  (T1', T2') \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TargetTerm\n     T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "by (rule transitive_closure_of_TRel_to_indRelRTPO)"], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "with C1"], ["proof (chain)\npicking this:\n  T2' \\<in>T P'\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "have \"(P', TargetTerm T1') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  T2' \\<in>T P'\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (1 subgoal):\n 1. (P', TargetTerm T1') \\<in> (indRelRTPO TRel)\\<inverse>", "by simp"], ["proof (state)\nthis:\n  (P', TargetTerm T1') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'\n  (P', TargetTerm T1') \\<in> (indRelRTPO TRel)\\<inverse>", "show \"\\<exists>Q'. TargetTerm T1 \\<longmapsto>(STCal Source Target)* Q' \\<and> (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'\n  (P', TargetTerm T1') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n       (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     TargetTerm T1 \\<longmapsto>STCal Source Target* Q' \\<and>\n     (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "case (trans P Q R R')"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>STCal Source Target* ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     P \\<longmapsto>STCal Source Target* Q' \\<and>\n     (?P'3, Q') \\<in> (indRelRTPO TRel)\\<inverse>\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  R \\<longmapsto>STCal Source Target* ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     (?P'3, Q') \\<in> (indRelRTPO TRel)\\<inverse>\n  R \\<longmapsto>STCal Source Target* R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"R \\<longmapsto>(STCal Source Target)* R'\"\n         and \"\\<And>R'. R \\<longmapsto>(STCal Source Target)* R'\n              \\<Longrightarrow> \\<exists>Q'. Q \\<longmapsto>(STCal Source Target)* Q' \\<and> (R', Q') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (state)\nthis:\n  R \\<longmapsto>STCal Source Target* R'\n  R \\<longmapsto>STCal Source Target* ?R'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     (?R'3, Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from this"], ["proof (chain)\npicking this:\n  R \\<longmapsto>STCal Source Target* R'\n  R \\<longmapsto>STCal Source Target* ?R'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     (?R'3, Q') \\<in> (indRelRTPO TRel)\\<inverse>", "obtain Q' where D1: \"Q \\<longmapsto>(STCal Source Target)* Q'\"\n                            and D2: \"(R', Q') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  R \\<longmapsto>STCal Source Target* R'\n  R \\<longmapsto>STCal Source Target* ?R'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     (?R'3, Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        Q \\<longmapsto>STCal Source Target* Q' \\<and>\n        (R', Q') \\<in> (indRelRTPO TRel)\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target* Q'\n  (R', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"\\<And>Q'. Q \\<longmapsto>(STCal Source Target)* Q'\n              \\<Longrightarrow> \\<exists>P'. P \\<longmapsto>(STCal Source Target)* P' \\<and> (Q', P') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target* P' \\<and>\n     (?Q'3, P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "with D1"], ["proof (chain)\npicking this:\n  Q \\<longmapsto>STCal Source Target* Q'\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target* P' \\<and>\n     (?Q'3, P') \\<in> (indRelRTPO TRel)\\<inverse>", "obtain P' where D3: \"P \\<longmapsto>(STCal Source Target)* P'\"\n                          and D4: \"(Q', P') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto>STCal Source Target* Q'\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target* P' \\<and>\n     (?Q'3, P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        P \\<longmapsto>STCal Source Target* P' \\<and>\n        (Q', P') \\<in> (indRelRTPO TRel)\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P \\<longmapsto>STCal Source Target* P'\n  (Q', P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from D4 D2"], ["proof (chain)\npicking this:\n  (Q', P') \\<in> (indRelRTPO TRel)\\<inverse>\n  (R', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "have \"(R', P') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  (Q', P') \\<in> (indRelRTPO TRel)\\<inverse>\n  (R', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. (R', P') \\<in> (indRelRTPO TRel)\\<inverse>", "by (simp add: indRelRTPO.trans[where P=\"P'\" and Q=\"Q'\" and R=\"R'\"])"], ["proof (state)\nthis:\n  (R', P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target* Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "with D3"], ["proof (chain)\npicking this:\n  P \\<longmapsto>STCal Source Target* P'\n  (R', P') \\<in> (indRelRTPO TRel)\\<inverse>", "show \"\\<exists>P'. P \\<longmapsto>(STCal Source Target)* P' \\<and> (R', P') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  P \\<longmapsto>STCal Source Target* P'\n  (R', P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<longmapsto>STCal Source Target* P' \\<and>\n       (R', P') \\<in> (indRelRTPO TRel)\\<inverse>", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target* P' \\<and>\n     (R', P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>S. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] trans_closure_of_TRel_refl_cond"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (?TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> ?TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "assume sim: \"weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (state)\nthis:\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)", "have \"operational_sound (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_sound (TRel\\<^sup>*)", "using weak_reduction_simulation_impl_OSou[where Rel=\"indRelRTPO TRel\" and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n  (\\<forall>S.\n      SourceTerm\n       S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                (\\<lbrakk>S\\<rbrakk>)) \\<and>\n  (\\<forall>S T.\n      SourceTerm\n       S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target) \\<Longrightarrow>\n  operational_sound (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. operational_sound (TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  operational_sound (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  operational_sound (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "from sim"], ["proof (chain)\npicking this:\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)", "have \"weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "using indRelRTPO_impl_TRel_is_weak_reduction_simulation_rev[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target) \\<Longrightarrow>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by simp"], ["proof (state)\nthis:\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "ultimately"], ["proof (chain)\npicking this:\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "show \"operational_sound (TRel\\<^sup>*) \\<and> weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by simp"], ["proof (state)\nthis:\n  operational_sound (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) OSou_iff_weak_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_sound (TRel\\<^sup>*)\n         \\<and> weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_sound (TRel\\<^sup>*) \\<and>\n     weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> indRelRTPO TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2", "by (simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>T1 T2. TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2 \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] trans_closure_of_TRel_refl_cond"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (?TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> ?TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "assume \"operational_sound (TRel\\<^sup>*)\"\n              and \"weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (state)\nthis:\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "hence \"weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "using OSou_iff_inverse_of_indRelRTPO_is_weak_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  (operational_sound (TRel\\<^sup>*) \\<and>\n   weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n                   \\<and> weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n          \\<and> weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n    and A2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n    and A3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\"\n    and A4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n    and A5: \"weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_simulation (Rel\\<inverse>)\n         (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "from A1 A4 A5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "have \"operational_sound (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_sound (TRel\\<^sup>*)", "using weak_reduction_simulation_impl_OSou[where Rel=\"Rel\" and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (Rel\\<inverse>)\n   (STCal Source Target) \\<Longrightarrow>\n  operational_sound (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. operational_sound (TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  operational_sound (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  operational_sound (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "from A2 A3 A5"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "have \"weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "using rel_with_target_impl_transC_TRel_is_weak_reduction_simulation_rev[where Rel=\"Rel\" and\n             TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<Longrightarrow>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by simp"], ["proof (state)\nthis:\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "ultimately"], ["proof (chain)\npicking this:\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "show \"operational_sound (TRel\\<^sup>*) \\<and> weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  operational_sound (TRel\\<^sup>*)\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by simp"], ["proof (state)\nthis:\n  operational_sound (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>An encoding is strongly operational sound modulo a relation TRel whose inverse is a strong\n        reduction simulation on target terms iff there is a relation, like indRelRTPO, that relates\n        at least all source terms to their literal translations, includes TRel, and whose inverse\n        is a strong simulation.\\<close>"], ["", "lemma (in encoding) strong_reduction_simulation_impl_SOSou:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n      and A2: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n      and A3: \"strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\"\n  shows \"strongly_operational_sound (TRel\\<^sup>*)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "fix S T"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from A1"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>", "by simp"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "moreover"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "assume \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\""], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "hence \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T", "by (simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T", "obtain Q' where A5: \"SourceTerm S \\<longmapsto>(STCal Source Target) Q'\"\n                         and A6: \"(TargetTerm T, Q') \\<in> Rel\\<inverse>\""], ["proof (prove)\nusing this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n        (TargetTerm T, Q') \\<in> Rel\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A3"], ["proof (prove)\nusing this:\n  (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\\<inverse>\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n        (TargetTerm T, Q') \\<in> Rel\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target Q'\n  (TargetTerm T, Q') \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from A5"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target Q'", "obtain S' where A7: \"S' \\<in>S Q'\" and A8: \"S \\<longmapsto>Source S'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target Q'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S' \\<in>S Q' \\<and> S \\<longmapsto>Source S' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(1))"], ["proof (state)\nthis:\n  S' \\<in>S Q'\n  S \\<longmapsto>Source S'\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "from A6"], ["proof (chain)\npicking this:\n  (TargetTerm T, Q') \\<in> Rel\\<inverse>", "have \"(Q', TargetTerm T) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (TargetTerm T, Q') \\<in> Rel\\<inverse>\n\ngoal (1 subgoal):\n 1. (Q', TargetTerm T) \\<in> Rel", "by induct"], ["proof (state)\nthis:\n  (Q', TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "with A2 A7"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  S' \\<in>S Q'\n  (Q', TargetTerm T) \\<in> Rel", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  S' \\<in>S Q'\n  (Q', TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "with A8"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "show \"\\<exists>S'. S \\<longmapsto>Source S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>S'.\n       S \\<longmapsto>Source S' \\<and>\n       (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by blast"], ["proof (state)\nthis:\n  \\<exists>S'.\n     S \\<longmapsto>Source S' \\<and>\n     (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) SOSou_iff_inverse_of_indRelRTPO_is_strong_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_sound (TRel\\<^sup>*)\n         \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target)\n         = strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n    strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)\n 2. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "assume os:  \"strongly_operational_sound (TRel\\<^sup>*)\"\n     and sim: \"strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (state)\nthis:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)\n 2. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "show \"strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<longmapsto>STCal Source Target P' \\<and>\n       Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "fix P Q P'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<longmapsto>STCal Source Target P' \\<and>\n       Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P\""], ["proof (state)\nthis:\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<longmapsto>STCal Source Target P' \\<and>\n       Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "moreover"], ["proof (state)\nthis:\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<longmapsto>STCal Source Target P' \\<and>\n       Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"P \\<longmapsto>(STCal Source Target) P'\""], ["proof (state)\nthis:\n  P \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. \\<And>P Q P'.\n       P \\<longmapsto>STCal Source Target P' \\<and>\n       Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "ultimately"], ["proof (chain)\npicking this:\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P\n  P \\<longmapsto>STCal Source Target P'", "show \"\\<exists>Q'. Q \\<longmapsto>(STCal Source Target) Q' \\<and> (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P\n  P \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       Q \\<longmapsto>STCal Source Target Q' \\<and>\n       (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "proof (induct arbitrary: P')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "case (encR S)"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) P'\""], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from this"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P'", "obtain T where A1: \"T \\<in>T P'\" and A2: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        T \\<in>T P' \\<and>\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(2))"], ["proof (state)\nthis:\n  T \\<in>T P'\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from os A2"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T", "obtain S' where A3: \"S \\<longmapsto>Source S'\" and A4: \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source S' \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>* \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  S \\<longmapsto>Source S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from A3"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source S'", "have \"SourceTerm S \\<longmapsto>(STCal Source Target) (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'", "by (simp add: STCal_step(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "moreover"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "have \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "from A4"], ["proof (chain)\npicking this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "have \"\\<lbrakk>S'\\<rbrakk> = T \\<or> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T \\<or>\n    (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "using rtrancl_eq_or_trancl[of \"\\<lbrakk>S'\\<rbrakk>\" T TRel]"], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  ((\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*) =\n  (\\<lbrakk>S'\\<rbrakk> = T \\<or>\n   \\<lbrakk>S'\\<rbrakk> \\<noteq> T \\<and>\n   (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T \\<or>\n    (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "have A5: \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm\n     S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S'\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "with A1"], ["proof (chain)\npicking this:\n  T \\<in>T P'\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)", "have \"\\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow> SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\""], ["proof (prove)\nusing this:\n  T \\<in>T P'\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow> SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "assume \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\""], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "hence \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                   T", "by (rule transitive_closure_of_TRel_to_indRelRTPO)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "with A5"], ["proof (chain)\npicking this:\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T", "have \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "by (rule indRelRTPO.trans)"], ["proof (state)\nthis:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "with A1"], ["proof (chain)\npicking this:\n  T \\<in>T P'\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T", "show \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\""], ["proof (prove)\nusing this:\n  T \\<in>T P'\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "by simp"], ["proof (state)\nthis:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "show \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S'\\<rbrakk> = T \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  \\<lbrakk>S'\\<rbrakk> = T \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'", "by blast"], ["proof (state)\nthis:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "hence \"(P', SourceTerm S') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> P'\n\ngoal (1 subgoal):\n 1. (P', SourceTerm S') \\<in> (indRelRTPO TRel)\\<inverse>", "by simp"], ["proof (state)\nthis:\n  (P', SourceTerm S') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n  (P', SourceTerm S') \\<in> (indRelRTPO TRel)\\<inverse>", "show \"\\<exists>Q'. SourceTerm S \\<longmapsto>(STCal Source Target) Q' \\<and> (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n  (P', SourceTerm S') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n       (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n     (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "then"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'", "obtain S' where B1: \"S' \\<in>S P'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. (\\<And>S'. S' \\<in>S P' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(1))"], ["proof (state)\nthis:\n  S' \\<in>S P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "hence \"(P', P') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  S' \\<in>S P'\n\ngoal (1 subgoal):\n 1. (P', P') \\<in> (indRelRTPO TRel)\\<inverse>", "by (simp add: indRelRTPO.source)"], ["proof (state)\nthis:\n  (P', P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "with source"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n  (P', P') \\<in> (indRelRTPO TRel)\\<inverse>", "show \"\\<exists>Q'. SourceTerm S \\<longmapsto>(STCal Source Target) Q' \\<and> (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n  (P', P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n       (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n     (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T2 \\<longmapsto>STCal Source Target P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"TargetTerm T2 \\<longmapsto>(STCal Source Target) P'\""], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from this"], ["proof (chain)\npicking this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target P'", "obtain T2' where C1: \"T2' \\<in>T P'\" and C2: \"T2 \\<longmapsto>Target T2'\""], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. (\\<And>T2'.\n        T2' \\<in>T P' \\<and> T2 \\<longmapsto>Target T2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(2))"], ["proof (state)\nthis:\n  T2' \\<in>T P'\n  T2 \\<longmapsto>Target T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "hence \"(T2, T1) \\<in> (TRel\\<^sup>+)\\<inverse>\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (T2, T1) \\<in> (TRel\\<^sup>+)\\<inverse>", "by simp"], ["proof (state)\nthis:\n  (T2, T1) \\<in> (TRel\\<^sup>+)\\<inverse>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "with C2 sim"], ["proof (chain)\npicking this:\n  T2 \\<longmapsto>Target T2'\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  (T2, T1) \\<in> (TRel\\<^sup>+)\\<inverse>", "obtain T1' where C3: \"T1 \\<longmapsto>Target T1'\" and C4: \"(T2', T1') \\<in> (TRel\\<^sup>+)\\<inverse>\""], ["proof (prove)\nusing this:\n  T2 \\<longmapsto>Target T2'\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  (T2, T1) \\<in> (TRel\\<^sup>+)\\<inverse>\n\ngoal (1 subgoal):\n 1. (\\<And>T1'.\n        T1 \\<longmapsto>Target T1' \\<and>\n        (T2', T1') \\<in> (TRel\\<^sup>+)\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  T1 \\<longmapsto>Target T1'\n  (T2', T1') \\<in> (TRel\\<^sup>+)\\<inverse>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from C3"], ["proof (chain)\npicking this:\n  T1 \\<longmapsto>Target T1'", "have \"TargetTerm T1 \\<longmapsto>(STCal Source Target) (TargetTerm T1')\""], ["proof (prove)\nusing this:\n  T1 \\<longmapsto>Target T1'\n\ngoal (1 subgoal):\n 1. TargetTerm T1 \\<longmapsto>STCal Source Target TargetTerm T1'", "by (simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target TargetTerm T1'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "moreover"], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target TargetTerm T1'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from C4"], ["proof (chain)\npicking this:\n  (T2', T1') \\<in> (TRel\\<^sup>+)\\<inverse>", "have \"(T1', T2') \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  (T2', T1') \\<in> (TRel\\<^sup>+)\\<inverse>\n\ngoal (1 subgoal):\n 1. (T1', T2') \\<in> TRel\\<^sup>+", "by induct"], ["proof (state)\nthis:\n  (T1', T2') \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "hence \"TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\""], ["proof (prove)\nusing this:\n  (T1', T2') \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TargetTerm\n     T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "by (rule transitive_closure_of_TRel_to_indRelRTPO)"], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "with C1"], ["proof (chain)\npicking this:\n  T2' \\<in>T P'\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'", "have \"(P', TargetTerm T1') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  T2' \\<in>T P'\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2'\n\ngoal (1 subgoal):\n 1. (P', TargetTerm T1') \\<in> (indRelRTPO TRel)\\<inverse>", "by simp"], ["proof (state)\nthis:\n  (P', TargetTerm T1') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n          (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target TargetTerm T1'\n  (P', TargetTerm T1') \\<in> (indRelRTPO TRel)\\<inverse>", "show \"\\<exists>Q'. TargetTerm T1 \\<longmapsto>(STCal Source Target) Q' \\<and> (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target TargetTerm T1'\n  (P', TargetTerm T1') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n       (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     TargetTerm T1 \\<longmapsto>STCal Source Target Q' \\<and>\n     (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "case (trans P Q R R')"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>STCal Source Target ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     P \\<longmapsto>STCal Source Target Q' \\<and>\n     (?P'3, Q') \\<in> (indRelRTPO TRel)\\<inverse>\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  R \\<longmapsto>STCal Source Target ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     (?P'3, Q') \\<in> (indRelRTPO TRel)\\<inverse>\n  R \\<longmapsto>STCal Source Target R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"R \\<longmapsto>(STCal Source Target) R'\"\n         and \"\\<And>R'. R \\<longmapsto>(STCal Source Target) R'\n              \\<Longrightarrow> \\<exists>Q'. Q \\<longmapsto>(STCal Source Target) Q' \\<and> (R', Q') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (state)\nthis:\n  R \\<longmapsto>STCal Source Target R'\n  R \\<longmapsto>STCal Source Target ?R'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     (?R'3, Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from this"], ["proof (chain)\npicking this:\n  R \\<longmapsto>STCal Source Target R'\n  R \\<longmapsto>STCal Source Target ?R'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     (?R'3, Q') \\<in> (indRelRTPO TRel)\\<inverse>", "obtain Q' where D1: \"Q \\<longmapsto>(STCal Source Target) Q'\"\n                            and D2: \"(R', Q') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  R \\<longmapsto>STCal Source Target R'\n  R \\<longmapsto>STCal Source Target ?R'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     (?R'3, Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        Q \\<longmapsto>STCal Source Target Q' \\<and>\n        (R', Q') \\<in> (indRelRTPO TRel)\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target Q'\n  (R', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "assume \"\\<And>Q'. Q \\<longmapsto>(STCal Source Target) Q'\n              \\<Longrightarrow> \\<exists>P'. P \\<longmapsto>(STCal Source Target) P' \\<and> (Q', P') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target P' \\<and>\n     (?Q'3, P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "with D1"], ["proof (chain)\npicking this:\n  Q \\<longmapsto>STCal Source Target Q'\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target P' \\<and>\n     (?Q'3, P') \\<in> (indRelRTPO TRel)\\<inverse>", "obtain P' where D3: \"P \\<longmapsto>(STCal Source Target) P'\"\n                          and D4: \"(Q', P') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto>STCal Source Target Q'\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target P' \\<and>\n     (?Q'3, P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        P \\<longmapsto>STCal Source Target P' \\<and>\n        (Q', P') \\<in> (indRelRTPO TRel)\\<inverse> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P \\<longmapsto>STCal Source Target P'\n  (Q', P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "from D4 D2"], ["proof (chain)\npicking this:\n  (Q', P') \\<in> (indRelRTPO TRel)\\<inverse>\n  (R', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "have \"(R', P') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  (Q', P') \\<in> (indRelRTPO TRel)\\<inverse>\n  (R', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. (R', P') \\<in> (indRelRTPO TRel)\\<inverse>", "by (simp add: indRelRTPO.trans[where P=\"P'\" and Q=\"Q'\" and R=\"R'\"])"], ["proof (state)\nthis:\n  (R', P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              P \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>P'.\n           R \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>;\n        R \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            P \\<longmapsto>STCal Source Target Q' \\<and>\n                            (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>", "with D3"], ["proof (chain)\npicking this:\n  P \\<longmapsto>STCal Source Target P'\n  (R', P') \\<in> (indRelRTPO TRel)\\<inverse>", "show \"\\<exists>P'. P \\<longmapsto>(STCal Source Target) P' \\<and> (R', P') \\<in> (indRelRTPO TRel)\\<inverse>\""], ["proof (prove)\nusing this:\n  P \\<longmapsto>STCal Source Target P'\n  (R', P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<longmapsto>STCal Source Target P' \\<and>\n       (R', P') \\<in> (indRelRTPO TRel)\\<inverse>", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target P' \\<and>\n     (R', P') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     (P', Q') \\<in> (indRelRTPO TRel)\\<inverse>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>S. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] trans_closure_of_TRel_refl_cond"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (?TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> ?TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "assume sim: \"strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (state)\nthis:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)", "have \"strongly_operational_sound (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "using strong_reduction_simulation_impl_SOSou[where Rel=\"indRelRTPO TRel\" and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n  (\\<forall>S.\n      SourceTerm\n       S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                (\\<lbrakk>S\\<rbrakk>)) \\<and>\n  (\\<forall>S T.\n      SourceTerm\n       S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target) \\<Longrightarrow>\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "from sim"], ["proof (chain)\npicking this:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)", "have \"strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "using indRelRTPO_impl_TRel_is_strong_reduction_simulation_rev[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target) \\<Longrightarrow>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "show \"strongly_operational_sound (TRel\\<^sup>*) \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) SOSou_iff_strong_reduction_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_sound (TRel\\<^sup>*) \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> indRelRTPO TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2", "by (simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>T1 T2. TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2 \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] trans_closure_of_TRel_refl_cond"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (?TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> ?TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "assume \"strongly_operational_sound (TRel\\<^sup>*)\"\n              and \"strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (state)\nthis:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "hence \"strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "using SOSou_iff_inverse_of_indRelRTPO_is_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  ((\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (2 subgoals):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n                   \\<and> strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n          \\<and> strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n    and A2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n    and A3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\"\n    and A4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n    and A5: \"strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        strong_reduction_simulation (Rel\\<inverse>)\n         (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "from A1 A4 A5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "have \"strongly_operational_sound (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "using strong_reduction_simulation_impl_SOSou[where Rel=\"Rel\" and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  strong_reduction_simulation (Rel\\<inverse>)\n   (STCal Source Target) \\<Longrightarrow>\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "from A2 A3 A5"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "have \"strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "using rel_with_target_impl_transC_TRel_is_strong_reduction_simulation_rev[where Rel=\"Rel\" and\n             TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<Longrightarrow>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "show \"strongly_operational_sound (TRel\\<^sup>*) \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) SOSou_modulo_TRel_iff_strong_reduction_simulation:\n  shows \"(\\<exists>TRel. strongly_operational_sound (TRel\\<^sup>*)\n         \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n           \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\n           \\<and> strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>TRel.\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n            \\<in> Rel\\<^sup>=) \\<and>\n        strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target))", "proof (rule iffI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n        Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "assume \"\\<exists>TRel. strongly_operational_sound (TRel\\<^sup>*)\n          \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (state)\nthis:\n  \\<exists>TRel.\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n        Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>TRel.\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "obtain TRel where \"strongly_operational_sound (TRel\\<^sup>*)\"\n                          and \"strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  \\<exists>TRel.\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. (\\<And>TRel.\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n         Target \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n        Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "hence \"strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "using SOSou_iff_inverse_of_indRelRTPO_is_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  ((\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n        Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n        Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> indRelRTPO TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n        Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n        Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> indRelRTPO TRel\n                 \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> (indRelRTPO TRel)\\<^sup>=\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n       \\<in> (indRelRTPO TRel)\\<^sup>=", "using indRelRTPO_relates_source_target[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  SourceTerm\n   ?S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             ?T \\<Longrightarrow>\n  (TargetTerm (\\<lbrakk>?S\\<rbrakk>), TargetTerm ?T)\n  \\<in> (indRelRTPO TRel)\\<^sup>=\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n       \\<in> (indRelRTPO TRel)\\<^sup>=", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n     \\<in> (indRelRTPO TRel)\\<^sup>=\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n        Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "ultimately"], ["proof (chain)\npicking this:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n     \\<in> (indRelRTPO TRel)\\<^sup>=", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel\n                      \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\n                   \\<and> strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n     \\<in> (indRelRTPO TRel)\\<^sup>=\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n         \\<in> Rel\\<^sup>=) \\<and>\n     strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel\n             \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\n          \\<and> strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n         \\<in> Rel\\<^sup>=) \\<and>\n     strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n         \\<in> Rel\\<^sup>=) \\<and>\n     strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n   and A2: \"(\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel\n            \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\"\n   and A3: \"strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n         \\<in> Rel\\<^sup>=) \\<and>\n     strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n            \\<in> Rel\\<^sup>=) \\<and>\n        strong_reduction_simulation (Rel\\<inverse>)\n         (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "from A2"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=", "obtain TRel where \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n   and \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\"\n   and \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\n\ngoal (1 subgoal):\n 1. (\\<And>TRel.\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using target_relation_from_source_target_relation[where Rel=\"Rel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n     \\<in> Rel\\<^sup>= \\<Longrightarrow>\n  \\<exists>TRel.\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. (\\<And>TRel.\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "with A1 A3"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "have \"strongly_operational_sound (TRel\\<^sup>*) \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "using SOSou_iff_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  ((\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target))\n\ngoal (1 subgoal):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by blast"], ["proof (state)\nthis:\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation (Rel\\<inverse>)\n        (STCal Source Target) \\<Longrightarrow>\n    \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "thus \"\\<exists>TRel. strongly_operational_sound (TRel\\<^sup>*) \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       (\\<forall>S T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n           (\\<exists>S'.\n               S \\<longmapsto>Source S' \\<and>\n               (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n       strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by blast"], ["proof (state)\nthis:\n  \\<exists>TRel.\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Weak Operational Correspondence vs Correspondence Similarity\\<close>"], ["", "text \\<open>If there exists a relation that relates at least all source terms and their literal\n        translations, includes TRel, and is a correspondence simulation then the encoding is weakly\n        operational corresponding w.r.t. TRel.\\<close>"], ["", "lemma (in encoding) weak_reduction_correspondence_simulation_impl_WOC:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes enc:  \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n      and tRel: \"(\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\"\n      and cs:   \"weak_reduction_correspondence_simulation Rel (STCal Source Target)\"\n  shows \"weakly_operational_corresponding (TRel\\<^sup>*)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weakly_operational_corresponding (TRel\\<^sup>*)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete (TRel\\<^sup>*)\n 2. weakly_operational_sound (TRel\\<^sup>*)", "from enc tRel cs"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)", "show \"operational_complete (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*)", "using weak_reduction_simulation_impl_OCom[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> ?Rel) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> ?Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation ?Rel (STCal Source Target) \\<Longrightarrow>\n  operational_complete (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. weakly_operational_sound (TRel\\<^sup>*)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. weakly_operational_sound (TRel\\<^sup>*)", "show \"weakly_operational_sound (TRel\\<^sup>*)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weakly_operational_sound (TRel\\<^sup>*)", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "fix S T"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "from enc"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "have \"(SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "moreover"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "assume \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\""], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "hence \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "ultimately"], ["proof (chain)\npicking this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "obtain P' Q' where A1: \"SourceTerm S \\<longmapsto>(STCal Source Target)* P'\"\n     and A2: \"TargetTerm T \\<longmapsto>(STCal Source Target)* Q'\" and A3: \"(P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (1 subgoal):\n 1. (\\<And>P' Q'.\n        SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n        TargetTerm T \\<longmapsto>STCal Source Target* Q' \\<and>\n        (P', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using cs"], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>P' Q'.\n        SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n        TargetTerm T \\<longmapsto>STCal Source Target* Q' \\<and>\n        (P', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n  TargetTerm T \\<longmapsto>STCal Source Target* Q'\n  (P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "from A1"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'", "obtain S' where A4: \"S' \\<in>S P'\" and A5: \"S \\<longmapsto>Source* S'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S' \\<in>S P' \\<and> S \\<longmapsto>Source* S' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  S' \\<in>S P'\n  S \\<longmapsto>Source* S'\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "from A2"], ["proof (chain)\npicking this:\n  TargetTerm T \\<longmapsto>STCal Source Target* Q'", "obtain T' where A6: \"T' \\<in>T Q'\" and A7: \"T \\<longmapsto>Target* T'\""], ["proof (prove)\nusing this:\n  TargetTerm T \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T'.\n        T' \\<in>T Q' \\<and> T \\<longmapsto>Target* T' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: STCal_steps(2))"], ["proof (state)\nthis:\n  T' \\<in>T Q'\n  T \\<longmapsto>Target* T'\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "from tRel A3 A4 A6"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  (P', Q') \\<in> Rel\n  S' \\<in>S P'\n  T' \\<in>T Q'", "have \"(\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  (P', Q') \\<in> Rel\n  S' \\<in>S P'\n  T' \\<in>T Q'\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S' T'.\n          S \\<longmapsto>Source* S' \\<and>\n          T \\<longmapsto>Target* T' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "with A5 A7"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source* S'\n  T \\<longmapsto>Target* T'\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "show \"\\<exists>S' T'. S \\<longmapsto>Source* S' \\<and> T \\<longmapsto>Target* T' \\<and> (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n  T \\<longmapsto>Target* T'\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>S' T'.\n       S \\<longmapsto>Source* S' \\<and>\n       T \\<longmapsto>Target* T' \\<and>\n       (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "by blast"], ["proof (state)\nthis:\n  \\<exists>S' T'.\n     S \\<longmapsto>Source* S' \\<and>\n     T \\<longmapsto>Target* T' \\<and>\n     (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  weakly_operational_sound (TRel\\<^sup>*)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>An encoding is weakly operational corresponding w.r.t. a correspondence simulation on\n        target terms TRel iff there exists a relation, like indRelRTPO, that relates at least all\n        source terms and their literal translations, includes TRel, and is a correspondence\n        simulation.\\<close>"], ["", "lemma (in encoding) WOC_iff_indRelRTPO_is_reduction_correspondence_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(weakly_operational_corresponding (TRel\\<^sup>*)\n         \\<and> weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target)\n         = weak_reduction_correspondence_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n     weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target) =\n    weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target)", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target)\n 2. weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "assume woc: \"weakly_operational_corresponding (TRel\\<^sup>*)\"\n     and csi: \"weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\""], ["proof (state)\nthis:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target)\n 2. weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "show \"weak_reduction_correspondence_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n 2. \\<forall>P Q Q'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<longrightarrow>\n       (\\<exists>P'' Q''.\n           P \\<longmapsto>STCal Source Target* P'' \\<and>\n           Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n           P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'')", "from woc csi"], ["proof (chain)\npicking this:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "show sim: \"weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)", "using OCom_iff_indRelRTPO_is_weak_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n  (operational_complete (TRel\\<^sup>*) \\<and>\n   weak_reduction_simulation (TRel\\<^sup>+) Target) =\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<forall>P Q Q'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<longrightarrow>\n       (\\<exists>P'' Q''.\n           P \\<longmapsto>STCal Source Target* P'' \\<and>\n           Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n           P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'')", "show \"\\<forall>P Q Q'. P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and> Q \\<longmapsto>(STCal Source Target)* Q'\n          \\<longrightarrow> (\\<exists>P'' Q''. P \\<longmapsto>(STCal Source Target)* P'' \\<and> Q' \\<longmapsto>(STCal Source Target)* Q''\n          \\<and> P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>P Q Q'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<longrightarrow>\n       (\\<exists>P'' Q''.\n           P \\<longmapsto>STCal Source Target* P'' \\<and>\n           Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n           P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'')", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          P \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "fix P Q Q'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          P \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "assume \"P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\" and \"Q \\<longmapsto>(STCal Source Target)* Q'\""], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          P \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "thus \"\\<exists>P'' Q''. P \\<longmapsto>(STCal Source Target)* P'' \\<and> Q' \\<longmapsto>(STCal Source Target)* Q''\n            \\<and> P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\""], ["proof (prove)\nusing this:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'' Q''.\n       P \\<longmapsto>STCal Source Target* P'' \\<and>\n       Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n       P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "proof (induct arbitrary: Q')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "case (encR S)"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "assume \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* Q'\""], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "from this"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'", "obtain T where A1: \"T \\<in>T Q'\" and A2: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        T \\<in>T Q' \\<and>\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  T \\<in>T Q'\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "from A2 woc"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  weakly_operational_corresponding (TRel\\<^sup>*)", "obtain S' T' where A3: \"S \\<longmapsto>Source* S'\" and A4: \"T \\<longmapsto>Target* T'\"\n                                   and A5: \"(\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  weakly_operational_corresponding (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. (\\<And>S' T'.\n        S \\<longmapsto>Source* S' \\<and>\n        T \\<longmapsto>Target* T' \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>* \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  S \\<longmapsto>Source* S'\n  T \\<longmapsto>Target* T'\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "from A3"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source* S'", "have \"SourceTerm S \\<longmapsto>(STCal Source Target)* (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'", "by (simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "moreover"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "from A4"], ["proof (chain)\npicking this:\n  T \\<longmapsto>Target* T'", "have \"TargetTerm T \\<longmapsto>(STCal Source Target)* (TargetTerm T')\""], ["proof (prove)\nusing this:\n  T \\<longmapsto>Target* T'\n\ngoal (1 subgoal):\n 1. TargetTerm T \\<longmapsto>STCal Source Target* TargetTerm T'", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm T \\<longmapsto>STCal Source Target* TargetTerm T'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "moreover"], ["proof (state)\nthis:\n  TargetTerm T \\<longmapsto>STCal Source Target* TargetTerm T'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "have \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "have A6: \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm\n     S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S'\\<rbrakk>)", "by (rule indRelRTPO.encR)"], ["proof (state)\nthis:\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "from A5"], ["proof (chain)\npicking this:\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*", "have \"\\<lbrakk>S'\\<rbrakk> = T' \\<or> (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T' \\<or>\n    (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+", "using rtrancl_eq_or_trancl[of \"\\<lbrakk>S'\\<rbrakk>\" T' TRel]"], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*\n  ((\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>*) =\n  (\\<lbrakk>S'\\<rbrakk> = T' \\<or>\n   \\<lbrakk>S'\\<rbrakk> \\<noteq> T' \\<and>\n   (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T' \\<or>\n    (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T' \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T' \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "from A6"], ["proof (chain)\npicking this:\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)", "have \"\\<lbrakk>S'\\<rbrakk> = T' \\<Longrightarrow> SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\""], ["proof (prove)\nusing this:\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S'\\<rbrakk> = T' \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T' \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>S'\\<rbrakk> = T' \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "have \"(\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+ \\<Longrightarrow> SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "assume \"(\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+\""], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "hence \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                   T'", "by (simp add: transitive_closure_of_TRel_to_indRelRTPO[where TRel=\"TRel\"])"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T'\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n    SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "with A6"], ["proof (chain)\npicking this:\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T'", "show \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\""], ["proof (prove)\nusing this:\n  SourceTerm\n   S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                                 T'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "by (rule indRelRTPO.trans)"], ["proof (state)\nthis:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>S'\\<rbrakk> = T' \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+\n  \\<lbrakk>S'\\<rbrakk> = T' \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "show \"SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S'\\<rbrakk> = T' \\<or>\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+\n  \\<lbrakk>S'\\<rbrakk> = T' \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\n  (\\<lbrakk>S'\\<rbrakk>, T') \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "by blast"], ["proof (state)\nthis:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n  TargetTerm T \\<longmapsto>STCal Source Target* TargetTerm T'\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'", "show \"\\<exists>P'' Q''. SourceTerm S \\<longmapsto>(STCal Source Target)* P''\n                         \\<and> Q' \\<longmapsto>(STCal Source Target)* Q'' \\<and> P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n  TargetTerm T \\<longmapsto>STCal Source Target* TargetTerm T'\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\n\ngoal (1 subgoal):\n 1. \\<exists>P'' Q''.\n       SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n       Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n       P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "using A1"], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n  TargetTerm T \\<longmapsto>STCal Source Target* TargetTerm T'\n  SourceTerm S' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T'\n  T \\<in>T Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'' Q''.\n       SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n       Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n       P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'' Q''.\n     SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n     Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n     P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "case (source S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "assume B1: \"SourceTerm S \\<longmapsto>(STCal Source Target)* Q'\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "moreover"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "have \"Q' \\<longmapsto>(STCal Source Target)* Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q' \\<longmapsto>STCal Source Target* Q'", "by (rule steps_refl)"], ["proof (state)\nthis:\n  Q' \\<longmapsto>STCal Source Target* Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "moreover"], ["proof (state)\nthis:\n  Q' \\<longmapsto>STCal Source Target* Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "from B1"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'", "obtain S' where \"S' \\<in>S Q'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>S'. S' \\<in>S Q' \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  S' \\<in>S Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "hence \"Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\""], ["proof (prove)\nusing this:\n  S' \\<in>S Q'\n\ngoal (1 subgoal):\n 1. Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "by (simp add: indRelRTPO.source)"], ["proof (state)\nthis:\n  Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n  Q' \\<longmapsto>STCal Source Target* Q'\n  Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'", "show \"\\<exists>P'' Q''. SourceTerm S \\<longmapsto>(STCal Source Target)* P''\n                         \\<and> Q' \\<longmapsto>(STCal Source Target)* Q'' \\<and> P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n  Q' \\<longmapsto>STCal Source Target* Q'\n  Q' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'' Q''.\n       SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n       Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n       P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'' Q''.\n     SourceTerm S \\<longmapsto>STCal Source Target* P'' \\<and>\n     Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n     P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T2 \\<longmapsto>STCal Source Target* Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "assume \"TargetTerm T2 \\<longmapsto>(STCal Source Target)* Q'\""], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "from this"], ["proof (chain)\npicking this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* Q'", "obtain T2' where C1: \"T2' \\<in>T Q'\" and C2: \"T2 \\<longmapsto>Target* T2'\""], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T2'.\n        T2' \\<in>T Q' \\<and> T2 \\<longmapsto>Target* T2' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  T2' \\<in>T Q'\n  T2 \\<longmapsto>Target* T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "hence \"(T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  (T1, T2) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "with C2 csi"], ["proof (chain)\npicking this:\n  T2 \\<longmapsto>Target* T2'\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n  (T1, T2) \\<in> TRel\\<^sup>+", "obtain T1' T2'' where C3: \"T1 \\<longmapsto>Target* T1'\" and C4: \"T2' \\<longmapsto>Target* T2''\"\n                                      and C5: \"(T1', T2'') \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  T2 \\<longmapsto>Target* T2'\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n  (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. (\\<And>T1' T2''.\n        T1 \\<longmapsto>Target* T1' \\<and>\n        T2' \\<longmapsto>Target* T2'' \\<and>\n        (T1', T2'') \\<in> TRel\\<^sup>+ \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  T1 \\<longmapsto>Target* T1'\n  T2' \\<longmapsto>Target* T2''\n  (T1', T2'') \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "from C3"], ["proof (chain)\npicking this:\n  T1 \\<longmapsto>Target* T1'", "have \"TargetTerm T1 \\<longmapsto>(STCal Source Target)* (TargetTerm T1')\""], ["proof (prove)\nusing this:\n  T1 \\<longmapsto>Target* T1'\n\ngoal (1 subgoal):\n 1. TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "moreover"], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "from C1 C4"], ["proof (chain)\npicking this:\n  T2' \\<in>T Q'\n  T2' \\<longmapsto>Target* T2''", "have \"Q' \\<longmapsto>(STCal Source Target)* (TargetTerm T2'')\""], ["proof (prove)\nusing this:\n  T2' \\<in>T Q'\n  T2' \\<longmapsto>Target* T2''\n\ngoal (1 subgoal):\n 1. Q' \\<longmapsto>STCal Source Target* TargetTerm T2''", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  Q' \\<longmapsto>STCal Source Target* TargetTerm T2''\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "moreover"], ["proof (state)\nthis:\n  Q' \\<longmapsto>STCal Source Target* TargetTerm T2''\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "from C5"], ["proof (chain)\npicking this:\n  (T1', T2'') \\<in> TRel\\<^sup>+", "have \"TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> (TargetTerm T2'')\""], ["proof (prove)\nusing this:\n  (T1', T2'') \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TargetTerm\n     T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2''", "by (simp add: transitive_closure_of_TRel_to_indRelRTPO)"], ["proof (state)\nthis:\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2''\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'' Q''.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'\n  Q' \\<longmapsto>STCal Source Target* TargetTerm T2''\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2''", "show \"\\<exists>P'' Q''. TargetTerm T1 \\<longmapsto>(STCal Source Target)* P''\n                         \\<and> Q' \\<longmapsto>(STCal Source Target)* Q'' \\<and> P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\""], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'\n  Q' \\<longmapsto>STCal Source Target* TargetTerm T2''\n  TargetTerm T1' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2''\n\ngoal (1 subgoal):\n 1. \\<exists>P'' Q''.\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n       Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n       P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'' Q''.\n     TargetTerm T1 \\<longmapsto>STCal Source Target* P'' \\<and>\n     Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n     P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "case (trans P Q R R')"], ["proof (state)\nthis:\n  P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'' Q''.\n     P \\<longmapsto>STCal Source Target* P'' \\<and>\n     ?Q'3 \\<longmapsto>STCal Source Target* Q'' \\<and>\n     P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n  Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R\n  R \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'' Q''.\n     Q \\<longmapsto>STCal Source Target* P'' \\<and>\n     ?Q'3 \\<longmapsto>STCal Source Target* Q'' \\<and>\n     P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n  R \\<longmapsto>STCal Source Target* R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "assume \"R \\<longmapsto>(STCal Source Target)* R'\"\n           and \"\\<And>R'. R \\<longmapsto>(STCal Source Target)* R' \\<Longrightarrow> \\<exists>Q'' R''. Q \\<longmapsto>(STCal Source Target)* Q''\n                \\<and> R' \\<longmapsto>(STCal Source Target)* R'' \\<and> Q'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R''\"\n           and \"\\<And>Q'. Q \\<longmapsto>(STCal Source Target)* Q' \\<Longrightarrow> \\<exists>P'' Q''. P \\<longmapsto>(STCal Source Target)* P''\n                \\<and> Q' \\<longmapsto>(STCal Source Target)* Q'' \\<and> P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\""], ["proof (state)\nthis:\n  R \\<longmapsto>STCal Source Target* R'\n  R \\<longmapsto>STCal Source Target* ?R'3 \\<Longrightarrow>\n  \\<exists>Q'' R''.\n     Q \\<longmapsto>STCal Source Target* Q'' \\<and>\n     ?R'3 \\<longmapsto>STCal Source Target* R'' \\<and>\n     Q'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R''\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'' Q''.\n     P \\<longmapsto>STCal Source Target* P'' \\<and>\n     ?Q'3 \\<longmapsto>STCal Source Target* Q'' \\<and>\n     P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "moreover"], ["proof (state)\nthis:\n  R \\<longmapsto>STCal Source Target* R'\n  R \\<longmapsto>STCal Source Target* ?R'3 \\<Longrightarrow>\n  \\<exists>Q'' R''.\n     Q \\<longmapsto>STCal Source Target* Q'' \\<and>\n     ?R'3 \\<longmapsto>STCal Source Target* R'' \\<and>\n     Q'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R''\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'' Q''.\n     P \\<longmapsto>STCal Source Target* P'' \\<and>\n     ?Q'3 \\<longmapsto>STCal Source Target* Q'' \\<and>\n     P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "have \"trans (indRelRTPO TRel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans (indRelRTPO TRel)", "using indRelRTPO.trans"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?Q \\<and>\n  ?Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R \\<Longrightarrow>\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R\n\ngoal (1 subgoal):\n 1. trans (indRelRTPO TRel)", "unfolding trans_def"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?Q \\<and>\n  ?Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R \\<Longrightarrow>\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       x \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> y \\<longrightarrow>\n       y \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> z \\<longrightarrow>\n       x \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> z", "by blast"], ["proof (state)\nthis:\n  trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              P \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'' Q''.\n              Q \\<longmapsto>STCal Source Target* P'' \\<and>\n              Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n              P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'' Q''.\n                            P \\<longmapsto>STCal Source Target* P'' \\<and>\n                            Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n                            P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "ultimately"], ["proof (chain)\npicking this:\n  R \\<longmapsto>STCal Source Target* R'\n  R \\<longmapsto>STCal Source Target* ?R'3 \\<Longrightarrow>\n  \\<exists>Q'' R''.\n     Q \\<longmapsto>STCal Source Target* Q'' \\<and>\n     ?R'3 \\<longmapsto>STCal Source Target* R'' \\<and>\n     Q'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R''\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'' Q''.\n     P \\<longmapsto>STCal Source Target* P'' \\<and>\n     ?Q'3 \\<longmapsto>STCal Source Target* Q'' \\<and>\n     P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n  trans (indRelRTPO TRel)", "show ?case"], ["proof (prove)\nusing this:\n  R \\<longmapsto>STCal Source Target* R'\n  R \\<longmapsto>STCal Source Target* ?R'3 \\<Longrightarrow>\n  \\<exists>Q'' R''.\n     Q \\<longmapsto>STCal Source Target* Q'' \\<and>\n     ?R'3 \\<longmapsto>STCal Source Target* R'' \\<and>\n     Q'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R''\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'' Q''.\n     P \\<longmapsto>STCal Source Target* P'' \\<and>\n     ?Q'3 \\<longmapsto>STCal Source Target* Q'' \\<and>\n     P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n  trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. \\<exists>P'' Q''.\n       P \\<longmapsto>STCal Source Target* P'' \\<and>\n       R' \\<longmapsto>STCal Source Target* Q'' \\<and>\n       P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "using sim reduction_correspondence_simulation_condition_trans[where P=\"P\" and\n                   Rel=\"indRelRTPO TRel\" and Cal=\"STCal Source Target\" and Q=\"Q\" and R=\"R\"]"], ["proof (prove)\nusing this:\n  R \\<longmapsto>STCal Source Target* R'\n  R \\<longmapsto>STCal Source Target* ?R'3 \\<Longrightarrow>\n  \\<exists>Q'' R''.\n     Q \\<longmapsto>STCal Source Target* Q'' \\<and>\n     ?R'3 \\<longmapsto>STCal Source Target* R'' \\<and>\n     Q'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R''\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'' Q''.\n     P \\<longmapsto>STCal Source Target* P'' \\<and>\n     ?Q'3 \\<longmapsto>STCal Source Target* Q'' \\<and>\n     P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n  trans (indRelRTPO TRel)\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n  (\\<forall>Q'.\n      Q \\<longmapsto>STCal Source Target* Q' \\<longrightarrow>\n      (\\<exists>P'' Q''.\n          P \\<longmapsto>STCal Source Target* P'' \\<and>\n          Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n          P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'')) \\<and>\n  (\\<forall>R'.\n      R \\<longmapsto>STCal Source Target* R' \\<longrightarrow>\n      (\\<exists>Q'' R''.\n          Q \\<longmapsto>STCal Source Target* Q'' \\<and>\n          R' \\<longmapsto>STCal Source Target* R'' \\<and>\n          Q'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'')) \\<and>\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target) \\<and>\n  trans (indRelRTPO TRel) \\<Longrightarrow>\n  \\<forall>R'.\n     R \\<longmapsto>STCal Source Target* R' \\<longrightarrow>\n     (\\<exists>P'' R''.\n         P \\<longmapsto>STCal Source Target* P'' \\<and>\n         R' \\<longmapsto>STCal Source Target* R'' \\<and>\n         P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> R'')\n\ngoal (1 subgoal):\n 1. \\<exists>P'' Q''.\n       P \\<longmapsto>STCal Source Target* P'' \\<and>\n       R' \\<longmapsto>STCal Source Target* Q'' \\<and>\n       P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'' Q''.\n     P \\<longmapsto>STCal Source Target* P'' \\<and>\n     R' \\<longmapsto>STCal Source Target* Q'' \\<and>\n     P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'' Q''.\n     P \\<longmapsto>STCal Source Target* P'' \\<and>\n     Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n     P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q''\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>P Q Q'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     Q \\<longmapsto>STCal Source Target* Q' \\<longrightarrow>\n     (\\<exists>P'' Q''.\n         P \\<longmapsto>STCal Source Target* P'' \\<and>\n         Q' \\<longmapsto>STCal Source Target* Q'' \\<and>\n         P'' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "assume csi: \"weak_reduction_correspondence_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (state)\nthis:\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "show \"weakly_operational_corresponding (TRel\\<^sup>*)\n        \\<and> weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*)\n 2. weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "have \" \\<forall>S. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*)\n 2. weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*)\n 2. weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] trans_closure_of_TRel_refl_cond"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (?TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> ?TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*)\n 2. weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "show \"weakly_operational_corresponding (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding (TRel\\<^sup>*)", "using weak_reduction_correspondence_simulation_impl_WOC[where Rel=\"indRelRTPO TRel\" and\n               TRel=\"TRel\"] csi"], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  (\\<forall>S.\n      SourceTerm\n       S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                (\\<lbrakk>S\\<rbrakk>)) \\<and>\n  (\\<forall>S T.\n      SourceTerm\n       S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target) \\<Longrightarrow>\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding (TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "from csi"], ["proof (chain)\npicking this:\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)", "show \"weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "using indRelRTPO_impl_TRel_is_weak_reduction_correspondence_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target) \\<Longrightarrow>\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) WOC_iff_reduction_correspondence_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(weakly_operational_corresponding (TRel\\<^sup>*)\n         \\<and> weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n     weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_correspondence_simulation Rel (STCal Source Target))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> indRelRTPO TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2", "by (simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>T1 T2. TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2 \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] trans_closure_of_TRel_refl_cond"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (?TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> ?TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "assume \"weakly_operational_corresponding (TRel\\<^sup>*)\"\n              and \"weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\""], ["proof (state)\nthis:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "hence \"weak_reduction_correspondence_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target)", "using WOC_iff_indRelRTPO_is_reduction_correspondence_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n  (weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target) =\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (2 subgoals):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+)\n     Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n                   \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n          \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n   and A2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n   and A3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\"\n   and A4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n   and A5: \"weak_reduction_correspondence_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_correspondence_simulation Rel\n         (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "from A1 A4 A5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)", "have \"weakly_operational_corresponding (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding (TRel\\<^sup>*)", "using weak_reduction_correspondence_simulation_impl_WOC[where Rel=\"Rel\" and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_correspondence_simulation Rel\n   (STCal Source Target) \\<Longrightarrow>\n  weakly_operational_corresponding (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding (TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "from A2 A3 A5"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)", "have \"weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "using rel_with_target_impl_transC_TRel_is_weak_reduction_correspondence_simulation"], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  weak_reduction_correspondence_simulation ?Rel (STCal Source Target) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> ?TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> ?Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> ?Rel \\<longrightarrow>\n      (T1, T2) \\<in> ?TRel\\<^sup>+) \\<Longrightarrow>\n  weak_reduction_correspondence_simulation (?TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "show \"weakly_operational_corresponding (TRel\\<^sup>*)\n                   \\<and> weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rel_includes_TRel_modulo_preorder:\n  fixes Rel  :: \"(('procS, 'procT) Proc \\<times> ('procS, 'procT) Proc) set\"\n    and TRel :: \"('procT \\<times> 'procT) set\"\n  assumes transT: \"trans TRel\"\n  shows \"((\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+))\n         = (TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+)) =\n    (TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+) \\<Longrightarrow>\n    TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n 2. TRel =\n    _Collect (T1, T2)\n     ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<Longrightarrow>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+)", "assume \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n     and \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+) \\<Longrightarrow>\n    TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n 2. TRel =\n    _Collect (T1, T2)\n     ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<Longrightarrow>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+)", "with transT"], ["proof (chain)\npicking this:\n  trans TRel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+", "show \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\""], ["proof (prove)\nusing this:\n  trans TRel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  trans TRel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "by blast"], ["proof (state)\nthis:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<Longrightarrow>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<Longrightarrow>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+)", "assume A: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\""], ["proof (state)\nthis:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<Longrightarrow>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+)", "hence \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<Longrightarrow>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+)", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<Longrightarrow>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+)", "from transT A"], ["proof (chain)\npicking this:\n  trans TRel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)", "have \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  trans TRel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  trans TRel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by blast"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<Longrightarrow>\n    (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+", "show \"(\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\""], ["proof (prove)\nusing this:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. (\\<forall>T1 T2.\n        (T1, T2) \\<in> TRel \\<longrightarrow>\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n    (\\<forall>T1 T2.\n        (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n        (T1, T2) \\<in> TRel\\<^sup>+)", "by simp"], ["proof (state)\nthis:\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) WOC_wrt_preorder_iff_reduction_correspondence_simulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(weakly_operational_corresponding TRel \\<and> preorder TRel\n         \\<and> weak_reduction_correspondence_simulation TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> preorder Rel\n            \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (weakly_operational_corresponding TRel \\<and>\n     preorder TRel \\<and>\n     weak_reduction_correspondence_simulation TRel Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        preorder Rel \\<and>\n        weak_reduction_correspondence_simulation Rel (STCal Source Target))", "proof (rule iffI, erule conjE, erule conjE, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "assume A1: \"operational_complete TRel\" and A2: \"weakly_operational_sound TRel\"\n     and A3:\"preorder TRel\" and A4: \"weak_reduction_correspondence_simulation TRel Target\""], ["proof (state)\nthis:\n  operational_complete TRel\n  weakly_operational_sound TRel\n  preorder TRel\n  weak_reduction_correspondence_simulation TRel Target\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "from A3"], ["proof (chain)\npicking this:\n  preorder TRel", "have A5: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "with A3"], ["proof (chain)\npicking this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel", "have \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using trancl_id[of TRel] reflcl_trancl[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  TRel\\<^sup>+ = TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "with A1 A2"], ["proof (chain)\npicking this:\n  operational_complete TRel\n  weakly_operational_sound TRel\n  TRel\\<^sup>* = TRel", "have \"weakly_operational_corresponding (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  operational_complete TRel\n  weakly_operational_sound TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding (TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "moreover"], ["proof (state)\nthis:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "from A4 A5"], ["proof (chain)\npicking this:\n  weak_reduction_correspondence_simulation TRel Target\n  TRel\\<^sup>+ = TRel", "have \"weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  weak_reduction_correspondence_simulation TRel Target\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target", "have \"weak_reduction_correspondence_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target)", "using WOC_iff_indRelRTPO_is_reduction_correspondence_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  weakly_operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n  (weakly_operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target) =\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation (indRelRTPO TRel)\n     (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "moreover"], ["proof (state)\nthis:\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> indRelRTPO TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "have \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> indRelRTPO TRel}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     (TargetTerm\n       T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<Longrightarrow>\n       TargetTerm a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm b\n 2. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "fix TP TQ"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<Longrightarrow>\n       TargetTerm a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm b\n 2. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<Longrightarrow>\n       TargetTerm a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm b\n 2. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "thus \"TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\""], ["proof (prove)\nusing this:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ", "by (rule indRelRTPO.target)"], ["proof (state)\nthis:\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "fix TP TQ"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "assume \"TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\""], ["proof (state)\nthis:\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "with A3"], ["proof (chain)\npicking this:\n  preorder TRel\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ", "show \"(TP, TQ) \\<in> TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. (TP, TQ) \\<in> TRel", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. (TP, TQ) \\<in> TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. (TP, TQ) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "moreover"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "from A3"], ["proof (chain)\npicking this:\n  preorder TRel", "have \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> indRelRTPO TRel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] reflcl_trancl[of TRel]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  preorder TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "by blast"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "with A3"], ["proof (chain)\npicking this:\n  preorder TRel\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "have \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> indRelRTPO TRel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "from A3"], ["proof (chain)\npicking this:\n  preorder TRel", "have \"refl (indRelRTPO TRel)\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. refl (indRelRTPO TRel)", "using indRelRTPO_refl[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  refl TRel \\<Longrightarrow> refl (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. refl (indRelRTPO TRel)", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  refl TRel \\<Longrightarrow> refl (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. refl (indRelRTPO TRel)", "by simp"], ["proof (state)\nthis:\n  refl (indRelRTPO TRel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "moreover"], ["proof (state)\nthis:\n  refl (indRelRTPO TRel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "have \"trans (indRelRTPO TRel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans (indRelRTPO TRel)", "using indRelRTPO.trans"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?Q \\<and>\n  ?Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R \\<Longrightarrow>\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R\n\ngoal (1 subgoal):\n 1. trans (indRelRTPO TRel)", "unfolding trans_def"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?Q \\<and>\n  ?Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R \\<Longrightarrow>\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       x \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> y \\<longrightarrow>\n       y \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> z \\<longrightarrow>\n       x \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> z", "by blast"], ["proof (state)\nthis:\n  trans (indRelRTPO TRel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    weakly_operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  refl (indRelRTPO TRel)\n  trans (indRelRTPO TRel)", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n                   \\<and> preorder Rel\n                   \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  refl (indRelRTPO TRel)\n  trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  weak_reduction_correspondence_simulation (indRelRTPO TRel)\n   (STCal Source Target)\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  refl (indRelRTPO TRel)\n  trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (refl Rel \\<and> trans Rel) \\<and>\n       weak_reduction_correspondence_simulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n          \\<and> preorder Rel\n          \\<and> weak_reduction_correspondence_simulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)", "obtain Rel where B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n   and B2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and B3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\" and B4: \"preorder Rel\"\n   and B5: \"weak_reduction_correspondence_simulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        preorder Rel \\<and>\n        weak_reduction_correspondence_simulation Rel\n         (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  preorder Rel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "from B2 B4"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  preorder Rel", "have B6: \"refl TRel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  preorder Rel\n\ngoal (1 subgoal):\n 1. refl TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (Rel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> Rel)) \\<and>\n  trans Rel\n\ngoal (1 subgoal):\n 1. TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n    (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)", "by blast"], ["proof (state)\nthis:\n  refl TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "from B2 B4"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  preorder Rel", "have B7: \"trans TRel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  preorder Rel\n\ngoal (1 subgoal):\n 1. trans TRel", "unfolding trans_def preorder_on_def"], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  refl Rel \\<and>\n  (\\<forall>x y z.\n      (x, y) \\<in> Rel \\<longrightarrow>\n      (y, z) \\<in> Rel \\<longrightarrow> (x, z) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       (x, y) \\<in> TRel \\<longrightarrow>\n       (y, z) \\<in> TRel \\<longrightarrow> (x, z) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  trans TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "hence B8: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  trans TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by simp"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "with B6"], ["proof (chain)\npicking this:\n  refl TRel\n  TRel\\<^sup>+ = TRel", "have \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  refl TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel]"], ["proof (prove)\nusing this:\n  refl TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding refl_on_def"], ["proof (prove)\nusing this:\n  TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n  (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "with B1 B3 B5"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  TRel\\<^sup>* = TRel", "have \"weakly_operational_corresponding TRel\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding TRel", "using weak_reduction_correspondence_simulation_impl_WOC[where Rel=\"Rel\" and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  TRel\\<^sup>* = TRel\n  (\\<forall>S.\n      (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n  (\\<forall>S T.\n      (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n      (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n  weak_reduction_correspondence_simulation Rel\n   (STCal Source Target) \\<Longrightarrow>\n  weakly_operational_corresponding (TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding TRel", "by simp"], ["proof (state)\nthis:\n  weakly_operational_corresponding TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "moreover"], ["proof (state)\nthis:\n  weakly_operational_corresponding TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "from B6 B7"], ["proof (chain)\npicking this:\n  refl TRel\n  trans TRel", "have \"preorder TRel\""], ["proof (prove)\nusing this:\n  refl TRel\n  trans TRel\n\ngoal (1 subgoal):\n 1. preorder TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel\n  trans TRel\n\ngoal (1 subgoal):\n 1. refl TRel \\<and> trans TRel", "by blast"], ["proof (state)\nthis:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "moreover"], ["proof (state)\nthis:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "from B2 B5 B7 B8"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  trans TRel\n  TRel\\<^sup>+ = TRel", "have \"weak_reduction_correspondence_simulation TRel Target\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  trans TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation TRel Target", "using rel_includes_TRel_modulo_preorder[where Rel=\"Rel\" and TRel=\"TRel\"]\n            rel_with_target_impl_transC_TRel_is_weak_reduction_correspondence_simulation[where\n               Rel=\"Rel\" and TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  weak_reduction_correspondence_simulation Rel (STCal Source Target)\n  trans TRel\n  TRel\\<^sup>+ = TRel\n  trans TRel \\<Longrightarrow>\n  ((\\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n   (\\<forall>T1 T2.\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+)) =\n  (TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel))\n  weak_reduction_correspondence_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>T1 T2.\n      (T1, T2) \\<in> TRel \\<longrightarrow>\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n  (\\<forall>T1 T2.\n      (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n      (T1, T2) \\<in> TRel\\<^sup>+) \\<Longrightarrow>\n  weak_reduction_correspondence_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_correspondence_simulation TRel Target", "by fast"], ["proof (state)\nthis:\n  weak_reduction_correspondence_simulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_correspondence_simulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  weakly_operational_corresponding TRel\n  preorder TRel\n  weak_reduction_correspondence_simulation TRel Target", "show \"weakly_operational_corresponding TRel \\<and> preorder TRel\n                   \\<and> weak_reduction_correspondence_simulation TRel Target\""], ["proof (prove)\nusing this:\n  weakly_operational_corresponding TRel\n  preorder TRel\n  weak_reduction_correspondence_simulation TRel Target\n\ngoal (1 subgoal):\n 1. weakly_operational_corresponding TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_correspondence_simulation TRel Target", "by blast"], ["proof (state)\nthis:\n  weakly_operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_correspondence_simulation TRel Target\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>(Strong) Operational Correspondence vs (Strong) Bisimilarity\\<close>"], ["", "text \\<open>An encoding is operational corresponding w.r.t a weak bisimulation on target terms TRel iff\n        there exists a relation, like indRelRTPO, that relates at least all source terms and their\n        literal translations, includes TRel, and is a weak bisimulation. Thus this variant of\n        operational correspondence ensures that source terms and their translations are weak\n        bisimilar.\\<close>"], ["", "lemma (in encoding) OC_iff_indRelRTPO_is_weak_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding (TRel\\<^sup>*)\n         \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target)\n         = weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_corresponding (TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n    weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n 2. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "assume ocorr: \"operational_corresponding (TRel\\<^sup>*)\"\n     and bisim: \"weak_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n 2. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "hence \"weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)", "using OCom_iff_indRelRTPO_is_weak_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n  (operational_complete (TRel\\<^sup>*) \\<and>\n   weak_reduction_simulation (TRel\\<^sup>+) Target) =\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n 2. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n 2. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "from bisim"], ["proof (chain)\npicking this:\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target", "have \"weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "using weak_reduction_bisimulations_impl_inverse_is_simulation[where Rel=\"TRel\\<^sup>+\"]"], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n  weak_reduction_bisimulation (TRel\\<^sup>+) ?Cal \\<Longrightarrow>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) ?Cal\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by simp"], ["proof (state)\nthis:\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n 2. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "with ocorr"], ["proof (chain)\npicking this:\n  operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "using OSou_iff_inverse_of_indRelRTPO_is_weak_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  (operational_sound (TRel\\<^sup>*) \\<and>\n   weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n 2. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)", "show \"weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)", "using weak_reduction_simulations_impl_bisimulation[where Rel=\"indRelRTPO TRel\"]"], ["proof (prove)\nusing this:\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n  weak_reduction_simulation (indRelRTPO TRel) ?Cal \\<and>\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   ?Cal \\<Longrightarrow>\n  weak_reduction_bisimulation (indRelRTPO TRel) ?Cal\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "assume bisim: \"weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (state)\nthis:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "hence \"operational_complete (TRel\\<^sup>*) \\<and> weak_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "using OCom_iff_indRelRTPO_is_weak_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n  (operational_complete (TRel\\<^sup>*) \\<and>\n   weak_reduction_simulation (TRel\\<^sup>+) Target) =\n  weak_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "from bisim"], ["proof (chain)\npicking this:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)", "have \"weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "using weak_reduction_bisimulations_impl_inverse_is_simulation[where Rel=\"indRelRTPO TRel\"]"], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n  weak_reduction_bisimulation (indRelRTPO TRel) ?Cal \\<Longrightarrow>\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>) ?Cal\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "hence \"operational_sound (TRel\\<^sup>*) \\<and> weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "using OSou_iff_inverse_of_indRelRTPO_is_weak_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n  (operational_sound (TRel\\<^sup>*) \\<and>\n   weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n  weak_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by simp"], ["proof (state)\nthis:\n  operational_sound (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  operational_complete (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  operational_sound (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "show \"operational_corresponding (TRel\\<^sup>*) \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  operational_complete (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  operational_sound (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "using weak_reduction_simulations_impl_bisimulation[where Rel=\"TRel\\<^sup>+\"]"], ["proof (prove)\nusing this:\n  operational_complete (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  operational_sound (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  weak_reduction_simulation (TRel\\<^sup>+) ?Cal \\<and>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n   ?Cal \\<Longrightarrow>\n  weak_reduction_bisimulation (TRel\\<^sup>+) ?Cal\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) OC_iff_weak_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding (TRel\\<^sup>*) \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_corresponding (TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> indRelRTPO TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "have \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2", "by (simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "have \"\\<forall>T1 T2. TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2 \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] trans_closure_of_TRel_refl_cond"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (?TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> ?TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "assume \"operational_corresponding (TRel\\<^sup>*)\"\n              and \"weak_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "hence \"weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)", "using OC_iff_indRelRTPO_is_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n                   \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n          \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n   and A2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n   and A3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\"\n   and A4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n   and A5: \"weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        weak_reduction_bisimulation Rel\n         (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "hence \"operational_complete (TRel\\<^sup>*)\n         \\<and> weak_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "using OCom_iff_weak_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  (operational_complete (TRel\\<^sup>*) \\<and>\n   weak_reduction_simulation (TRel\\<^sup>+) Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      weak_reduction_simulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. operational_complete (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation (TRel\\<^sup>+) Target", "by blast"], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "moreover"], ["proof (state)\nthis:\n  operational_complete (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "from A5"], ["proof (chain)\npicking this:\n  weak_reduction_bisimulation Rel (STCal Source Target)", "have \"weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "using weak_reduction_bisimulations_impl_inverse_is_simulation[where Rel=\"Rel\"]"], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation Rel (STCal Source Target)\n  weak_reduction_bisimulation Rel ?Cal \\<Longrightarrow>\n  weak_reduction_simulation (Rel\\<inverse>) ?Cal\n\ngoal (1 subgoal):\n 1. weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "with A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "have \"operational_sound (TRel\\<^sup>*)\n                         \\<and> weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "using OSou_iff_weak_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n  (operational_sound (TRel\\<^sup>*) \\<and>\n   weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      weak_reduction_simulation (Rel\\<inverse>) (STCal Source Target))\n\ngoal (1 subgoal):\n 1. operational_sound (TRel\\<^sup>*) \\<and>\n    weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by blast"], ["proof (state)\nthis:\n  operational_sound (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "ultimately"], ["proof (chain)\npicking this:\n  operational_complete (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  operational_sound (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "show \"operational_corresponding (TRel\\<^sup>*)\n                   \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  operational_complete (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  operational_sound (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "using weak_reduction_simulations_impl_bisimulation[where Rel=\"TRel\\<^sup>+\"]"], ["proof (prove)\nusing this:\n  operational_complete (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation (TRel\\<^sup>+) Target\n  operational_sound (TRel\\<^sup>*) \\<and>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  weak_reduction_simulation (TRel\\<^sup>+) ?Cal \\<and>\n  weak_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n   ?Cal \\<Longrightarrow>\n  weak_reduction_bisimulation (TRel\\<^sup>+) ?Cal\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) OC_wrt_preorder_iff_weak_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(operational_corresponding TRel \\<and> preorder TRel\n         \\<and> weak_reduction_bisimulation TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> preorder Rel\n            \\<and> weak_reduction_bisimulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_corresponding TRel \\<and>\n     preorder TRel \\<and> weak_reduction_bisimulation TRel Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        preorder Rel \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target))", "proof (rule iffI, erule conjE, erule conjE, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "assume A1: \"operational_complete TRel\" and A2: \"operational_sound TRel\"\n     and A3:\"preorder TRel\" and A4: \"weak_reduction_bisimulation TRel Target\""], ["proof (state)\nthis:\n  operational_complete TRel\n  operational_sound TRel\n  preorder TRel\n  weak_reduction_bisimulation TRel Target\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "from A3"], ["proof (chain)\npicking this:\n  preorder TRel", "have A5: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "with A3"], ["proof (chain)\npicking this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel", "have \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "with A1 A2"], ["proof (chain)\npicking this:\n  operational_complete TRel\n  operational_sound TRel\n  TRel\\<^sup>* = TRel", "have \"operational_corresponding (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  operational_complete TRel\n  operational_sound TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*)", "by simp"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "from A4 A5"], ["proof (chain)\npicking this:\n  weak_reduction_bisimulation TRel Target\n  TRel\\<^sup>+ = TRel", "have \"weak_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation TRel Target\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target", "have \"weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)", "using OC_iff_indRelRTPO_is_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  operational_corresponding (TRel\\<^sup>*)\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "have \"\\<forall>S. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "have \"TRel = {(T1, T2). TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     (TargetTerm\n       T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<Longrightarrow>\n       TargetTerm a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm b\n 2. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "fix TP TQ"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<Longrightarrow>\n       TargetTerm a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm b\n 2. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<Longrightarrow>\n       TargetTerm a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm b\n 2. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "thus \"TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\""], ["proof (prove)\nusing this:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ", "by (rule indRelRTPO.target)"], ["proof (state)\nthis:\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "fix TP TQ"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "assume \"TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\""], ["proof (state)\nthis:\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "with A3"], ["proof (chain)\npicking this:\n  preorder TRel\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ", "show \"(TP, TQ) \\<in> TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. (TP, TQ) \\<in> TRel", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. (TP, TQ) \\<in> TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. (TP, TQ) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "from A3"], ["proof (chain)\npicking this:\n  preorder TRel", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] reflcl_trancl[of TRel]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  preorder TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "by auto"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "with A3"], ["proof (chain)\npicking this:\n  preorder TRel\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "from A3"], ["proof (chain)\npicking this:\n  preorder TRel", "have \"refl (indRelRTPO TRel)\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. refl (indRelRTPO TRel)", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n\ngoal (1 subgoal):\n 1. refl (indRelRTPO TRel)", "by (simp add: indRelRTPO_refl)"], ["proof (state)\nthis:\n  refl (indRelRTPO TRel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  refl (indRelRTPO TRel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "have \"trans (indRelRTPO TRel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans (indRelRTPO TRel)", "using indRelRTPO.trans"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?Q \\<and>\n  ?Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R \\<Longrightarrow>\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R\n\ngoal (1 subgoal):\n 1. trans (indRelRTPO TRel)", "unfolding trans_def"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?Q \\<and>\n  ?Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R \\<Longrightarrow>\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       x \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> y \\<longrightarrow>\n       y \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> z \\<longrightarrow>\n       x \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> z", "by blast"], ["proof (state)\nthis:\n  trans (indRelRTPO TRel)\n\ngoal (2 subgoals):\n 1. operational_complete TRel \\<and>\n    operational_sound TRel \\<and>\n    preorder TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  refl (indRelRTPO TRel)\n  trans (indRelRTPO TRel)", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n                   \\<and> preorder Rel\n                   \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  refl (indRelRTPO TRel)\n  trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  refl (indRelRTPO TRel)\n  trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (refl Rel \\<and> trans Rel) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n          \\<and> preorder Rel\n          \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)", "obtain Rel where B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n   and B2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and B3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\" and B4: \"preorder Rel\"\n   and B5: \"weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        preorder Rel \\<and>\n        weak_reduction_bisimulation Rel\n         (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  preorder Rel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "from B2 B4"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  preorder Rel", "have B6: \"refl TRel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  preorder Rel\n\ngoal (1 subgoal):\n 1. refl TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (Rel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> Rel)) \\<and>\n  trans Rel\n\ngoal (1 subgoal):\n 1. TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n    (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)", "by blast"], ["proof (state)\nthis:\n  refl TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "from B2 B4"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  preorder Rel", "have B7: \"trans TRel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  preorder Rel\n\ngoal (1 subgoal):\n 1. trans TRel", "unfolding trans_def preorder_on_def"], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  refl Rel \\<and>\n  (\\<forall>x y z.\n      (x, y) \\<in> Rel \\<longrightarrow>\n      (y, z) \\<in> Rel \\<longrightarrow> (x, z) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       (x, y) \\<in> TRel \\<longrightarrow>\n       (y, z) \\<in> TRel \\<longrightarrow> (x, z) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  trans TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "hence B8: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  trans TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by simp"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "with B6"], ["proof (chain)\npicking this:\n  refl TRel\n  TRel\\<^sup>+ = TRel", "have B9: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  refl TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel]"], ["proof (prove)\nusing this:\n  refl TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding refl_on_def"], ["proof (prove)\nusing this:\n  TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n  (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "with B3"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  TRel\\<^sup>* = TRel", "have \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "from B2 B8"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  TRel\\<^sup>+ = TRel", "have \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n   and \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel &&&\n    \\<forall>T1 T2.\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by auto"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n   \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "using B1 B5"], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "hence \"operational_corresponding (TRel\\<^sup>*)\n         \\<and> weak_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "using OC_iff_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     weak_reduction_bisimulation Rel (STCal Source Target)\n  (operational_corresponding (TRel\\<^sup>*) \\<and>\n   weak_reduction_bisimulation (TRel\\<^sup>+) Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      weak_reduction_bisimulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. operational_corresponding (TRel\\<^sup>*) \\<and>\n    weak_reduction_bisimulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "with B8 B9"], ["proof (chain)\npicking this:\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target", "have \"operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  operational_corresponding (TRel\\<^sup>*) \\<and>\n  weak_reduction_bisimulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "by simp"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "from B6 B7"], ["proof (chain)\npicking this:\n  refl TRel\n  trans TRel", "have \"preorder TRel\""], ["proof (prove)\nusing this:\n  refl TRel\n  trans TRel\n\ngoal (1 subgoal):\n 1. preorder TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel\n  trans TRel\n\ngoal (1 subgoal):\n 1. refl TRel \\<and> trans TRel", "by blast"], ["proof (state)\nthis:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  operational_corresponding TRel \\<and>\n  weak_reduction_bisimulation TRel Target\n  preorder TRel", "show \"operational_corresponding TRel \\<and> preorder TRel\n                   \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  operational_corresponding TRel \\<and>\n  weak_reduction_bisimulation TRel Target\n  preorder TRel\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    preorder TRel \\<and> weak_reduction_bisimulation TRel Target", "by blast"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  preorder TRel \\<and> weak_reduction_bisimulation TRel Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) OC_wrt_equivalence_iff_indRelTEQ_weak_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  assumes eqT: \"equivalence TRel\"\n  shows \"(operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target) \\<longleftrightarrow>\n         weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_corresponding TRel \\<and>\n     weak_reduction_bisimulation TRel Target) =\n    weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n 2. weak_reduction_bisimulation (indRelTEQ TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "assume oc: \"operational_corresponding TRel\" and bisimT: \"weak_reduction_bisimulation TRel Target\""], ["proof (state)\nthis:\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target\n\ngoal (2 subgoals):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n 2. weak_reduction_bisimulation (indRelTEQ TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "show \"weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "fix P Q P'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\" and \"P \\<longmapsto>(STCal Source Target)* P'\""], ["proof (state)\nthis:\n  P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\n  P \\<longmapsto>STCal Source Target* P'\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "thus \"\\<exists>Q'. Q \\<longmapsto>(STCal Source Target)* Q' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\n  P \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       Q \\<longmapsto>STCal Source Target* Q' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "proof (induct arbitrary: P')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (encR S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"SourceTerm S \\<longmapsto>(STCal Source Target)* P'\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'", "obtain S' where A1: \"S \\<longmapsto>Source* S'\" and A2: \"S' \\<in>S P'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source* S' \\<and> S' \\<in>S P' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  S \\<longmapsto>Source* S'\n  S' \\<in>S P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from A1 oc"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source* S'\n  operational_corresponding TRel", "obtain T where A3: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\" and A4: \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n  operational_corresponding TRel\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from A3"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T", "have \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "from A2"], ["proof (chain)\npicking this:\n  S' \\<in>S P'", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  S' \\<in>S P'\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n         (\\<lbrakk>S'\\<rbrakk>)", "by (simp add: indRelTEQ.encR)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "moreover"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "from A4"], ["proof (chain)\npicking this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "have \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                              T", "by (rule indRelTEQ.target)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                            T\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "ultimately"], ["proof (chain)\npicking this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                            T", "show \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                            T\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "by (rule indRelTEQ.trans)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "show \"\\<exists>Q'. TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* Q' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (encL S)"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* P'\""], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P'", "obtain T where B1: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\" and B2: \"T \\<in>T P'\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n        T \\<in>T P' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  T \\<in>T P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from B1 oc"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  operational_corresponding TRel", "obtain S' where B3: \"S \\<longmapsto>Source* S'\" and B4: \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  operational_corresponding TRel\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source* S' \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  S \\<longmapsto>Source* S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from B3"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source* S'", "have \"SourceTerm S \\<longmapsto>(STCal Source Target)* (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'", "by (simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "from B4 eqT"], ["proof (chain)\npicking this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n  equivalence TRel", "have \"(T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel", "unfolding equiv_def sym_def"], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n  refl TRel \\<and>\n  (\\<forall>x y.\n      (x, y) \\<in> TRel \\<longrightarrow> (y, x) \\<in> TRel) \\<and>\n  trans TRel\n\ngoal (1 subgoal):\n 1. (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "with B2"], ["proof (chain)\npicking this:\n  T \\<in>T P'\n  (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  T \\<in>T P'\n  (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n         (\\<lbrakk>S'\\<rbrakk>)", "by (simp add: indRelTEQ.target)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "moreover"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "have \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S'", "by (rule indRelTEQ.encL)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                            S'\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "ultimately"], ["proof (chain)\npicking this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                            S'", "show \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'\""], ["proof (prove)\nusing this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                            S'\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "by (rule indRelTEQ.trans)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "show \"\\<exists>Q'. SourceTerm S \\<longmapsto>(STCal Source Target)* Q' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T1 \\<longmapsto>STCal Source Target* P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"TargetTerm T1 \\<longmapsto>(STCal Source Target)* P'\""], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* P'", "obtain T1' where C1: \"T1 \\<longmapsto>Target* T1'\" and C2: \"T1' \\<in>T P'\""], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. (\\<And>T1'.\n        T1 \\<longmapsto>Target* T1' \\<and> T1' \\<in>T P' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  T1 \\<longmapsto>Target* T1'\n  T1' \\<in>T P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "with C1 bisimT"], ["proof (chain)\npicking this:\n  T1 \\<longmapsto>Target* T1'\n  weak_reduction_bisimulation TRel Target\n  (T1, T2) \\<in> TRel", "obtain T2' where C3: \"T2 \\<longmapsto>Target* T2'\" and C4: \"(T1', T2') \\<in> TRel\""], ["proof (prove)\nusing this:\n  T1 \\<longmapsto>Target* T1'\n  weak_reduction_bisimulation TRel Target\n  (T1, T2) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (\\<And>T2'.\n        T2 \\<longmapsto>Target* T2' \\<and>\n        (T1', T2') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  T2 \\<longmapsto>Target* T2'\n  (T1', T2') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from C3"], ["proof (chain)\npicking this:\n  T2 \\<longmapsto>Target* T2'", "have \"TargetTerm T2 \\<longmapsto>(STCal Source Target)* (TargetTerm T2')\""], ["proof (prove)\nusing this:\n  T2 \\<longmapsto>Target* T2'\n\ngoal (1 subgoal):\n 1. TargetTerm T2 \\<longmapsto>STCal Source Target* TargetTerm T2'", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from C2 C4"], ["proof (chain)\npicking this:\n  T1' \\<in>T P'\n  (T1', T2') \\<in> TRel", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2'\""], ["proof (prove)\nusing this:\n  T1' \\<in>T P'\n  (T1', T2') \\<in> TRel\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2'", "by (simp add: indRelTEQ.target)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* TargetTerm T2'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2'", "show \"\\<exists>Q'. TargetTerm T2 \\<longmapsto>(STCal Source Target)* Q' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* TargetTerm T2'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (trans P Q R)"], ["proof (state)\nthis:\n  P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\n  P \\<longmapsto>STCal Source Target* ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     ?P'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R\n  Q \\<longmapsto>STCal Source Target* ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     R \\<longmapsto>STCal Source Target* Q' \\<and>\n     ?P'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  P \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"P \\<longmapsto>(STCal Source Target)* P'\"\n         and \"\\<And>P'. P \\<longmapsto>(STCal Source Target)* P'\n              \\<Longrightarrow> \\<exists>Q'. Q \\<longmapsto>(STCal Source Target)* Q' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (state)\nthis:\n  P \\<longmapsto>STCal Source Target* P'\n  P \\<longmapsto>STCal Source Target* ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     ?P'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  P \\<longmapsto>STCal Source Target* P'\n  P \\<longmapsto>STCal Source Target* ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     ?P'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "obtain Q' where D1: \"Q \\<longmapsto>(STCal Source Target)* Q'\" and D2: \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto>STCal Source Target* P'\n  P \\<longmapsto>STCal Source Target* ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     ?P'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        Q \\<longmapsto>STCal Source Target* Q' \\<and>\n        P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target* Q'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"\\<And>Q'. Q \\<longmapsto>(STCal Source Target)* Q'\n              \\<Longrightarrow> \\<exists>R'. R \\<longmapsto>(STCal Source Target)* R' \\<and> Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target* R' \\<and>\n     ?Q'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "with D1"], ["proof (chain)\npicking this:\n  Q \\<longmapsto>STCal Source Target* Q'\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target* R' \\<and>\n     ?Q'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "obtain R' where D3: \"R \\<longmapsto>(STCal Source Target)* R'\" and D4: \"Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto>STCal Source Target* Q'\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target* R' \\<and>\n     ?Q'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        R \\<longmapsto>STCal Source Target* R' \\<and>\n        Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<longmapsto>STCal Source Target* R'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from D2 D4"], ["proof (chain)\npicking this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (prove)\nusing this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "by (rule indRelTEQ.trans)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target* P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target* Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target* P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target* Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "with D3"], ["proof (chain)\npicking this:\n  R \\<longmapsto>STCal Source Target* R'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "show \"\\<exists>R'. R \\<longmapsto>(STCal Source Target)* R' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto>STCal Source Target* R'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<longmapsto>STCal Source Target* R' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "by blast"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target* R' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "fix P Q Q'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\" and \"Q \\<longmapsto>(STCal Source Target)* Q'\""], ["proof (state)\nthis:\n  P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\n  Q \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "thus \"\\<exists>P'. P \\<longmapsto>(STCal Source Target)* P' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\n  Q \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<longmapsto>STCal Source Target* P' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "proof (induct arbitrary: Q')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (encR S)"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* Q'\""], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'", "obtain T where E1: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\" and E2: \"T \\<in>T Q'\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n        T \\<in>T Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  T \\<in>T Q'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from E1 oc"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  operational_corresponding TRel", "obtain S' where E3: \"S \\<longmapsto>Source* S'\" and E4: \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  operational_corresponding TRel\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source* S' \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  S \\<longmapsto>Source* S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from E3"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source* S'", "have \"SourceTerm S \\<longmapsto>(STCal Source Target)* (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'", "by (simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "have \"SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "have \"SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm\n     S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S'\\<rbrakk>)", "by (rule indRelTEQ.encR)"], ["proof (state)\nthis:\n  SourceTerm\n   S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  SourceTerm\n   S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from E2 E4"], ["proof (chain)\npicking this:\n  T \\<in>T Q'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "have \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  T \\<in>T Q'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by (simp add: indRelTEQ.target)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm\n   S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "show \"SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  SourceTerm\n   S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by (rule indRelTEQ.trans)"], ["proof (state)\nthis:\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "show \"\\<exists>P'. SourceTerm S \\<longmapsto>(STCal Source Target)* P' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (encL S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"SourceTerm S \\<longmapsto>(STCal Source Target)* Q'\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'", "obtain S' where F1: \"S \\<longmapsto>Source* S'\" and F2: \"S' \\<in>S Q'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source* S' \\<and> S' \\<in>S Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  S \\<longmapsto>Source* S'\n  S' \\<in>S Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from F1 oc"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source* S'\n  operational_corresponding TRel", "obtain T where F3: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\" and F4: \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n  operational_corresponding TRel\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from F3"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T", "have \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "have \"TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from F4 eqT"], ["proof (chain)\npicking this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n  equivalence TRel", "have \"(T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel", "unfolding equiv_def sym_def"], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n  refl TRel \\<and>\n  (\\<forall>x y.\n      (x, y) \\<in> TRel \\<longrightarrow> (y, x) \\<in> TRel) \\<and>\n  trans TRel\n\ngoal (1 subgoal):\n 1. (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "hence \"TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm\n     T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n         (\\<lbrakk>S'\\<rbrakk>)", "by (rule indRelTEQ.target)"], ["proof (state)\nthis:\n  TargetTerm\n   T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm\n   T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from F2"], ["proof (chain)\npicking this:\n  S' \\<in>S Q'", "have \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  S' \\<in>S Q'\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by (simp add: indRelTEQ.encL)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm\n   T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "show \"TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm\n   T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by (rule indRelTEQ.trans)"], ["proof (state)\nthis:\n  TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n  TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "show \"\\<exists>P'. TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* P' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n  TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T2 \\<longmapsto>STCal Source Target* Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"TargetTerm T2 \\<longmapsto>(STCal Source Target)* Q'\""], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* Q'", "obtain T2' where G1: \"T2 \\<longmapsto>Target* T2'\" and G2: \"T2' \\<in>T Q'\""], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T2'.\n        T2 \\<longmapsto>Target* T2' \\<and> T2' \\<in>T Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  T2 \\<longmapsto>Target* T2'\n  T2' \\<in>T Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "with G1 bisimT"], ["proof (chain)\npicking this:\n  T2 \\<longmapsto>Target* T2'\n  weak_reduction_bisimulation TRel Target\n  (T1, T2) \\<in> TRel", "obtain T1' where G3: \"T1 \\<longmapsto>Target* T1'\" and G4: \"(T1', T2') \\<in> TRel\""], ["proof (prove)\nusing this:\n  T2 \\<longmapsto>Target* T2'\n  weak_reduction_bisimulation TRel Target\n  (T1, T2) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (\\<And>T1'.\n        T1 \\<longmapsto>Target* T1' \\<and>\n        (T1', T2') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  T1 \\<longmapsto>Target* T1'\n  (T1', T2') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from G3"], ["proof (chain)\npicking this:\n  T1 \\<longmapsto>Target* T1'", "have \"TargetTerm T1 \\<longmapsto>(STCal Source Target)* (TargetTerm T1')\""], ["proof (prove)\nusing this:\n  T1 \\<longmapsto>Target* T1'\n\ngoal (1 subgoal):\n 1. TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from G2 G4"], ["proof (chain)\npicking this:\n  T2' \\<in>T Q'\n  (T1', T2') \\<in> TRel", "have \"TargetTerm T1' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  T2' \\<in>T Q'\n  (T1', T2') \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm T1' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by (simp add: indRelTEQ.target)"], ["proof (state)\nthis:\n  TargetTerm T1' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'\n  TargetTerm T1' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "show \"\\<exists>P'. TargetTerm T1 \\<longmapsto>(STCal Source Target)* P' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target* TargetTerm T1'\n  TargetTerm T1' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     TargetTerm T1 \\<longmapsto>STCal Source Target* P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (trans P Q R R')"], ["proof (state)\nthis:\n  P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target* P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q'3\n  Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R\n  R \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     Q \\<longmapsto>STCal Source Target* P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q'3\n  R \\<longmapsto>STCal Source Target* R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"R \\<longmapsto>(STCal Source Target)* R'\"\n         and \"\\<And>R'. R \\<longmapsto>(STCal Source Target)* R'\n              \\<Longrightarrow> \\<exists>Q'. Q \\<longmapsto>(STCal Source Target)* Q' \\<and> Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (state)\nthis:\n  R \\<longmapsto>STCal Source Target* R'\n  R \\<longmapsto>STCal Source Target* ?R'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R'3\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  R \\<longmapsto>STCal Source Target* R'\n  R \\<longmapsto>STCal Source Target* ?R'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R'3", "obtain Q' where H1: \"Q \\<longmapsto>(STCal Source Target)* Q'\" and H2: \"Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto>STCal Source Target* R'\n  R \\<longmapsto>STCal Source Target* ?R'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target* Q' \\<and>\n     Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R'3\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        Q \\<longmapsto>STCal Source Target* Q' \\<and>\n        Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target* Q'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"\\<And>Q'. Q \\<longmapsto>(STCal Source Target)* Q'\n              \\<Longrightarrow> \\<exists>P'. P \\<longmapsto>(STCal Source Target)* P' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target* P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q'3\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "with H1"], ["proof (chain)\npicking this:\n  Q \\<longmapsto>STCal Source Target* Q'\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target* P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q'3", "obtain P' where H3: \"P \\<longmapsto>(STCal Source Target)* P'\" and H4: \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto>STCal Source Target* Q'\n  Q \\<longmapsto>STCal Source Target* ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target* P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q'3\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        P \\<longmapsto>STCal Source Target* P' \\<and>\n        P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P \\<longmapsto>STCal Source Target* P'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from H4 H2"], ["proof (chain)\npicking this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (prove)\nusing this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "by (rule indRelTEQ.trans)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target* Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target* P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target* Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target* P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "with H3"], ["proof (chain)\npicking this:\n  P \\<longmapsto>STCal Source Target* P'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "show \"\\<exists>P'. P \\<longmapsto>(STCal Source Target)* P' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto>STCal Source Target* P'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<longmapsto>STCal Source Target* P' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target* P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target* P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelTEQ TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelTEQ TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "assume bisim: \"weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\""], ["proof (state)\nthis:\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelTEQ TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "have \"operational_corresponding TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. operational_corresponding TRel", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "fix S S'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "have \"SourceTerm S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm\n     S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n         (\\<lbrakk>S\\<rbrakk>)", "by (rule indRelTEQ.encR)"], ["proof (state)\nthis:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "assume \"S \\<longmapsto>Source* S'\""], ["proof (state)\nthis:\n  S \\<longmapsto>Source* S'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "hence \"SourceTerm S \\<longmapsto>(STCal Source Target)* (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'", "by (simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'", "obtain Q' where I1: \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* Q'\"\n                           and I2: \"SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm\n         (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n        SourceTerm\n         S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using bisim"], ["proof (prove)\nusing this:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm\n         (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n        SourceTerm\n         S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from I1"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'", "obtain T where I3: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\" and I4: \"T \\<in>T Q'\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n        T \\<in>T Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  T \\<in>T Q'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with I2 I4"], ["proof (chain)\npicking this:\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  T \\<in>T Q'\n  TRel\\<^sup>* = TRel", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  T \\<in>T Q'\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "using indRelTEQ_to_TRel(2)[where TRel=\"TRel\"]\n              trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  T \\<in>T Q'\n  TRel\\<^sup>* = TRel\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with I3"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "show \"\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n       (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n     (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "fix S T"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "have \"SourceTerm S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm\n     S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n         (\\<lbrakk>S\\<rbrakk>)", "by (rule indRelTEQ.encR)"], ["proof (state)\nthis:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "assume \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\""], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "hence \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "obtain Q' where J1: \"SourceTerm S \\<longmapsto>(STCal Source Target)* Q'\"\n                           and J2: \"Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n        Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n             T \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using bisim"], ["proof (prove)\nusing this:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        SourceTerm S \\<longmapsto>STCal Source Target* Q' \\<and>\n        Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n             T \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from J1"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'", "obtain S' where J3: \"S \\<longmapsto>Source* S'\" and J4: \"S' \\<in>S Q'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source* S' \\<and> S' \\<in>S Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  S \\<longmapsto>Source* S'\n  S' \\<in>S Q'\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with J2 J4"], ["proof (chain)\npicking this:\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n  S' \\<in>S Q'\n  TRel\\<^sup>* = TRel", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n  S' \\<in>S Q'\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "using indRelTEQ_to_TRel(2)[where TRel=\"TRel\"]\n              trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n  S' \\<in>S Q'\n  TRel\\<^sup>* = TRel\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with J3"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source* S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "show \"\\<exists>S'. S \\<longmapsto>Source* S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>S'.\n       S \\<longmapsto>Source* S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>S'.\n     S \\<longmapsto>Source* S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  operational_corresponding TRel\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelTEQ TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  operational_corresponding TRel\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelTEQ TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "have \"weak_reduction_bisimulation TRel Target\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation TRel Target", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation TRel Target", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation TRel Target", "with bisim"], ["proof (chain)\npicking this:\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n  TRel\\<^sup>* = TRel", "show \"weak_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation TRel Target", "using indRelTEQ_impl_TRel_is_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n  TRel\\<^sup>* = TRel\n  weak_reduction_bisimulation (indRelTEQ TRel)\n   (STCal Source Target) \\<Longrightarrow>\n  weak_reduction_bisimulation (TRel\\<^sup>*) Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation TRel Target", "by simp"], ["proof (state)\nthis:\n  weak_reduction_bisimulation TRel Target\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelTEQ TRel)\n     (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target", "show \"operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "by simp"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  weak_reduction_bisimulation TRel Target\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) OC_wrt_equivalence_iff_weak_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  assumes eqT: \"equivalence TRel\"\n  shows \"(operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target) \\<longleftrightarrow> (\\<exists>Rel.\n         (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n         \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n         \\<and> trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (operational_corresponding TRel \\<and>\n     weak_reduction_bisimulation TRel Target) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel \\<and>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        trans Rel \\<and>\n        weak_reduction_bisimulation Rel (STCal Source Target))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "assume oc: \"operational_corresponding TRel\" and bisimT: \"weak_reduction_bisimulation TRel Target\""], ["proof (state)\nthis:\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target\n\ngoal (2 subgoals):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have rt: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "have \"\\<forall>S. SourceTerm S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n            (\\<lbrakk>S\\<rbrakk>) \\<and>\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                                S", "by (simp add: indRelTEQ.encR indRelTEQ.encL)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n\ngoal (2 subgoals):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n\ngoal (2 subgoals):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from rt"], ["proof (chain)\npicking this:\n  TRel\\<^sup>* = TRel", "have \"TRel = {(T1, T2). TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2}\""], ["proof (prove)\nusing this:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)", "using indRelTEQ_to_TRel(4)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  TRel\\<^sup>* = TRel\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)", "by (auto simp add: indRelTEQ.target)"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "have \"trans (indRelTEQ TRel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans (indRelTEQ TRel)", "using indRelTEQ.trans[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<and>\n  ?Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R \\<Longrightarrow>\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R\n\ngoal (1 subgoal):\n 1. trans (indRelTEQ TRel)", "unfolding trans_def"], ["proof (prove)\nusing this:\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<and>\n  ?Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R \\<Longrightarrow>\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       x \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> y \\<longrightarrow>\n       y \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> z \\<longrightarrow>\n       x \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> z", "by blast"], ["proof (state)\nthis:\n  trans (indRelTEQ TRel)\n\ngoal (2 subgoals):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  trans (indRelTEQ TRel)\n\ngoal (2 subgoals):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from eqT oc bisimT"], ["proof (chain)\npicking this:\n  equivalence TRel\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target", "have \"weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  equivalence TRel\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)", "using OC_wrt_equivalence_iff_indRelTEQ_weak_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target\n  equivalence TRel \\<Longrightarrow>\n  (operational_corresponding TRel \\<and>\n   weak_reduction_bisimulation TRel Target) =\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n\ngoal (2 subgoals):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n  trans (indRelTEQ TRel)\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n        \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel} \\<and> trans Rel\n        \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n  trans (indRelTEQ TRel)\n  weak_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel (STCal Source Target)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n                 \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel} \\<and> trans Rel\n          \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target)", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n                                  \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\"\n   and A2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\" and A3: \"trans Rel\"\n   and A4: \"weak_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and> weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel \\<and>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        trans Rel \\<and>\n        weak_reduction_bisimulation Rel\n         (STCal Source Target) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  trans Rel\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "have \"operational_corresponding TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. operational_corresponding TRel", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "fix S S'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from A1"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel", "have \"(SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "assume \"S \\<longmapsto>Source* S'\""], ["proof (state)\nthis:\n  S \\<longmapsto>Source* S'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "hence \"SourceTerm S \\<longmapsto>(STCal Source Target)* (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'", "by (simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'", "obtain Q' where B1: \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* Q'\"\n                           and B2: \"(SourceTerm S', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm\n         (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n        (SourceTerm S', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A4"], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  SourceTerm S \\<longmapsto>STCal Source Target* SourceTerm S'\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm\n         (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q' \\<and>\n        (SourceTerm S', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'\n  (SourceTerm S', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from B1"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'", "obtain T where B3: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\" and B4: \"T \\<in>T Q'\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n        T \\<in>T Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  T \\<in>T Q'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from A1"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S'\\<rbrakk>), SourceTerm S') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S'\\<rbrakk>), SourceTerm S') \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), SourceTerm S') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with B2 A3"], ["proof (chain)\npicking this:\n  (SourceTerm S', Q') \\<in> Rel\n  trans Rel\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), SourceTerm S') \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S'\\<rbrakk>), Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (SourceTerm S', Q') \\<in> Rel\n  trans Rel\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), SourceTerm S') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S'\\<rbrakk>), Q') \\<in> Rel", "unfolding trans_def"], ["proof (prove)\nusing this:\n  (SourceTerm S', Q') \\<in> Rel\n  \\<forall>x y z.\n     (x, y) \\<in> Rel \\<longrightarrow>\n     (y, z) \\<in> Rel \\<longrightarrow> (x, z) \\<in> Rel\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), SourceTerm S') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S'\\<rbrakk>), Q') \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with B4 A2"], ["proof (chain)\npicking this:\n  T \\<in>T Q'\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), Q') \\<in> Rel", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  T \\<in>T Q'\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source* S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with B3"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "show \"\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n       (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<and>\n     (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "fix S T"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from A1"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel", "have \"(SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "assume \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\""], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "hence \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target)* (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T", "obtain P' where C1: \"SourceTerm S \\<longmapsto>(STCal Source Target)* P'\"\n                           and C2: \"(P', TargetTerm T) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n        (P', TargetTerm T) \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A4"], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target* TargetTerm T\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        SourceTerm S \\<longmapsto>STCal Source Target* P' \\<and>\n        (P', TargetTerm T) \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n  (P', TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from C1"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'", "obtain S' where C3: \"S \\<longmapsto>Source* S'\" and C4: \"S' \\<in>S P'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source* S' \\<and> S' \\<in>S P' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(1))"], ["proof (state)\nthis:\n  S \\<longmapsto>Source* S'\n  S' \\<in>S P'\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from A1 C4"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  S' \\<in>S P'", "have \"(TargetTerm (\\<lbrakk>S'\\<rbrakk>), P') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  S' \\<in>S P'\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S'\\<rbrakk>), P') \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from A3 this C2"], ["proof (chain)\npicking this:\n  trans Rel\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), P') \\<in> Rel\n  (P', TargetTerm T) \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S'\\<rbrakk>), TargetTerm T) \\<in> Rel\""], ["proof (prove)\nusing this:\n  trans Rel\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), P') \\<in> Rel\n  (P', TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S'\\<rbrakk>), TargetTerm T) \\<in> Rel", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<forall>x y z.\n     (x, y) \\<in> Rel \\<longrightarrow>\n     (y, z) \\<in> Rel \\<longrightarrow> (x, z) \\<in> Rel\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), P') \\<in> Rel\n  (P', TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S'\\<rbrakk>), TargetTerm T) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with A2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), TargetTerm T) \\<in> Rel", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target* T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source* S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with C3"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source* S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "show \"\\<exists>S'. S \\<longmapsto>Source* S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source* S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>S'.\n       S \\<longmapsto>Source* S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>S'.\n     S \\<longmapsto>Source* S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  operational_corresponding TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "moreover"], ["proof (state)\nthis:\n  operational_corresponding TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "have \"weak_reduction_bisimulation TRel Target\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weak_reduction_bisimulation TRel Target", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "fix TP TQ TP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "with A2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "assume \"TP \\<longmapsto>Target* TP'\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Target* TP'\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "hence \"TargetTerm TP \\<longmapsto>(STCal Source Target)* (TargetTerm TP')\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Target* TP'\n\ngoal (1 subgoal):\n 1. TargetTerm TP \\<longmapsto>STCal Source Target* TargetTerm TP'", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm TP \\<longmapsto>STCal Source Target* TargetTerm TP'\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP \\<longmapsto>STCal Source Target* TargetTerm TP'", "obtain Q' where D1: \"TargetTerm TQ \\<longmapsto>(STCal Source Target)* Q'\"\n                           and D2: \"(TargetTerm TP', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP \\<longmapsto>STCal Source Target* TargetTerm TP'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm TQ \\<longmapsto>STCal Source Target* Q' \\<and>\n        (TargetTerm TP', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A4"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP \\<longmapsto>STCal Source Target* TargetTerm TP'\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm TQ \\<longmapsto>STCal Source Target* Q' \\<and>\n        (TargetTerm TP', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ \\<longmapsto>STCal Source Target* Q'\n  (TargetTerm TP', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "from D1"], ["proof (chain)\npicking this:\n  TargetTerm TQ \\<longmapsto>STCal Source Target* Q'", "obtain TQ' where D3: \"TQ \\<longmapsto>Target* TQ'\" and D4: \"TQ' \\<in>T Q'\""], ["proof (prove)\nusing this:\n  TargetTerm TQ \\<longmapsto>STCal Source Target* Q'\n\ngoal (1 subgoal):\n 1. (\\<And>TQ'.\n        TQ \\<longmapsto>Target* TQ' \\<and> TQ' \\<in>T Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TQ \\<longmapsto>Target* TQ'\n  TQ' \\<in>T Q'\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "from A2 D2 D4"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TargetTerm TP', Q') \\<in> Rel\n  TQ' \\<in>T Q'", "have \"(TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TargetTerm TP', Q') \\<in> Rel\n  TQ' \\<in>T Q'\n\ngoal (1 subgoal):\n 1. (TP', TQ') \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (TP', TQ') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target* P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target* Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "with D3"], ["proof (chain)\npicking this:\n  TQ \\<longmapsto>Target* TQ'\n  (TP', TQ') \\<in> TRel", "show \"\\<exists>TQ'. TQ \\<longmapsto>Target* TQ' \\<and> (TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Target* TQ'\n  (TP', TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>TQ'. TQ \\<longmapsto>Target* TQ' \\<and> (TP', TQ') \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>TQ'. TQ \\<longmapsto>Target* TQ' \\<and> (TP', TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "fix TP TQ TQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "with A2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "assume \"TQ \\<longmapsto>Target* TQ'\""], ["proof (state)\nthis:\n  TQ \\<longmapsto>Target* TQ'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "hence \"TargetTerm TQ \\<longmapsto>(STCal Source Target)* (TargetTerm TQ')\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Target* TQ'\n\ngoal (1 subgoal):\n 1. TargetTerm TQ \\<longmapsto>STCal Source Target* TargetTerm TQ'", "by (simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TargetTerm TQ \\<longmapsto>STCal Source Target* TargetTerm TQ'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ \\<longmapsto>STCal Source Target* TargetTerm TQ'", "obtain P' where E1: \"TargetTerm TP \\<longmapsto>(STCal Source Target)* P'\"\n                           and E2: \"(P', TargetTerm TQ') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ \\<longmapsto>STCal Source Target* TargetTerm TQ'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        TargetTerm TP \\<longmapsto>STCal Source Target* P' \\<and>\n        (P', TargetTerm TQ') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A4"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ \\<longmapsto>STCal Source Target* TargetTerm TQ'\n  weak_reduction_bisimulation Rel (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        TargetTerm TP \\<longmapsto>STCal Source Target* P' \\<and>\n        (P', TargetTerm TQ') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP \\<longmapsto>STCal Source Target* P'\n  (P', TargetTerm TQ') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "from E1"], ["proof (chain)\npicking this:\n  TargetTerm TP \\<longmapsto>STCal Source Target* P'", "obtain TP' where E3: \"TP \\<longmapsto>Target* TP'\" and E4: \"TP' \\<in>T P'\""], ["proof (prove)\nusing this:\n  TargetTerm TP \\<longmapsto>STCal Source Target* P'\n\ngoal (1 subgoal):\n 1. (\\<And>TP'.\n        TP \\<longmapsto>Target* TP' \\<and> TP' \\<in>T P' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_steps(2))"], ["proof (state)\nthis:\n  TP \\<longmapsto>Target* TP'\n  TP' \\<in>T P'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "from A2 E2 E4"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (P', TargetTerm TQ') \\<in> Rel\n  TP' \\<in>T P'", "have \"(TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (P', TargetTerm TQ') \\<in> Rel\n  TP' \\<in>T P'\n\ngoal (1 subgoal):\n 1. (TP', TQ') \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (TP', TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target* Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target* P' \\<and> (P', Q') \\<in> TRel", "with E3"], ["proof (chain)\npicking this:\n  TP \\<longmapsto>Target* TP'\n  (TP', TQ') \\<in> TRel", "show \"\\<exists>TP'. TP \\<longmapsto>Target* TP' \\<and> (TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Target* TP'\n  (TP', TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>TP'. TP \\<longmapsto>Target* TP' \\<and> (TP', TQ') \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>TP'. TP \\<longmapsto>Target* TP' \\<and> (TP', TQ') \\<in> TRel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       weak_reduction_bisimulation Rel\n        (STCal Source Target) \\<Longrightarrow>\n    operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "ultimately"], ["proof (chain)\npicking this:\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target", "show \"operational_corresponding TRel \\<and> weak_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  operational_corresponding TRel\n  weak_reduction_bisimulation TRel Target\n\ngoal (1 subgoal):\n 1. operational_corresponding TRel \\<and>\n    weak_reduction_bisimulation TRel Target", "by simp"], ["proof (state)\nthis:\n  operational_corresponding TRel \\<and>\n  weak_reduction_bisimulation TRel Target\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>An encoding is strong operational corresponding w.r.t a strong bisimulation on target terms\n        TRel iff there exists a relation, like indRelRTPO, that relates at least all source terms\n        and their literal translations, includes TRel, and is a strong bisimulation. Thus this\n        variant of operational correspondence ensures that source terms and their translations are\n        strong bisimilar.\\<close>"], ["", "lemma (in encoding) SOC_iff_indRelRTPO_is_strong_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_corresponding (TRel\\<^sup>*)\n         \\<and> strong_reduction_bisimulation (TRel\\<^sup>+) Target)\n         = strong_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n     strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n         Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and>\n             (P', Q') \\<in> TRel\\<^sup>+))) =\n    ((\\<forall>P Q P'.\n         P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n         P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n         (\\<exists>Q'.\n             Q \\<longmapsto>STCal Source Target Q' \\<and>\n             P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n     (\\<forall>P Q Q'.\n         P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n 2. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "assume ocorr: \"strongly_operational_corresponding (TRel\\<^sup>*)\"\n     and bisim: \"strong_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n 2. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "hence \"strong_reduction_simulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')", "using SOCom_iff_indRelRTPO_is_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target) =\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (1 subgoal):\n 1. \\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')", "by simp"], ["proof (state)\nthis:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n 2. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "moreover"], ["proof (state)\nthis:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n 2. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "from bisim"], ["proof (chain)\npicking this:\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "have \"strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "using strong_reduction_bisimulations_impl_inverse_is_simulation[where Rel=\"TRel\\<^sup>+\"]"], ["proof (prove)\nusing this:\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n  strong_reduction_simulation (TRel\\<^sup>+) ?Cal \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>?Cal Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>?Cal P' \\<and>\n          (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) ?Cal\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n 2. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "with ocorr"], ["proof (chain)\npicking this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "have \"strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "using SOSou_iff_inverse_of_indRelRTPO_is_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  ((\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n 2. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)", "show \"strong_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))", "using strong_reduction_simulations_impl_bisimulation[where Rel=\"indRelRTPO TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>P Q P'.\n     P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n     P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n     (\\<exists>Q'.\n         Q \\<longmapsto>STCal Source Target Q' \\<and>\n         P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>?Cal P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>?Cal Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   ?Cal \\<Longrightarrow>\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>?Cal P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>?Cal Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>?Cal Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>?Cal P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "assume bisim: \"strong_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (state)\nthis:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "hence \"strongly_operational_complete (TRel\\<^sup>*) \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (1 subgoal):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "using SOCom_iff_indRelRTPO_is_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target) =\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (1 subgoal):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "from bisim"], ["proof (chain)\npicking this:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))", "have \"strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "using strong_reduction_bisimulations_impl_inverse_is_simulation[where Rel=\"indRelRTPO TRel\"]"], ["proof (prove)\nusing this:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>?Cal P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>?Cal Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>?Cal Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>?Cal P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>) ?Cal\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n     (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "hence \"strongly_operational_sound (TRel\\<^sup>*) \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "using SOSou_iff_inverse_of_indRelRTPO_is_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n  ((\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n  strong_reduction_simulation ((indRelRTPO TRel)\\<inverse>)\n   (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "ultimately"], ["proof (chain)\npicking this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "show \"strongly_operational_corresponding (TRel\\<^sup>*)\n                   \\<and> strong_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "using strong_reduction_simulations_impl_bisimulation[where Rel=\"TRel\\<^sup>+\"]"], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  strong_reduction_simulation (TRel\\<^sup>+) ?Cal \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n   ?Cal \\<Longrightarrow>\n  strong_reduction_simulation (TRel\\<^sup>+) ?Cal \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>?Cal Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>?Cal P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) SOC_iff_strong_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_corresponding (TRel\\<^sup>*)\n         \\<and> strong_reduction_bisimulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n            \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n            \\<and> strong_reduction_bisimulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n     strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n         Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and>\n             (P', Q') \\<in> TRel\\<^sup>+))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel)))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> indRelRTPO TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "have \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2", "by (simp add: indRelRTPO.target)"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "have \"\\<forall>T1 T2. TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2 \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       TargetTerm\n        T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                  T2 \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by simp"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "moreover"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "have \"\\<forall>S T. SourceTerm S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] trans_closure_of_TRel_refl_cond"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (?TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> ?TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "assume \"strongly_operational_corresponding (TRel\\<^sup>*)\"\n              and \"strong_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "hence \"strong_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))", "using SOC_iff_indRelRTPO_is_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n       Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))) =\n  ((\\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n   (\\<forall>P Q Q'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>STCal Source Target P' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n                   \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2\n  \\<forall>T1 T2.\n     TargetTerm\n      T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                T2 \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n          \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n          \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n   and A2: \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n   and A3: \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\"\n   and A4: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\"\n   and A5: \"strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n        strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "hence \"strongly_operational_complete (TRel\\<^sup>*)\n         \\<and> strong_reduction_simulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "using SOCom_iff_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      strong_reduction_simulation Rel (STCal Source Target))\n\ngoal (1 subgoal):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target", "by blast"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "from A5"], ["proof (chain)\npicking this:\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))", "have \"strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "using strong_reduction_bisimulations_impl_inverse_is_simulation[where Rel=\"Rel\"]"], ["proof (prove)\nusing this:\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  strong_reduction_simulation Rel ?Cal \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and> Q \\<longmapsto>?Cal Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>?Cal P' \\<and>\n          (P', Q') \\<in> Rel)) \\<Longrightarrow>\n  strong_reduction_simulation (Rel\\<inverse>) ?Cal\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "with A1 A2 A3 A4"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)", "have \"strongly_operational_sound (TRel\\<^sup>*)\n                         \\<and> strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n\ngoal (1 subgoal):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "using SOSou_iff_strong_reduction_simulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target)\n  ((\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      strong_reduction_simulation (Rel\\<inverse>) (STCal Source Target))\n\ngoal (1 subgoal):\n 1. (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "by blast"], ["proof (state)\nthis:\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "ultimately"], ["proof (chain)\npicking this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target", "show \"strongly_operational_corresponding (TRel\\<^sup>*)\n                   \\<and> strong_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "using strong_reduction_simulations_impl_bisimulation[where Rel=\"TRel\\<^sup>+\"]"], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>) Target\n  strong_reduction_simulation (TRel\\<^sup>+) ?Cal \\<and>\n  strong_reduction_simulation ((TRel\\<^sup>+)\\<inverse>)\n   ?Cal \\<Longrightarrow>\n  strong_reduction_simulation (TRel\\<^sup>+) ?Cal \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>?Cal Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>?Cal P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) SOC_wrt_preorder_iff_strong_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  shows \"(strongly_operational_corresponding TRel \\<and> preorder TRel\n         \\<and> strong_reduction_bisimulation TRel Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n            \\<and> preorder Rel\n            \\<and> strong_reduction_bisimulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     preorder TRel \\<and>\n     strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        preorder Rel \\<and>\n        strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel)))", "proof (rule iffI, erule conjE, erule conjE, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "assume A1: \"strongly_operational_complete TRel\" and A2: \"strongly_operational_sound TRel\"\n     and A3:\"preorder TRel\" and A4: \"strong_reduction_bisimulation TRel Target\""], ["proof (state)\nthis:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  preorder TRel\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from A3"], ["proof (chain)\npicking this:\n  preorder TRel", "have A5: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "with A3"], ["proof (chain)\npicking this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel", "have \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "with A1 A2"], ["proof (chain)\npicking this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  TRel\\<^sup>* = TRel", "have \"strongly_operational_corresponding (TRel\\<^sup>*)\""], ["proof (prove)\nusing this:\n  \\<forall>S S'.\n     S \\<longmapsto>Source S' \\<longrightarrow>\n     (\\<exists>T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  \\<forall>S T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n     (\\<exists>S'.\n         S \\<longmapsto>Source S' \\<and>\n         (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from A4 A5"], ["proof (chain)\npicking this:\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  TRel\\<^sup>+ = TRel", "have \"strong_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "ultimately"], ["proof (chain)\npicking this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "have \"strong_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))", "using SOC_iff_indRelRTPO_is_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n       Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))) =\n  ((\\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n   (\\<forall>P Q Q'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>STCal Source Target P' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))", "by blast"], ["proof (state)\nthis:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> indRelRTPO TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> indRelRTPO TRel}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     (TargetTerm\n       T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<Longrightarrow>\n       TargetTerm a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm b\n 2. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "fix TP TQ"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<Longrightarrow>\n       TargetTerm a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm b\n 2. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> TRel \\<Longrightarrow>\n       TargetTerm a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm b\n 2. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "thus \"TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\""], ["proof (prove)\nusing this:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ", "by (rule indRelRTPO.target)"], ["proof (state)\nthis:\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "fix TP TQ"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "assume \"TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\""], ["proof (state)\nthis:\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       TargetTerm\n        a \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 b \\<Longrightarrow>\n       (a, b) \\<in> TRel", "with A3"], ["proof (chain)\npicking this:\n  preorder TRel\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ", "show \"(TP, TQ) \\<in> TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n\ngoal (1 subgoal):\n 1. (TP, TQ) \\<in> TRel", "using indRelRTPO_to_TRel(4)[where TRel=\"TRel\"] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. (TP, TQ) \\<in> TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  TargetTerm TP \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm TQ\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. (TP, TQ) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from A3"], ["proof (chain)\npicking this:\n  preorder TRel", "have \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> indRelRTPO TRel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "using indRelRTPO_to_TRel(2)[where TRel=\"TRel\"] reflcl_trancl[of TRel]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  preorder TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  trans TRel\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "by blast"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "with A3"], ["proof (chain)\npicking this:\n  preorder TRel\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+", "have \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> indRelRTPO TRel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  preorder TRel\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "using trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  preorder TRel\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>+\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from A3"], ["proof (chain)\npicking this:\n  preorder TRel", "have \"refl (indRelRTPO TRel)\""], ["proof (prove)\nusing this:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. refl (indRelRTPO TRel)", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel \\<and> trans TRel\n\ngoal (1 subgoal):\n 1. refl (indRelRTPO TRel)", "by (simp add: indRelRTPO_refl)"], ["proof (state)\nthis:\n  refl (indRelRTPO TRel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  refl (indRelRTPO TRel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"trans (indRelRTPO TRel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans (indRelRTPO TRel)", "using indRelRTPO.trans"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?Q \\<and>\n  ?Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R \\<Longrightarrow>\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R\n\ngoal (1 subgoal):\n 1. trans (indRelRTPO TRel)", "unfolding trans_def"], ["proof (prove)\nusing this:\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?Q \\<and>\n  ?Q \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R \\<Longrightarrow>\n  ?P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<?TRel> ?R\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       x \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> y \\<longrightarrow>\n       y \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> z \\<longrightarrow>\n       x \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> z", "by blast"], ["proof (state)\nthis:\n  trans (indRelRTPO TRel)\n\ngoal (2 subgoals):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "ultimately"], ["proof (chain)\npicking this:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  refl (indRelRTPO TRel)\n  trans (indRelRTPO TRel)", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n                   \\<and> preorder Rel\n                   \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  refl (indRelRTPO TRel)\n  trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm T2)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  refl (indRelRTPO TRel)\n  trans (indRelRTPO TRel)\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       (refl Rel \\<and> trans Rel) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n          \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel)\n          \\<and> preorder Rel\n          \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))", "obtain Rel where B1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n   and B2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\"\n   and B3: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\" and B4: \"preorder Rel\"\n   and B5: \"strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n     preorder Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n        preorder Rel \\<and>\n        strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  preorder Rel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from B2 B4"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  preorder Rel", "have B6: \"refl TRel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  preorder Rel\n\ngoal (1 subgoal):\n 1. refl TRel", "unfolding preorder_on_def refl_on_def"], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (Rel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> Rel)) \\<and>\n  trans Rel\n\ngoal (1 subgoal):\n 1. TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n    (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)", "by blast"], ["proof (state)\nthis:\n  refl TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from B2 B4"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  preorder Rel", "have B7: \"trans TRel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  preorder Rel\n\ngoal (1 subgoal):\n 1. trans TRel", "unfolding trans_def preorder_on_def"], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  refl Rel \\<and>\n  (\\<forall>x y z.\n      (x, y) \\<in> Rel \\<longrightarrow>\n      (y, z) \\<in> Rel \\<longrightarrow> (x, z) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       (x, y) \\<in> TRel \\<longrightarrow>\n       (y, z) \\<in> TRel \\<longrightarrow> (x, z) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  trans TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "hence B8: \"TRel\\<^sup>+ = TRel\""], ["proof (prove)\nusing this:\n  trans TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>+ = TRel", "by (rule trancl_id)"], ["proof (state)\nthis:\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "with B6"], ["proof (chain)\npicking this:\n  refl TRel\n  TRel\\<^sup>+ = TRel", "have B9: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  refl TRel\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel]"], ["proof (prove)\nusing this:\n  refl TRel\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding refl_on_def"], ["proof (prove)\nusing this:\n  TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n  (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)\n  TRel\\<^sup>+ = TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by blast"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "with B3"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  TRel\\<^sup>* = TRel", "have \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n       (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from B2 B8"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  TRel\\<^sup>+ = TRel", "have \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n   and \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. \\<forall>T1 T2.\n       (T1, T2) \\<in> TRel \\<longrightarrow>\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel &&&\n    \\<forall>T1 T2.\n       (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n       (T1, T2) \\<in> TRel\\<^sup>+", "by auto"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n   \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "using B1 B5"], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "hence \"strongly_operational_corresponding (TRel\\<^sup>*) \\<and> strong_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "using SOC_iff_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n       Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel)))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "with B8 B9"], ["proof (chain)\npicking this:\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "have \"strongly_operational_corresponding TRel \\<and> strong_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  TRel\\<^sup>+ = TRel\n  TRel\\<^sup>* = TRel\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from B6 B7"], ["proof (chain)\npicking this:\n  refl TRel\n  trans TRel", "have \"preorder TRel\""], ["proof (prove)\nusing this:\n  refl TRel\n  trans TRel\n\ngoal (1 subgoal):\n 1. preorder TRel", "unfolding preorder_on_def"], ["proof (prove)\nusing this:\n  refl TRel\n  trans TRel\n\ngoal (1 subgoal):\n 1. refl TRel \\<and> trans TRel", "by blast"], ["proof (state)\nthis:\n  preorder TRel\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel) \\<and>\n       preorder Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "ultimately"], ["proof (chain)\npicking this:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  preorder TRel", "show \"strongly_operational_corresponding TRel \\<and> preorder TRel\n                   \\<and> strong_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  preorder TRel\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    preorder TRel \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "by blast"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  preorder TRel \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) SOC_wrt_TRel_iff_strong_reduction_bisimulation:\n  shows \"(\\<exists>TRel. strongly_operational_corresponding (TRel\\<^sup>*)\n         \\<and> strong_reduction_bisimulation (TRel\\<^sup>+) Target)\n         = (\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n            \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel\n               \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\n            \\<and> strong_reduction_bisimulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>TRel.\n        ((\\<forall>S S'.\n             S \\<longmapsto>Source S' \\<longrightarrow>\n             (\\<exists>T.\n                 \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n         (\\<forall>S T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n             (\\<exists>S'.\n                 S \\<longmapsto>Source S' \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n        strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n            Q \\<longmapsto>Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>Target P' \\<and>\n                (P', Q') \\<in> TRel\\<^sup>+))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n            \\<in> Rel\\<^sup>=) \\<and>\n        strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel)))", "proof (rule iffI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and>\n               (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "assume \"\\<exists>TRel. strongly_operational_corresponding (TRel\\<^sup>*)\n          \\<and> strong_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (state)\nthis:\n  \\<exists>TRel.\n     ((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n     strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n         Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and>\n               (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "from this"], ["proof (chain)\npicking this:\n  \\<exists>TRel.\n     ((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n     strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n         Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "obtain TRel where \"strongly_operational_corresponding (TRel\\<^sup>*)\"\n                          and \"strong_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<exists>TRel.\n     ((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n     strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n         Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (1 subgoal):\n 1. (\\<And>TRel.\n        ((\\<forall>S S'.\n             S \\<longmapsto>Source S' \\<longrightarrow>\n             (\\<exists>T.\n                 \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n         (\\<forall>S T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n             (\\<exists>S'.\n                 S \\<longmapsto>Source S' \\<and>\n                 (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n        strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n            Q \\<longmapsto>Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>Target P' \\<and>\n                (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and>\n               (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "hence \"strong_reduction_bisimulation (indRelRTPO TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))", "using SOC_iff_indRelRTPO_is_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n       Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))) =\n  ((\\<forall>P Q P'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n   (\\<forall>P Q Q'.\n       P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>STCal Source Target P' \\<and>\n           P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))", "by simp"], ["proof (state)\nthis:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and>\n               (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "moreover"], ["proof (state)\nthis:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and>\n               (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "have \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> indRelRTPO TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 (\\<lbrakk>S\\<rbrakk>)", "by (simp add: indRelRTPO.encR)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and>\n               (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and>\n               (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "have \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> (indRelRTPO TRel)\n                 \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> (indRelRTPO TRel)\\<^sup>=\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n       \\<in> (indRelRTPO TRel)\\<^sup>=", "using indRelRTPO_relates_source_target[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  SourceTerm\n   ?S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n             ?T \\<Longrightarrow>\n  (TargetTerm (\\<lbrakk>?S\\<rbrakk>), TargetTerm ?T)\n  \\<in> (indRelRTPO TRel)\\<^sup>=\n\ngoal (1 subgoal):\n 1. \\<forall>S T.\n       SourceTerm\n        S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n                 T \\<longrightarrow>\n       (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n       \\<in> (indRelRTPO TRel)\\<^sup>=", "by simp"], ["proof (state)\nthis:\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n     \\<in> (indRelRTPO TRel)\\<^sup>=\n\ngoal (2 subgoals):\n 1. \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and>\n               (P', Q') \\<in> TRel\\<^sup>+)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "ultimately"], ["proof (chain)\npicking this:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n     \\<in> (indRelRTPO TRel)\\<^sup>=", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\n   \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  (\\<forall>P Q P'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> Q'))\n  \\<forall>S.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               (\\<lbrakk>S\\<rbrakk>)\n  \\<forall>S T.\n     SourceTerm\n      S \\<lesssim>\\<lbrakk>\\<cdot>\\<rbrakk>RT<TRel> TargetTerm\n               T \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n     \\<in> (indRelRTPO TRel)\\<^sup>=\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n         \\<in> Rel\\<^sup>=) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=)\n   \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n         \\<in> Rel\\<^sup>=) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n         \\<in> Rel\\<^sup>=) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\"\n                         and A2: \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel\n                                  \\<longrightarrow> (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\"\n                         and A3: \"strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n         \\<in> Rel\\<^sup>=) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n            \\<in> Rel\\<^sup>=) \\<and>\n        strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "from A2"], ["proof (chain)\npicking this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=", "obtain TRel where \"\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel\"\n   and \"\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+\"\n   and \"\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\""], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\n\ngoal (1 subgoal):\n 1. (\\<And>TRel.\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using target_relation_from_source_target_relation[where Rel=\"Rel\"]"], ["proof (prove)\nusing this:\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T) \\<in> Rel\\<^sup>=\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n     \\<in> Rel\\<^sup>= \\<Longrightarrow>\n  \\<exists>TRel.\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n\ngoal (1 subgoal):\n 1. (\\<And>TRel.\n        (\\<forall>T1 T2.\n            (T1, T2) \\<in> TRel \\<longrightarrow>\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        (\\<forall>T1 T2.\n            (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n            (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n        (\\<forall>S T.\n            (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n            (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "with A1 A3"], ["proof (chain)\npicking this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*", "have \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (T1, T2) \\<in> TRel \\<longrightarrow> (TargetTerm T1, TargetTerm T2) \\<in> Rel)\n                   \\<and> (\\<forall>T1 T2. (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow> (T1, T2) \\<in> TRel\\<^sup>+)\n                   \\<and> (\\<forall>S T. (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow> (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*)\n                   \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n  \\<forall>T1 T2.\n     (T1, T2) \\<in> TRel \\<longrightarrow>\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel\n  \\<forall>T1 T2.\n     (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n     (T1, T2) \\<in> TRel\\<^sup>+\n  \\<forall>S T.\n     (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n     (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (T1, T2) \\<in> TRel \\<longrightarrow>\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       (\\<forall>T1 T2.\n           (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n           (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "hence \"strongly_operational_corresponding (TRel\\<^sup>*)\n         \\<and> strong_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "using SOC_iff_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (T1, T2) \\<in> TRel \\<longrightarrow>\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     (\\<forall>T1 T2.\n         (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n         (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n     (\\<forall>S T.\n         (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n         (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n   strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n       Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))) =\n  (\\<exists>Rel.\n      (\\<forall>S.\n          (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (T1, T2) \\<in> TRel \\<longrightarrow>\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n      (\\<forall>T1 T2.\n          (TargetTerm T1, TargetTerm T2) \\<in> Rel \\<longrightarrow>\n          (T1, T2) \\<in> TRel\\<^sup>+) \\<and>\n      (\\<forall>S T.\n          (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n          (\\<lbrakk>S\\<rbrakk>, T) \\<in> TRel\\<^sup>*) \\<and>\n      strong_reduction_simulation Rel (STCal Source Target) \\<and>\n      (\\<forall>P Q Q'.\n          (P, Q) \\<in> Rel \\<and>\n          Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n          (\\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              (P', Q') \\<in> Rel)))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n    strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n        Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n           \\<in> Rel) \\<and>\n       (\\<forall>S T.\n           (SourceTerm S, TargetTerm T) \\<in> Rel \\<longrightarrow>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), TargetTerm T)\n           \\<in> Rel\\<^sup>=) \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "thus \"\\<exists>TRel. strongly_operational_corresponding (TRel\\<^sup>*)\n        \\<and> strong_reduction_bisimulation (TRel\\<^sup>+) Target\""], ["proof (prove)\nusing this:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n  strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal (1 subgoal):\n 1. \\<exists>TRel.\n       ((\\<forall>S S'.\n            S \\<longmapsto>Source S' \\<longrightarrow>\n            (\\<exists>T.\n                \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n        (\\<forall>S T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n            (\\<exists>S'.\n                S \\<longmapsto>Source S' \\<and>\n                (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n       strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n           Q \\<longmapsto>Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))", "by blast"], ["proof (state)\nthis:\n  \\<exists>TRel.\n     ((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\\<^sup>*))) \\<and>\n     strong_reduction_simulation (TRel\\<^sup>+) Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel\\<^sup>+ \\<and>\n         Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>+))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) SOC_wrt_equivalence_iff_indRelTEQ_strong_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  assumes eqT: \"equivalence TRel\"\n  shows \"(strongly_operational_corresponding TRel \\<and> strong_reduction_bisimulation TRel Target)\n         \\<longleftrightarrow> strong_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) =\n    ((\\<forall>P Q P'.\n         P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n         P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n         (\\<exists>Q'.\n             Q \\<longmapsto>STCal Source Target Q' \\<and>\n             P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n     (\\<forall>P Q Q'.\n         P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n 2. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "assume oc:     \"strongly_operational_corresponding TRel\"\n     and bisimT: \"strong_reduction_bisimulation TRel Target\""], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n 2. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "show \"strong_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "fix P Q P'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\" and \"P \\<longmapsto>(STCal Source Target) P'\""], ["proof (state)\nthis:\n  P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\n  P \\<longmapsto>STCal Source Target P'\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "thus \"\\<exists>Q'. Q \\<longmapsto>(STCal Source Target) Q' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\n  P \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       Q \\<longmapsto>STCal Source Target Q' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "proof (induct arbitrary: P')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (encR S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"SourceTerm S \\<longmapsto>(STCal Source Target) P'\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'", "obtain S' where A1: \"S \\<longmapsto>Source S'\" and A2: \"S' \\<in>S P'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source S' \\<and> S' \\<in>S P' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(1))"], ["proof (state)\nthis:\n  S \\<longmapsto>Source S'\n  S' \\<in>S P'\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from A1 oc"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source S'\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))", "obtain T where A3: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\" and A4: \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source S'\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from A3"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T", "have \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T", "by (simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "from A2"], ["proof (chain)\npicking this:\n  S' \\<in>S P'", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  S' \\<in>S P'\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n         (\\<lbrakk>S'\\<rbrakk>)", "by (simp add: indRelTEQ.encR)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "moreover"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "from A4"], ["proof (chain)\npicking this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "have \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                              T", "by (rule indRelTEQ.target)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                            T\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "ultimately"], ["proof (chain)\npicking this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                            T", "show \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n                            T\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "by (rule indRelTEQ.trans)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n\ngoal (4 subgoals):\n 1. \\<And>S P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T", "show \"\\<exists>Q'. TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) Q' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (encL S)"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) P'\""], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P'", "obtain T where B1: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\" and B2: \"T \\<in>T P'\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n        T \\<in>T P' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(2))"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  T \\<in>T P'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from B1 oc"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))", "obtain S' where B3: \"S \\<longmapsto>Source S'\" and B4: \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source S' \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  S \\<longmapsto>Source S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from B3"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source S'", "have \"SourceTerm S \\<longmapsto>(STCal Source Target) (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'", "by (simp add: STCal_step(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "from B4 eqT"], ["proof (chain)\npicking this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n  equivalence TRel", "have \"(T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel", "unfolding equiv_def sym_def"], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n  refl TRel \\<and>\n  (\\<forall>x y.\n      (x, y) \\<in> TRel \\<longrightarrow> (y, x) \\<in> TRel) \\<and>\n  trans TRel\n\ngoal (1 subgoal):\n 1. (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "with B2"], ["proof (chain)\npicking this:\n  T \\<in>T P'\n  (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  T \\<in>T P'\n  (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n         (\\<lbrakk>S'\\<rbrakk>)", "by (simp add: indRelTEQ.target)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "moreover"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "have \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S'", "by (rule indRelTEQ.encL)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                            S'\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "ultimately"], ["proof (chain)\npicking this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                            S'", "show \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'\""], ["proof (prove)\nusing this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                            S'\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "by (rule indRelTEQ.trans)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'\n\ngoal (3 subgoals):\n 1. \\<And>S P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'", "show \"\\<exists>Q'. SourceTerm S \\<longmapsto>(STCal Source Target) Q' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T1 \\<longmapsto>STCal Source Target P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"TargetTerm T1 \\<longmapsto>(STCal Source Target) P'\""], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target P'", "obtain T1' where C1: \"T1 \\<longmapsto>Target T1'\" and C2: \"T1' \\<in>T P'\""], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. (\\<And>T1'.\n        T1 \\<longmapsto>Target T1' \\<and> T1' \\<in>T P' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(2))"], ["proof (state)\nthis:\n  T1 \\<longmapsto>Target T1'\n  T1' \\<in>T P'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "with C1 bisimT"], ["proof (chain)\npicking this:\n  T1 \\<longmapsto>Target T1'\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  (T1, T2) \\<in> TRel", "obtain T2' where C3: \"T2 \\<longmapsto>Target T2'\" and C4: \"(T1', T2') \\<in> TRel\""], ["proof (prove)\nusing this:\n  T1 \\<longmapsto>Target T1'\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  (T1, T2) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (\\<And>T2'.\n        T2 \\<longmapsto>Target T2' \\<and>\n        (T1', T2') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  T2 \\<longmapsto>Target T2'\n  (T1', T2') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from C3"], ["proof (chain)\npicking this:\n  T2 \\<longmapsto>Target T2'", "have \"TargetTerm T2 \\<longmapsto>(STCal Source Target) (TargetTerm T2')\""], ["proof (prove)\nusing this:\n  T2 \\<longmapsto>Target T2'\n\ngoal (1 subgoal):\n 1. TargetTerm T2 \\<longmapsto>STCal Source Target TargetTerm T2'", "by (simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from C2 C4"], ["proof (chain)\npicking this:\n  T1' \\<in>T P'\n  (T1', T2') \\<in> TRel", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2'\""], ["proof (prove)\nusing this:\n  T1' \\<in>T P'\n  (T1', T2') \\<in> TRel\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2'", "by (simp add: indRelTEQ.target)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 P'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n       \\<exists>Q'.\n          TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target TargetTerm T2'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2'", "show \"\\<exists>Q'. TargetTerm T2 \\<longmapsto>(STCal Source Target) Q' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target TargetTerm T2'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2'\n\ngoal (1 subgoal):\n 1. \\<exists>Q'.\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (trans P Q R)"], ["proof (state)\nthis:\n  P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\n  P \\<longmapsto>STCal Source Target ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     ?P'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R\n  Q \\<longmapsto>STCal Source Target ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     R \\<longmapsto>STCal Source Target Q' \\<and>\n     ?P'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  P \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"P \\<longmapsto>(STCal Source Target) P'\"\n         and \"\\<And>P'. P \\<longmapsto>(STCal Source Target) P'\n              \\<Longrightarrow> \\<exists>Q'. Q \\<longmapsto>(STCal Source Target) Q' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (state)\nthis:\n  P \\<longmapsto>STCal Source Target P'\n  P \\<longmapsto>STCal Source Target ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     ?P'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  P \\<longmapsto>STCal Source Target P'\n  P \\<longmapsto>STCal Source Target ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     ?P'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "obtain Q' where D1: \"Q \\<longmapsto>(STCal Source Target) Q'\" and D2: \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto>STCal Source Target P'\n  P \\<longmapsto>STCal Source Target ?P'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     ?P'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        Q \\<longmapsto>STCal Source Target Q' \\<and>\n        P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target Q'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"\\<And>Q'. Q \\<longmapsto>(STCal Source Target) Q'\n              \\<Longrightarrow> \\<exists>R'. R \\<longmapsto>(STCal Source Target) R' \\<and> Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target R' \\<and>\n     ?Q'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "with D1"], ["proof (chain)\npicking this:\n  Q \\<longmapsto>STCal Source Target Q'\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target R' \\<and>\n     ?Q'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "obtain R' where D3: \"R \\<longmapsto>(STCal Source Target) R'\" and D4: \"Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto>STCal Source Target Q'\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target R' \\<and>\n     ?Q'3 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        R \\<longmapsto>STCal Source Target R' \\<and>\n        Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R \\<longmapsto>STCal Source Target R'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from D2 D4"], ["proof (chain)\npicking this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (prove)\nusing this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "by (rule indRelTEQ.trans)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R P'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>P'.\n           P \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              Q \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>P'.\n           Q \\<longmapsto>STCal Source Target P' \\<Longrightarrow>\n           \\<exists>Q'.\n              R \\<longmapsto>STCal Source Target Q' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        P \\<longmapsto>STCal Source Target P'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q'.\n                            R \\<longmapsto>STCal Source Target Q' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "with D3"], ["proof (chain)\npicking this:\n  R \\<longmapsto>STCal Source Target R'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "show \"\\<exists>R'. R \\<longmapsto>(STCal Source Target) R' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto>STCal Source Target R'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>R'.\n       R \\<longmapsto>STCal Source Target R' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "by blast"], ["proof (state)\nthis:\n  \\<exists>R'.\n     R \\<longmapsto>STCal Source Target R' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "fix P Q Q'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\" and \"Q \\<longmapsto>(STCal Source Target) Q'\""], ["proof (state)\nthis:\n  P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\n  Q \\<longmapsto>STCal Source Target Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "thus \"\\<exists>P'. P \\<longmapsto>(STCal Source Target) P' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\n  Q \\<longmapsto>STCal Source Target Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<longmapsto>STCal Source Target P' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "proof (induct arbitrary: Q')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (encR S)"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) Q'\""], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'", "obtain T where E1: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\" and E2: \"T \\<in>T Q'\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n        T \\<in>T Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(2))"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  T \\<in>T Q'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from E1 oc"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))", "obtain S' where E3: \"S \\<longmapsto>Source S'\" and E4: \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source S' \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  S \\<longmapsto>Source S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from E3"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source S'", "have \"SourceTerm S \\<longmapsto>(STCal Source Target) (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'", "by (simp add: STCal_step(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "have \"SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "have \"SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm\n     S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S'\\<rbrakk>)", "by (rule indRelTEQ.encR)"], ["proof (state)\nthis:\n  SourceTerm\n   S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  SourceTerm\n   S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from E2 E4"], ["proof (chain)\npicking this:\n  T \\<in>T Q'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "have \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  T \\<in>T Q'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by (simp add: indRelTEQ.target)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm\n   S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "show \"SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  SourceTerm\n   S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n        (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by (rule indRelTEQ.trans)"], ["proof (state)\nthis:\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (4 subgoals):\n 1. \\<And>S Q'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source\n      Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          SourceTerm S \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 4. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "show \"\\<exists>P'. SourceTerm S \\<longmapsto>(STCal Source Target) P' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       SourceTerm S \\<longmapsto>STCal Source Target P' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     SourceTerm S \\<longmapsto>STCal Source Target P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (encL S)"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"SourceTerm S \\<longmapsto>(STCal Source Target) Q'\""], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target Q'", "obtain S' where F1: \"S \\<longmapsto>Source S'\" and F2: \"S' \\<in>S Q'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target Q'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source S' \\<and> S' \\<in>S Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(1))"], ["proof (state)\nthis:\n  S \\<longmapsto>Source S'\n  S' \\<in>S Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from F1 oc"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source S'\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))", "obtain T where F3: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\" and F4: \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source S'\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n        (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from F3"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T", "have \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T", "by (simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "have \"TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from F4 eqT"], ["proof (chain)\npicking this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n  equivalence TRel", "have \"(T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel\""], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel", "unfolding equiv_def sym_def"], ["proof (prove)\nusing this:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n  refl TRel \\<and>\n  (\\<forall>x y.\n      (x, y) \\<in> TRel \\<longrightarrow> (y, x) \\<in> TRel) \\<and>\n  trans TRel\n\ngoal (1 subgoal):\n 1. (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "hence \"TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S'\\<rbrakk>)\""], ["proof (prove)\nusing this:\n  (T, \\<lbrakk>S'\\<rbrakk>) \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm\n     T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n         (\\<lbrakk>S'\\<rbrakk>)", "by (rule indRelTEQ.target)"], ["proof (state)\nthis:\n  TargetTerm\n   T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm\n   T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from F2"], ["proof (chain)\npicking this:\n  S' \\<in>S Q'", "have \"TargetTerm (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  S' \\<in>S Q'\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by (simp add: indRelTEQ.encL)"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm\n   T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "show \"TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm\n   T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n       (\\<lbrakk>S'\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S'\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by (rule indRelTEQ.trans)"], ["proof (state)\nthis:\n  TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (3 subgoals):\n 1. \\<And>S Q'.\n       SourceTerm S \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm\n           (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 3. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n  TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "show \"\\<exists>P'. TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) P' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n  TargetTerm T \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (target T1 T2)"], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n  TargetTerm T2 \\<longmapsto>STCal Source Target Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"TargetTerm T2 \\<longmapsto>(STCal Source Target) Q'\""], ["proof (state)\nthis:\n  TargetTerm T2 \\<longmapsto>STCal Source Target Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target Q'", "obtain T2' where G1: \"T2 \\<longmapsto>Target T2'\" and G2: \"T2' \\<in>T Q'\""], ["proof (prove)\nusing this:\n  TargetTerm T2 \\<longmapsto>STCal Source Target Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T2'.\n        T2 \\<longmapsto>Target T2' \\<and> T2' \\<in>T Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(2))"], ["proof (state)\nthis:\n  T2 \\<longmapsto>Target T2'\n  T2' \\<in>T Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"(T1, T2) \\<in> TRel\""], ["proof (state)\nthis:\n  (T1, T2) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "with G1 bisimT"], ["proof (chain)\npicking this:\n  T2 \\<longmapsto>Target T2'\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  (T1, T2) \\<in> TRel", "obtain T1' where G3: \"T1 \\<longmapsto>Target T1'\" and G4: \"(T1', T2') \\<in> TRel\""], ["proof (prove)\nusing this:\n  T2 \\<longmapsto>Target T2'\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  (T1, T2) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (\\<And>T1'.\n        T1 \\<longmapsto>Target T1' \\<and>\n        (T1', T2') \\<in> TRel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  T1 \\<longmapsto>Target T1'\n  (T1', T2') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from G3"], ["proof (chain)\npicking this:\n  T1 \\<longmapsto>Target T1'", "have \"TargetTerm T1 \\<longmapsto>(STCal Source Target) (TargetTerm T1')\""], ["proof (prove)\nusing this:\n  T1 \\<longmapsto>Target T1'\n\ngoal (1 subgoal):\n 1. TargetTerm T1 \\<longmapsto>STCal Source Target TargetTerm T1'", "by (simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target TargetTerm T1'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "moreover"], ["proof (state)\nthis:\n  TargetTerm T1 \\<longmapsto>STCal Source Target TargetTerm T1'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from G2 G4"], ["proof (chain)\npicking this:\n  T2' \\<in>T Q'\n  (T1', T2') \\<in> TRel", "have \"TargetTerm T1' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  T2' \\<in>T Q'\n  (T1', T2') \\<in> TRel\n\ngoal (1 subgoal):\n 1. TargetTerm T1' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by (simp add: indRelTEQ.target)"], ["proof (state)\nthis:\n  TargetTerm T1' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (2 subgoals):\n 1. \\<And>T1 T2 Q'.\n       (T1, T2) \\<in> TRel \\<and>\n       TargetTerm T2 \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n       \\<exists>P'.\n          TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n 2. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "ultimately"], ["proof (chain)\npicking this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target TargetTerm T1'\n  TargetTerm T1' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "show \"\\<exists>P'. TargetTerm T1 \\<longmapsto>(STCal Source Target) P' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  TargetTerm T1 \\<longmapsto>STCal Source Target TargetTerm T1'\n  TargetTerm T1' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     TargetTerm T1 \\<longmapsto>STCal Source Target P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "case (trans P Q R R')"], ["proof (state)\nthis:\n  P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q'3\n  Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R\n  R \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     Q \\<longmapsto>STCal Source Target P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q'3\n  R \\<longmapsto>STCal Source Target R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"R \\<longmapsto>(STCal Source Target) R'\"\n         and \"\\<And>R'. R \\<longmapsto>(STCal Source Target) R'\n              \\<Longrightarrow> \\<exists>Q'. Q \\<longmapsto>(STCal Source Target) Q' \\<and> Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (state)\nthis:\n  R \\<longmapsto>STCal Source Target R'\n  R \\<longmapsto>STCal Source Target ?R'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R'3\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from this"], ["proof (chain)\npicking this:\n  R \\<longmapsto>STCal Source Target R'\n  R \\<longmapsto>STCal Source Target ?R'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R'3", "obtain Q' where H1: \"Q \\<longmapsto>(STCal Source Target) Q'\" and H2: \"Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (prove)\nusing this:\n  R \\<longmapsto>STCal Source Target R'\n  R \\<longmapsto>STCal Source Target ?R'3 \\<Longrightarrow>\n  \\<exists>Q'.\n     Q \\<longmapsto>STCal Source Target Q' \\<and>\n     Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R'3\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        Q \\<longmapsto>STCal Source Target Q' \\<and>\n        Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target Q'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "assume \"\\<And>Q'. Q \\<longmapsto>(STCal Source Target) Q'\n              \\<Longrightarrow> \\<exists>P'. P \\<longmapsto>(STCal Source Target) P' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (state)\nthis:\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q'3\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "with H1"], ["proof (chain)\npicking this:\n  Q \\<longmapsto>STCal Source Target Q'\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q'3", "obtain P' where H3: \"P \\<longmapsto>(STCal Source Target) P'\" and H4: \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  Q \\<longmapsto>STCal Source Target Q'\n  Q \\<longmapsto>STCal Source Target ?Q'3 \\<Longrightarrow>\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q'3\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        P \\<longmapsto>STCal Source Target P' \\<and>\n        P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P \\<longmapsto>STCal Source Target P'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "from H4 H2"], ["proof (chain)\npicking this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "have \"P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (prove)\nusing this:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "by (rule indRelTEQ.trans)"], ["proof (state)\nthis:\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<And>P Q R Q'.\n       \\<lbrakk>P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q;\n        \\<And>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              P \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R;\n        \\<And>Q'.\n           R \\<longmapsto>STCal Source Target Q' \\<Longrightarrow>\n           \\<exists>P'.\n              Q \\<longmapsto>STCal Source Target P' \\<and>\n              P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q';\n        R \\<longmapsto>STCal Source Target Q'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P'.\n                            P \\<longmapsto>STCal Source Target P' \\<and>\n                            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'", "with H3"], ["proof (chain)\npicking this:\n  P \\<longmapsto>STCal Source Target P'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "show \"\\<exists>P'. P \\<longmapsto>(STCal Source Target) P' \\<and> P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\""], ["proof (prove)\nusing this:\n  P \\<longmapsto>STCal Source Target P'\n  P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       P \\<longmapsto>STCal Source Target P' \\<and>\n       P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> R'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     P \\<longmapsto>STCal Source Target P' \\<and>\n     P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "assume bisim: \"strong_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\""], ["proof (state)\nthis:\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"strongly_operational_corresponding TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "fix S S'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "have \"SourceTerm S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm\n     S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n         (\\<lbrakk>S\\<rbrakk>)", "by (rule indRelTEQ.encR)"], ["proof (state)\nthis:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "assume \"S \\<longmapsto>Source S'\""], ["proof (state)\nthis:\n  S \\<longmapsto>Source S'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "hence \"SourceTerm S \\<longmapsto>(STCal Source Target) (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'", "by (simp add: STCal_step(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'", "obtain Q' where I1: \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) Q'\"\n                           and I2: \"SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\""], ["proof (prove)\nusing this:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm\n         (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n        SourceTerm\n         S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using bisim"], ["proof (prove)\nusing this:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm\n         (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n        SourceTerm\n         S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from I1"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'", "obtain T where I3: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\" and I4: \"T \\<in>T Q'\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n        T \\<in>T Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(2))"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  T \\<in>T Q'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with I2 I4"], ["proof (chain)\npicking this:\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  T \\<in>T Q'\n  TRel\\<^sup>* = TRel", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  T \\<in>T Q'\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "using indRelTEQ_to_TRel(2)[where TRel=\"TRel\"]\n              trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  SourceTerm S' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'\n  T \\<in>T Q'\n  TRel\\<^sup>* = TRel\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with I3"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "show \"\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n       (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n     (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "fix S T"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "have \"SourceTerm S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SourceTerm\n     S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n         (\\<lbrakk>S\\<rbrakk>)", "by (rule indRelTEQ.encR)"], ["proof (state)\nthis:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "assume \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\""], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "hence \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T", "by (simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T", "obtain Q' where J1: \"SourceTerm S \\<longmapsto>(STCal Source Target) Q'\"\n                           and J2: \"Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\""], ["proof (prove)\nusing this:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n        Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n             T \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using bisim"], ["proof (prove)\nusing this:\n  SourceTerm\n   S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>)\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        SourceTerm S \\<longmapsto>STCal Source Target Q' \\<and>\n        Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n             T \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target Q'\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from J1"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target Q'", "obtain S' where J3: \"S \\<longmapsto>Source S'\" and J4: \"S' \\<in>S Q'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target Q'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source S' \\<and> S' \\<in>S Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(1))"], ["proof (state)\nthis:\n  S \\<longmapsto>Source S'\n  S' \\<in>S Q'\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with J2 J4"], ["proof (chain)\npicking this:\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n  S' \\<in>S Q'\n  TRel\\<^sup>* = TRel", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n  S' \\<in>S Q'\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "using indRelTEQ_to_TRel(2)[where TRel=\"TRel\"]\n              trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  Q' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T\n  S' \\<in>S Q'\n  TRel\\<^sup>* = TRel\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<Longrightarrow>\n  \\<forall>SP TQ.\n     SP \\<in>S ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (\\<lbrakk>SP\\<rbrakk>, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with J3"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "show \"\\<exists>S'. S \\<longmapsto>Source S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>S'.\n       S \\<longmapsto>Source S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>S'.\n     S \\<longmapsto>Source S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"strong_reduction_bisimulation TRel Target\""], ["proof (prove)\ngoal (1 subgoal):\n 1. strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "with bisim"], ["proof (chain)\npicking this:\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n  TRel\\<^sup>* = TRel", "show \"strong_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "using indRelTEQ_impl_TRel_is_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n  TRel\\<^sup>* = TRel\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<Longrightarrow>\n  strong_reduction_simulation (TRel\\<^sup>*) Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel\\<^sup>* \\<and>\n      Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel\\<^sup>*))\n\ngoal (1 subgoal):\n 1. strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "by simp"], ["proof (state)\nthis:\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "ultimately"], ["proof (chain)\npicking this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "show \"strongly_operational_corresponding TRel \\<and> strong_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in encoding) SOC_wrt_equivalence_iff_strong_reduction_bisimulation:\n  fixes TRel :: \"('procT \\<times> 'procT) set\"\n  assumes eqT: \"equivalence TRel\"\n  shows \"(strongly_operational_corresponding TRel \\<and> strong_reduction_bisimulation TRel Target)\n         \\<longleftrightarrow> (\\<exists>Rel.\n         (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n         \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\n         \\<and> trans Rel \\<and> strong_reduction_bisimulation Rel (STCal Source Target))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<forall>S S'.\n          S \\<longmapsto>Source S' \\<longrightarrow>\n          (\\<exists>T.\n              \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n      (\\<forall>S T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n          (\\<exists>S'.\n              S \\<longmapsto>Source S' \\<and>\n              (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n     strong_reduction_simulation TRel Target \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) =\n    (\\<exists>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel \\<and>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        trans Rel \\<and>\n        strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel)))", "proof (rule iffI, erule conjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "assume oc:     \"strongly_operational_corresponding TRel\"\n     and bisimT: \"strong_reduction_bisimulation TRel Target\""], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from eqT"], ["proof (chain)\npicking this:\n  equivalence TRel", "have rt: \"TRel\\<^sup>* = TRel\""], ["proof (prove)\nusing this:\n  equivalence TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "using reflcl_trancl[of TRel] trancl_id[of TRel]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "unfolding equiv_def refl_on_def"], ["proof (prove)\nusing this:\n  (TRel \\<subseteq> UNIV \\<times> UNIV \\<and>\n   (\\<forall>x\\<in>UNIV. (x, x) \\<in> TRel)) \\<and>\n  sym TRel \\<and> trans TRel\n  (TRel\\<^sup>+)\\<^sup>= = TRel\\<^sup>*\n  trans TRel \\<Longrightarrow> TRel\\<^sup>+ = TRel\n\ngoal (1 subgoal):\n 1. TRel\\<^sup>* = TRel", "by auto"], ["proof (state)\nthis:\n  TRel\\<^sup>* = TRel\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"\\<forall>S. SourceTerm S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<and> TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       SourceTerm\n        S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n            (\\<lbrakk>S\\<rbrakk>) \\<and>\n       TargetTerm\n        (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                                S", "by (simp add: indRelTEQ.encR indRelTEQ.encL)"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from rt"], ["proof (chain)\npicking this:\n  TRel\\<^sup>* = TRel", "have \"TRel = {(T1, T2). TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2}\""], ["proof (prove)\nusing this:\n  TRel\\<^sup>* = TRel\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)", "using indRelTEQ_to_TRel(4)[where TRel=\"TRel\"]\n            trans_closure_of_TRel_refl_cond[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  TRel\\<^sup>* = TRel\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<Longrightarrow>\n  \\<forall>TP TQ.\n     TP \\<in>T ?P \\<and> TQ \\<in>T ?Q \\<longrightarrow>\n     (TP, TQ)\n     \\<in> (TRel \\<union>\n            _Collect (T1, T2)\n             (\\<exists>S.\n                 T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n                 T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+\n  (?TP, ?TQ)\n  \\<in> (TRel \\<union>\n         _Collect (T1, T2)\n          (\\<exists>S.\n              T1 = \\<lbrakk>S\\<rbrakk> \\<and>\n              T2 = \\<lbrakk>S\\<rbrakk>))\\<^sup>+ \\<Longrightarrow>\n  (?TP, ?TQ) \\<in> TRel\\<^sup>*\n\ngoal (1 subgoal):\n 1. TRel =\n    _Collect (T1, T2)\n     (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)", "by (auto simp add: indRelTEQ.target)"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"trans (indRelTEQ TRel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trans (indRelTEQ TRel)", "using indRelTEQ.trans[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<and>\n  ?Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R \\<Longrightarrow>\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R\n\ngoal (1 subgoal):\n 1. trans (indRelTEQ TRel)", "unfolding trans_def"], ["proof (prove)\nusing this:\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?Q \\<and>\n  ?Q \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R \\<Longrightarrow>\n  ?P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> ?R\n\ngoal (1 subgoal):\n 1. \\<forall>x y z.\n       x \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> y \\<longrightarrow>\n       y \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> z \\<longrightarrow>\n       x \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> z", "by blast"], ["proof (state)\nthis:\n  trans (indRelTEQ TRel)\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  trans (indRelTEQ TRel)\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from eqT oc bisimT"], ["proof (chain)\npicking this:\n  equivalence TRel\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"strong_reduction_bisimulation (indRelTEQ TRel) (STCal Source Target)\""], ["proof (prove)\nusing this:\n  equivalence TRel\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))", "using SOC_wrt_equivalence_iff_indRelTEQ_strong_reduction_bisimulation[where TRel=\"TRel\"]"], ["proof (prove)\nusing this:\n  equivalence TRel\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n  equivalence TRel \\<Longrightarrow>\n  (((\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n   strong_reduction_simulation TRel Target \\<and>\n   (\\<forall>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))) =\n  ((\\<forall>P Q P'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n       (\\<exists>Q'.\n           Q \\<longmapsto>STCal Source Target Q' \\<and>\n           P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n   (\\<forall>P Q Q'.\n       P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n       Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n       (\\<exists>P'.\n           P \\<longmapsto>STCal Source Target P' \\<and>\n           P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')))\n\ngoal (1 subgoal):\n 1. (\\<forall>P Q P'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n        (\\<exists>Q'.\n            Q \\<longmapsto>STCal Source Target Q' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n    (\\<forall>P Q Q'.\n        P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n        Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>STCal Source Target P' \\<and>\n            P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))", "by blast"], ["proof (state)\nthis:\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n\ngoal (2 subgoals):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'.\n            P \\<longmapsto>Target P' \\<and>\n            (P', Q') \\<in> TRel)) \\<Longrightarrow>\n    \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))\n 2. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n  trans (indRelTEQ TRel)\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))", "show \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n        \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel} \\<and> trans Rel\n        \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     SourceTerm\n      S \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm\n          (\\<lbrakk>S\\<rbrakk>) \\<and>\n     TargetTerm\n      (\\<lbrakk>S\\<rbrakk>) \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> SourceTerm\n                              S\n  TRel =\n  _Collect (T1, T2)\n   (TargetTerm T1 \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> TargetTerm T2)\n  trans (indRelTEQ TRel)\n  (\\<forall>P Q P'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      P \\<longmapsto>STCal Source Target P' \\<longrightarrow>\n      (\\<exists>Q'.\n          Q \\<longmapsto>STCal Source Target Q' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q')) \\<and>\n  (\\<forall>P Q Q'.\n      P \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and>\n          P' \\<sim>\\<lbrakk>\\<cdot>\\<rbrakk>T<TRel> Q'))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel))", "by blast"], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "assume \"\\<exists>Rel. (\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n                 \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel)\n          \\<and> TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel} \\<and> trans Rel\n          \\<and> strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (state)\nthis:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "from this"], ["proof (chain)\npicking this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))", "obtain Rel where A1: \"\\<forall>S. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n                                  \\<and> (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\"\n   and A2: \"TRel = {(T1, T2). (TargetTerm T1, TargetTerm T2) \\<in> Rel}\" and A3: \"trans Rel\"\n   and A4: \"strong_reduction_bisimulation Rel (STCal Source Target)\""], ["proof (prove)\nusing this:\n  \\<exists>Rel.\n     (\\<forall>S.\n         (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n         (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel) \\<and>\n     TRel =\n     _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n     trans Rel \\<and>\n     strong_reduction_simulation Rel (STCal Source Target) \\<and>\n     (\\<forall>P Q Q'.\n         (P, Q) \\<in> Rel \\<and>\n         Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n         (\\<exists>P'.\n             P \\<longmapsto>STCal Source Target P' \\<and>\n             (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. (\\<And>Rel.\n        (\\<forall>S.\n            (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>))\n            \\<in> Rel \\<and>\n            (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n            \\<in> Rel) \\<and>\n        TRel =\n        _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n        trans Rel \\<and>\n        strong_reduction_simulation Rel (STCal Source Target) \\<and>\n        (\\<forall>P Q Q'.\n            (P, Q) \\<in> Rel \\<and>\n            Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n            (\\<exists>P'.\n                P \\<longmapsto>STCal Source Target P' \\<and>\n                (P', Q') \\<in> Rel)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  trans Rel\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"strongly_operational_corresponding TRel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>S S'.\n        S \\<longmapsto>Source S' \\<longrightarrow>\n        (\\<exists>T.\n            \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n    (\\<forall>S T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n        (\\<exists>S'.\n            S \\<longmapsto>Source S' \\<and>\n            (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "fix S S'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from A1"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel", "have \"(SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "assume \"S \\<longmapsto>Source S'\""], ["proof (state)\nthis:\n  S \\<longmapsto>Source S'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "hence \"SourceTerm S \\<longmapsto>(STCal Source Target) (SourceTerm S')\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source S'\n\ngoal (1 subgoal):\n 1. SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'", "by (simp add: STCal_step(1))"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'", "obtain Q' where B1: \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) Q'\"\n                           and B2: \"(SourceTerm S', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm\n         (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n        (SourceTerm S', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A4"], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  SourceTerm S \\<longmapsto>STCal Source Target SourceTerm S'\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm\n         (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q' \\<and>\n        (SourceTerm S', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'\n  (SourceTerm S', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from B1"], ["proof (chain)\npicking this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'", "obtain T where B3: \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\" and B4: \"T \\<in>T Q'\""], ["proof (prove)\nusing this:\n  TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target Q'\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n        T \\<in>T Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(2))"], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  T \\<in>T Q'\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from A1"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S'\\<rbrakk>), SourceTerm S') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S'\\<rbrakk>), SourceTerm S') \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), SourceTerm S') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with B2 A3"], ["proof (chain)\npicking this:\n  (SourceTerm S', Q') \\<in> Rel\n  trans Rel\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), SourceTerm S') \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S'\\<rbrakk>), Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (SourceTerm S', Q') \\<in> Rel\n  trans Rel\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), SourceTerm S') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S'\\<rbrakk>), Q') \\<in> Rel", "unfolding trans_def"], ["proof (prove)\nusing this:\n  (SourceTerm S', Q') \\<in> Rel\n  \\<forall>x y z.\n     (x, y) \\<in> Rel \\<longrightarrow>\n     (y, z) \\<in> Rel \\<longrightarrow> (x, z) \\<in> Rel\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), SourceTerm S') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S'\\<rbrakk>), Q') \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with B4 A2"], ["proof (chain)\npicking this:\n  T \\<in>T Q'\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), Q') \\<in> Rel", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  T \\<in>T Q'\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>S S'.\n       S \\<longmapsto>Source S' \\<Longrightarrow>\n       \\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n 2. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with B3"], ["proof (chain)\npicking this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "show \"\\<exists>T. \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n       (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>T.\n     \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n     (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "fix S T"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from A1"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel", "have \"(SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "assume \"\\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\""], ["proof (state)\nthis:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "hence \"TargetTerm (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>(STCal Source Target) (TargetTerm T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T\n\ngoal (1 subgoal):\n 1. TargetTerm\n     (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T", "by (simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T", "obtain P' where C1: \"SourceTerm S \\<longmapsto>(STCal Source Target) P'\"\n                           and C2: \"(P', TargetTerm T) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        SourceTerm S \\<longmapsto>STCal Source Target P' \\<and>\n        (P', TargetTerm T) \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A4"], ["proof (prove)\nusing this:\n  (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel\n  TargetTerm\n   (\\<lbrakk>S\\<rbrakk>) \\<longmapsto>STCal Source Target TargetTerm T\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        SourceTerm S \\<longmapsto>STCal Source Target P' \\<and>\n        (P', TargetTerm T) \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n  (P', TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from C1"], ["proof (chain)\npicking this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'", "obtain S' where C3: \"S \\<longmapsto>Source S'\" and C4: \"S' \\<in>S P'\""], ["proof (prove)\nusing this:\n  SourceTerm S \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        S \\<longmapsto>Source S' \\<and> S' \\<in>S P' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(1))"], ["proof (state)\nthis:\n  S \\<longmapsto>Source S'\n  S' \\<in>S P'\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from A1 C4"], ["proof (chain)\npicking this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  S' \\<in>S P'", "have \"(TargetTerm (\\<lbrakk>S'\\<rbrakk>), P') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<forall>S.\n     (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n     (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S) \\<in> Rel\n  S' \\<in>S P'\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S'\\<rbrakk>), P') \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "from A3 this C2"], ["proof (chain)\npicking this:\n  trans Rel\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), P') \\<in> Rel\n  (P', TargetTerm T) \\<in> Rel", "have \"(TargetTerm (\\<lbrakk>S'\\<rbrakk>), TargetTerm T) \\<in> Rel\""], ["proof (prove)\nusing this:\n  trans Rel\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), P') \\<in> Rel\n  (P', TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S'\\<rbrakk>), TargetTerm T) \\<in> Rel", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<forall>x y z.\n     (x, y) \\<in> Rel \\<longrightarrow>\n     (y, z) \\<in> Rel \\<longrightarrow> (x, z) \\<in> Rel\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), P') \\<in> Rel\n  (P', TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (TargetTerm (\\<lbrakk>S'\\<rbrakk>), TargetTerm T) \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with A2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), TargetTerm T) \\<in> Rel", "have \"(\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TargetTerm (\\<lbrakk>S'\\<rbrakk>), TargetTerm T) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<Longrightarrow>\n       \\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "with C3"], ["proof (chain)\npicking this:\n  S \\<longmapsto>Source S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "show \"\\<exists>S'. S \\<longmapsto>Source S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\""], ["proof (prove)\nusing this:\n  S \\<longmapsto>Source S'\n  (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>S'.\n       S \\<longmapsto>Source S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>S'.\n     S \\<longmapsto>Source S' \\<and> (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "moreover"], ["proof (state)\nthis:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "have \"strong_reduction_bisimulation TRel Target\""], ["proof (prove)\ngoal (1 subgoal):\n 1. strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "fix TP TQ TP'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "with A2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "assume \"TP \\<longmapsto>Target TP'\""], ["proof (state)\nthis:\n  TP \\<longmapsto>Target TP'\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "hence \"TargetTerm TP \\<longmapsto>(STCal Source Target) (TargetTerm TP')\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Target TP'\n\ngoal (1 subgoal):\n 1. TargetTerm TP \\<longmapsto>STCal Source Target TargetTerm TP'", "by (simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TargetTerm TP \\<longmapsto>STCal Source Target TargetTerm TP'\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP \\<longmapsto>STCal Source Target TargetTerm TP'", "obtain Q' where D1: \"TargetTerm TQ \\<longmapsto>(STCal Source Target) Q'\"\n                           and D2: \"(TargetTerm TP', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP \\<longmapsto>STCal Source Target TargetTerm TP'\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm TQ \\<longmapsto>STCal Source Target Q' \\<and>\n        (TargetTerm TP', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A4"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TP \\<longmapsto>STCal Source Target TargetTerm TP'\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        TargetTerm TQ \\<longmapsto>STCal Source Target Q' \\<and>\n        (TargetTerm TP', Q') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  TargetTerm TQ \\<longmapsto>STCal Source Target Q'\n  (TargetTerm TP', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "from D1"], ["proof (chain)\npicking this:\n  TargetTerm TQ \\<longmapsto>STCal Source Target Q'", "obtain TQ' where D3: \"TQ \\<longmapsto>Target TQ'\" and D4: \"TQ' \\<in>T Q'\""], ["proof (prove)\nusing this:\n  TargetTerm TQ \\<longmapsto>STCal Source Target Q'\n\ngoal (1 subgoal):\n 1. (\\<And>TQ'.\n        TQ \\<longmapsto>Target TQ' \\<and> TQ' \\<in>T Q' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TQ \\<longmapsto>Target TQ'\n  TQ' \\<in>T Q'\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "from A2 D2 D4"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TargetTerm TP', Q') \\<in> Rel\n  TQ' \\<in>T Q'", "have \"(TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TargetTerm TP', Q') \\<in> Rel\n  TQ' \\<in>T Q'\n\ngoal (1 subgoal):\n 1. (TP', TQ') \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (TP', TQ') \\<in> TRel\n\ngoal (2 subgoals):\n 1. \\<And>P Q P'.\n       (P, Q) \\<in> TRel \\<and> P \\<longmapsto>Target P' \\<Longrightarrow>\n       \\<exists>Q'. Q \\<longmapsto>Target Q' \\<and> (P', Q') \\<in> TRel\n 2. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "with D3"], ["proof (chain)\npicking this:\n  TQ \\<longmapsto>Target TQ'\n  (TP', TQ') \\<in> TRel", "show \"\\<exists>TQ'. TQ \\<longmapsto>Target TQ' \\<and> (TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Target TQ'\n  (TP', TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>TQ'. TQ \\<longmapsto>Target TQ' \\<and> (TP', TQ') \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>TQ'. TQ \\<longmapsto>Target TQ' \\<and> (TP', TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "fix TP TQ TQ'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "assume \"(TP, TQ) \\<in> TRel\""], ["proof (state)\nthis:\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "with A2"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel", "have \"(TargetTerm TP, TargetTerm TQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (TP, TQ) \\<in> TRel\n\ngoal (1 subgoal):\n 1. (TargetTerm TP, TargetTerm TQ) \\<in> Rel", "by simp"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "moreover"], ["proof (state)\nthis:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "assume \"TQ \\<longmapsto>Target TQ'\""], ["proof (state)\nthis:\n  TQ \\<longmapsto>Target TQ'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "hence \"TargetTerm TQ \\<longmapsto>(STCal Source Target) (TargetTerm TQ')\""], ["proof (prove)\nusing this:\n  TQ \\<longmapsto>Target TQ'\n\ngoal (1 subgoal):\n 1. TargetTerm TQ \\<longmapsto>STCal Source Target TargetTerm TQ'", "by (simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TargetTerm TQ \\<longmapsto>STCal Source Target TargetTerm TQ'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "ultimately"], ["proof (chain)\npicking this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ \\<longmapsto>STCal Source Target TargetTerm TQ'", "obtain P' where E1: \"TargetTerm TP \\<longmapsto>(STCal Source Target) P'\"\n                           and E2: \"(P', TargetTerm TQ') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ \\<longmapsto>STCal Source Target TargetTerm TQ'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        TargetTerm TP \\<longmapsto>STCal Source Target P' \\<and>\n        (P', TargetTerm TQ') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using A4"], ["proof (prove)\nusing this:\n  (TargetTerm TP, TargetTerm TQ) \\<in> Rel\n  TargetTerm TQ \\<longmapsto>STCal Source Target TargetTerm TQ'\n  strong_reduction_simulation Rel (STCal Source Target) \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> Rel \\<and>\n      Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n      (\\<exists>P'.\n          P \\<longmapsto>STCal Source Target P' \\<and> (P', Q') \\<in> Rel))\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        TargetTerm TP \\<longmapsto>STCal Source Target P' \\<and>\n        (P', TargetTerm TQ') \\<in> Rel \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  TargetTerm TP \\<longmapsto>STCal Source Target P'\n  (P', TargetTerm TQ') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "from E1"], ["proof (chain)\npicking this:\n  TargetTerm TP \\<longmapsto>STCal Source Target P'", "obtain TP' where E3: \"TP \\<longmapsto>Target TP'\" and E4: \"TP' \\<in>T P'\""], ["proof (prove)\nusing this:\n  TargetTerm TP \\<longmapsto>STCal Source Target P'\n\ngoal (1 subgoal):\n 1. (\\<And>TP'.\n        TP \\<longmapsto>Target TP' \\<and> TP' \\<in>T P' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: STCal_step(2))"], ["proof (state)\nthis:\n  TP \\<longmapsto>Target TP'\n  TP' \\<in>T P'\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "from A2 E2 E4"], ["proof (chain)\npicking this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (P', TargetTerm TQ') \\<in> Rel\n  TP' \\<in>T P'", "have \"(TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  TRel = _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel)\n  (P', TargetTerm TQ') \\<in> Rel\n  TP' \\<in>T P'\n\ngoal (1 subgoal):\n 1. (TP', TQ') \\<in> TRel", "by simp"], ["proof (state)\nthis:\n  (TP', TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<And>P Q Q'.\n       (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<Longrightarrow>\n       \\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel", "with E3"], ["proof (chain)\npicking this:\n  TP \\<longmapsto>Target TP'\n  (TP', TQ') \\<in> TRel", "show \"\\<exists>TP'. TP \\<longmapsto>Target TP' \\<and> (TP', TQ') \\<in> TRel\""], ["proof (prove)\nusing this:\n  TP \\<longmapsto>Target TP'\n  (TP', TQ') \\<in> TRel\n\ngoal (1 subgoal):\n 1. \\<exists>TP'. TP \\<longmapsto>Target TP' \\<and> (TP', TQ') \\<in> TRel", "by blast"], ["proof (state)\nthis:\n  \\<exists>TP'. TP \\<longmapsto>Target TP' \\<and> (TP', TQ') \\<in> TRel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. \\<exists>Rel.\n       (\\<forall>S.\n           (SourceTerm S, TargetTerm (\\<lbrakk>S\\<rbrakk>)) \\<in> Rel \\<and>\n           (TargetTerm (\\<lbrakk>S\\<rbrakk>), SourceTerm S)\n           \\<in> Rel) \\<and>\n       TRel =\n       _Collect (T1, T2) ((TargetTerm T1, TargetTerm T2) \\<in> Rel) \\<and>\n       trans Rel \\<and>\n       strong_reduction_simulation Rel (STCal Source Target) \\<and>\n       (\\<forall>P Q Q'.\n           (P, Q) \\<in> Rel \\<and>\n           Q \\<longmapsto>STCal Source Target Q' \\<longrightarrow>\n           (\\<exists>P'.\n               P \\<longmapsto>STCal Source Target P' \\<and>\n               (P', Q') \\<in> Rel)) \\<Longrightarrow>\n    ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "ultimately"], ["proof (chain)\npicking this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "show \"strongly_operational_corresponding TRel \\<and> strong_reduction_bisimulation TRel Target\""], ["proof (prove)\nusing this:\n  (\\<forall>S S'.\n      S \\<longmapsto>Source S' \\<longrightarrow>\n      (\\<exists>T.\n          \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n  (\\<forall>S T.\n      \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n      (\\<exists>S'.\n          S \\<longmapsto>Source S' \\<and>\n          (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal (1 subgoal):\n 1. ((\\<forall>S S'.\n         S \\<longmapsto>Source S' \\<longrightarrow>\n         (\\<exists>T.\n             \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n     (\\<forall>S T.\n         \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n         (\\<exists>S'.\n             S \\<longmapsto>Source S' \\<and>\n             (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n    strong_reduction_simulation TRel Target \\<and>\n    (\\<forall>P Q Q'.\n        (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n        (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))", "by simp"], ["proof (state)\nthis:\n  ((\\<forall>S S'.\n       S \\<longmapsto>Source S' \\<longrightarrow>\n       (\\<exists>T.\n           \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel)) \\<and>\n   (\\<forall>S T.\n       \\<lbrakk>S\\<rbrakk> \\<longmapsto>Target T \\<longrightarrow>\n       (\\<exists>S'.\n           S \\<longmapsto>Source S' \\<and>\n           (\\<lbrakk>S'\\<rbrakk>, T) \\<in> TRel))) \\<and>\n  strong_reduction_simulation TRel Target \\<and>\n  (\\<forall>P Q Q'.\n      (P, Q) \\<in> TRel \\<and> Q \\<longmapsto>Target Q' \\<longrightarrow>\n      (\\<exists>P'. P \\<longmapsto>Target P' \\<and> (P', Q') \\<in> TRel))\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}