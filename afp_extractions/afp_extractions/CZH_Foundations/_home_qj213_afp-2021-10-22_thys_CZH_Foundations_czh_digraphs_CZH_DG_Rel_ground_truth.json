{"file_name": "/home/qj213/afp-2021-10-22/thys/CZH_Foundations/czh_digraphs/CZH_DG_Rel.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/CZH_Foundations", "problem_names": ["lemma ArrVal_eq_helper:\n  assumes \"f = g\"\n  shows \"f\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr> = g\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr>\"", "lemmas [dg_Rel_cs_simps] = arr_Rel.arr_Rel_length", "lemma arr_Rel_components[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]:\n  shows \"[f, A, B]\\<^sub>\\<circ>\\<lparr>ArrVal\\<rparr> = f\"\n    and \"[f, A, B]\\<^sub>\\<circ>\\<lparr>ArrDom\\<rparr> = A\"\n    and \"[f, A, B]\\<^sub>\\<circ>\\<lparr>ArrCod\\<rparr> = B\"", "lemma (in \\<Z>) arr_Rel_vfsequenceI: \n  assumes \"vbrelation r\" \n    and \"\\<D>\\<^sub>\\<circ> r \\<subseteq>\\<^sub>\\<circ> a\"\n    and \"\\<R>\\<^sub>\\<circ> r \\<subseteq>\\<^sub>\\<circ> b\"\n    and \"a \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n    and \"b \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"arr_Rel \\<alpha> [r, a, b]\\<^sub>\\<circ>\"", "lemma arr_Rel_eqI:\n  assumes \"arr_Rel \\<alpha> S\" \n    and \"arr_Rel \\<alpha> T\"\n    and \"S\\<lparr>ArrVal\\<rparr> = T\\<lparr>ArrVal\\<rparr>\"\n    and \"S\\<lparr>ArrDom\\<rparr> = T\\<lparr>ArrDom\\<rparr>\"\n    and \"S\\<lparr>ArrCod\\<rparr> = T\\<lparr>ArrCod\\<rparr>\"\n  shows \"S = T\"", "lemma (in arr_Rel) arr_Rel_def: \"T = [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>, T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\"", "lemma (in arr_Rel) arr_Rel_ArrVal_in_Vset: \"T\\<lparr>ArrVal\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"", "lemma (in arr_Rel) arr_Rel_in_Vset: \"T \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"", "lemma small_arr_Rel[simp]: \"small {T. arr_Rel \\<alpha> T}\"", "lemma set_Collect_arr_Rel[simp]: \n  \"x \\<in>\\<^sub>\\<circ> set (Collect (arr_Rel \\<alpha>)) \\<longleftrightarrow> arr_Rel \\<alpha> x\"", "lemma (in arr_Rel) arr_Rel_ArrVal_vsubset_ArrDom_ArrCod:\n  \"T\\<lparr>ArrVal\\<rparr> \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr> \\<times>\\<^sub>\\<circ> T\\<lparr>ArrCod\\<rparr>\"", "lemma comp_Rel_components:\n  shows \"(S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr> = S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \n      \"(S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrDom\\<rparr> = T\\<lparr>ArrDom\\<rparr>\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]:\n      \"(S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrCod\\<rparr> = S\\<lparr>ArrCod\\<rparr>\"", "lemma comp_Rel_vsv[dg_Rel_shared_cs_intros, dg_Rel_cs_intros]: \n  \"vsv (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\"", "lemma arr_Rel_comp_Rel[dg_Rel_cs_intros]:\n  assumes \"arr_Rel \\<alpha> S\" and \"arr_Rel \\<alpha> T\"\n  shows \"arr_Rel \\<alpha> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\"", "lemma arr_Rel_comp_Rel_assoc[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]:\n  \"(H \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l G) \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F = H \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l (G \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\"", "lemma incl_Rel_components:\n  shows \"incl_Rel A B\\<lparr>ArrVal\\<rparr> = vid_on A\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \"incl_Rel A B\\<lparr>ArrDom\\<rparr> = A\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \"incl_Rel A B\\<lparr>ArrCod\\<rparr> = B\"", "lemma incl_Rel_ArrVal_vsv[dg_Rel_shared_cs_intros, dg_Rel_cs_intros]: \n  \"vsv (incl_Rel A B\\<lparr>ArrVal\\<rparr>)\"", "lemma incl_Rel_ArrVal_vdomain[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]:\n  \"\\<D>\\<^sub>\\<circ> (incl_Rel A B\\<lparr>ArrVal\\<rparr>) = A\"", "lemma incl_Rel_ArrVal_app[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]:\n  assumes \"a \\<in>\\<^sub>\\<circ> A\"\n  shows \"incl_Rel A B\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr> = a\"", "lemma incl_Rel_vfsequence[dg_Rel_shared_cs_intros, dg_Rel_cs_intros]: \n  \"vfsequence (incl_Rel A B)\"", "lemma incl_Rel_vcard[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \n  \"vcard (incl_Rel A B) = 3\\<^sub>\\<nat>\"", "lemma (in \\<Z>) arr_Rel_incl_RelI:\n  assumes \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" and \"B \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" and \"A \\<subseteq>\\<^sub>\\<circ> B\"\n  shows \"arr_Rel \\<alpha> (incl_Rel A B)\"", "lemma id_Rel_components:\n  shows \"id_Rel A\\<lparr>ArrVal\\<rparr> = vid_on A\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \"id_Rel A\\<lparr>ArrDom\\<rparr> = A\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \"id_Rel A\\<lparr>ArrCod\\<rparr> = A\"", "lemma id_Rel_vfsequence[dg_Rel_shared_cs_intros, dg_Rel_cs_intros]: \n  \"vfsequence (id_Rel A)\"", "lemma id_Rel_vcard[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \n  \"vcard (id_Rel A) = 3\\<^sub>\\<nat>\"", "lemma (in \\<Z>) arr_Rel_id_RelI:\n  assumes \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"arr_Rel \\<alpha> (id_Rel A)\"", "lemma id_Rel_ArrVal_app[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]:\n  assumes \"a \\<in>\\<^sub>\\<circ> A\"\n  shows \"id_Rel A\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr> = a\"", "lemma arr_Rel_comp_Rel_id_Rel_left[dg_Rel_cs_simps]:\n  assumes \"arr_Rel \\<alpha> F\" and \"F\\<lparr>ArrCod\\<rparr> = A\"\n  shows \"id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F = F\"", "lemma arr_Rel_comp_Rel_id_Rel_right[dg_Rel_cs_simps]:\n  assumes \"arr_Rel \\<alpha> F\" and \"F\\<lparr>ArrDom\\<rparr> = A\"\n  shows \"F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A = F\"", "lemma converse_Rel_components:\n  shows \"T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrVal\\<rparr> = (T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \"T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrDom\\<rparr> = T\\<lparr>ArrCod\\<rparr>\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \"T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrCod\\<rparr> = T\\<lparr>ArrDom\\<rparr>\"", "lemma (in arr_Rel) arr_Rel_converse_Rel: \"arr_Rel \\<alpha> (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\"", "lemmas [dg_Rel_cs_intros] = \n  arr_Rel.arr_Rel_converse_Rel", "lemma (in arr_Rel) \n  arr_Rel_converse_Rel_converse_Rel[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \n  \"(T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = T\"", "lemmas [dg_Rel_cs_simps] = \n  arr_Rel.arr_Rel_converse_Rel_converse_Rel", "lemma arr_Rel_converse_Rel_eq_iff[dg_Rel_cs_simps]:\n  assumes \"arr_Rel \\<alpha> F\" and \"arr_Rel \\<alpha> G\"\n  shows \"F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<longleftrightarrow> F = G\"", "lemma arr_Rel_converse_Rel_comp_Rel[dg_Rel_cs_simps]:\n  assumes \"arr_Rel \\<alpha> G\" and \"arr_Rel \\<alpha> F\"\n  shows \"(F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l G)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\"", "lemma (in \\<Z>) arr_Rel_converse_Rel_id_Rel: \n  assumes \"c \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"arr_Rel \\<alpha> ((id_Rel c)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\"", "lemma (in \\<Z>) arr_Rel_converse_Rel_id_Rel_eq_id_Rel[\n    dg_Rel_shared_cs_simps, dg_Rel_cs_simps\n    ]: \n  assumes \"c \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"(id_Rel c)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = id_Rel c\"", "lemmas [dg_Rel_shared_cs_simps, dg_Rel_cs_simps] = \n  \\<Z>.arr_Rel_converse_Rel_id_Rel_eq_id_Rel", "lemma arr_Rel_comp_Rel_converse_Rel_left_if_v11[dg_Rel_cs_simps]:\n  assumes \"arr_Rel \\<alpha> T\" \n    and \"\\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>) = A\"\n    and \"T\\<lparr>ArrDom\\<rparr> = A\"\n    and \"v11 (T\\<lparr>ArrVal\\<rparr>)\" \n    and \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T = id_Rel A\"", "lemma arr_Rel_comp_Rel_converse_Rel_right_if_v11[dg_Rel_cs_simps]:\n  assumes \"arr_Rel \\<alpha> T\" \n    and \"\\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>) = A\"\n    and \"T\\<lparr>ArrCod\\<rparr> = A\"\n    and \"v11 (T\\<lparr>ArrVal\\<rparr>)\" \n    and \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"T \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = id_Rel A\"", "lemma dg_Rel_components:\n  shows \"dg_Rel \\<alpha>\\<lparr>Obj\\<rparr> = Vset \\<alpha>\"\n    and \"dg_Rel \\<alpha>\\<lparr>Arr\\<rparr> = set {T. arr_Rel \\<alpha> T}\"\n    and \"dg_Rel \\<alpha>\\<lparr>Dom\\<rparr> = (\\<lambda>T\\<in>\\<^sub>\\<circ>set {T. arr_Rel \\<alpha> T}. T\\<lparr>ArrDom\\<rparr>)\"\n    and \"dg_Rel \\<alpha>\\<lparr>Cod\\<rparr> = (\\<lambda>T\\<in>\\<^sub>\\<circ>set {T. arr_Rel \\<alpha> T}. T\\<lparr>ArrCod\\<rparr>)\"", "lemma dg_Rel_Obj_iff: \"x \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr> \\<longleftrightarrow> x \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"", "lemma dg_Rel_Arr_iff[dg_Rel_cs_simps]: \"x \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr> \\<longleftrightarrow> arr_Rel \\<alpha> x\"", "lemma dg_Rel_Dom_vrange: \"\\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>) \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\"", "lemma dg_Rel_Cod_vrange: \"\\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>) \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\"", "lemma dg_Rel_is_arrI[dg_Rel_cs_intros]:\n  assumes \"arr_Rel \\<alpha> S\" and \"S\\<lparr>ArrDom\\<rparr> = A\" and \"S\\<lparr>ArrCod\\<rparr> = B\"\n  shows \"S : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B\"", "lemma dg_Rel_is_arrD:\n  assumes \"S : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B\"\n  shows \"arr_Rel \\<alpha> S\" \n    and [dg_cs_simps]: \"S\\<lparr>ArrDom\\<rparr> = A\" \n    and [dg_cs_simps]: \"S\\<lparr>ArrCod\\<rparr> = B\"", "lemma dg_Rel_is_arrE:\n  assumes \"S : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B\"\n  obtains \"arr_Rel \\<alpha> S\" and \"S\\<lparr>ArrDom\\<rparr> = A\" and \"S\\<lparr>ArrCod\\<rparr> = B\"", "lemma (in \\<Z>) dg_Rel_incl_Rel_is_arr:\n  assumes \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" and \"B \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" and \"A \\<subseteq>\\<^sub>\\<circ> B\"\n  shows \"incl_Rel A B : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B\"", "lemma (in \\<Z>) dg_Rel_incl_Rel_is_arr'[dg_Rel_cs_intros]:\n  assumes \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" \n    and \"B \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" \n    and \"A \\<subseteq>\\<^sub>\\<circ> B\"\n    and \"A' = A\"\n    and \"B' = B\"\n  shows \"incl_Rel A B : A' \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B'\"", "lemmas [dg_Rel_cs_intros] = \\<Z>.dg_Rel_incl_Rel_is_arr'", "lemma (in \\<Z>) dg_Rel_Hom_vifunion_in_Vset:\n  assumes \"X \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" and \"Y \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"(\\<Union>\\<^sub>\\<circ>A\\<in>\\<^sub>\\<circ>X. \\<Union>\\<^sub>\\<circ>B\\<in>\\<^sub>\\<circ>Y. Hom (dg_Rel \\<alpha>) A B) \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"", "lemma (in \\<Z>) digraph_dg_Rel: \"digraph \\<alpha> (dg_Rel \\<alpha>)\"", "lemma dghm_dag_Rel_components:\n  shows \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ObjMap\\<rparr> = vid_on (dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>)\"\n    and \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr> = VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel\"\n    and \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>HomDom\\<rparr> = op_dg (dg_Rel \\<alpha>)\"\n    and \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>HomCod\\<rparr> = dg_Rel \\<alpha>\"", "lemma dghm_dag_Rel_ObjMap_vrange[dg_cs_simps]: \"\\<R>\\<^sub>\\<circ> (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ObjMap\\<rparr>) = Vset \\<alpha>\"", "lemma dghm_dag_Rel_ArrMap_vrange[dg_Rel_cs_simps]: \n  \"\\<R>\\<^sub>\\<circ> (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>) = dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\"", "lemma dghm_dag_Rel_ArrMap_app_is_arr:\n  assumes \"T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a\"\n  shows \n    \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr> : \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr> \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>\"", "lemma (in \\<Z>) dghm_dag_Rel_is_iso_dghm: \n  \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> : op_dg (dg_Rel \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>i\\<^sub>s\\<^sub>o\\<^bsub>\\<alpha>\\<^esub> dg_Rel \\<alpha>\"", "lemma (in \\<Z>) dghm_cn_comp_dghm_dag_Rel_dghm_dag_Rel: \n  \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ> \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> = dghm_id (dg_Rel \\<alpha>)\""], "translations": [["", "lemma ArrVal_eq_helper:\n  assumes \"f = g\"\n  shows \"f\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr> = g\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr> =\n    g\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr>", "using assms"], ["proof (prove)\nusing this:\n  f = g\n\ngoal (1 subgoal):\n 1. f\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr> =\n    g\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr>", "by simp"], ["", "subsection\\<open>Arrow for \\<open>Rel\\<close>\\<close>"], ["", "subsubsection\\<open>Definition and elementary properties\\<close>"], ["", "locale arr_Rel = \\<Z> \\<alpha> + vfsequence T + ArrVal: vbrelation \\<open>T\\<lparr>ArrVal\\<rparr>\\<close> for \\<alpha> T +\n  assumes arr_Rel_length[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \n    \"vcard T = 3\\<^sub>\\<nat>\" \n    and arr_Rel_ArrVal_vdomain: \"\\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>) \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr>\"\n    and arr_Rel_ArrVal_vrange: \"\\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>) \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrCod\\<rparr>\"\n    and arr_Rel_ArrDom_in_Vset: \"T\\<lparr>ArrDom\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n    and arr_Rel_ArrCod_in_Vset: \"T\\<lparr>ArrCod\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["", "lemmas [dg_Rel_cs_simps] = arr_Rel.arr_Rel_length"], ["", "text\\<open>Components.\\<close>"], ["", "lemma arr_Rel_components[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]:\n  shows \"[f, A, B]\\<^sub>\\<circ>\\<lparr>ArrVal\\<rparr> = f\"\n    and \"[f, A, B]\\<^sub>\\<circ>\\<lparr>ArrDom\\<rparr> = A\"\n    and \"[f, A, B]\\<^sub>\\<circ>\\<lparr>ArrCod\\<rparr> = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [f, A, B]\\<^sub>\\<circ>\\<lparr>ArrVal\\<rparr> = f &&&\n    [f, A, B]\\<^sub>\\<circ>\\<lparr>ArrDom\\<rparr> = A &&&\n    [f, A, B]\\<^sub>\\<circ>\\<lparr>ArrCod\\<rparr> = B", "unfolding arr_field_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. [f, A, B]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr> = f &&&\n    [f, A, B]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr> = A &&&\n    [f, A, B]\\<^sub>\\<circ>\\<lparr>2\\<^sub>\\<nat>\\<rparr> = B", "by (simp_all add: nat_omega_simps)"], ["", "text\\<open>Rules.\\<close>"], ["", "mk_ide rf arr_Rel_def[unfolded arr_Rel_axioms_def]\n  |intro arr_RelI|\n  |dest arr_RelD[dest]|\n  |elim arr_RelE[elim!]|"], ["", "lemma (in \\<Z>) arr_Rel_vfsequenceI: \n  assumes \"vbrelation r\" \n    and \"\\<D>\\<^sub>\\<circ> r \\<subseteq>\\<^sub>\\<circ> a\"\n    and \"\\<R>\\<^sub>\\<circ> r \\<subseteq>\\<^sub>\\<circ> b\"\n    and \"a \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n    and \"b \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"arr_Rel \\<alpha> [r, a, b]\\<^sub>\\<circ>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> [r, a, b]\\<^sub>\\<circ>", "by (intro arr_RelI) \n    (insert assms, auto simp: nat_omega_simps arr_Rel_components)"], ["", "text\\<open>Elementary properties.\\<close>"], ["", "lemma arr_Rel_eqI:\n  assumes \"arr_Rel \\<alpha> S\" \n    and \"arr_Rel \\<alpha> T\"\n    and \"S\\<lparr>ArrVal\\<rparr> = T\\<lparr>ArrVal\\<rparr>\"\n    and \"S\\<lparr>ArrDom\\<rparr> = T\\<lparr>ArrDom\\<rparr>\"\n    and \"S\\<lparr>ArrCod\\<rparr> = T\\<lparr>ArrCod\\<rparr>\"\n  shows \"S = T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S = T", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. S = T", "interpret S: arr_Rel \\<alpha> S"], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> S", "by (rule assms(1))"], ["proof (state)\ngoal (1 subgoal):\n 1. S = T", "interpret T: arr_Rel \\<alpha> T"], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> T", "by (rule assms(2))"], ["proof (state)\ngoal (1 subgoal):\n 1. S = T", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. S = T", "proof(rule vsv_eqI)"], ["proof (state)\ngoal (4 subgoals):\n 1. vsv S\n 2. vsv T\n 3. \\<D>\\<^sub>\\<circ> S = \\<D>\\<^sub>\\<circ> T\n 4. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> S \\<Longrightarrow>\n       S\\<lparr>a\\<rparr> = T\\<lparr>a\\<rparr>", "show \"\\<D>\\<^sub>\\<circ> S = \\<D>\\<^sub>\\<circ> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> S = \\<D>\\<^sub>\\<circ> T", "by (simp add: S.vfsequence_vdomain T.vfsequence_vdomain dg_Rel_cs_simps)"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> S = \\<D>\\<^sub>\\<circ> T\n\ngoal (3 subgoals):\n 1. vsv S\n 2. vsv T\n 3. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> S \\<Longrightarrow>\n       S\\<lparr>a\\<rparr> = T\\<lparr>a\\<rparr>", "have dom_lhs: \"\\<D>\\<^sub>\\<circ> S = 3\\<^sub>\\<nat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> S = 3\\<^sub>\\<nat>", "by (simp add: S.vfsequence_vdomain dg_Rel_cs_simps)"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> S = 3\\<^sub>\\<nat>\n\ngoal (3 subgoals):\n 1. vsv S\n 2. vsv T\n 3. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> S \\<Longrightarrow>\n       S\\<lparr>a\\<rparr> = T\\<lparr>a\\<rparr>", "show \"a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> S \\<Longrightarrow> S\\<lparr>a\\<rparr> = T\\<lparr>a\\<rparr>\" for a"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> S \\<Longrightarrow>\n    S\\<lparr>a\\<rparr> = T\\<lparr>a\\<rparr>", "by (unfold dom_lhs, elim_in_numeral, insert assms)\n        (auto simp: arr_field_simps)"], ["proof (state)\nthis:\n  ?a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> S \\<Longrightarrow>\n  S\\<lparr>?a\\<rparr> = T\\<lparr>?a\\<rparr>\n\ngoal (2 subgoals):\n 1. vsv S\n 2. vsv T", "qed auto"], ["proof (state)\nthis:\n  S = T\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in arr_Rel) arr_Rel_def: \"T = [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>, T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T =\n    [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n     T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>", "proof(rule vsv_eqI)"], ["proof (state)\ngoal (4 subgoals):\n 1. vsv T\n 2. vsv [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n         T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\n 3. \\<D>\\<^sub>\\<circ> T =\n    \\<D>\\<^sub>\\<circ>\n     [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n      T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\n 4. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> T \\<Longrightarrow>\n       T\\<lparr>a\\<rparr> =\n       [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n        T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\\<lparr>a\\<rparr>", "have dom_lhs: \"\\<D>\\<^sub>\\<circ> T = 3\\<^sub>\\<nat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> T = 3\\<^sub>\\<nat>", "by (simp add: vfsequence_vdomain dg_Rel_cs_simps)"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> T = 3\\<^sub>\\<nat>\n\ngoal (4 subgoals):\n 1. vsv T\n 2. vsv [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n         T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\n 3. \\<D>\\<^sub>\\<circ> T =\n    \\<D>\\<^sub>\\<circ>\n     [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n      T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\n 4. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> T \\<Longrightarrow>\n       T\\<lparr>a\\<rparr> =\n       [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n        T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\\<lparr>a\\<rparr>", "have dom_rhs: \"\\<D>\\<^sub>\\<circ> [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>, T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ> = 3\\<^sub>\\<nat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ>\n     [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n      T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ> =\n    3\\<^sub>\\<nat>", "by (simp add: nat_omega_simps)"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ>\n   [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n    T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ> =\n  3\\<^sub>\\<nat>\n\ngoal (4 subgoals):\n 1. vsv T\n 2. vsv [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n         T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\n 3. \\<D>\\<^sub>\\<circ> T =\n    \\<D>\\<^sub>\\<circ>\n     [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n      T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\n 4. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> T \\<Longrightarrow>\n       T\\<lparr>a\\<rparr> =\n       [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n        T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\\<lparr>a\\<rparr>", "then"], ["proof (chain)\npicking this:\n  \\<D>\\<^sub>\\<circ>\n   [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n    T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ> =\n  3\\<^sub>\\<nat>", "show \"\\<D>\\<^sub>\\<circ> T = \\<D>\\<^sub>\\<circ> [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>, T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\""], ["proof (prove)\nusing this:\n  \\<D>\\<^sub>\\<circ>\n   [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n    T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ> =\n  3\\<^sub>\\<nat>\n\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> T =\n    \\<D>\\<^sub>\\<circ>\n     [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n      T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>", "unfolding dom_lhs dom_rhs"], ["proof (prove)\nusing this:\n  3\\<^sub>\\<nat> = 3\\<^sub>\\<nat>\n\ngoal (1 subgoal):\n 1. 3\\<^sub>\\<nat> = 3\\<^sub>\\<nat>", "by simp"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> T =\n  \\<D>\\<^sub>\\<circ>\n   [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n    T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\n\ngoal (3 subgoals):\n 1. vsv T\n 2. vsv [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n         T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\n 3. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> T \\<Longrightarrow>\n       T\\<lparr>a\\<rparr> =\n       [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n        T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\\<lparr>a\\<rparr>", "show \"a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> T \\<Longrightarrow> T\\<lparr>a\\<rparr> = [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>, T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\\<lparr>a\\<rparr>\" for a"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> T \\<Longrightarrow>\n    T\\<lparr>a\\<rparr> =\n    [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n     T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\\<lparr>a\\<rparr>", "unfolding dom_lhs"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in>\\<^sub>\\<circ> 3\\<^sub>\\<nat> \\<Longrightarrow>\n    T\\<lparr>a\\<rparr> =\n    [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n     T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\\<lparr>a\\<rparr>", "by elim_in_numeral (simp_all add: arr_field_simps nat_omega_simps)"], ["proof (state)\nthis:\n  ?a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> T \\<Longrightarrow>\n  T\\<lparr>?a\\<rparr> =\n  [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n   T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\\<lparr>?a\\<rparr>\n\ngoal (2 subgoals):\n 1. vsv T\n 2. vsv [T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>,\n         T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>", "qed (auto simp: vsv_axioms)"], ["", "text\\<open>Size.\\<close>"], ["", "lemma (in arr_Rel) arr_Rel_ArrVal_in_Vset: \"T\\<lparr>ArrVal\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T\\<lparr>ArrVal\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. T\\<lparr>ArrVal\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "from arr_Rel_ArrVal_vdomain arr_Rel_ArrDom_in_Vset"], ["proof (chain)\npicking this:\n  \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr>\n  T\\<lparr>ArrDom\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "have \n    \"\\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>) \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\nusing this:\n  \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr>\n  T\\<lparr>ArrDom\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "by auto"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. T\\<lparr>ArrVal\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "moreover"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. T\\<lparr>ArrVal\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "from arr_Rel_ArrVal_vrange arr_Rel_ArrCod_in_Vset"], ["proof (chain)\npicking this:\n  \\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrCod\\<rparr>\n  T\\<lparr>ArrCod\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "have \n    \"\\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>) \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\nusing this:\n  \\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrCod\\<rparr>\n  T\\<lparr>ArrCod\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "by auto"], ["proof (state)\nthis:\n  \\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. T\\<lparr>ArrVal\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "ultimately"], ["proof (chain)\npicking this:\n  \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  \\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"T\\<lparr>ArrVal\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\nusing this:\n  \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  \\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. T\\<lparr>ArrVal\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "by (simp add: ArrVal.vbrelation_Limit_in_VsetI)"], ["proof (state)\nthis:\n  T\\<lparr>ArrVal\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in arr_Rel) arr_Rel_in_Vset: \"T \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. T \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "note [dg_Rel_cs_intros] = \n    arr_Rel_ArrVal_in_Vset arr_Rel_ArrDom_in_Vset arr_Rel_ArrCod_in_Vset"], ["proof (state)\nthis:\n  T\\<lparr>ArrVal\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  T\\<lparr>ArrDom\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  T\\<lparr>ArrCod\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. T \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. T \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "by (subst arr_Rel_def)\n      (cs_concl cs_intro: dg_Rel_cs_intros V_cs_intros)"], ["proof (state)\nthis:\n  T \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma small_arr_Rel[simp]: \"small {T. arr_Rel \\<alpha> T}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. small {T. arr_Rel \\<alpha> T}", "by (rule down[of _ \\<open>Vset \\<alpha>\\<close>]) (auto intro!: arr_Rel.arr_Rel_in_Vset)"], ["", "text\\<open>Other elementary properties.\\<close>"], ["", "lemma set_Collect_arr_Rel[simp]: \n  \"x \\<in>\\<^sub>\\<circ> set (Collect (arr_Rel \\<alpha>)) \\<longleftrightarrow> arr_Rel \\<alpha> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>))) =\n    arr_Rel \\<alpha> x", "by auto"], ["", "lemma (in arr_Rel) arr_Rel_ArrVal_vsubset_ArrDom_ArrCod:\n  \"T\\<lparr>ArrVal\\<rparr> \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr> \\<times>\\<^sub>\\<circ> T\\<lparr>ArrCod\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T\\<lparr>ArrVal\\<rparr>\n    \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr> \\<times>\\<^sub>\\<circ>\n                              T\\<lparr>ArrCod\\<rparr>", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr> \\<times>\\<^sub>\\<circ>\n                             T\\<lparr>ArrCod\\<rparr>", "fix ab"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr> \\<times>\\<^sub>\\<circ>\n                             T\\<lparr>ArrCod\\<rparr>", "assume \"ab \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>\""], ["proof (state)\nthis:\n  ab \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr> \\<times>\\<^sub>\\<circ>\n                             T\\<lparr>ArrCod\\<rparr>", "then"], ["proof (chain)\npicking this:\n  ab \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>", "obtain a b where \"ab = \\<langle>a, b\\<rangle>\" \n    and \"a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\" \n    and \"b \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\""], ["proof (prove)\nusing this:\n  ab \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>ab = \\<langle>a, b\\<rangle>;\n         a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>);\n         b \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                                (T\\<lparr>ArrVal\\<rparr>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (blast elim: ArrVal.vbrelation_vinE)"], ["proof (state)\nthis:\n  ab = \\<langle>a, b\\<rangle>\n  a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  b \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr> \\<times>\\<^sub>\\<circ>\n                             T\\<lparr>ArrCod\\<rparr>", "with arr_Rel_ArrVal_vdomain arr_Rel_ArrVal_vrange"], ["proof (chain)\npicking this:\n  \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr>\n  \\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrCod\\<rparr>\n  ab = \\<langle>a, b\\<rangle>\n  a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  b \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)", "show \n    \"ab \\<in>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr> \\<times>\\<^sub>\\<circ> T\\<lparr>ArrCod\\<rparr>\""], ["proof (prove)\nusing this:\n  \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr>\n  \\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrCod\\<rparr>\n  ab = \\<langle>a, b\\<rangle>\n  a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  b \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n\ngoal (1 subgoal):\n 1. ab \\<in>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr> \\<times>\\<^sub>\\<circ>\n                           T\\<lparr>ArrCod\\<rparr>", "by auto"], ["proof (state)\nthis:\n  ab \\<in>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr> \\<times>\\<^sub>\\<circ>\n                         T\\<lparr>ArrCod\\<rparr>\n\ngoal:\nNo subgoals!", "qed"], ["", "subsubsection\\<open>Composition\\<close>"], ["", "text\\<open>See Chapter I-7 in \\cite{mac_lane_categories_2010}.\\<close>"], ["", "definition comp_Rel :: \"V \\<Rightarrow> V \\<Rightarrow> V\" (infixl \\<open>\\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\\<close> 55)\n  where \"comp_Rel S T = [S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>, T\\<lparr>ArrDom\\<rparr>, S\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\""], ["", "text\\<open>Components.\\<close>"], ["", "lemma comp_Rel_components:\n  shows \"(S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr> = S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \n      \"(S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrDom\\<rparr> = T\\<lparr>ArrDom\\<rparr>\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]:\n      \"(S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrCod\\<rparr> = S\\<lparr>ArrCod\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr> =\n    S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ>\n    T\\<lparr>ArrVal\\<rparr> &&&\n    (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrDom\\<rparr> =\n    T\\<lparr>ArrDom\\<rparr> &&&\n    (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrCod\\<rparr> =\n    S\\<lparr>ArrCod\\<rparr>", "unfolding comp_Rel_def arr_field_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. [S\\<lparr>[]\\<^sub>\\<circ>\\<rparr> \\<circ>\\<^sub>\\<circ>\n     T\\<lparr>[]\\<^sub>\\<circ>\\<rparr>,\n     T\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n     S\\<lparr>2\\<^sub>\\<nat>\\<rparr>]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr> =\n    S\\<lparr>[]\\<^sub>\\<circ>\\<rparr> \\<circ>\\<^sub>\\<circ>\n    T\\<lparr>[]\\<^sub>\\<circ>\\<rparr> &&&\n    [S\\<lparr>[]\\<^sub>\\<circ>\\<rparr> \\<circ>\\<^sub>\\<circ>\n     T\\<lparr>[]\\<^sub>\\<circ>\\<rparr>,\n     T\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n     S\\<lparr>2\\<^sub>\\<nat>\\<rparr>]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr> =\n    T\\<lparr>1\\<^sub>\\<nat>\\<rparr> &&&\n    [S\\<lparr>[]\\<^sub>\\<circ>\\<rparr> \\<circ>\\<^sub>\\<circ>\n     T\\<lparr>[]\\<^sub>\\<circ>\\<rparr>,\n     T\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n     S\\<lparr>2\\<^sub>\\<nat>\\<rparr>]\\<^sub>\\<circ>\\<lparr>2\\<^sub>\\<nat>\\<rparr> =\n    S\\<lparr>2\\<^sub>\\<nat>\\<rparr>", "by (simp_all add: nat_omega_simps)"], ["", "text\\<open>Elementary properties.\\<close>"], ["", "lemma comp_Rel_vsv[dg_Rel_shared_cs_intros, dg_Rel_cs_intros]: \n  \"vsv (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)", "unfolding comp_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv [S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ>\n         T\\<lparr>ArrVal\\<rparr>,\n         T\\<lparr>ArrDom\\<rparr>, S\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>", "by auto"], ["", "lemma arr_Rel_comp_Rel[dg_Rel_cs_intros]:\n  assumes \"arr_Rel \\<alpha> S\" and \"arr_Rel \\<alpha> T\"\n  shows \"arr_Rel \\<alpha> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)", "interpret S: arr_Rel \\<alpha> S"], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> S", "by (rule assms(1))"], ["proof (state)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)", "interpret T: arr_Rel \\<alpha> T"], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> T", "by (rule assms(2))"], ["proof (state)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)", "proof(intro arr_RelI)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vfsequence (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\n 3. vbrelation ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n 4. vcard (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T) = 3\\<^sub>\\<nat>\n 5. \\<D>\\<^sub>\\<circ>\n     ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n                               T)\\<lparr>ArrDom\\<rparr>\n 6. \\<R>\\<^sub>\\<circ>\n     ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n                               T)\\<lparr>ArrCod\\<rparr>\n 7. (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrDom\\<rparr>\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 8. (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrCod\\<rparr>\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"vfsequence (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)", "unfolding comp_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence\n     [S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>,\n      T\\<lparr>ArrDom\\<rparr>, S\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>", "by simp"], ["proof (state)\nthis:\n  vfsequence (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\n\ngoal (7 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vbrelation ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n 3. vcard (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T) = 3\\<^sub>\\<nat>\n 4. \\<D>\\<^sub>\\<circ>\n     ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n                               T)\\<lparr>ArrDom\\<rparr>\n 5. \\<R>\\<^sub>\\<circ>\n     ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n                               T)\\<lparr>ArrCod\\<rparr>\n 6. (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrDom\\<rparr>\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 7. (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrCod\\<rparr>\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"vcard (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T) = 3\\<^sub>\\<nat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T) = 3\\<^sub>\\<nat>", "unfolding comp_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard\n     [S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>,\n      T\\<lparr>ArrDom\\<rparr>, S\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ> =\n    3\\<^sub>\\<nat>", "by (simp add: nat_omega_simps)"], ["proof (state)\nthis:\n  vcard (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T) = 3\\<^sub>\\<nat>\n\ngoal (6 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vbrelation ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n 3. \\<D>\\<^sub>\\<circ>\n     ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n                               T)\\<lparr>ArrDom\\<rparr>\n 4. \\<R>\\<^sub>\\<circ>\n     ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n                               T)\\<lparr>ArrCod\\<rparr>\n 5. (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrDom\\<rparr>\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 6. (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrCod\\<rparr>\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "from T.arr_Rel_ArrVal_vdomain"], ["proof (chain)\npicking this:\n  \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr>", "show \n      \"\\<D>\\<^sub>\\<circ> ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>) \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrDom\\<rparr>\""], ["proof (prove)\nusing this:\n  \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr>\n\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ>\n     ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n                               T)\\<lparr>ArrDom\\<rparr>", "unfolding comp_Rel_components"], ["proof (prove)\nusing this:\n  \\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr>\n\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ>\n     (S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr>", "by auto"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ>\n   ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n                             T)\\<lparr>ArrDom\\<rparr>\n\ngoal (5 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vbrelation ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n 3. \\<R>\\<^sub>\\<circ>\n     ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n                               T)\\<lparr>ArrCod\\<rparr>\n 4. (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrDom\\<rparr>\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 5. (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrCod\\<rparr>\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"\\<R>\\<^sub>\\<circ> ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>) \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrCod\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ>\n     ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n                               T)\\<lparr>ArrCod\\<rparr>", "unfolding comp_Rel_components"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ>\n     (S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> S\\<lparr>ArrCod\\<rparr>", "proof(intro vsubsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ>\n                               T\\<lparr>ArrVal\\<rparr>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> S\\<lparr>ArrCod\\<rparr>", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ>\n                               T\\<lparr>ArrVal\\<rparr>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> S\\<lparr>ArrCod\\<rparr>", "assume \"z \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>)\""], ["proof (state)\nthis:\n  z \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                         (S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ>\n                          T\\<lparr>ArrVal\\<rparr>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ>\n                               T\\<lparr>ArrVal\\<rparr>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> S\\<lparr>ArrCod\\<rparr>", "then"], ["proof (chain)\npicking this:\n  z \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                         (S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ>\n                          T\\<lparr>ArrVal\\<rparr>)", "obtain x y where \"\\<langle>y, z\\<rangle> \\<in>\\<^sub>\\<circ> S\\<lparr>ArrVal\\<rparr>\" and \"\\<langle>x, y\\<rangle> \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>\""], ["proof (prove)\nusing this:\n  z \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                         (S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ>\n                          T\\<lparr>ArrVal\\<rparr>)\n\ngoal (1 subgoal):\n 1. (\\<And>y x.\n        \\<lbrakk>\\<langle>y, z\\<rangle>\n                 \\<in>\\<^sub>\\<circ> S\\<lparr>ArrVal\\<rparr>;\n         \\<langle>x, y\\<rangle>\n         \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson vcomp_obtain_middle vrange_iff_vdomain)"], ["proof (state)\nthis:\n  \\<langle>y, z\\<rangle> \\<in>\\<^sub>\\<circ> S\\<lparr>ArrVal\\<rparr>\n  \\<langle>x, y\\<rangle> \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (S\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ>\n                               T\\<lparr>ArrVal\\<rparr>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> S\\<lparr>ArrCod\\<rparr>", "with S.arr_Rel_ArrVal_vrange"], ["proof (chain)\npicking this:\n  \\<R>\\<^sub>\\<circ> (S\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> S\\<lparr>ArrCod\\<rparr>\n  \\<langle>y, z\\<rangle> \\<in>\\<^sub>\\<circ> S\\<lparr>ArrVal\\<rparr>\n  \\<langle>x, y\\<rangle> \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>", "show \"z \\<in>\\<^sub>\\<circ> S\\<lparr>ArrCod\\<rparr>\""], ["proof (prove)\nusing this:\n  \\<R>\\<^sub>\\<circ> (S\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> S\\<lparr>ArrCod\\<rparr>\n  \\<langle>y, z\\<rangle> \\<in>\\<^sub>\\<circ> S\\<lparr>ArrVal\\<rparr>\n  \\<langle>x, y\\<rangle> \\<in>\\<^sub>\\<circ> T\\<lparr>ArrVal\\<rparr>\n\ngoal (1 subgoal):\n 1. z \\<in>\\<^sub>\\<circ> S\\<lparr>ArrCod\\<rparr>", "by auto"], ["proof (state)\nthis:\n  z \\<in>\\<^sub>\\<circ> S\\<lparr>ArrCod\\<rparr>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<R>\\<^sub>\\<circ>\n   ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n                             T)\\<lparr>ArrCod\\<rparr>\n\ngoal (4 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vbrelation ((S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrVal\\<rparr>)\n 3. (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrDom\\<rparr>\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 4. (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\\<lparr>ArrCod\\<rparr>\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "qed \n    (\n      auto simp: \n        comp_Rel_components T.arr_Rel_ArrDom_in_Vset S.arr_Rel_ArrCod_in_Vset\n    )"], ["proof (state)\nthis:\n  arr_Rel \\<alpha> (S \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma arr_Rel_comp_Rel_assoc[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]:\n  \"(H \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l G) \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F = H \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l (G \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l G \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F =\n    H \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l (G \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)", "by (simp add: comp_Rel_def vcomp_assoc arr_field_simps nat_omega_simps)"], ["", "subsubsection\\<open>Inclusion arrow\\<close>"], ["", "text\\<open>\nThe definition of the inclusion arrow is based on the concept of the \ninclusion map, e.g., see \\cite{noauthor_wikipedia_2001}\\footnote{\n\\url{https://en.wikipedia.org/wiki/Inclusion_map}\n}\\<close>"], ["", "definition \"incl_Rel A B = [vid_on A, A, B]\\<^sub>\\<circ>\""], ["", "text\\<open>Components.\\<close>"], ["", "lemma incl_Rel_components:\n  shows \"incl_Rel A B\\<lparr>ArrVal\\<rparr> = vid_on A\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \"incl_Rel A B\\<lparr>ArrDom\\<rparr> = A\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \"incl_Rel A B\\<lparr>ArrCod\\<rparr> = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. incl_Rel A B\\<lparr>ArrVal\\<rparr> = vid_on A &&&\n    incl_Rel A B\\<lparr>ArrDom\\<rparr> = A &&&\n    incl_Rel A B\\<lparr>ArrCod\\<rparr> = B", "unfolding incl_Rel_def arr_field_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. [vid_on A, A, B]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr> =\n    vid_on A &&&\n    [vid_on A, A, B]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr> = A &&&\n    [vid_on A, A, B]\\<^sub>\\<circ>\\<lparr>2\\<^sub>\\<nat>\\<rparr> = B", "by (simp_all add: nat_omega_simps)"], ["", "text\\<open>Arrow value.\\<close>"], ["", "lemma incl_Rel_ArrVal_vsv[dg_Rel_shared_cs_intros, dg_Rel_cs_intros]: \n  \"vsv (incl_Rel A B\\<lparr>ArrVal\\<rparr>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv (incl_Rel A B\\<lparr>ArrVal\\<rparr>)", "unfolding incl_Rel_components"], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv (vid_on A)", "by simp"], ["", "lemma incl_Rel_ArrVal_vdomain[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]:\n  \"\\<D>\\<^sub>\\<circ> (incl_Rel A B\\<lparr>ArrVal\\<rparr>) = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> (incl_Rel A B\\<lparr>ArrVal\\<rparr>) = A", "unfolding incl_Rel_components"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> (vid_on A) = A", "by simp"], ["", "lemma incl_Rel_ArrVal_app[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]:\n  assumes \"a \\<in>\\<^sub>\\<circ> A\"\n  shows \"incl_Rel A B\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr> = a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. incl_Rel A B\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr> = a", "using assms"], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. incl_Rel A B\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr> = a", "unfolding incl_Rel_components"], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. vid_on A\\<lparr>a\\<rparr> = a", "by simp"], ["", "text\\<open>Elementary properties.\\<close>"], ["", "lemma incl_Rel_vfsequence[dg_Rel_shared_cs_intros, dg_Rel_cs_intros]: \n  \"vfsequence (incl_Rel A B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence (incl_Rel A B)", "unfolding incl_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence [vid_on A, A, B]\\<^sub>\\<circ>", "by simp"], ["", "lemma incl_Rel_vcard[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \n  \"vcard (incl_Rel A B) = 3\\<^sub>\\<nat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard (incl_Rel A B) = 3\\<^sub>\\<nat>", "unfolding incl_Rel_def incl_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard [vid_on A, A, B]\\<^sub>\\<circ> = 3\\<^sub>\\<nat>", "by (simp add: nat_omega_simps)"], ["", "lemma (in \\<Z>) arr_Rel_incl_RelI:\n  assumes \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" and \"B \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" and \"A \\<subseteq>\\<^sub>\\<circ> B\"\n  shows \"arr_Rel \\<alpha> (incl_Rel A B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> (incl_Rel A B)", "proof(intro arr_RelI)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vfsequence (incl_Rel A B)\n 3. vbrelation (incl_Rel A B\\<lparr>ArrVal\\<rparr>)\n 4. vcard (incl_Rel A B) = 3\\<^sub>\\<nat>\n 5. \\<D>\\<^sub>\\<circ> (incl_Rel A B\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> incl_Rel A B\\<lparr>ArrDom\\<rparr>\n 6. \\<R>\\<^sub>\\<circ> (incl_Rel A B\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> incl_Rel A B\\<lparr>ArrCod\\<rparr>\n 7. incl_Rel A B\\<lparr>ArrDom\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 8. incl_Rel A B\\<lparr>ArrCod\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"vfsequence (incl_Rel A B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence (incl_Rel A B)", "unfolding incl_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence [vid_on A, A, B]\\<^sub>\\<circ>", "by simp"], ["proof (state)\nthis:\n  vfsequence (incl_Rel A B)\n\ngoal (7 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vbrelation (incl_Rel A B\\<lparr>ArrVal\\<rparr>)\n 3. vcard (incl_Rel A B) = 3\\<^sub>\\<nat>\n 4. \\<D>\\<^sub>\\<circ> (incl_Rel A B\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> incl_Rel A B\\<lparr>ArrDom\\<rparr>\n 5. \\<R>\\<^sub>\\<circ> (incl_Rel A B\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> incl_Rel A B\\<lparr>ArrCod\\<rparr>\n 6. incl_Rel A B\\<lparr>ArrDom\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 7. incl_Rel A B\\<lparr>ArrCod\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"vcard (incl_Rel A B) = 3\\<^sub>\\<nat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard (incl_Rel A B) = 3\\<^sub>\\<nat>", "unfolding incl_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard [vid_on A, A, B]\\<^sub>\\<circ> = 3\\<^sub>\\<nat>", "by (simp add: nat_omega_simps)"], ["proof (state)\nthis:\n  vcard (incl_Rel A B) = 3\\<^sub>\\<nat>\n\ngoal (6 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vbrelation (incl_Rel A B\\<lparr>ArrVal\\<rparr>)\n 3. \\<D>\\<^sub>\\<circ> (incl_Rel A B\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> incl_Rel A B\\<lparr>ArrDom\\<rparr>\n 4. \\<R>\\<^sub>\\<circ> (incl_Rel A B\\<lparr>ArrVal\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> incl_Rel A B\\<lparr>ArrCod\\<rparr>\n 5. incl_Rel A B\\<lparr>ArrDom\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 6. incl_Rel A B\\<lparr>ArrCod\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "qed (auto simp: incl_Rel_components assms)"], ["", "subsubsection\\<open>Identity\\<close>"], ["", "text\\<open>See Chapter I-7 in \\cite{mac_lane_categories_2010}.\\<close>"], ["", "definition id_Rel :: \"V \\<Rightarrow> V\"\n  where \"id_Rel A = incl_Rel A A\""], ["", "text\\<open>Components.\\<close>"], ["", "lemma id_Rel_components:\n  shows \"id_Rel A\\<lparr>ArrVal\\<rparr> = vid_on A\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \"id_Rel A\\<lparr>ArrDom\\<rparr> = A\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \"id_Rel A\\<lparr>ArrCod\\<rparr> = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. id_Rel A\\<lparr>ArrVal\\<rparr> = vid_on A &&&\n    id_Rel A\\<lparr>ArrDom\\<rparr> = A &&&\n    id_Rel A\\<lparr>ArrCod\\<rparr> = A", "unfolding id_Rel_def incl_Rel_components"], ["proof (prove)\ngoal (1 subgoal):\n 1. vid_on A = vid_on A &&& A = A &&& A = A", "by simp_all"], ["", "text\\<open>Elementary properties.\\<close>"], ["", "lemma id_Rel_vfsequence[dg_Rel_shared_cs_intros, dg_Rel_cs_intros]: \n  \"vfsequence (id_Rel A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence (id_Rel A)", "unfolding id_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence (incl_Rel A A)", "by (simp add: dg_Rel_cs_intros)"], ["", "lemma id_Rel_vcard[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \n  \"vcard (id_Rel A) = 3\\<^sub>\\<nat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard (id_Rel A) = 3\\<^sub>\\<nat>", "unfolding id_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard (incl_Rel A A) = 3\\<^sub>\\<nat>", "by (simp add: dg_Rel_cs_simps)"], ["", "lemma (in \\<Z>) arr_Rel_id_RelI:\n  assumes \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"arr_Rel \\<alpha> (id_Rel A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> (id_Rel A)", "by (intro arr_RelI)\n    (auto simp: id_Rel_components(1) assms dg_Rel_cs_intros dg_Rel_cs_simps)"], ["", "lemma id_Rel_ArrVal_app[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]:\n  assumes \"a \\<in>\\<^sub>\\<circ> A\"\n  shows \"id_Rel A\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr> = a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. id_Rel A\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr> = a", "using assms"], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. id_Rel A\\<lparr>ArrVal\\<rparr>\\<lparr>a\\<rparr> = a", "unfolding id_Rel_components"], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. vid_on A\\<lparr>a\\<rparr> = a", "by simp"], ["", "lemma arr_Rel_comp_Rel_id_Rel_left[dg_Rel_cs_simps]:\n  assumes \"arr_Rel \\<alpha> F\" and \"F\\<lparr>ArrCod\\<rparr> = A\"\n  shows \"id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F = F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F = F", "proof(rule arr_Rel_eqI [of \\<alpha>])"], ["proof (state)\ngoal (5 subgoals):\n 1. arr_Rel \\<alpha> (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\n 2. arr_Rel \\<alpha> F\n 3. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrVal\\<rparr> =\n    F\\<lparr>ArrVal\\<rparr>\n 4. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrDom\\<rparr> =\n    F\\<lparr>ArrDom\\<rparr>\n 5. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrCod\\<rparr> =\n    F\\<lparr>ArrCod\\<rparr>", "interpret F: arr_Rel \\<alpha> F"], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> F", "by (rule assms(1))"], ["proof (state)\ngoal (5 subgoals):\n 1. arr_Rel \\<alpha> (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\n 2. arr_Rel \\<alpha> F\n 3. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrVal\\<rparr> =\n    F\\<lparr>ArrVal\\<rparr>\n 4. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrDom\\<rparr> =\n    F\\<lparr>ArrDom\\<rparr>\n 5. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrCod\\<rparr> =\n    F\\<lparr>ArrCod\\<rparr>", "from assms(2)"], ["proof (chain)\npicking this:\n  F\\<lparr>ArrCod\\<rparr> = A", "have \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\nusing this:\n  F\\<lparr>ArrCod\\<rparr> = A\n\ngoal (1 subgoal):\n 1. A \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "by (auto intro: F.arr_Rel_ArrCod_in_Vset)"], ["proof (state)\nthis:\n  A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (5 subgoals):\n 1. arr_Rel \\<alpha> (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\n 2. arr_Rel \\<alpha> F\n 3. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrVal\\<rparr> =\n    F\\<lparr>ArrVal\\<rparr>\n 4. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrDom\\<rparr> =\n    F\\<lparr>ArrDom\\<rparr>\n 5. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrCod\\<rparr> =\n    F\\<lparr>ArrCod\\<rparr>", "with assms(1)"], ["proof (chain)\npicking this:\n  arr_Rel \\<alpha> F\n  A \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"arr_Rel \\<alpha> (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\""], ["proof (prove)\nusing this:\n  arr_Rel \\<alpha> F\n  A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)", "by (blast intro: F.arr_Rel_id_RelI intro!: arr_Rel_comp_Rel)"], ["proof (state)\nthis:\n  arr_Rel \\<alpha> (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\n\ngoal (4 subgoals):\n 1. arr_Rel \\<alpha> F\n 2. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrVal\\<rparr> =\n    F\\<lparr>ArrVal\\<rparr>\n 3. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrDom\\<rparr> =\n    F\\<lparr>ArrDom\\<rparr>\n 4. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrCod\\<rparr> =\n    F\\<lparr>ArrCod\\<rparr>", "from assms(2) F.arr_Rel_ArrVal_vrange"], ["proof (chain)\npicking this:\n  F\\<lparr>ArrCod\\<rparr> = A\n  \\<R>\\<^sub>\\<circ> (F\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> F\\<lparr>ArrCod\\<rparr>", "show  \n    \"(id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrVal\\<rparr> = F\\<lparr>ArrVal\\<rparr>\""], ["proof (prove)\nusing this:\n  F\\<lparr>ArrCod\\<rparr> = A\n  \\<R>\\<^sub>\\<circ> (F\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> F\\<lparr>ArrCod\\<rparr>\n\ngoal (1 subgoal):\n 1. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrVal\\<rparr> =\n    F\\<lparr>ArrVal\\<rparr>", "unfolding comp_Rel_components id_Rel_components"], ["proof (prove)\nusing this:\n  F\\<lparr>ArrCod\\<rparr> = A\n  \\<R>\\<^sub>\\<circ> (F\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> F\\<lparr>ArrCod\\<rparr>\n\ngoal (1 subgoal):\n 1. vid_on A \\<circ>\\<^sub>\\<circ> F\\<lparr>ArrVal\\<rparr> =\n    F\\<lparr>ArrVal\\<rparr>", "by auto"], ["proof (state)\nthis:\n  (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrVal\\<rparr> =\n  F\\<lparr>ArrVal\\<rparr>\n\ngoal (3 subgoals):\n 1. arr_Rel \\<alpha> F\n 2. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrDom\\<rparr> =\n    F\\<lparr>ArrDom\\<rparr>\n 3. (id_Rel A \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F)\\<lparr>ArrCod\\<rparr> =\n    F\\<lparr>ArrCod\\<rparr>", "qed \n  (\n    use assms(2) in \n      \\<open>auto simp: assms(1) comp_Rel_components id_Rel_components\\<close>\n  )"], ["", "lemma arr_Rel_comp_Rel_id_Rel_right[dg_Rel_cs_simps]:\n  assumes \"arr_Rel \\<alpha> F\" and \"F\\<lparr>ArrDom\\<rparr> = A\"\n  shows \"F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A = F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A = F", "proof(rule arr_Rel_eqI[of \\<alpha>])"], ["proof (state)\ngoal (5 subgoals):\n 1. arr_Rel \\<alpha> (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\n 2. arr_Rel \\<alpha> F\n 3. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrVal\\<rparr> =\n    F\\<lparr>ArrVal\\<rparr>\n 4. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrDom\\<rparr> =\n    F\\<lparr>ArrDom\\<rparr>\n 5. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrCod\\<rparr> =\n    F\\<lparr>ArrCod\\<rparr>", "interpret F: arr_Rel \\<alpha> F"], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> F", "by (rule assms(1))"], ["proof (state)\ngoal (5 subgoals):\n 1. arr_Rel \\<alpha> (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\n 2. arr_Rel \\<alpha> F\n 3. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrVal\\<rparr> =\n    F\\<lparr>ArrVal\\<rparr>\n 4. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrDom\\<rparr> =\n    F\\<lparr>ArrDom\\<rparr>\n 5. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrCod\\<rparr> =\n    F\\<lparr>ArrCod\\<rparr>", "from assms(2)"], ["proof (chain)\npicking this:\n  F\\<lparr>ArrDom\\<rparr> = A", "have \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\nusing this:\n  F\\<lparr>ArrDom\\<rparr> = A\n\ngoal (1 subgoal):\n 1. A \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "by (auto intro: F.arr_Rel_ArrDom_in_Vset)"], ["proof (state)\nthis:\n  A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (5 subgoals):\n 1. arr_Rel \\<alpha> (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\n 2. arr_Rel \\<alpha> F\n 3. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrVal\\<rparr> =\n    F\\<lparr>ArrVal\\<rparr>\n 4. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrDom\\<rparr> =\n    F\\<lparr>ArrDom\\<rparr>\n 5. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrCod\\<rparr> =\n    F\\<lparr>ArrCod\\<rparr>", "with assms(1)"], ["proof (chain)\npicking this:\n  arr_Rel \\<alpha> F\n  A \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"arr_Rel \\<alpha> (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\""], ["proof (prove)\nusing this:\n  arr_Rel \\<alpha> F\n  A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)", "by (blast intro: F.arr_Rel_id_RelI intro!: arr_Rel_comp_Rel)"], ["proof (state)\nthis:\n  arr_Rel \\<alpha> (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\n\ngoal (4 subgoals):\n 1. arr_Rel \\<alpha> F\n 2. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrVal\\<rparr> =\n    F\\<lparr>ArrVal\\<rparr>\n 3. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrDom\\<rparr> =\n    F\\<lparr>ArrDom\\<rparr>\n 4. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrCod\\<rparr> =\n    F\\<lparr>ArrCod\\<rparr>", "show \"arr_Rel \\<alpha> F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> F", "by (simp add: assms(1))"], ["proof (state)\nthis:\n  arr_Rel \\<alpha> F\n\ngoal (3 subgoals):\n 1. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrVal\\<rparr> =\n    F\\<lparr>ArrVal\\<rparr>\n 2. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrDom\\<rparr> =\n    F\\<lparr>ArrDom\\<rparr>\n 3. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrCod\\<rparr> =\n    F\\<lparr>ArrCod\\<rparr>", "from assms(2) F.arr_Rel_ArrVal_vdomain"], ["proof (chain)\npicking this:\n  F\\<lparr>ArrDom\\<rparr> = A\n  \\<D>\\<^sub>\\<circ> (F\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> F\\<lparr>ArrDom\\<rparr>", "show  \n    \"(F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrVal\\<rparr> = F\\<lparr>ArrVal\\<rparr>\""], ["proof (prove)\nusing this:\n  F\\<lparr>ArrDom\\<rparr> = A\n  \\<D>\\<^sub>\\<circ> (F\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> F\\<lparr>ArrDom\\<rparr>\n\ngoal (1 subgoal):\n 1. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrVal\\<rparr> =\n    F\\<lparr>ArrVal\\<rparr>", "unfolding comp_Rel_components id_Rel_components"], ["proof (prove)\nusing this:\n  F\\<lparr>ArrDom\\<rparr> = A\n  \\<D>\\<^sub>\\<circ> (F\\<lparr>ArrVal\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> F\\<lparr>ArrDom\\<rparr>\n\ngoal (1 subgoal):\n 1. F\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ> vid_on A =\n    F\\<lparr>ArrVal\\<rparr>", "by auto"], ["proof (state)\nthis:\n  (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrVal\\<rparr> =\n  F\\<lparr>ArrVal\\<rparr>\n\ngoal (2 subgoals):\n 1. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrDom\\<rparr> =\n    F\\<lparr>ArrDom\\<rparr>\n 2. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l id_Rel A)\\<lparr>ArrCod\\<rparr> =\n    F\\<lparr>ArrCod\\<rparr>", "qed (use assms(2) in \\<open>auto simp: comp_Rel_components id_Rel_components\\<close>)"], ["", "subsubsection\\<open>Converse\\<close>"], ["", "text\\<open>\nAs mentioned in Chapter I-7 in \\cite{mac_lane_categories_2010}, the \ncategory \\<open>Rel\\<close> is usually equipped with an additional structure that is\nthe operation of taking a converse of a relation.\nThe operation is meant to be used almost exclusively as part of \nthe dagger functor for \\<open>Rel\\<close>.\n\\<close>"], ["", "definition converse_Rel :: \"V \\<Rightarrow> V\" (\"(_\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\" [1000] 999)\n  where \"converse_Rel T = [(T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>, T\\<lparr>ArrCod\\<rparr>, T\\<lparr>ArrDom\\<rparr>]\\<^sub>\\<circ>\""], ["", "lemma converse_Rel_components:\n  shows \"T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrVal\\<rparr> = (T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \"T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrDom\\<rparr> = T\\<lparr>ArrCod\\<rparr>\"\n    and [dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \"T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrCod\\<rparr> = T\\<lparr>ArrDom\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrVal\\<rparr> =\n    (T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ> &&&\n    T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrDom\\<rparr> =\n    T\\<lparr>ArrCod\\<rparr> &&&\n    T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrCod\\<rparr> =\n    T\\<lparr>ArrDom\\<rparr>", "unfolding converse_Rel_def arr_field_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. [(T\\<lparr>[]\\<^sub>\\<circ>\\<rparr>)\\<inverse>\\<^sub>\\<circ>,\n     T\\<lparr>2\\<^sub>\\<nat>\\<rparr>,\n     T\\<lparr>1\\<^sub>\\<nat>\\<rparr>]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr> =\n    (T\\<lparr>[]\\<^sub>\\<circ>\\<rparr>)\\<inverse>\\<^sub>\\<circ> &&&\n    [(T\\<lparr>[]\\<^sub>\\<circ>\\<rparr>)\\<inverse>\\<^sub>\\<circ>,\n     T\\<lparr>2\\<^sub>\\<nat>\\<rparr>,\n     T\\<lparr>1\\<^sub>\\<nat>\\<rparr>]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr> =\n    T\\<lparr>2\\<^sub>\\<nat>\\<rparr> &&&\n    [(T\\<lparr>[]\\<^sub>\\<circ>\\<rparr>)\\<inverse>\\<^sub>\\<circ>,\n     T\\<lparr>2\\<^sub>\\<nat>\\<rparr>,\n     T\\<lparr>1\\<^sub>\\<nat>\\<rparr>]\\<^sub>\\<circ>\\<lparr>2\\<^sub>\\<nat>\\<rparr> =\n    T\\<lparr>1\\<^sub>\\<nat>\\<rparr>", "by (simp_all add: nat_omega_simps)"], ["", "text\\<open>Elementary properties.\\<close>"], ["", "lemma (in arr_Rel) arr_Rel_converse_Rel: \"arr_Rel \\<alpha> (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)", "proof(rule arr_RelI, unfold converse_Rel_components)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vfsequence (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\n 3. vbrelation ((T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>)\n 4. vcard (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l) = 3\\<^sub>\\<nat>\n 5. \\<D>\\<^sub>\\<circ> ((T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>)\n    \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrCod\\<rparr>\n 6. \\<R>\\<^sub>\\<circ> ((T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>)\n    \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr>\n 7. T\\<lparr>ArrCod\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 8. T\\<lparr>ArrDom\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"vfsequence (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)", "unfolding converse_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence\n     [(T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>,\n      T\\<lparr>ArrCod\\<rparr>, T\\<lparr>ArrDom\\<rparr>]\\<^sub>\\<circ>", "by simp"], ["proof (state)\nthis:\n  vfsequence (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\n\ngoal (7 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vbrelation ((T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>)\n 3. vcard (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l) = 3\\<^sub>\\<nat>\n 4. \\<D>\\<^sub>\\<circ> ((T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>)\n    \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrCod\\<rparr>\n 5. \\<R>\\<^sub>\\<circ> ((T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>)\n    \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr>\n 6. T\\<lparr>ArrCod\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 7. T\\<lparr>ArrDom\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"vcard (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l) = 3\\<^sub>\\<nat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l) = 3\\<^sub>\\<nat>", "unfolding converse_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard\n     [(T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>,\n      T\\<lparr>ArrCod\\<rparr>, T\\<lparr>ArrDom\\<rparr>]\\<^sub>\\<circ> =\n    3\\<^sub>\\<nat>", "by (simp add: nat_omega_simps)"], ["proof (state)\nthis:\n  vcard (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l) = 3\\<^sub>\\<nat>\n\ngoal (6 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vbrelation ((T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>)\n 3. \\<D>\\<^sub>\\<circ> ((T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>)\n    \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrCod\\<rparr>\n 4. \\<R>\\<^sub>\\<circ> ((T\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>)\n    \\<subseteq>\\<^sub>\\<circ> T\\<lparr>ArrDom\\<rparr>\n 5. T\\<lparr>ArrCod\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 6. T\\<lparr>ArrDom\\<rparr> \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "qed \n  (\n    auto simp: \n      converse_Rel_components(1)   \n      arr_Rel_ArrDom_in_Vset \n      arr_Rel_ArrCod_in_Vset\n      arr_Rel_ArrVal_vdomain\n      arr_Rel_ArrVal_vrange\n  )"], ["", "lemmas [dg_Rel_cs_intros] = \n  arr_Rel.arr_Rel_converse_Rel"], ["", "lemma (in arr_Rel) \n  arr_Rel_converse_Rel_converse_Rel[dg_Rel_shared_cs_simps, dg_Rel_cs_simps]: \n  \"(T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n    T", "proof(rule arr_Rel_eqI)"], ["proof (state)\ngoal (5 subgoals):\n 1. arr_Rel ?\\<alpha>\n     ((T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\n 2. arr_Rel ?\\<alpha> T\n 3. (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrVal\\<rparr> =\n    T\\<lparr>ArrVal\\<rparr>\n 4. (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrDom\\<rparr> =\n    T\\<lparr>ArrDom\\<rparr>\n 5. (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrCod\\<rparr> =\n    T\\<lparr>ArrCod\\<rparr>", "from arr_Rel_axioms"], ["proof (chain)\npicking this:\n  arr_Rel \\<alpha> T", "show \"arr_Rel \\<alpha> ((T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\""], ["proof (prove)\nusing this:\n  arr_Rel \\<alpha> T\n\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha>\n     ((T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)", "by (cs_intro_step dg_Rel_cs_intros)+"], ["proof (state)\nthis:\n  arr_Rel \\<alpha>\n   ((T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\n\ngoal (4 subgoals):\n 1. arr_Rel \\<alpha> T\n 2. (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrVal\\<rparr> =\n    T\\<lparr>ArrVal\\<rparr>\n 3. (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrDom\\<rparr> =\n    T\\<lparr>ArrDom\\<rparr>\n 4. (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<lparr>ArrCod\\<rparr> =\n    T\\<lparr>ArrCod\\<rparr>", "qed (simp_all add: arr_Rel_axioms converse_Rel_components)"], ["", "lemmas [dg_Rel_cs_simps] = \n  arr_Rel.arr_Rel_converse_Rel_converse_Rel"], ["", "lemma arr_Rel_converse_Rel_eq_iff[dg_Rel_cs_simps]:\n  assumes \"arr_Rel \\<alpha> F\" and \"arr_Rel \\<alpha> G\"\n  shows \"F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<longleftrightarrow> F = G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n     G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l) =\n    (F = G)", "proof(rule iffI)"], ["proof (state)\ngoal (2 subgoals):\n 1. F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n    G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<Longrightarrow>\n    F = G\n 2. F = G \\<Longrightarrow>\n    F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n    G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l", "show \"F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<Longrightarrow> F = G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n    G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<Longrightarrow>\n    F = G", "by (metis arr_Rel.arr_Rel_converse_Rel_converse_Rel assms)"], ["proof (state)\nthis:\n  F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n  G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<Longrightarrow>\n  F = G\n\ngoal (1 subgoal):\n 1. F = G \\<Longrightarrow>\n    F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n    G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l", "qed simp"], ["", "lemma arr_Rel_converse_Rel_comp_Rel[dg_Rel_cs_simps]:\n  assumes \"arr_Rel \\<alpha> G\" and \"arr_Rel \\<alpha> F\"\n  shows \"(F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l G)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n     G)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n    G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n    F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l", "proof(rule arr_Rel_eqI, unfold converse_Rel_components comp_Rel_components)"], ["proof (state)\ngoal (5 subgoals):\n 1. arr_Rel ?\\<alpha>\n     ((F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n       G)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\n 2. arr_Rel ?\\<alpha>\n     (G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n      F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\n 3. (F\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ>\n     G\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ> =\n    (G\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ> \\<circ>\\<^sub>\\<circ>\n    (F\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>\n 4. F\\<lparr>ArrCod\\<rparr> = F\\<lparr>ArrCod\\<rparr>\n 5. G\\<lparr>ArrDom\\<rparr> = G\\<lparr>ArrDom\\<rparr>", "from assms"], ["proof (chain)\npicking this:\n  arr_Rel \\<alpha> G\n  arr_Rel \\<alpha> F", "show \"arr_Rel \\<alpha> (G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\""], ["proof (prove)\nusing this:\n  arr_Rel \\<alpha> G\n  arr_Rel \\<alpha> F\n\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha>\n     (G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n      F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)", "by (cs_concl cs_intro: dg_Rel_cs_intros)"], ["proof (state)\nthis:\n  arr_Rel \\<alpha>\n   (G\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n    F\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\n\ngoal (4 subgoals):\n 1. arr_Rel \\<alpha>\n     ((F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n       G)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\n 2. (F\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ>\n     G\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ> =\n    (G\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ> \\<circ>\\<^sub>\\<circ>\n    (F\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>\n 3. F\\<lparr>ArrCod\\<rparr> = F\\<lparr>ArrCod\\<rparr>\n 4. G\\<lparr>ArrDom\\<rparr> = G\\<lparr>ArrDom\\<rparr>", "from assms"], ["proof (chain)\npicking this:\n  arr_Rel \\<alpha> G\n  arr_Rel \\<alpha> F", "show \"arr_Rel \\<alpha> ((F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l G)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\""], ["proof (prove)\nusing this:\n  arr_Rel \\<alpha> G\n  arr_Rel \\<alpha> F\n\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha>\n     ((F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l\n       G)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)", "by (cs_intro_step dg_Rel_cs_intros)+"], ["proof (state)\nthis:\n  arr_Rel \\<alpha>\n   ((F \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l G)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\n\ngoal (3 subgoals):\n 1. (F\\<lparr>ArrVal\\<rparr> \\<circ>\\<^sub>\\<circ>\n     G\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ> =\n    (G\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ> \\<circ>\\<^sub>\\<circ>\n    (F\\<lparr>ArrVal\\<rparr>)\\<inverse>\\<^sub>\\<circ>\n 2. F\\<lparr>ArrCod\\<rparr> = F\\<lparr>ArrCod\\<rparr>\n 3. G\\<lparr>ArrDom\\<rparr> = G\\<lparr>ArrDom\\<rparr>", "qed (simp_all add: vconverse_vcomp)"], ["", "lemma (in \\<Z>) arr_Rel_converse_Rel_id_Rel: \n  assumes \"c \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"arr_Rel \\<alpha> ((id_Rel c)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> ((id_Rel c)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)", "using assms \\<Z>_axioms"], ["proof (prove)\nusing this:\n  c \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  \\<Z> \\<alpha>\n\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> ((id_Rel c)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)", "by (cs_concl cs_intro: dg_Rel_cs_intros arr_Rel_id_RelI)+"], ["", "lemma (in \\<Z>) arr_Rel_converse_Rel_id_Rel_eq_id_Rel[\n    dg_Rel_shared_cs_simps, dg_Rel_cs_simps\n    ]: \n  assumes \"c \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"(id_Rel c)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = id_Rel c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (id_Rel c)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = id_Rel c", "by (rule arr_Rel_eqI[of \\<alpha>], unfold converse_Rel_components id_Rel_components)\n    (simp_all add: assms arr_Rel_id_RelI arr_Rel_converse_Rel_id_Rel)"], ["", "lemmas [dg_Rel_shared_cs_simps, dg_Rel_cs_simps] = \n  \\<Z>.arr_Rel_converse_Rel_id_Rel_eq_id_Rel"], ["", "lemma arr_Rel_comp_Rel_converse_Rel_left_if_v11[dg_Rel_cs_simps]:\n  assumes \"arr_Rel \\<alpha> T\" \n    and \"\\<D>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>) = A\"\n    and \"T\\<lparr>ArrDom\\<rparr> = A\"\n    and \"v11 (T\\<lparr>ArrVal\\<rparr>)\" \n    and \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T = id_Rel A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T =\n    id_Rel A", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T =\n    id_Rel A", "interpret T: arr_Rel \\<alpha> T"], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> T", "by (rule assms(1))"], ["proof (state)\ngoal (1 subgoal):\n 1. T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T =\n    id_Rel A", "interpret v11: v11 \\<open>T\\<lparr>ArrVal\\<rparr>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. v11 (T\\<lparr>ArrVal\\<rparr>)", "by (rule assms(4))"], ["proof (state)\ngoal (1 subgoal):\n 1. T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T =\n    id_Rel A", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T =\n    id_Rel A", "by (rule arr_Rel_eqI[of \\<alpha>])\n      (\n        auto simp: \n          converse_Rel_components \n          comp_Rel_components \n          id_Rel_components \n          assms(1,3,5)\n          arr_Rel.arr_Rel_converse_Rel \n          arr_Rel_comp_Rel  \n          T.arr_Rel_id_RelI\n          v11.v11_vcomp_vconverse[unfolded assms(2)] \n      )"], ["proof (state)\nthis:\n  T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T =\n  id_Rel A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma arr_Rel_comp_Rel_converse_Rel_right_if_v11[dg_Rel_cs_simps]:\n  assumes \"arr_Rel \\<alpha> T\" \n    and \"\\<R>\\<^sub>\\<circ> (T\\<lparr>ArrVal\\<rparr>) = A\"\n    and \"T\\<lparr>ArrCod\\<rparr> = A\"\n    and \"v11 (T\\<lparr>ArrVal\\<rparr>)\" \n    and \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"T \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = id_Rel A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n    id_Rel A", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. T \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n    id_Rel A", "interpret T: arr_Rel \\<alpha> T"], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> T", "by (rule assms(1))"], ["proof (state)\ngoal (1 subgoal):\n 1. T \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n    id_Rel A", "interpret v11: v11 \\<open>T\\<lparr>ArrVal\\<rparr>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. v11 (T\\<lparr>ArrVal\\<rparr>)", "by (rule assms(4))"], ["proof (state)\ngoal (1 subgoal):\n 1. T \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n    id_Rel A", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. T \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n    id_Rel A", "by (rule arr_Rel_eqI[of \\<alpha>])\n      (\n        auto simp: \n          assms(1,3,5)\n          comp_Rel_components \n          converse_Rel_components \n          id_Rel_components \n          v11.v11_vcomp_vconverse'[unfolded assms(2)] \n          T.arr_Rel_id_RelI \n          arr_Rel.arr_Rel_converse_Rel\n          arr_Rel_comp_Rel \n      )"], ["proof (state)\nthis:\n  T \\<circ>\\<^sub>R\\<^sub>e\\<^sub>l T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n  id_Rel A\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>\\<open>Rel\\<close> as a digraph\\<close>"], ["", "subsubsection\\<open>Definition and elementary properties\\<close>"], ["", "definition dg_Rel :: \"V \\<Rightarrow> V\"\n  where \"dg_Rel \\<alpha> =\n    [\n      Vset \\<alpha>,\n      set {T. arr_Rel \\<alpha> T},\n      (\\<lambda>T\\<in>\\<^sub>\\<circ>set {T. arr_Rel \\<alpha> T}. T\\<lparr>ArrDom\\<rparr>),\n      (\\<lambda>T\\<in>\\<^sub>\\<circ>set {T. arr_Rel \\<alpha> T}. T\\<lparr>ArrCod\\<rparr>)\n    ]\\<^sub>\\<circ>\""], ["", "text\\<open>Components.\\<close>"], ["", "lemma dg_Rel_components:\n  shows \"dg_Rel \\<alpha>\\<lparr>Obj\\<rparr> = Vset \\<alpha>\"\n    and \"dg_Rel \\<alpha>\\<lparr>Arr\\<rparr> = set {T. arr_Rel \\<alpha> T}\"\n    and \"dg_Rel \\<alpha>\\<lparr>Dom\\<rparr> = (\\<lambda>T\\<in>\\<^sub>\\<circ>set {T. arr_Rel \\<alpha> T}. T\\<lparr>ArrDom\\<rparr>)\"\n    and \"dg_Rel \\<alpha>\\<lparr>Cod\\<rparr> = (\\<lambda>T\\<in>\\<^sub>\\<circ>set {T. arr_Rel \\<alpha> T}. T\\<lparr>ArrCod\\<rparr>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (dg_Rel \\<alpha>\\<lparr>Obj\\<rparr> = Vset \\<alpha> &&&\n     dg_Rel \\<alpha>\\<lparr>Arr\\<rparr> =\n     ZFC_in_HOL.set {T. arr_Rel \\<alpha> T}) &&&\n    dg_Rel \\<alpha>\\<lparr>Dom\\<rparr> =\n    (\\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set {T. arr_Rel \\<alpha> T}.\n        T\\<lparr>ArrDom\\<rparr>) &&&\n    dg_Rel \\<alpha>\\<lparr>Cod\\<rparr> =\n    (\\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set {T. arr_Rel \\<alpha> T}.\n        T\\<lparr>ArrCod\\<rparr>)", "unfolding dg_Rel_def dg_field_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. ([Vset \\<alpha>, ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>)),\n      \\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                    (Collect (arr_Rel \\<alpha>)).\n         T\\<lparr>ArrDom\\<rparr>,\n      \\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                    (Collect (arr_Rel \\<alpha>)).\n         T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr> =\n     Vset \\<alpha> &&&\n     [Vset \\<alpha>, ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>)),\n      \\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                    (Collect (arr_Rel \\<alpha>)).\n         T\\<lparr>ArrDom\\<rparr>,\n      \\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                    (Collect (arr_Rel \\<alpha>)).\n         T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr> =\n     ZFC_in_HOL.set {T. arr_Rel \\<alpha> T}) &&&\n    [Vset \\<alpha>, ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>)),\n     \\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                   (Collect (arr_Rel \\<alpha>)).\n        T\\<lparr>ArrDom\\<rparr>,\n     \\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                   (Collect (arr_Rel \\<alpha>)).\n        T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\\<lparr>2\\<^sub>\\<nat>\\<rparr> =\n    (\\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set {T. arr_Rel \\<alpha> T}.\n        T\\<lparr>ArrDom\\<rparr>) &&&\n    [Vset \\<alpha>, ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>)),\n     \\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                   (Collect (arr_Rel \\<alpha>)).\n        T\\<lparr>ArrDom\\<rparr>,\n     \\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                   (Collect (arr_Rel \\<alpha>)).\n        T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>\\<lparr>3\\<^sub>\\<nat>\\<rparr> =\n    (\\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set {T. arr_Rel \\<alpha> T}.\n        T\\<lparr>ArrCod\\<rparr>)", "by (simp_all add: nat_omega_simps)"], ["", "subsubsection\\<open>Object\\<close>"], ["", "lemma dg_Rel_Obj_iff: \"x \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr> \\<longleftrightarrow> x \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>) =\n    (x \\<in>\\<^sub>\\<circ> Vset \\<alpha>)", "unfolding dg_Rel_components"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in>\\<^sub>\\<circ> Vset \\<alpha>) =\n    (x \\<in>\\<^sub>\\<circ> Vset \\<alpha>)", "by auto"], ["", "subsubsection\\<open>Arrow\\<close>"], ["", "lemma dg_Rel_Arr_iff[dg_Rel_cs_simps]: \"x \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr> \\<longleftrightarrow> arr_Rel \\<alpha> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) =\n    arr_Rel \\<alpha> x", "unfolding dg_Rel_components"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>))) =\n    arr_Rel \\<alpha> x", "by auto"], ["", "subsubsection\\<open>Domain\\<close>"], ["", "mk_VLambda dg_Rel_components(3)\n  |vsv dg_Rel_Dom_vsv[dg_Rel_cs_intros]|\n  |vdomain dg_Rel_Dom_vdomain[dg_Rel_cs_simps]|\n  |app dg_Rel_Dom_app[unfolded set_Collect_arr_Rel, dg_Rel_cs_simps]|"], ["", "lemma dg_Rel_Dom_vrange: \"\\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>) \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>", "unfolding dg_Rel_components"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ>\n     (\\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                    (Collect (arr_Rel \\<alpha>)).\n         T\\<lparr>ArrDom\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> Vset \\<alpha>", "by (rule vrange_VLambda_vsubset, unfold set_Collect_arr_Rel) auto"], ["", "subsubsection\\<open>Codomain\\<close>"], ["", "mk_VLambda dg_Rel_components(4)\n  |vsv dg_Rel_Cod_vsv[dg_Rel_cs_intros]|\n  |vdomain dg_Rel_Cod_vdomain[dg_Rel_cs_simps]|\n  |app dg_Rel_Cod_app[unfolded set_Collect_arr_Rel, dg_Rel_cs_simps]|"], ["", "lemma dg_Rel_Cod_vrange: \"\\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>) \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>", "unfolding dg_Rel_components"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ>\n     (\\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                    (Collect (arr_Rel \\<alpha>)).\n         T\\<lparr>ArrCod\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> Vset \\<alpha>", "by (rule vrange_VLambda_vsubset, unfold set_Collect_arr_Rel) auto"], ["", "subsubsection\\<open>Arrow with a domain and a codomain\\<close>"], ["", "text\\<open>Rules.\\<close>"], ["", "lemma dg_Rel_is_arrI[dg_Rel_cs_intros]:\n  assumes \"arr_Rel \\<alpha> S\" and \"S\\<lparr>ArrDom\\<rparr> = A\" and \"S\\<lparr>ArrCod\\<rparr> = B\"\n  shows \"S : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B", "using assms"], ["proof (prove)\nusing this:\n  arr_Rel \\<alpha> S\n  S\\<lparr>ArrDom\\<rparr> = A\n  S\\<lparr>ArrCod\\<rparr> = B\n\ngoal (1 subgoal):\n 1. S : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B", "by (intro is_arrI, unfold dg_Rel_components) simp_all"], ["", "lemma dg_Rel_is_arrD:\n  assumes \"S : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B\"\n  shows \"arr_Rel \\<alpha> S\" \n    and [dg_cs_simps]: \"S\\<lparr>ArrDom\\<rparr> = A\" \n    and [dg_cs_simps]: \"S\\<lparr>ArrCod\\<rparr> = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> S &&&\n    S\\<lparr>ArrDom\\<rparr> = A &&& S\\<lparr>ArrCod\\<rparr> = B", "using is_arrD[OF assms]"], ["proof (prove)\nusing this:\n  S \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n  dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>\\<lparr>S\\<rparr> = A\n  dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>\\<lparr>S\\<rparr> = B\n\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> S &&&\n    S\\<lparr>ArrDom\\<rparr> = A &&& S\\<lparr>ArrCod\\<rparr> = B", "unfolding dg_Rel_components"], ["proof (prove)\nusing this:\n  S \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>))\n  (\\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>)).\n      T\\<lparr>ArrDom\\<rparr>)\\<lparr>S\\<rparr> =\n  A\n  (\\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>)).\n      T\\<lparr>ArrCod\\<rparr>)\\<lparr>S\\<rparr> =\n  B\n\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> S &&&\n    S\\<lparr>ArrDom\\<rparr> = A &&& S\\<lparr>ArrCod\\<rparr> = B", "by simp_all"], ["", "lemma dg_Rel_is_arrE:\n  assumes \"S : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B\"\n  obtains \"arr_Rel \\<alpha> S\" and \"S\\<lparr>ArrDom\\<rparr> = A\" and \"S\\<lparr>ArrCod\\<rparr> = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>arr_Rel \\<alpha> S; S\\<lparr>ArrDom\\<rparr> = A;\n      S\\<lparr>ArrCod\\<rparr> = B\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using is_arrD[OF assms]"], ["proof (prove)\nusing this:\n  S \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n  dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>\\<lparr>S\\<rparr> = A\n  dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>\\<lparr>S\\<rparr> = B\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>arr_Rel \\<alpha> S; S\\<lparr>ArrDom\\<rparr> = A;\n      S\\<lparr>ArrCod\\<rparr> = B\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding dg_Rel_components"], ["proof (prove)\nusing this:\n  S \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>))\n  (\\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>)).\n      T\\<lparr>ArrDom\\<rparr>)\\<lparr>S\\<rparr> =\n  A\n  (\\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>)).\n      T\\<lparr>ArrCod\\<rparr>)\\<lparr>S\\<rparr> =\n  B\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>arr_Rel \\<alpha> S; S\\<lparr>ArrDom\\<rparr> = A;\n      S\\<lparr>ArrCod\\<rparr> = B\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by simp_all"], ["", "text\\<open>Elementary properties.\\<close>"], ["", "lemma (in \\<Z>) dg_Rel_incl_Rel_is_arr:\n  assumes \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" and \"B \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" and \"A \\<subseteq>\\<^sub>\\<circ> B\"\n  shows \"incl_Rel A B : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. incl_Rel A B : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B", "proof(rule dg_Rel_is_arrI)"], ["proof (state)\ngoal (3 subgoals):\n 1. arr_Rel \\<alpha> (incl_Rel A B)\n 2. incl_Rel A B\\<lparr>ArrDom\\<rparr> = A\n 3. incl_Rel A B\\<lparr>ArrCod\\<rparr> = B", "show \"arr_Rel \\<alpha> (incl_Rel A B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> (incl_Rel A B)", "by (intro arr_Rel_incl_RelI assms)"], ["proof (state)\nthis:\n  arr_Rel \\<alpha> (incl_Rel A B)\n\ngoal (2 subgoals):\n 1. incl_Rel A B\\<lparr>ArrDom\\<rparr> = A\n 2. incl_Rel A B\\<lparr>ArrCod\\<rparr> = B", "qed (simp_all add: incl_Rel_components)"], ["", "lemma (in \\<Z>) dg_Rel_incl_Rel_is_arr'[dg_Rel_cs_intros]:\n  assumes \"A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" \n    and \"B \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" \n    and \"A \\<subseteq>\\<^sub>\\<circ> B\"\n    and \"A' = A\"\n    and \"B' = B\"\n  shows \"incl_Rel A B : A' \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. incl_Rel A B : A' \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B'", "using assms(1-3)"], ["proof (prove)\nusing this:\n  A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  B \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  A \\<subseteq>\\<^sub>\\<circ> B\n\ngoal (1 subgoal):\n 1. incl_Rel A B : A' \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B'", "unfolding assms(4,5)"], ["proof (prove)\nusing this:\n  A \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  B \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  A \\<subseteq>\\<^sub>\\<circ> B\n\ngoal (1 subgoal):\n 1. incl_Rel A B : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B", "by (rule dg_Rel_incl_Rel_is_arr)"], ["", "lemmas [dg_Rel_cs_intros] = \\<Z>.dg_Rel_incl_Rel_is_arr'"], ["", "subsubsection\\<open>\\<open>Rel\\<close> is a digraph\\<close>"], ["", "lemma (in \\<Z>) dg_Rel_Hom_vifunion_in_Vset:\n  assumes \"X \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" and \"Y \\<in>\\<^sub>\\<circ> Vset \\<alpha>\"\n  shows \"(\\<Union>\\<^sub>\\<circ>A\\<in>\\<^sub>\\<circ>X. \\<Union>\\<^sub>\\<circ>B\\<in>\\<^sub>\\<circ>Y. Hom (dg_Rel \\<alpha>) A B) \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "define Q where\n    \"Q i = (if i = 0 then VPow (\\<Union>\\<^sub>\\<circ>X \\<times>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>Y) else if i = 1\\<^sub>\\<nat> then X else Y)\" \n    for i"], ["proof (state)\nthis:\n  Q ?i =\n  (if ?i = []\\<^sub>\\<circ> \\<Rightarrow>\n        VPow\n         (\\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n          \\<Union>\\<^sub>\\<circ> Y) \n    | ?i = 1\\<^sub>\\<nat> \\<Rightarrow> X | otherwise \\<Rightarrow> Y)\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "have \n    \"{[r, A, B]\\<^sub>\\<circ> |r A B. r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>X \\<times>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>Y \\<and> A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y} \\<subseteq>\n      elts (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ> set {0, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}. Q i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {[r, A, B]\\<^sub>\\<circ> |r A B.\n     r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                  X \\<times>\\<^sub>\\<circ>\n                                 \\<Union>\\<^sub>\\<circ> Y \\<and>\n     A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n    \\<subseteq> elts\n                 (vproduct\n                   (ZFC_in_HOL.set\n                     {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})\n                   Q)", "proof(intro subsetI, unfold mem_Collect_eq, elim exE conjE)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x r A B.\n       \\<lbrakk>x = [r, A, B]\\<^sub>\\<circ>;\n        r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                     X \\<times>\\<^sub>\\<circ>\n                                    \\<Union>\\<^sub>\\<circ> Y;\n        A \\<in>\\<^sub>\\<circ> X; B \\<in>\\<^sub>\\<circ> Y\\<rbrakk>\n       \\<Longrightarrow> x \\<in>\\<^sub>\\<circ> vproduct\n          (ZFC_in_HOL.set\n            {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})\n          Q", "fix F r A B"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x r A B.\n       \\<lbrakk>x = [r, A, B]\\<^sub>\\<circ>;\n        r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                     X \\<times>\\<^sub>\\<circ>\n                                    \\<Union>\\<^sub>\\<circ> Y;\n        A \\<in>\\<^sub>\\<circ> X; B \\<in>\\<^sub>\\<circ> Y\\<rbrakk>\n       \\<Longrightarrow> x \\<in>\\<^sub>\\<circ> vproduct\n          (ZFC_in_HOL.set\n            {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})\n          Q", "assume prems: \n      \"F = [r, A, B]\\<^sub>\\<circ>\" \n      \"r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>X \\<times>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>Y\"\n      \"A \\<in>\\<^sub>\\<circ> X\"\n      \"B \\<in>\\<^sub>\\<circ> Y\""], ["proof (state)\nthis:\n  F = [r, A, B]\\<^sub>\\<circ>\n  r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               X \\<times>\\<^sub>\\<circ>\n                              \\<Union>\\<^sub>\\<circ> Y\n  A \\<in>\\<^sub>\\<circ> X\n  B \\<in>\\<^sub>\\<circ> Y\n\ngoal (1 subgoal):\n 1. \\<And>x r A B.\n       \\<lbrakk>x = [r, A, B]\\<^sub>\\<circ>;\n        r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                     X \\<times>\\<^sub>\\<circ>\n                                    \\<Union>\\<^sub>\\<circ> Y;\n        A \\<in>\\<^sub>\\<circ> X; B \\<in>\\<^sub>\\<circ> Y\\<rbrakk>\n       \\<Longrightarrow> x \\<in>\\<^sub>\\<circ> vproduct\n          (ZFC_in_HOL.set\n            {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})\n          Q", "show \"F \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ> set {0, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}. Q i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F \\<in>\\<^sub>\\<circ> vproduct\n                           (ZFC_in_HOL.set\n                             {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                              2\\<^sub>\\<nat>})\n                           Q", "proof(intro vproductI, unfold Ball_def; (intro allI impI)?)"], ["proof (state)\ngoal (3 subgoals):\n 1. vsv F\n 2. \\<D>\\<^sub>\\<circ> F =\n    ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}\n 3. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                               2\\<^sub>\\<nat>} \\<Longrightarrow>\n       F\\<lparr>x\\<rparr> \\<in>\\<^sub>\\<circ> Q x", "show \"\\<D>\\<^sub>\\<circ> F = set {0, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> F =\n    ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}", "by (simp add: three prems(1) nat_omega_simps)"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> F =\n  ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}\n\ngoal (2 subgoals):\n 1. vsv F\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                               2\\<^sub>\\<nat>} \\<Longrightarrow>\n       F\\<lparr>x\\<rparr> \\<in>\\<^sub>\\<circ> Q x", "fix i"], ["proof (state)\ngoal (2 subgoals):\n 1. vsv F\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                               2\\<^sub>\\<nat>} \\<Longrightarrow>\n       F\\<lparr>x\\<rparr> \\<in>\\<^sub>\\<circ> Q x", "assume \"i \\<in>\\<^sub>\\<circ> set {0, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}\""], ["proof (state)\nthis:\n  i \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                         {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}\n\ngoal (2 subgoals):\n 1. vsv F\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                               2\\<^sub>\\<nat>} \\<Longrightarrow>\n       F\\<lparr>x\\<rparr> \\<in>\\<^sub>\\<circ> Q x", "then"], ["proof (chain)\npicking this:\n  i \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                         {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}", "consider \\<open>i = 0\\<close> | \\<open>i = 1\\<^sub>\\<nat>\\<close> | \\<open>i = 2\\<^sub>\\<nat>\\<close>"], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                         {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i = []\\<^sub>\\<circ> \\<Longrightarrow> thesis;\n     i = 1\\<^sub>\\<nat> \\<Longrightarrow> thesis;\n     i = 2\\<^sub>\\<nat> \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>i = []\\<^sub>\\<circ> \\<Longrightarrow> ?thesis;\n   i = 1\\<^sub>\\<nat> \\<Longrightarrow> ?thesis;\n   i = 2\\<^sub>\\<nat> \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (2 subgoals):\n 1. vsv F\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                               2\\<^sub>\\<nat>} \\<Longrightarrow>\n       F\\<lparr>x\\<rparr> \\<in>\\<^sub>\\<circ> Q x", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>i = []\\<^sub>\\<circ> \\<Longrightarrow> ?thesis;\n   i = 1\\<^sub>\\<nat> \\<Longrightarrow> ?thesis;\n   i = 2\\<^sub>\\<nat> \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show \"F\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> Q i\""], ["proof (prove)\nusing this:\n  \\<lbrakk>i = []\\<^sub>\\<circ> \\<Longrightarrow> ?thesis;\n   i = 1\\<^sub>\\<nat> \\<Longrightarrow> ?thesis;\n   i = 2\\<^sub>\\<nat> \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. F\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> Q i", "by cases (auto simp: Q_def prems nat_omega_simps)"], ["proof (state)\nthis:\n  F\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> Q i\n\ngoal (1 subgoal):\n 1. vsv F", "qed (auto simp: prems(1))"], ["proof (state)\nthis:\n  F \\<in>\\<^sub>\\<circ> vproduct\n                         (ZFC_in_HOL.set\n                           {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                            2\\<^sub>\\<nat>})\n                         Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {[r, A, B]\\<^sub>\\<circ> |r A B.\n   r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                X \\<times>\\<^sub>\\<circ>\n                               \\<Union>\\<^sub>\\<circ> Y \\<and>\n   A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n  \\<subseteq> elts\n               (vproduct\n                 (ZFC_in_HOL.set\n                   {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})\n                 Q)\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "moreover"], ["proof (state)\nthis:\n  {[r, A, B]\\<^sub>\\<circ> |r A B.\n   r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                X \\<times>\\<^sub>\\<circ>\n                               \\<Union>\\<^sub>\\<circ> Y \\<and>\n   A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n  \\<subseteq> elts\n               (vproduct\n                 (ZFC_in_HOL.set\n                   {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})\n                 Q)\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "then"], ["proof (chain)\npicking this:\n  {[r, A, B]\\<^sub>\\<circ> |r A B.\n   r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                X \\<times>\\<^sub>\\<circ>\n                               \\<Union>\\<^sub>\\<circ> Y \\<and>\n   A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n  \\<subseteq> elts\n               (vproduct\n                 (ZFC_in_HOL.set\n                   {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})\n                 Q)", "have small[simp]: \n    \"small {[r, A, B]\\<^sub>\\<circ> | r A B. r \\<subseteq>\\<^sub>\\<circ>\\<Union>\\<^sub>\\<circ>X \\<times>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>Y \\<and> A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\""], ["proof (prove)\nusing this:\n  {[r, A, B]\\<^sub>\\<circ> |r A B.\n   r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                X \\<times>\\<^sub>\\<circ>\n                               \\<Union>\\<^sub>\\<circ> Y \\<and>\n   A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n  \\<subseteq> elts\n               (vproduct\n                 (ZFC_in_HOL.set\n                   {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})\n                 Q)\n\ngoal (1 subgoal):\n 1. small\n     {[r, A, B]\\<^sub>\\<circ> |r A B.\n      r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                   X \\<times>\\<^sub>\\<circ>\n                                  \\<Union>\\<^sub>\\<circ> Y \\<and>\n      A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}", "by (rule down)"], ["proof (state)\nthis:\n  small\n   {[r, A, B]\\<^sub>\\<circ> |r A B.\n    r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                 X \\<times>\\<^sub>\\<circ>\n                                \\<Union>\\<^sub>\\<circ> Y \\<and>\n    A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "ultimately"], ["proof (chain)\npicking this:\n  {[r, A, B]\\<^sub>\\<circ> |r A B.\n   r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                X \\<times>\\<^sub>\\<circ>\n                               \\<Union>\\<^sub>\\<circ> Y \\<and>\n   A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n  \\<subseteq> elts\n               (vproduct\n                 (ZFC_in_HOL.set\n                   {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})\n                 Q)\n  small\n   {[r, A, B]\\<^sub>\\<circ> |r A B.\n    r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                 X \\<times>\\<^sub>\\<circ>\n                                \\<Union>\\<^sub>\\<circ> Y \\<and>\n    A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}", "have\n    \"set {[r, A, B]\\<^sub>\\<circ> |r A B. r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>X \\<times>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>Y \\<and> A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y} \\<subseteq>\\<^sub>\\<circ>\n      (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ> set {0, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}. Q i)\""], ["proof (prove)\nusing this:\n  {[r, A, B]\\<^sub>\\<circ> |r A B.\n   r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                X \\<times>\\<^sub>\\<circ>\n                               \\<Union>\\<^sub>\\<circ> Y \\<and>\n   A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n  \\<subseteq> elts\n               (vproduct\n                 (ZFC_in_HOL.set\n                   {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})\n                 Q)\n  small\n   {[r, A, B]\\<^sub>\\<circ> |r A B.\n    r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                 X \\<times>\\<^sub>\\<circ>\n                                \\<Union>\\<^sub>\\<circ> Y \\<and>\n    A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n\ngoal (1 subgoal):\n 1. ZFC_in_HOL.set\n     {[r, A, B]\\<^sub>\\<circ> |r A B.\n      r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                   X \\<times>\\<^sub>\\<circ>\n                                  \\<Union>\\<^sub>\\<circ> Y \\<and>\n      A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n    \\<subseteq>\\<^sub>\\<circ> vproduct\n                               (ZFC_in_HOL.set\n                                 {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                                  2\\<^sub>\\<nat>})\n                               Q", "by auto"], ["proof (state)\nthis:\n  ZFC_in_HOL.set\n   {[r, A, B]\\<^sub>\\<circ> |r A B.\n    r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                 X \\<times>\\<^sub>\\<circ>\n                                \\<Union>\\<^sub>\\<circ> Y \\<and>\n    A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n  \\<subseteq>\\<^sub>\\<circ> vproduct\n                             (ZFC_in_HOL.set\n                               {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                                2\\<^sub>\\<nat>})\n                             Q\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "moreover"], ["proof (state)\nthis:\n  ZFC_in_HOL.set\n   {[r, A, B]\\<^sub>\\<circ> |r A B.\n    r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                 X \\<times>\\<^sub>\\<circ>\n                                \\<Union>\\<^sub>\\<circ> Y \\<and>\n    A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n  \\<subseteq>\\<^sub>\\<circ> vproduct\n                             (ZFC_in_HOL.set\n                               {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                                2\\<^sub>\\<nat>})\n                             Q\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "have \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ> set {0, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}. Q i) \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vproduct\n     (ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}) Q\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "proof(rule Limit_vproduct_in_VsetI)"], ["proof (state)\ngoal (4 subgoals):\n 1. Limit \\<alpha>\n 2. ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 3. \\<And>i.\n       i \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                               2\\<^sub>\\<nat>} \\<Longrightarrow>\n       Q i \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 4. vfinite\n     (ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})", "show \"set {0, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>} \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "by (auto simp: three[symmetric] intro!: Axiom_of_Infinity)"], ["proof (state)\nthis:\n  ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (3 subgoals):\n 1. Limit \\<alpha>\n 2. \\<And>i.\n       i \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                               2\\<^sub>\\<nat>} \\<Longrightarrow>\n       Q i \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 3. vfinite\n     (ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})", "from assms(1,2)"], ["proof (chain)\npicking this:\n  X \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  Y \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "have \"VPow (\\<Union>\\<^sub>\\<circ>X \\<times>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>Y) \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\nusing this:\n  X \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  Y \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. VPow\n     (\\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n      \\<Union>\\<^sub>\\<circ> Y)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "by (intro Limit_VPow_in_VsetI Limit_vtimes_in_VsetI) auto"], ["proof (state)\nthis:\n  VPow\n   (\\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n    \\<Union>\\<^sub>\\<circ> Y)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (3 subgoals):\n 1. Limit \\<alpha>\n 2. \\<And>i.\n       i \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                               2\\<^sub>\\<nat>} \\<Longrightarrow>\n       Q i \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n 3. vfinite\n     (ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})", "then"], ["proof (chain)\npicking this:\n  VPow\n   (\\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n    \\<Union>\\<^sub>\\<circ> Y)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"Q i \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" if \"i \\<in>\\<^sub>\\<circ> set {0, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}\" for i"], ["proof (prove)\nusing this:\n  VPow\n   (\\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n    \\<Union>\\<^sub>\\<circ> Y)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. Q i \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "using that assms(1,2)"], ["proof (prove)\nusing this:\n  VPow\n   (\\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n    \\<Union>\\<^sub>\\<circ> Y)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  i \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                         {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}\n  X \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  Y \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. Q i \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "unfolding Q_def"], ["proof (prove)\nusing this:\n  VPow\n   (\\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n    \\<Union>\\<^sub>\\<circ> Y)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  i \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                         {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}\n  X \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  Y \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. (if i = []\\<^sub>\\<circ> \\<Rightarrow>\n          VPow\n           (\\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n            \\<Union>\\<^sub>\\<circ> Y) \n      | i = 1\\<^sub>\\<nat> \\<Rightarrow> X | otherwise \\<Rightarrow> Y)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "by (auto simp: nat_omega_simps)"], ["proof (state)\nthis:\n  ?i \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                          {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                           2\\<^sub>\\<nat>} \\<Longrightarrow>\n  Q ?i \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (2 subgoals):\n 1. Limit \\<alpha>\n 2. vfinite\n     (ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>})", "qed auto"], ["proof (state)\nthis:\n  vproduct\n   (ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}) Q\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "moreover"], ["proof (state)\nthis:\n  vproduct\n   (ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}) Q\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "have\n    \"(\\<Union>\\<^sub>\\<circ>A\\<in>\\<^sub>\\<circ>X. \\<Union>\\<^sub>\\<circ>B\\<in>\\<^sub>\\<circ>Y. Hom (dg_Rel \\<alpha>) A B) \\<subseteq>\\<^sub>\\<circ>\n      set {[r, A, B]\\<^sub>\\<circ> | r A B. r \\<subseteq>\\<^sub>\\<circ>\\<Union>\\<^sub>\\<circ>X \\<times>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>Y \\<and> A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<subseteq>\\<^sub>\\<circ> ZFC_in_HOL.set\n                               {[r, A, B]\\<^sub>\\<circ> |r A B.\n                                r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                       X \\<times>\\<^sub>\\<circ>\n                      \\<Union>\\<^sub>\\<circ> Y \\<and>\n                                A \\<in>\\<^sub>\\<circ> X \\<and>\n                                B \\<in>\\<^sub>\\<circ> Y}", "proof(rule vsubsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n                                   \\<Union>\\<^sub>\\<circ>\n                                    (VLambda Y\n(Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                     Y)) `\\<^sub>\\<circ>\n                               X) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[r, A, B]\\<^sub>\\<circ> |r A B.\n                               r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                      X \\<times>\\<^sub>\\<circ>\n                     \\<Union>\\<^sub>\\<circ> Y \\<and>\n                               A \\<in>\\<^sub>\\<circ> X \\<and>\n                               B \\<in>\\<^sub>\\<circ> Y}", "fix F"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n                                   \\<Union>\\<^sub>\\<circ>\n                                    (VLambda Y\n(Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                     Y)) `\\<^sub>\\<circ>\n                               X) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[r, A, B]\\<^sub>\\<circ> |r A B.\n                               r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                      X \\<times>\\<^sub>\\<circ>\n                     \\<Union>\\<^sub>\\<circ> Y \\<and>\n                               A \\<in>\\<^sub>\\<circ> X \\<and>\n                               B \\<in>\\<^sub>\\<circ> Y}", "assume prems: \"F \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>A\\<in>\\<^sub>\\<circ>X. \\<Union>\\<^sub>\\<circ>B\\<in>\\<^sub>\\<circ>Y. Hom (dg_Rel \\<alpha>) A B)\""], ["proof (state)\nthis:\n  F \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n                              \\<Union>\\<^sub>\\<circ>\n                               (VLambda Y\n                                 (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                Y)) `\\<^sub>\\<circ>\n                          X)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n                                   \\<Union>\\<^sub>\\<circ>\n                                    (VLambda Y\n(Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                     Y)) `\\<^sub>\\<circ>\n                               X) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[r, A, B]\\<^sub>\\<circ> |r A B.\n                               r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                      X \\<times>\\<^sub>\\<circ>\n                     \\<Union>\\<^sub>\\<circ> Y \\<and>\n                               A \\<in>\\<^sub>\\<circ> X \\<and>\n                               B \\<in>\\<^sub>\\<circ> Y}", "then"], ["proof (chain)\npicking this:\n  F \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n                              \\<Union>\\<^sub>\\<circ>\n                               (VLambda Y\n                                 (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                Y)) `\\<^sub>\\<circ>\n                          X)", "obtain A where A: \"A \\<in>\\<^sub>\\<circ> X\" and F_b: \"F \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>B\\<in>\\<^sub>\\<circ>Y. Hom (dg_Rel \\<alpha>) A B)\""], ["proof (prove)\nusing this:\n  F \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n                              \\<Union>\\<^sub>\\<circ>\n                               (VLambda Y\n                                 (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                Y)) `\\<^sub>\\<circ>\n                          X)\n\ngoal (1 subgoal):\n 1. (\\<And>A.\n        \\<lbrakk>A \\<in>\\<^sub>\\<circ> X;\n         F \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                (VLambda Y\n                                  (Hom (dg_Rel \\<alpha>) A) `\\<^sub>\\<circ>\n                                 Y)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding vifunion_iff"], ["proof (prove)\nusing this:\n  \\<exists>i\\<in>elts X.\n     \\<exists>ia\\<in>elts Y.\n        F \\<in>\\<^sub>\\<circ> Hom (dg_Rel \\<alpha>) i ia\n\ngoal (1 subgoal):\n 1. (\\<And>A.\n        \\<lbrakk>A \\<in>\\<^sub>\\<circ> X;\n         \\<exists>i\\<in>elts Y.\n            F \\<in>\\<^sub>\\<circ> Hom (dg_Rel \\<alpha>) A i\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  A \\<in>\\<^sub>\\<circ> X\n  F \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda Y\n                           (Hom (dg_Rel \\<alpha>) A) `\\<^sub>\\<circ>\n                          Y)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n                                   \\<Union>\\<^sub>\\<circ>\n                                    (VLambda Y\n(Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                     Y)) `\\<^sub>\\<circ>\n                               X) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[r, A, B]\\<^sub>\\<circ> |r A B.\n                               r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                      X \\<times>\\<^sub>\\<circ>\n                     \\<Union>\\<^sub>\\<circ> Y \\<and>\n                               A \\<in>\\<^sub>\\<circ> X \\<and>\n                               B \\<in>\\<^sub>\\<circ> Y}", "then"], ["proof (chain)\npicking this:\n  A \\<in>\\<^sub>\\<circ> X\n  F \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda Y\n                           (Hom (dg_Rel \\<alpha>) A) `\\<^sub>\\<circ>\n                          Y)", "obtain B where B: \"B \\<in>\\<^sub>\\<circ> Y\" and F_fba: \"F \\<in>\\<^sub>\\<circ> Hom (dg_Rel \\<alpha>) A B\""], ["proof (prove)\nusing this:\n  A \\<in>\\<^sub>\\<circ> X\n  F \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda Y\n                           (Hom (dg_Rel \\<alpha>) A) `\\<^sub>\\<circ>\n                          Y)\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        \\<lbrakk>B \\<in>\\<^sub>\\<circ> Y;\n         F \\<in>\\<^sub>\\<circ> Hom (dg_Rel \\<alpha>) A B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  B \\<in>\\<^sub>\\<circ> Y\n  F \\<in>\\<^sub>\\<circ> Hom (dg_Rel \\<alpha>) A B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n                                   \\<Union>\\<^sub>\\<circ>\n                                    (VLambda Y\n(Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                     Y)) `\\<^sub>\\<circ>\n                               X) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[r, A, B]\\<^sub>\\<circ> |r A B.\n                               r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                      X \\<times>\\<^sub>\\<circ>\n                     \\<Union>\\<^sub>\\<circ> Y \\<and>\n                               A \\<in>\\<^sub>\\<circ> X \\<and>\n                               B \\<in>\\<^sub>\\<circ> Y}", "then"], ["proof (chain)\npicking this:\n  B \\<in>\\<^sub>\\<circ> Y\n  F \\<in>\\<^sub>\\<circ> Hom (dg_Rel \\<alpha>) A B", "have \"F : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B\""], ["proof (prove)\nusing this:\n  B \\<in>\\<^sub>\\<circ> Y\n  F \\<in>\\<^sub>\\<circ> Hom (dg_Rel \\<alpha>) A B\n\ngoal (1 subgoal):\n 1. F : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B", "by simp"], ["proof (state)\nthis:\n  F : A \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n                                   \\<Union>\\<^sub>\\<circ>\n                                    (VLambda Y\n(Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                     Y)) `\\<^sub>\\<circ>\n                               X) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[r, A, B]\\<^sub>\\<circ> |r A B.\n                               r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                      X \\<times>\\<^sub>\\<circ>\n                     \\<Union>\\<^sub>\\<circ> Y \\<and>\n                               A \\<in>\\<^sub>\\<circ> X \\<and>\n                               B \\<in>\\<^sub>\\<circ> Y}", "note F = dg_Rel_is_arrD[OF this]"], ["proof (state)\nthis:\n  arr_Rel \\<alpha> F\n  F\\<lparr>ArrDom\\<rparr> = A\n  F\\<lparr>ArrCod\\<rparr> = B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n                                   \\<Union>\\<^sub>\\<circ>\n                                    (VLambda Y\n(Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                     Y)) `\\<^sub>\\<circ>\n                               X) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[r, A, B]\\<^sub>\\<circ> |r A B.\n                               r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                      X \\<times>\\<^sub>\\<circ>\n                     \\<Union>\\<^sub>\\<circ> Y \\<and>\n                               A \\<in>\\<^sub>\\<circ> X \\<and>\n                               B \\<in>\\<^sub>\\<circ> Y}", "interpret F: arr_Rel \\<alpha> F rewrites \"F\\<lparr>ArrDom\\<rparr> = A\" and \"F\\<lparr>ArrCod\\<rparr> = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> F &&&\n    F\\<lparr>ArrDom\\<rparr> = A &&& F\\<lparr>ArrCod\\<rparr> = B", "by (intro F)+"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n                                   \\<Union>\\<^sub>\\<circ>\n                                    (VLambda Y\n(Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                     Y)) `\\<^sub>\\<circ>\n                               X) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                              {[r, A, B]\\<^sub>\\<circ> |r A B.\n                               r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                      X \\<times>\\<^sub>\\<circ>\n                     \\<Union>\\<^sub>\\<circ> Y \\<and>\n                               A \\<in>\\<^sub>\\<circ> X \\<and>\n                               B \\<in>\\<^sub>\\<circ> Y}", "show \"F \\<in>\\<^sub>\\<circ> set {[r, A, B]\\<^sub>\\<circ> | r A B. r \\<subseteq>\\<^sub>\\<circ>\\<Union>\\<^sub>\\<circ>X \\<times>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>Y \\<and> A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                           {[r, A, B]\\<^sub>\\<circ> |r A B.\n                            r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                   X \\<times>\\<^sub>\\<circ>\n                  \\<Union>\\<^sub>\\<circ> Y \\<and>\n                            A \\<in>\\<^sub>\\<circ> X \\<and>\n                            B \\<in>\\<^sub>\\<circ> Y}", "proof(intro in_set_CollectI small exI conjI)"], ["proof (state)\ngoal (4 subgoals):\n 1. F = [?r1, ?A2, ?B3]\\<^sub>\\<circ>\n 2. ?r1\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               X \\<times>\\<^sub>\\<circ>\n                              \\<Union>\\<^sub>\\<circ> Y\n 3. ?A2 \\<in>\\<^sub>\\<circ> X\n 4. ?B3 \\<in>\\<^sub>\\<circ> Y", "from F.arr_Rel_def"], ["proof (chain)\npicking this:\n  F = [F\\<lparr>ArrVal\\<rparr>, A, B]\\<^sub>\\<circ>", "show \"F = [F\\<lparr>ArrVal\\<rparr>, A, B]\\<^sub>\\<circ>\""], ["proof (prove)\nusing this:\n  F = [F\\<lparr>ArrVal\\<rparr>, A, B]\\<^sub>\\<circ>\n\ngoal (1 subgoal):\n 1. F = [F\\<lparr>ArrVal\\<rparr>, A, B]\\<^sub>\\<circ>", "unfolding F(2,3)"], ["proof (prove)\nusing this:\n  F = [F\\<lparr>ArrVal\\<rparr>, A, B]\\<^sub>\\<circ>\n\ngoal (1 subgoal):\n 1. F = [F\\<lparr>ArrVal\\<rparr>, A, B]\\<^sub>\\<circ>", "by simp"], ["proof (state)\nthis:\n  F = [F\\<lparr>ArrVal\\<rparr>, A, B]\\<^sub>\\<circ>\n\ngoal (3 subgoals):\n 1. F\\<lparr>ArrVal\\<rparr>\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               X \\<times>\\<^sub>\\<circ>\n                              \\<Union>\\<^sub>\\<circ> Y\n 2. A \\<in>\\<^sub>\\<circ> X\n 3. B \\<in>\\<^sub>\\<circ> Y", "from A B"], ["proof (chain)\npicking this:\n  A \\<in>\\<^sub>\\<circ> X\n  B \\<in>\\<^sub>\\<circ> Y", "have \"A \\<times>\\<^sub>\\<circ> B \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>X \\<times>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>Y\""], ["proof (prove)\nusing this:\n  A \\<in>\\<^sub>\\<circ> X\n  B \\<in>\\<^sub>\\<circ> Y\n\ngoal (1 subgoal):\n 1. A \\<times>\\<^sub>\\<circ> B\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               X \\<times>\\<^sub>\\<circ>\n                              \\<Union>\\<^sub>\\<circ> Y", "by auto"], ["proof (state)\nthis:\n  A \\<times>\\<^sub>\\<circ> B\n  \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n                            \\<Union>\\<^sub>\\<circ> Y\n\ngoal (3 subgoals):\n 1. F\\<lparr>ArrVal\\<rparr>\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               X \\<times>\\<^sub>\\<circ>\n                              \\<Union>\\<^sub>\\<circ> Y\n 2. A \\<in>\\<^sub>\\<circ> X\n 3. B \\<in>\\<^sub>\\<circ> Y", "moreover"], ["proof (state)\nthis:\n  A \\<times>\\<^sub>\\<circ> B\n  \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n                            \\<Union>\\<^sub>\\<circ> Y\n\ngoal (3 subgoals):\n 1. F\\<lparr>ArrVal\\<rparr>\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               X \\<times>\\<^sub>\\<circ>\n                              \\<Union>\\<^sub>\\<circ> Y\n 2. A \\<in>\\<^sub>\\<circ> X\n 3. B \\<in>\\<^sub>\\<circ> Y", "then"], ["proof (chain)\npicking this:\n  A \\<times>\\<^sub>\\<circ> B\n  \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n                            \\<Union>\\<^sub>\\<circ> Y", "have \"F\\<lparr>ArrVal\\<rparr> \\<subseteq>\\<^sub>\\<circ> A \\<times>\\<^sub>\\<circ> B\""], ["proof (prove)\nusing this:\n  A \\<times>\\<^sub>\\<circ> B\n  \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n                            \\<Union>\\<^sub>\\<circ> Y\n\ngoal (1 subgoal):\n 1. F\\<lparr>ArrVal\\<rparr>\n    \\<subseteq>\\<^sub>\\<circ> A \\<times>\\<^sub>\\<circ> B", "by (auto simp: F.arr_Rel_ArrVal_vsubset_ArrDom_ArrCod)"], ["proof (state)\nthis:\n  F\\<lparr>ArrVal\\<rparr>\n  \\<subseteq>\\<^sub>\\<circ> A \\<times>\\<^sub>\\<circ> B\n\ngoal (3 subgoals):\n 1. F\\<lparr>ArrVal\\<rparr>\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               X \\<times>\\<^sub>\\<circ>\n                              \\<Union>\\<^sub>\\<circ> Y\n 2. A \\<in>\\<^sub>\\<circ> X\n 3. B \\<in>\\<^sub>\\<circ> Y", "ultimately"], ["proof (chain)\npicking this:\n  A \\<times>\\<^sub>\\<circ> B\n  \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n                            \\<Union>\\<^sub>\\<circ> Y\n  F\\<lparr>ArrVal\\<rparr>\n  \\<subseteq>\\<^sub>\\<circ> A \\<times>\\<^sub>\\<circ> B", "show \"F\\<lparr>ArrVal\\<rparr> \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>X \\<times>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>Y\""], ["proof (prove)\nusing this:\n  A \\<times>\\<^sub>\\<circ> B\n  \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n                            \\<Union>\\<^sub>\\<circ> Y\n  F\\<lparr>ArrVal\\<rparr>\n  \\<subseteq>\\<^sub>\\<circ> A \\<times>\\<^sub>\\<circ> B\n\ngoal (1 subgoal):\n 1. F\\<lparr>ArrVal\\<rparr>\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               X \\<times>\\<^sub>\\<circ>\n                              \\<Union>\\<^sub>\\<circ> Y", "by auto"], ["proof (state)\nthis:\n  F\\<lparr>ArrVal\\<rparr>\n  \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ> X \\<times>\\<^sub>\\<circ>\n                            \\<Union>\\<^sub>\\<circ> Y\n\ngoal (2 subgoals):\n 1. A \\<in>\\<^sub>\\<circ> X\n 2. B \\<in>\\<^sub>\\<circ> Y", "qed (intro A B)+"], ["proof (state)\nthis:\n  F \\<in>\\<^sub>\\<circ> ZFC_in_HOL.set\n                         {[r, A, B]\\<^sub>\\<circ> |r A B.\n                          r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                 X \\<times>\\<^sub>\\<circ>\n                \\<Union>\\<^sub>\\<circ> Y \\<and>\n                          A \\<in>\\<^sub>\\<circ> X \\<and>\n                          B \\<in>\\<^sub>\\<circ> Y}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Union>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n        \\<Union>\\<^sub>\\<circ>\n         (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n          Y)) `\\<^sub>\\<circ>\n    X)\n  \\<subseteq>\\<^sub>\\<circ> ZFC_in_HOL.set\n                             {[r, A, B]\\<^sub>\\<circ> |r A B.\n                              r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                     X \\<times>\\<^sub>\\<circ>\n                    \\<Union>\\<^sub>\\<circ> Y \\<and>\n                              A \\<in>\\<^sub>\\<circ> X \\<and>\n                              B \\<in>\\<^sub>\\<circ> Y}\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "ultimately"], ["proof (chain)\npicking this:\n  ZFC_in_HOL.set\n   {[r, A, B]\\<^sub>\\<circ> |r A B.\n    r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                 X \\<times>\\<^sub>\\<circ>\n                                \\<Union>\\<^sub>\\<circ> Y \\<and>\n    A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n  \\<subseteq>\\<^sub>\\<circ> vproduct\n                             (ZFC_in_HOL.set\n                               {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                                2\\<^sub>\\<nat>})\n                             Q\n  vproduct\n   (ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}) Q\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  \\<Union>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n        \\<Union>\\<^sub>\\<circ>\n         (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n          Y)) `\\<^sub>\\<circ>\n    X)\n  \\<subseteq>\\<^sub>\\<circ> ZFC_in_HOL.set\n                             {[r, A, B]\\<^sub>\\<circ> |r A B.\n                              r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                     X \\<times>\\<^sub>\\<circ>\n                    \\<Union>\\<^sub>\\<circ> Y \\<and>\n                              A \\<in>\\<^sub>\\<circ> X \\<and>\n                              B \\<in>\\<^sub>\\<circ> Y}", "show \"(\\<Union>\\<^sub>\\<circ>A\\<in>\\<^sub>\\<circ>X. \\<Union>\\<^sub>\\<circ>B\\<in>\\<^sub>\\<circ>Y. Hom (dg_Rel \\<alpha>) A B) \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\nusing this:\n  ZFC_in_HOL.set\n   {[r, A, B]\\<^sub>\\<circ> |r A B.\n    r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                 X \\<times>\\<^sub>\\<circ>\n                                \\<Union>\\<^sub>\\<circ> Y \\<and>\n    A \\<in>\\<^sub>\\<circ> X \\<and> B \\<in>\\<^sub>\\<circ> Y}\n  \\<subseteq>\\<^sub>\\<circ> vproduct\n                             (ZFC_in_HOL.set\n                               {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>,\n                                2\\<^sub>\\<nat>})\n                             Q\n  vproduct\n   (ZFC_in_HOL.set {[]\\<^sub>\\<circ>, 1\\<^sub>\\<nat>, 2\\<^sub>\\<nat>}) Q\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  \\<Union>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n        \\<Union>\\<^sub>\\<circ>\n         (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n          Y)) `\\<^sub>\\<circ>\n    X)\n  \\<subseteq>\\<^sub>\\<circ> ZFC_in_HOL.set\n                             {[r, A, B]\\<^sub>\\<circ> |r A B.\n                              r \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                     X \\<times>\\<^sub>\\<circ>\n                    \\<Union>\\<^sub>\\<circ> Y \\<and>\n                              A \\<in>\\<^sub>\\<circ> X \\<and>\n                              B \\<in>\\<^sub>\\<circ> Y}\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n            Y)) `\\<^sub>\\<circ>\n      X)\n    \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "by blast"], ["proof (state)\nthis:\n  \\<Union>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>X.\n        \\<Union>\\<^sub>\\<circ>\n         (VLambda Y (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n          Y)) `\\<^sub>\\<circ>\n    X)\n  \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in \\<Z>) digraph_dg_Rel: \"digraph \\<alpha> (dg_Rel \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. digraph \\<alpha> (dg_Rel \\<alpha>)", "proof(intro digraphI)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vfsequence (dg_Rel \\<alpha>)\n 3. vsv (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>)\n 4. vsv (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>)\n 5. vcard (dg_Rel \\<alpha>) = 4\\<^sub>\\<nat>\n 6. \\<D>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 7. \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 8. \\<D>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 9. \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 10. dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n     \\<subseteq>\\<^sub>\\<circ> Vset \\<alpha>\nA total of 11 subgoals...", "show \"vfsequence (dg_Rel \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence (dg_Rel \\<alpha>)", "unfolding dg_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence\n     [Vset \\<alpha>, ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>)),\n      \\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                    (Collect (arr_Rel \\<alpha>)).\n         T\\<lparr>ArrDom\\<rparr>,\n      \\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                    (Collect (arr_Rel \\<alpha>)).\n         T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ>", "by clarsimp"], ["proof (state)\nthis:\n  vfsequence (dg_Rel \\<alpha>)\n\ngoal (10 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vsv (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>)\n 3. vsv (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>)\n 4. vcard (dg_Rel \\<alpha>) = 4\\<^sub>\\<nat>\n 5. \\<D>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 6. \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 7. \\<D>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 8. \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 9. dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n    \\<subseteq>\\<^sub>\\<circ> Vset \\<alpha>\n 10. \\<And>A B.\n        \\<lbrakk>A \\<subseteq>\\<^sub>\\<circ> dg_Rel\n        \\<alpha>\\<lparr>Obj\\<rparr>;\n         B \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>;\n         A \\<in>\\<^sub>\\<circ> Vset \\<alpha>;\n         B \\<in>\\<^sub>\\<circ> Vset \\<alpha>\\<rbrakk>\n        \\<Longrightarrow> \\<Union>\\<^sub>\\<circ>\n                           ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n                                \\<Union>\\<^sub>\\<circ>\n                                 (VLambda B\n                                   (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                  B)) `\\<^sub>\\<circ>\n                            A)\n                          \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"vcard (dg_Rel \\<alpha>) = 4\\<^sub>\\<nat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard (dg_Rel \\<alpha>) = 4\\<^sub>\\<nat>", "unfolding dg_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard\n     [Vset \\<alpha>, ZFC_in_HOL.set (Collect (arr_Rel \\<alpha>)),\n      \\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                    (Collect (arr_Rel \\<alpha>)).\n         T\\<lparr>ArrDom\\<rparr>,\n      \\<lambda>T\\<in>\\<^sub>\\<circ>ZFC_in_HOL.set\n                                    (Collect (arr_Rel \\<alpha>)).\n         T\\<lparr>ArrCod\\<rparr>]\\<^sub>\\<circ> =\n    4\\<^sub>\\<nat>", "by (simp add: nat_omega_simps)"], ["proof (state)\nthis:\n  vcard (dg_Rel \\<alpha>) = 4\\<^sub>\\<nat>\n\ngoal (9 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vsv (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>)\n 3. vsv (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>)\n 4. \\<D>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 5. \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 6. \\<D>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 7. \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 8. dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n    \\<subseteq>\\<^sub>\\<circ> Vset \\<alpha>\n 9. \\<And>A B.\n       \\<lbrakk>A \\<subseteq>\\<^sub>\\<circ> dg_Rel\n       \\<alpha>\\<lparr>Obj\\<rparr>;\n        B \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>;\n        A \\<in>\\<^sub>\\<circ> Vset \\<alpha>;\n        B \\<in>\\<^sub>\\<circ> Vset \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Union>\\<^sub>\\<circ>\n                          ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n                               \\<Union>\\<^sub>\\<circ>\n                                (VLambda B\n                                  (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                 B)) `\\<^sub>\\<circ>\n                           A)\n                         \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"\\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>) \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>", "by (simp add: dg_Rel_Dom_vrange)"], ["proof (state)\nthis:\n  \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n\ngoal (8 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vsv (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>)\n 3. vsv (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>)\n 4. \\<D>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 5. \\<D>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 6. \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 7. dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n    \\<subseteq>\\<^sub>\\<circ> Vset \\<alpha>\n 8. \\<And>A B.\n       \\<lbrakk>A \\<subseteq>\\<^sub>\\<circ> dg_Rel\n       \\<alpha>\\<lparr>Obj\\<rparr>;\n        B \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>;\n        A \\<in>\\<^sub>\\<circ> Vset \\<alpha>;\n        B \\<in>\\<^sub>\\<circ> Vset \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Union>\\<^sub>\\<circ>\n                          ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n                               \\<Union>\\<^sub>\\<circ>\n                                (VLambda B\n                                  (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                 B)) `\\<^sub>\\<circ>\n                           A)\n                         \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "show \"\\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>) \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>", "by (simp add: dg_Rel_Cod_vrange)"], ["proof (state)\nthis:\n  \\<R>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>)\n  \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n\ngoal (7 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vsv (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>)\n 3. vsv (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>)\n 4. \\<D>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 5. \\<D>\\<^sub>\\<circ> (dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 6. dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n    \\<subseteq>\\<^sub>\\<circ> Vset \\<alpha>\n 7. \\<And>A B.\n       \\<lbrakk>A \\<subseteq>\\<^sub>\\<circ> dg_Rel\n       \\<alpha>\\<lparr>Obj\\<rparr>;\n        B \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>;\n        A \\<in>\\<^sub>\\<circ> Vset \\<alpha>;\n        B \\<in>\\<^sub>\\<circ> Vset \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Union>\\<^sub>\\<circ>\n                          ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n                               \\<Union>\\<^sub>\\<circ>\n                                (VLambda B\n                                  (Hom (dg_Rel \\<alpha>) a) `\\<^sub>\\<circ>\n                                 B)) `\\<^sub>\\<circ>\n                           A)\n                         \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "qed (auto simp: dg_Rel_components dg_Rel_Hom_vifunion_in_Vset dg_Rel_Dom_vrange)"], ["", "subsection\\<open>Canonical dagger for \\<open>Rel\\<close>\\<close>"], ["", "text\\<open>\nDagger categories are exposed explicitly later. \nIn the context of this section, the ``dagger'' is viewed merely as \nan explicitly defined homomorphism. A definition of a dagger functor, upon\nwhich the definition presented in this section is based, can be found in nLab \n\\cite{noauthor_nlab_nodate}\\footnote{\\url{https://ncatlab.org/nlab/show/Rel})}.\nThis reference also contains the majority of the results that are presented\nin this subsection.\n\\<close>"], ["", "subsubsection\\<open>Definition and elementary properties\\<close>"], ["", "definition dghm_dag_Rel :: \"V \\<Rightarrow> V\" (\\<open>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\\<close>)\n  where \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> = \n    [\n      vid_on (dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>), \n      VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel, \n      op_dg (dg_Rel \\<alpha>), \n      dg_Rel \\<alpha>\n    ]\\<^sub>\\<circ>\""], ["", "text\\<open>Components.\\<close>"], ["", "lemma dghm_dag_Rel_components:\n  shows \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ObjMap\\<rparr> = vid_on (dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>)\"\n    and \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr> = VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel\"\n    and \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>HomDom\\<rparr> = op_dg (dg_Rel \\<alpha>)\"\n    and \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>HomCod\\<rparr> = dg_Rel \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha>\\<lparr>ObjMap\\<rparr> =\n     vid_on (dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>) &&&\n     \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha>\\<lparr>ArrMap\\<rparr> =\n     VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel) &&&\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>HomDom\\<rparr> =\n    op_dg (dg_Rel \\<alpha>) &&&\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>HomCod\\<rparr> =\n    dg_Rel \\<alpha>", "unfolding dghm_dag_Rel_def dghm_field_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. ([vid_on (dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>),\n      VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel,\n      op_dg (dg_Rel \\<alpha>),\n      dg_Rel \\<alpha>]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr> =\n     vid_on (dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>) &&&\n     [vid_on (dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>),\n      VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel,\n      op_dg (dg_Rel \\<alpha>),\n      dg_Rel \\<alpha>]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr> =\n     VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel) &&&\n    [vid_on (dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>),\n     VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel,\n     op_dg (dg_Rel \\<alpha>),\n     dg_Rel \\<alpha>]\\<^sub>\\<circ>\\<lparr>2\\<^sub>\\<nat>\\<rparr> =\n    op_dg (dg_Rel \\<alpha>) &&&\n    [vid_on (dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>),\n     VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel,\n     op_dg (dg_Rel \\<alpha>),\n     dg_Rel \\<alpha>]\\<^sub>\\<circ>\\<lparr>3\\<^sub>\\<nat>\\<rparr> =\n    dg_Rel \\<alpha>", "by (simp_all add: nat_omega_simps)"], ["", "subsubsection\\<open>Object map\\<close>"], ["", "mk_VLambda dghm_dag_Rel_components(1)[folded VLambda_vid_on]\n  |vsv dghm_dag_Rel_ObjMap_vsv[dg_Rel_cs_intros]|\n  |vdomain \n    dghm_dag_Rel_ObjMap_vdomain[unfolded dg_Rel_components, dg_Rel_cs_simps]\n  |\n  |app dghm_dag_Rel_ObjMap_app[unfolded dg_Rel_components, dg_Rel_cs_simps]|"], ["", "lemma dghm_dag_Rel_ObjMap_vrange[dg_cs_simps]: \"\\<R>\\<^sub>\\<circ> (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ObjMap\\<rparr>) = Vset \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>) =\n    Vset \\<alpha>", "unfolding dghm_dag_Rel_components dg_Rel_components"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> (vid_on (Vset \\<alpha>)) = Vset \\<alpha>", "by simp"], ["", "subsubsection\\<open>Arrow map\\<close>"], ["", "mk_VLambda dghm_dag_Rel_components(2)\n  |vsv dghm_dag_Rel_ArrMap_vsv[dg_Rel_cs_intros]|\n  |vdomain dghm_dag_Rel_ArrMap_vdomain[dg_Rel_cs_simps]|\n  |app dghm_dag_Rel_ArrMap_app[unfolded dg_Rel_cs_simps, dg_Rel_cs_simps]|"], ["", "subsubsection\\<open>Further properties\\<close>"], ["", "lemma dghm_dag_Rel_ArrMap_vrange[dg_Rel_cs_simps]: \n  \"\\<R>\\<^sub>\\<circ> (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>) = dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ArrMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>", "proof(intro vsubset_antisym vsubsetI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "interpret ArrMap: vsv \\<open>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)", "unfolding dghm_dag_Rel_components"], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv (VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel)", "by simp"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "fix T"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "assume \"T \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>)\""], ["proof (state)\nthis:\n  T \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                         (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                           \\<alpha>\\<lparr>ArrMap\\<rparr>)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "then"], ["proof (chain)\npicking this:\n  T \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                         (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                           \\<alpha>\\<lparr>ArrMap\\<rparr>)", "obtain S where T_def: \"T = \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>S\\<rparr>\" \n    and S: \"S \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>)\""], ["proof (prove)\nusing this:\n  T \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                         (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                           \\<alpha>\\<lparr>ArrMap\\<rparr>)\n\ngoal (1 subgoal):\n 1. (\\<And>S.\n        \\<lbrakk>T =\n                 \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                  \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>S\\<rparr>;\n         S \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                                (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                  \\<alpha>\\<lparr>ArrMap\\<rparr>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (blast dest: ArrMap.vrange_atD)"], ["proof (state)\nthis:\n  T =\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>S\\<rparr>\n  S \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                         (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                           \\<alpha>\\<lparr>ArrMap\\<rparr>)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "from S"], ["proof (chain)\npicking this:\n  S \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                         (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                           \\<alpha>\\<lparr>ArrMap\\<rparr>)", "show \"T \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\""], ["proof (prove)\nusing this:\n  S \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                         (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                           \\<alpha>\\<lparr>ArrMap\\<rparr>)\n\ngoal (1 subgoal):\n 1. T \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>", "by \n      (\n        simp add:\n          T_def \n          dghm_dag_Rel_components \n          dg_Rel_components \n          arr_Rel.arr_Rel_converse_Rel\n      )"], ["proof (state)\nthis:\n  T \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "interpret ArrMap: vsv \\<open>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)", "unfolding dghm_dag_Rel_components"], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv (VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel)", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "fix T"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "assume \"T \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\""], ["proof (state)\nthis:\n  T \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "then"], ["proof (chain)\npicking this:\n  T \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>", "have \"arr_Rel \\<alpha> T\""], ["proof (prove)\nusing this:\n  T \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> T", "by (simp add: dg_Rel_components)"], ["proof (state)\nthis:\n  arr_Rel \\<alpha> T\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "then"], ["proof (chain)\npicking this:\n  arr_Rel \\<alpha> T", "have \"(T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l = T\" and \"arr_Rel \\<alpha> (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\""], ["proof (prove)\nusing this:\n  arr_Rel \\<alpha> T\n\ngoal (1 subgoal):\n 1. (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n    T &&&\n    arr_Rel \\<alpha> (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)", "by \n      (\n        auto simp: \n          arr_Rel.arr_Rel_converse_Rel_converse_Rel arr_Rel.arr_Rel_converse_Rel\n      )"], ["proof (state)\nthis:\n  (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n  T\n  arr_Rel \\<alpha> (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "then"], ["proof (chain)\npicking this:\n  (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n  T\n  arr_Rel \\<alpha> (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)", "have \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<rparr> = T\" \"T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>)\""], ["proof (prove)\nusing this:\n  (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l =\n  T\n  arr_Rel \\<alpha> (T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l)\n\ngoal (1 subgoal):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<rparr> =\n    T &&&\n    T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\n    \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                         (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                           \\<alpha>\\<lparr>ArrMap\\<rparr>)", "by (simp_all add: dg_Rel_components(2) dghm_dag_Rel_components(2))"], ["proof (state)\nthis:\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<rparr> =\n  T\n  T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\n  \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                       (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                         \\<alpha>\\<lparr>ArrMap\\<rparr>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> dg_Rel\n                              \\<alpha>\\<lparr>Arr\\<rparr> \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ArrMap\\<rparr>)", "then"], ["proof (chain)\npicking this:\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<rparr> =\n  T\n  T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\n  \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                       (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                         \\<alpha>\\<lparr>ArrMap\\<rparr>)", "show \"T \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>)\""], ["proof (prove)\nusing this:\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\\<rparr> =\n  T\n  T\\<inverse>\\<^sub>R\\<^sub>e\\<^sub>l\n  \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                       (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                         \\<alpha>\\<lparr>ArrMap\\<rparr>)\n\ngoal (1 subgoal):\n 1. T \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                           (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                             \\<alpha>\\<lparr>ArrMap\\<rparr>)", "by blast"], ["proof (state)\nthis:\n  T \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                         (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                           \\<alpha>\\<lparr>ArrMap\\<rparr>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma dghm_dag_Rel_ArrMap_app_is_arr:\n  assumes \"T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a\"\n  shows \n    \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr> : \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr> \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr> : \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                  \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr> \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>", "proof(intro is_arrI)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\n    \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 2. dg_Rel\n     \\<alpha>\\<lparr>Dom\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr>\n 3. dg_Rel\n     \\<alpha>\\<lparr>Cod\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>", "from assms"], ["proof (chain)\npicking this:\n  T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a", "have a: \"a \\<in>\\<^sub>\\<circ> Vset \\<alpha>\" and b: \"b \\<in>\\<^sub>\\<circ> Vset \\<alpha>\""], ["proof (prove)\nusing this:\n  T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a\n\ngoal (1 subgoal):\n 1. a \\<in>\\<^sub>\\<circ> Vset \\<alpha> &&&\n    b \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "unfolding dg_Rel_components"], ["proof (prove)\nusing this:\n  T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a\n\ngoal (1 subgoal):\n 1. a \\<in>\\<^sub>\\<circ> Vset \\<alpha> &&&\n    b \\<in>\\<^sub>\\<circ> Vset \\<alpha>", "by (fastforce simp: dg_Rel_components)+"], ["proof (state)\nthis:\n  a \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  b \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n\ngoal (3 subgoals):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\n    \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 2. dg_Rel\n     \\<alpha>\\<lparr>Dom\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr>\n 3. dg_Rel\n     \\<alpha>\\<lparr>Cod\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>", "from assms"], ["proof (chain)\npicking this:\n  T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a", "have T: \"arr_Rel \\<alpha> T\""], ["proof (prove)\nusing this:\n  T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a\n\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> T", "by (auto simp: dg_Rel_is_arrD(1))"], ["proof (state)\nthis:\n  arr_Rel \\<alpha> T\n\ngoal (3 subgoals):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\n    \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n 2. dg_Rel\n     \\<alpha>\\<lparr>Dom\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr>\n 3. dg_Rel\n     \\<alpha>\\<lparr>Cod\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>", "then"], ["proof (chain)\npicking this:\n  arr_Rel \\<alpha> T", "show dag_T: \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr> \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\""], ["proof (prove)\nusing this:\n  arr_Rel \\<alpha> T\n\ngoal (1 subgoal):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\n    \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>", "by (cs_concl cs_simp: dg_Rel_cs_simps cs_intro: dg_Rel_cs_intros)"], ["proof (state)\nthis:\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\n  \\<in>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n\ngoal (2 subgoals):\n 1. dg_Rel\n     \\<alpha>\\<lparr>Dom\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr>\n 2. dg_Rel\n     \\<alpha>\\<lparr>Cod\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>", "from a assms T"], ["proof (chain)\npicking this:\n  a \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a\n  arr_Rel \\<alpha> T", "show \"dg_Rel \\<alpha>\\<lparr>Dom\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> = \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr>\""], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a\n  arr_Rel \\<alpha> T\n\ngoal (1 subgoal):\n 1. dg_Rel\n     \\<alpha>\\<lparr>Dom\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr>", "by (cs_concl cs_simp: dg_cs_simps dg_Rel_cs_simps cs_intro: dg_Rel_cs_intros)"], ["proof (state)\nthis:\n  dg_Rel\n   \\<alpha>\\<lparr>Dom\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr>\n\ngoal (1 subgoal):\n 1. dg_Rel\n     \\<alpha>\\<lparr>Cod\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>", "from b assms T"], ["proof (chain)\npicking this:\n  b \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a\n  arr_Rel \\<alpha> T", "show \"dg_Rel \\<alpha>\\<lparr>Cod\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> = \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>\""], ["proof (prove)\nusing this:\n  b \\<in>\\<^sub>\\<circ> Vset \\<alpha>\n  T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a\n  arr_Rel \\<alpha> T\n\ngoal (1 subgoal):\n 1. dg_Rel\n     \\<alpha>\\<lparr>Cod\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>", "by (cs_concl cs_simp: dg_cs_simps dg_Rel_cs_simps cs_intro: dg_Rel_cs_intros)"], ["proof (state)\nthis:\n  dg_Rel\n   \\<alpha>\\<lparr>Cod\\<rparr>\\<lparr>\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\\<rparr> =\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>\n\ngoal:\nNo subgoals!", "qed"], ["", "subsubsection\\<open>Canonical dagger for \\<open>Rel\\<close> is a digraph isomorphism\\<close>"], ["", "lemma (in \\<Z>) dghm_dag_Rel_is_iso_dghm: \n  \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> : op_dg (dg_Rel \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>i\\<^sub>s\\<^sub>o\\<^bsub>\\<alpha>\\<^esub> dg_Rel \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n    op_dg\n     (dg_Rel\n       \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>i\\<^sub>s\\<^sub>o\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n                                 \\<alpha>", "proof(rule is_iso_dghmI)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n    op_dg\n     (dg_Rel\n       \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n \\<alpha>\n 2. v11 (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ObjMap\\<rparr>)\n 3. v11 (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)\n 4. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 5. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ArrMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>", "interpret digraph \\<alpha> \\<open>dg_Rel \\<alpha>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. digraph \\<alpha> (dg_Rel \\<alpha>)", "by (simp add: digraph_dg_Rel)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n    op_dg\n     (dg_Rel\n       \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n \\<alpha>\n 2. v11 (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ObjMap\\<rparr>)\n 3. v11 (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)\n 4. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 5. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ArrMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>", "show \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> : op_dg (dg_Rel \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>\\<alpha>\\<^esub> dg_Rel \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n    op_dg\n     (dg_Rel\n       \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n \\<alpha>", "proof(rule is_dghmI, unfold dg_op_simps dghm_dag_Rel_components(3,4))"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<Z> \\<alpha>\n 2. vfsequence\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>)\n 3. digraph \\<alpha> (op_dg (dg_Rel \\<alpha>))\n 4. digraph \\<alpha> (dg_Rel \\<alpha>)\n 5. vcard\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>) =\n    4\\<^sub>\\<nat>\n 6. op_dg (dg_Rel \\<alpha>) = op_dg (dg_Rel \\<alpha>)\n 7. dg_Rel \\<alpha> = dg_Rel \\<alpha>\n 8. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ObjMap\\<rparr>)\n 9. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)\n 10. \\<D>\\<^sub>\\<circ>\n      (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>\\<lparr>ObjMap\\<rparr>) =\n     dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\nA total of 13 subgoals...", "show \"vfsequence (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>)", "unfolding dghm_dag_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vfsequence\n     [vid_on (dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>),\n      VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel,\n      op_dg (dg_Rel \\<alpha>), dg_Rel \\<alpha>]\\<^sub>\\<circ>", "by (simp add: nat_omega_simps)"], ["proof (state)\nthis:\n  vfsequence\n   (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>)\n\ngoal (12 subgoals):\n 1. \\<Z> \\<alpha>\n 2. digraph \\<alpha> (op_dg (dg_Rel \\<alpha>))\n 3. digraph \\<alpha> (dg_Rel \\<alpha>)\n 4. vcard\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>) =\n    4\\<^sub>\\<nat>\n 5. op_dg (dg_Rel \\<alpha>) = op_dg (dg_Rel \\<alpha>)\n 6. dg_Rel \\<alpha> = dg_Rel \\<alpha>\n 7. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ObjMap\\<rparr>)\n 8. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)\n 9. \\<D>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 10. \\<R>\\<^sub>\\<circ>\n      (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>\\<lparr>ObjMap\\<rparr>)\n     \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\nA total of 12 subgoals...", "show \"vcard (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>) = 4\\<^sub>\\<nat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>) =\n    4\\<^sub>\\<nat>", "unfolding dghm_dag_Rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard\n     [vid_on (dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>),\n      VLambda (dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>) converse_Rel,\n      op_dg (dg_Rel \\<alpha>), dg_Rel \\<alpha>]\\<^sub>\\<circ> =\n    4\\<^sub>\\<nat>", "by (simp add: nat_omega_simps)"], ["proof (state)\nthis:\n  vcard\n   (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>) =\n  4\\<^sub>\\<nat>\n\ngoal (11 subgoals):\n 1. \\<Z> \\<alpha>\n 2. digraph \\<alpha> (op_dg (dg_Rel \\<alpha>))\n 3. digraph \\<alpha> (dg_Rel \\<alpha>)\n 4. op_dg (dg_Rel \\<alpha>) = op_dg (dg_Rel \\<alpha>)\n 5. dg_Rel \\<alpha> = dg_Rel \\<alpha>\n 6. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ObjMap\\<rparr>)\n 7. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)\n 8. \\<D>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 9. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 10. \\<D>\\<^sub>\\<circ>\n      (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>\\<lparr>ArrMap\\<rparr>) =\n     dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\nA total of 11 subgoals...", "fix T a b"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<Z> \\<alpha>\n 2. digraph \\<alpha> (op_dg (dg_Rel \\<alpha>))\n 3. digraph \\<alpha> (dg_Rel \\<alpha>)\n 4. op_dg (dg_Rel \\<alpha>) = op_dg (dg_Rel \\<alpha>)\n 5. dg_Rel \\<alpha> = dg_Rel \\<alpha>\n 6. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ObjMap\\<rparr>)\n 7. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)\n 8. \\<D>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 9. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 10. \\<D>\\<^sub>\\<circ>\n      (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>\\<lparr>ArrMap\\<rparr>) =\n     dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\nA total of 11 subgoals...", "assume \"T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a\""], ["proof (state)\nthis:\n  T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a\n\ngoal (11 subgoals):\n 1. \\<Z> \\<alpha>\n 2. digraph \\<alpha> (op_dg (dg_Rel \\<alpha>))\n 3. digraph \\<alpha> (dg_Rel \\<alpha>)\n 4. op_dg (dg_Rel \\<alpha>) = op_dg (dg_Rel \\<alpha>)\n 5. dg_Rel \\<alpha> = dg_Rel \\<alpha>\n 6. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ObjMap\\<rparr>)\n 7. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)\n 8. \\<D>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 9. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 10. \\<D>\\<^sub>\\<circ>\n      (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>\\<lparr>ArrMap\\<rparr>) =\n     dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a", "show\n      \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr> : \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr> \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>\""], ["proof (prove)\nusing this:\n  T : b \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> a\n\ngoal (1 subgoal):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr> : \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                  \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr> \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>", "by (rule dghm_dag_Rel_ArrMap_app_is_arr)"], ["proof (state)\nthis:\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr> : \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>a\\<rparr> \\<mapsto>\\<^bsub>dg_Rel \\<alpha>\\<^esub> \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                              \\<alpha>\\<lparr>ObjMap\\<rparr>\\<lparr>b\\<rparr>\n\ngoal (10 subgoals):\n 1. \\<Z> \\<alpha>\n 2. digraph \\<alpha> (op_dg (dg_Rel \\<alpha>))\n 3. digraph \\<alpha> (dg_Rel \\<alpha>)\n 4. op_dg (dg_Rel \\<alpha>) = op_dg (dg_Rel \\<alpha>)\n 5. dg_Rel \\<alpha> = dg_Rel \\<alpha>\n 6. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ObjMap\\<rparr>)\n 7. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)\n 8. \\<D>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 9. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 10. \\<D>\\<^sub>\\<circ>\n      (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>\\<lparr>ArrMap\\<rparr>) =\n     dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>", "qed (auto simp: dghm_dag_Rel_components intro: dg_cs_intros dg_op_intros)"], ["proof (state)\nthis:\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n  op_dg\n   (dg_Rel\n     \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n                                     \\<alpha>\n\ngoal (4 subgoals):\n 1. v11 (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ObjMap\\<rparr>)\n 2. v11 (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)\n 3. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 4. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ArrMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>", "show \"v11 (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v11 (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)", "proof\n    (\n      intro vsv.vsv_valeq_v11I,\n      unfold dghm_dag_Rel_ArrMap_vdomain dg_Rel_Arr_iff\n    )"], ["proof (state)\ngoal (2 subgoals):\n 1. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)\n 2. \\<And>x y.\n       \\<lbrakk>arr_Rel \\<alpha> x; arr_Rel \\<alpha> y;\n        \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>x\\<rparr> =\n        \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>y\\<rparr>\\<rbrakk>\n       \\<Longrightarrow> x = y", "fix S T"], ["proof (state)\ngoal (2 subgoals):\n 1. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)\n 2. \\<And>x y.\n       \\<lbrakk>arr_Rel \\<alpha> x; arr_Rel \\<alpha> y;\n        \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>x\\<rparr> =\n        \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>y\\<rparr>\\<rbrakk>\n       \\<Longrightarrow> x = y", "assume prems: \n      \"arr_Rel \\<alpha> S\" \n      \"arr_Rel \\<alpha> T\" \n      \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>S\\<rparr> = \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\""], ["proof (state)\nthis:\n  arr_Rel \\<alpha> S\n  arr_Rel \\<alpha> T\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>S\\<rparr> =\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\n\ngoal (2 subgoals):\n 1. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)\n 2. \\<And>x y.\n       \\<lbrakk>arr_Rel \\<alpha> x; arr_Rel \\<alpha> y;\n        \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>x\\<rparr> =\n        \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>y\\<rparr>\\<rbrakk>\n       \\<Longrightarrow> x = y", "from prems"], ["proof (chain)\npicking this:\n  arr_Rel \\<alpha> S\n  arr_Rel \\<alpha> T\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>S\\<rparr> =\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>", "show \"S = T\""], ["proof (prove)\nusing this:\n  arr_Rel \\<alpha> S\n  arr_Rel \\<alpha> T\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>S\\<rparr> =\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha>\\<lparr>ArrMap\\<rparr>\\<lparr>T\\<rparr>\n\ngoal (1 subgoal):\n 1. S = T", "by \n        (\n          auto simp: \n            dg_Rel_components \n            dg_Rel_cs_simps\n            dghm_dag_Rel_ArrMap_app[OF prems(1)] \n            dghm_dag_Rel_ArrMap_app[OF prems(2)]\n        )"], ["proof (state)\nthis:\n  S = T\n\ngoal (1 subgoal):\n 1. vsv (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ArrMap\\<rparr>)", "qed (auto intro: dg_Rel_cs_intros)"], ["proof (state)\nthis:\n  v11 (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>\\<lparr>ArrMap\\<rparr>)\n\ngoal (3 subgoals):\n 1. v11 (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ObjMap\\<rparr>)\n 2. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>\n 3. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ArrMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>", "show \"\\<R>\\<^sub>\\<circ> (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>\\<lparr>ArrMap\\<rparr>) = dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ArrMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>", "by (simp add: dg_Rel_cs_simps)"], ["proof (state)\nthis:\n  \\<R>\\<^sub>\\<circ>\n   (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha>\\<lparr>ArrMap\\<rparr>) =\n  dg_Rel \\<alpha>\\<lparr>Arr\\<rparr>\n\ngoal (2 subgoals):\n 1. v11 (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n          \\<alpha>\\<lparr>ObjMap\\<rparr>)\n 2. \\<R>\\<^sub>\\<circ>\n     (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n       \\<alpha>\\<lparr>ObjMap\\<rparr>) =\n    dg_Rel \\<alpha>\\<lparr>Obj\\<rparr>", "qed (simp_all add: dghm_dag_Rel_components)"], ["", "subsubsection\\<open>Further properties of the canonical dagger\\<close>"], ["", "lemma (in \\<Z>) dghm_cn_comp_dghm_dag_Rel_dghm_dag_Rel: \n  \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ> \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> = dghm_id (dg_Rel \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> =\n    dghm_id (dg_Rel \\<alpha>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> =\n    dghm_id (dg_Rel \\<alpha>)", "interpret digraph \\<alpha> \\<open>dg_Rel \\<alpha>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. digraph \\<alpha> (dg_Rel \\<alpha>)", "by (simp add: digraph_dg_Rel)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> =\n    dghm_id (dg_Rel \\<alpha>)", "from dghm_dag_Rel_is_iso_dghm"], ["proof (chain)\npicking this:\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n  op_dg\n   (dg_Rel\n     \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>i\\<^sub>s\\<^sub>o\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n                               \\<alpha>", "have dag: \n    \"\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> : dg_Rel \\<alpha> \\<^sub>D\\<^sub>G\\<mapsto>\\<mapsto>\\<^bsub>\\<alpha>\\<^esub> dg_Rel \\<alpha>\""], ["proof (prove)\nusing this:\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n  op_dg\n   (dg_Rel\n     \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>i\\<^sub>s\\<^sub>o\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n                               \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n    op_dg\n     (dg_Rel\n       \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n \\<alpha>", "by (simp add: is_iso_dghm_def)"], ["proof (state)\nthis:\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n  op_dg\n   (dg_Rel\n     \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n                                     \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> =\n    dghm_id (dg_Rel \\<alpha>)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> =\n    dghm_id (dg_Rel \\<alpha>)", "proof(rule dghm_eqI)"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n    ?\\<AA> \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>?\\<alpha>\\<^esub> ?\\<BB>\n 2. dghm_id (dg_Rel \\<alpha>) :\n    ?\\<CC> \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>?\\<alpha>\\<^esub> ?\\<DD>\n 3. (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n     \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha>)\\<lparr>ObjMap\\<rparr> =\n    dghm_id (dg_Rel \\<alpha>)\\<lparr>ObjMap\\<rparr>\n 4. (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n     \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha>)\\<lparr>ArrMap\\<rparr> =\n    dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>\n 5. ?\\<AA> = ?\\<CC>\n 6. ?\\<BB> = ?\\<DD>", "show \"(\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ> \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>)\\<lparr>ArrMap\\<rparr> = dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n     \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha>)\\<lparr>ArrMap\\<rparr> =\n    dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>", "proof(rule vsv_eqI)"], ["proof (state)\ngoal (4 subgoals):\n 1. vsv ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n           \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n          \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n           \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n 2. vsv (dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n 3. \\<D>\\<^sub>\\<circ>\n     ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n       \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>)\\<lparr>ArrMap\\<rparr>) =\n    \\<D>\\<^sub>\\<circ> (dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n 4. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                              ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                 \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n                                \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                 \\<alpha>)\\<lparr>ArrMap\\<rparr>) \\<Longrightarrow>\n       (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n        \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr> =\n       dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr>", "show \"vsv ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ> \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>)\\<lparr>ArrMap\\<rparr>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n           \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n          \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n           \\<alpha>)\\<lparr>ArrMap\\<rparr>)", "by (auto simp: dghm_cn_comp_components dghm_dag_Rel_components)"], ["proof (state)\nthis:\n  vsv ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n        \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n\ngoal (3 subgoals):\n 1. vsv (dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n 2. \\<D>\\<^sub>\\<circ>\n     ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n       \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>)\\<lparr>ArrMap\\<rparr>) =\n    \\<D>\\<^sub>\\<circ> (dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n 3. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                              ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                 \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n                                \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                 \\<alpha>)\\<lparr>ArrMap\\<rparr>) \\<Longrightarrow>\n       (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n        \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr> =\n       dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr>", "fix a"], ["proof (state)\ngoal (3 subgoals):\n 1. vsv (dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n 2. \\<D>\\<^sub>\\<circ>\n     ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n       \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>)\\<lparr>ArrMap\\<rparr>) =\n    \\<D>\\<^sub>\\<circ> (dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n 3. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                              ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                 \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n                                \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                 \\<alpha>)\\<lparr>ArrMap\\<rparr>) \\<Longrightarrow>\n       (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n        \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr> =\n       dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr>", "assume \"a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ> \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>)\\<lparr>ArrMap\\<rparr>)\""], ["proof (state)\nthis:\n  a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                         ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                            \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n                           \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                            \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n\ngoal (3 subgoals):\n 1. vsv (dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n 2. \\<D>\\<^sub>\\<circ>\n     ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n       \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>)\\<lparr>ArrMap\\<rparr>) =\n    \\<D>\\<^sub>\\<circ> (dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n 3. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                              ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                 \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n                                \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                 \\<alpha>)\\<lparr>ArrMap\\<rparr>) \\<Longrightarrow>\n       (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n        \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr> =\n       dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr>", "then"], ["proof (chain)\npicking this:\n  a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                         ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                            \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n                           \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                            \\<alpha>)\\<lparr>ArrMap\\<rparr>)", "have a: \"arr_Rel \\<alpha> a\""], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                         ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                            \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n                           \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                            \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> a", "unfolding dg_Rel_cs_simps dghm_cn_comp_ArrMap_vdomain[OF dag dag]"], ["proof (prove)\nusing this:\n  arr_Rel \\<alpha> a\n\ngoal (1 subgoal):\n 1. arr_Rel \\<alpha> a", "by simp"], ["proof (state)\nthis:\n  arr_Rel \\<alpha> a\n\ngoal (3 subgoals):\n 1. vsv (dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n 2. \\<D>\\<^sub>\\<circ>\n     ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n       \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>)\\<lparr>ArrMap\\<rparr>) =\n    \\<D>\\<^sub>\\<circ> (dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n 3. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                              ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                 \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n                                \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n                                 \\<alpha>)\\<lparr>ArrMap\\<rparr>) \\<Longrightarrow>\n       (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n        \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n         \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr> =\n       dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr>", "from a dghm_dag_Rel_is_iso_dghm"], ["proof (chain)\npicking this:\n  arr_Rel \\<alpha> a\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n  op_dg\n   (dg_Rel\n     \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>i\\<^sub>s\\<^sub>o\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n                               \\<alpha>", "show \n        \"(\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ> \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr> = dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr>\""], ["proof (prove)\nusing this:\n  arr_Rel \\<alpha> a\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n  op_dg\n   (dg_Rel\n     \\<alpha>) \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>i\\<^sub>s\\<^sub>o\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n                               \\<alpha>\n\ngoal (1 subgoal):\n 1. (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n     \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr> =\n    dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr>", "by\n          (\n            cs_concl\n              cs_simp: dg_Rel_cs_simps dg_cs_simps dg_cn_cs_simps \n              cs_intro: dg_Rel_cs_intros dghm_cs_intros \n          )"], ["proof (state)\nthis:\n  (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n    \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n   \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n    \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr> =\n  dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>\\<lparr>a\\<rparr>\n\ngoal (2 subgoals):\n 1. vsv (dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>)\n 2. \\<D>\\<^sub>\\<circ>\n     ((\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n       \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n        \\<alpha>)\\<lparr>ArrMap\\<rparr>) =\n    \\<D>\\<^sub>\\<circ> (dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>)", "qed (simp_all add: dghm_cn_comp_components dghm_id_components dg_Rel_cs_simps)"], ["proof (state)\nthis:\n  (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n    \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n   \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n    \\<alpha>)\\<lparr>ArrMap\\<rparr> =\n  dghm_id (dg_Rel \\<alpha>)\\<lparr>ArrMap\\<rparr>\n\ngoal (5 subgoals):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n    ?\\<AA> \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>?\\<alpha>\\<^esub> ?\\<BB>\n 2. dghm_id (dg_Rel \\<alpha>) :\n    ?\\<CC> \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>?\\<alpha>\\<^esub> ?\\<DD>\n 3. (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n     \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha>)\\<lparr>ObjMap\\<rparr> =\n    dghm_id (dg_Rel \\<alpha>)\\<lparr>ObjMap\\<rparr>\n 4. ?\\<AA> = ?\\<CC>\n 5. ?\\<BB> = ?\\<DD>", "show \"dghm_id (dg_Rel \\<alpha>) : dg_Rel \\<alpha> \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>\\<alpha>\\<^esub> dg_Rel \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dghm_id (dg_Rel \\<alpha>) :\n    dg_Rel\n     \\<alpha> \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n                                    \\<alpha>", "by (simp_all add: digraph.dg_dghm_id_is_dghm digraph_axioms)"], ["proof (state)\nthis:\n  dghm_id (dg_Rel \\<alpha>) :\n  dg_Rel\n   \\<alpha> \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>\\<alpha>\\<^esub> dg_Rel\n                                  \\<alpha>\n\ngoal (4 subgoals):\n 1. \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n     \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n    \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> :\n    ?\\<AA> \\<mapsto>\\<mapsto>\\<^sub>D\\<^sub>G\\<^bsub>\\<alpha>\\<^esub> ?\\<BB>\n 2. (\\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n     \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n      \\<alpha>)\\<lparr>ObjMap\\<rparr> =\n    dghm_id (dg_Rel \\<alpha>)\\<lparr>ObjMap\\<rparr>\n 3. ?\\<AA> = dg_Rel \\<alpha>\n 4. ?\\<BB> = dg_Rel \\<alpha>", "qed \n    (\n      auto simp: \n        dghm_cn_comp_is_dghm[OF digraph_axioms dag dag] \n        dghm_cn_comp_components \n        dghm_dag_Rel_components \n        dghm_id_components\n    )"], ["proof (state)\nthis:\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l\n   \\<alpha> \\<^sub>D\\<^sub>G\\<^sub>H\\<^sub>M\\<circ>\n  \\<dagger>\\<^sub>D\\<^sub>G\\<^sub>.\\<^sub>R\\<^sub>e\\<^sub>l \\<alpha> =\n  dghm_id (dg_Rel \\<alpha>)\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>\\newpage\\<close>"], ["", "end"]]}