{"file_name": "/home/qj213/afp-2021-10-22/thys/CZH_Foundations/czh_sets/CZH_Sets_NOP.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/CZH_Foundations", "problem_names": ["lemma pnopI[intro]:\n  assumes \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\"\n  shows \"pnop A n f\"", "lemma pnopD[dest]:\n  assumes \"pnop A n f\"\n  shows \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\"", "lemma pnopE[elim]:\n  assumes \"pnop A n f\"\n  obtains \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\"", "lemma nopI[intro]:\n  assumes \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\"\n  shows \"nop A n f\"", "lemma nopD[dest]:\n  assumes \"nop A n f\"\n  shows \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\"", "lemma nopE[elim]:\n  assumes \"nop A n f\"\n  obtains \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\"", "lemma nop_v11I[intro]:\n  assumes \"v11 f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\"\n  shows \"nop_v11 A n f\"", "lemma nop_v11D[dest]:\n  assumes \"nop_v11 A n f\"\n  shows \"v11 f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\"", "lemma nop_v11E[elim]:\n  assumes \"nop_v11 A n f\"\n  obtains \"v11 f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\"", "lemma nop_ontoI[intro]:\n  assumes \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f = A\"\n  shows \"nop_onto A n f\"", "lemma nop_ontoD[dest]:\n  assumes \"nop_onto A n f\"\n  shows \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f = A\"", "lemma nop_ontoE[elim]:\n  assumes \"nop_onto A n f\"\n  obtains \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f = A\"", "lemma nop_bijI[intro]:\n  assumes \"v11 f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f = A\"\n  shows \"nop_bij A n f\"", "lemma nop_bijD[dest]:\n  assumes \"nop_bij A n f\"\n  shows \"v11 f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f = A\"", "lemma nop_bijE[elim]:\n  assumes \"nop_bij A n f\"\n  obtains \"v11 f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f = A\"", "lemmas scalarI[intro] = scalar.intro", "lemma scalarD[dest]:\n  assumes \"scalar A f\"\n  shows \"nop A 0 f\"", "lemma scalarE[elim]:\n  assumes \"scalar A f\"\n  obtains \"nop A 0 f\"", "lemmas unopI[intro] = unop.intro", "lemma unopD[dest]:\n  assumes \"unop A f\"\n  shows \"nop A (1\\<^sub>\\<nat>) f\"", "lemma unopE[elim]:\n  assumes \"unop A f\"\n  obtains \"nop A (1\\<^sub>\\<nat>) f\"", "lemma unop_v11I[intro]:\n  assumes \"nop_v11 A (1\\<^sub>\\<nat>) f\"\n  shows \"unop_v11 A f\"", "lemma unop_v11D[dest]:\n  assumes \"unop_v11 A f\"\n  shows \"nop_v11 A (1\\<^sub>\\<nat>) f\"", "lemma unop_v11E[elim]:\n  assumes \"unop_v11 A f\"\n  obtains \"nop_v11 A (1\\<^sub>\\<nat>) f\"", "lemma unop_ontoI[intro]:\n  assumes \"nop_onto A (1\\<^sub>\\<nat>) f\"\n  shows \"unop_onto A f\"", "lemma unop_ontoD[dest]:\n  assumes \"unop_onto A f\"\n  shows \"nop_onto A (1\\<^sub>\\<nat>) f\"", "lemma unop_ontoE[elim]:\n  assumes \"unop_onto A f\"\n  obtains \"nop_onto A (1\\<^sub>\\<nat>) f\"", "lemma unop_ontoI'[intro]:\n  assumes \"unop A f\" and \"A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\"\n  shows \"unop_onto A f\"", "lemma unop_bijI[intro]:\n  assumes \"nop_bij A (1\\<^sub>\\<nat>) f\"\n  shows \"unop_bij A f\"", "lemma unop_bijD[dest]:\n  assumes \"unop_bij A f\"\n  shows \"nop_bij A (1\\<^sub>\\<nat>) f\"", "lemma unop_bijE[elim]:\n  assumes \"unop_bij A f\"\n  obtains \"nop_bij A (1\\<^sub>\\<nat>) f\"", "lemma unop_bijI'[intro]:\n  assumes \"unop_v11 A f\" and \"A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\"\n  shows \"unop_bij A f\"", "lemmas pbinopI[intro] = pbinop.intro", "lemma pbinopD[dest]:\n  assumes \"pbinop A f\"\n  shows \"pnop A (2\\<^sub>\\<nat>) f\"", "lemma pbinopE[elim]:\n  assumes \"pbinop A f\"\n  obtains \"pnop A (2\\<^sub>\\<nat>) f\"", "lemma (in pbinop) fbinop_vcard: \n  assumes \"x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\" \n  shows \"vcard x = 2\\<^sub>\\<nat>\"", "lemmas binopI[intro] = binop.intro", "lemma binopD[dest]:\n  assumes \"binop A f\"\n  shows \"nop A (2\\<^sub>\\<nat>) f\"", "lemma binopE[elim]:\n  assumes \"binop A f\"\n  obtains \"nop A (2\\<^sub>\\<nat>) f\"", "lemma (in binop) binop_app_in_vrange[intro]:\n  assumes \"a \\<in>\\<^sub>\\<circ> A\" and \"b \\<in>\\<^sub>\\<circ> A\"\n  shows \"f\\<lparr>a, b\\<rparr>\\<^sub>\\<bullet> \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\"", "lemma binop_v11I[intro]:\n  assumes \"nop_v11 A (2\\<^sub>\\<nat>) f\"\n  shows \"binop_v11 A f\"", "lemma binop_v11D[dest]:\n  assumes \"binop_v11 A f\"\n  shows \"nop_v11 A (2\\<^sub>\\<nat>) f\"", "lemma binop_v11E[elim]:\n  assumes \"binop_v11 A f\"\n  obtains \"nop_v11 A (2\\<^sub>\\<nat>) f\"", "lemma binop_ontoI[intro]:\n  assumes \"nop_onto A (2\\<^sub>\\<nat>) f\"\n  shows \"binop_onto A f\"", "lemma binop_ontoD[dest]:\n  assumes \"binop_onto A f\"\n  shows \"nop_onto A (2\\<^sub>\\<nat>) f\"", "lemma binop_ontoE[elim]:\n  assumes \"binop_onto A f\"\n  obtains \"nop_onto A (2\\<^sub>\\<nat>) f\"", "lemma binop_ontoI'[intro]:\n  assumes \"binop A f\" and \"A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\"\n  shows \"binop_onto A f\"", "lemma binop_bijI[intro]:\n  assumes \"nop_bij A (2\\<^sub>\\<nat>) f\"\n  shows \"binop_bij A f\"", "lemma binop_bijD[dest]:\n  assumes \"binop_bij A f\"\n  shows \"nop_bij A (2\\<^sub>\\<nat>) f\"", "lemma binop_bijE[elim]:\n  assumes \"binop_bij A f\"\n  obtains \"nop_bij A (2\\<^sub>\\<nat>) f\"", "lemma binop_bijI'[intro]:\n  assumes \"binop_v11 A f\" and \"A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\"\n  shows \"binop_bij A f\"", "lemma fflip_vsv: \"vsv (fflip f)\"", "lemma vdomain_fflip[simp]: \"\\<D>\\<^sub>\\<circ> (fflip f) = (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>\"", "lemma (in pbinop) vrange_fflip: \"\\<R>\\<^sub>\\<circ> (fflip f) = \\<R>\\<^sub>\\<circ> f\"", "lemma fflip_app[simp]: \n  assumes \"[a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\"\n  shows \"fflip f\\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> = f\\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\"", "lemma (in pbinop) pbinop_fflip_fflip: \"fflip (fflip f) = f\"", "lemma (in binop) pbinop_fflip_app[simp]: \n  assumes \"a \\<in>\\<^sub>\\<circ> A\" and \"b \\<in>\\<^sub>\\<circ> A\"\n  shows \"fflip f\\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> = f\\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\"", "lemma fflip_vsingleton: \"fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}) = set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}\""], "translations": [["", "lemma pnopI[intro]:\n  assumes \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\"\n  shows \"pnop A n f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pnop A n f", "using assms"], ["proof (prove)\nusing this:\n  vsv f\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n  \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. pnop A n f", "unfolding pnop_def pnop_axioms_def"], ["proof (prove)\nusing this:\n  vsv f\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n  \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. vsv f \\<and>\n    n \\<in>\\<^sub>\\<circ> \\<omega> \\<and>\n    \\<D>\\<^sub>\\<circ> f\n    \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n \\<and>\n    \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "by blast"], ["", "lemma pnopD[dest]:\n  assumes \"pnop A n f\"\n  shows \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (vsv f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n &&&\n    \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "using assms"], ["proof (prove)\nusing this:\n  pnop A n f\n\ngoal (1 subgoal):\n 1. (vsv f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n &&&\n    \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "unfolding pnop_def pnop_axioms_def"], ["proof (prove)\nusing this:\n  vsv f \\<and>\n  n \\<in>\\<^sub>\\<circ> \\<omega> \\<and>\n  \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n \\<and>\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. (vsv f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n &&&\n    \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "by blast+"], ["", "lemma pnopE[elim]:\n  assumes \"pnop A n f\"\n  obtains \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; n \\<in>\\<^sub>\\<circ> \\<omega>;\n      \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n;\n      \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  pnop A n f\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; n \\<in>\\<^sub>\\<circ> \\<omega>;\n      \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n;\n      \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by force"], ["", "subsection\\<open>Total \\<open>n\\<close>-ary operation\\<close>"], ["", "locale nop = vsv f for A n f :: V +\n  assumes nop_n: \"n \\<in>\\<^sub>\\<circ> \\<omega>\" \n    and nop_vdomain: \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and nop_vrange: \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["", "sublocale nop \\<subseteq> pnop A n f"], ["proof (prove)\ngoal (1 subgoal):\n 1. pnop A n f", "proof(intro pnopI)"], ["proof (state)\ngoal (4 subgoals):\n 1. vsv f\n 2. n \\<in>\\<^sub>\\<circ> \\<omega>\n 3. \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\n 4. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"vsv f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f", "by (rule vsv_axioms)"], ["proof (state)\nthis:\n  vsv f\n\ngoal (3 subgoals):\n 1. n \\<in>\\<^sub>\\<circ> \\<omega>\n 2. \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\n 3. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"n \\<in>\\<^sub>\\<circ> \\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n \\<in>\\<^sub>\\<circ> \\<omega>", "by (rule nop_n)"], ["proof (state)\nthis:\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n\ngoal (2 subgoals):\n 1. \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\n 2. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "from nop_vdomain"], ["proof (chain)\npicking this:\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n", "show \"\\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\""], ["proof (prove)\nusing this:\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n", "by simp"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\n\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "by (rule nop_vrange)"], ["proof (state)\nthis:\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Rules.\\<close>"], ["", "lemma nopI[intro]:\n  assumes \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\"\n  shows \"nop A n f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop A n f", "using assms"], ["proof (prove)\nusing this:\n  vsv f\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. nop A n f", "unfolding nop_def nop_axioms_def"], ["proof (prove)\nusing this:\n  vsv f\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. vsv f \\<and>\n    n \\<in>\\<^sub>\\<circ> \\<omega> \\<and>\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n \\<and>\n    \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "by blast"], ["", "lemma nopD[dest]:\n  assumes \"nop A n f\"\n  shows \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (vsv f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n &&&\n    \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "using assms"], ["proof (prove)\nusing this:\n  nop A n f\n\ngoal (1 subgoal):\n 1. (vsv f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n &&&\n    \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "unfolding nop_def nop_axioms_def"], ["proof (prove)\nusing this:\n  vsv f \\<and>\n  n \\<in>\\<^sub>\\<circ> \\<omega> \\<and>\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n \\<and>\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. (vsv f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n &&&\n    \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "by blast+"], ["", "lemma nopE[elim]:\n  assumes \"nop A n f\"\n  obtains \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; n \\<in>\\<^sub>\\<circ> \\<omega>;\n      \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n;\n      \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  nop A n f\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; n \\<in>\\<^sub>\\<circ> \\<omega>;\n      \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n;\n      \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by force"], ["", "subsection\\<open>Injective \\<open>n\\<close>-ary operation\\<close>"], ["", "locale nop_v11 = v11 f for A n f :: V +\n  assumes nop_v11_n: \"n \\<in>\\<^sub>\\<circ> \\<omega>\" \n    and nop_v11_vdomain: \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and nop_v11_vrange: \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["", "sublocale nop_v11 \\<subseteq> nop"], ["proof (prove)\ngoal (1 subgoal):\n 1. nop A n f", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. vsv f\n 2. n \\<in>\\<^sub>\\<circ> \\<omega>\n 3. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n 4. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"vsv f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f", "by (rule vsv_axioms)"], ["proof (state)\nthis:\n  vsv f\n\ngoal (3 subgoals):\n 1. n \\<in>\\<^sub>\\<circ> \\<omega>\n 2. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n 3. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"n \\<in>\\<^sub>\\<circ> \\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n \\<in>\\<^sub>\\<circ> \\<omega>", "by (rule nop_v11_n)"], ["proof (state)\nthis:\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n\ngoal (2 subgoals):\n 1. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n 2. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n", "by (rule nop_v11_vdomain)"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "by (rule nop_v11_vrange)"], ["proof (state)\nthis:\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Rules.\\<close>"], ["", "lemma nop_v11I[intro]:\n  assumes \"v11 f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\"\n  shows \"nop_v11 A n f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop_v11 A n f", "using assms"], ["proof (prove)\nusing this:\n  v11 f\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. nop_v11 A n f", "unfolding nop_v11_def nop_v11_axioms_def"], ["proof (prove)\nusing this:\n  v11 f\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. v11 f \\<and>\n    n \\<in>\\<^sub>\\<circ> \\<omega> \\<and>\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n \\<and>\n    \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "by blast"], ["", "lemma nop_v11D[dest]:\n  assumes \"nop_v11 A n f\"\n  shows \"v11 f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v11 f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n &&&\n    \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "using assms"], ["proof (prove)\nusing this:\n  nop_v11 A n f\n\ngoal (1 subgoal):\n 1. (v11 f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n &&&\n    \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "unfolding nop_v11_def nop_v11_axioms_def"], ["proof (prove)\nusing this:\n  v11 f \\<and>\n  n \\<in>\\<^sub>\\<circ> \\<omega> \\<and>\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n \\<and>\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. (v11 f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n &&&\n    \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "by blast+"], ["", "lemma nop_v11E[elim]:\n  assumes \"nop_v11 A n f\"\n  obtains \"v11 f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>v11 f; n \\<in>\\<^sub>\\<circ> \\<omega>;\n      \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n;\n      \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  nop_v11 A n f\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>v11 f; n \\<in>\\<^sub>\\<circ> \\<omega>;\n      \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n;\n      \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by force"], ["", "subsection\\<open>Surjective \\<open>n\\<close>-ary operation\\<close>"], ["", "locale nop_onto = vsv f for A n f :: V +\n  assumes nop_onto_n: \"n \\<in>\\<^sub>\\<circ> \\<omega>\" \n    and nop_onto_vdomain: \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and nop_onto_vrange: \"\\<R>\\<^sub>\\<circ> f = A\""], ["", "sublocale nop_onto \\<subseteq> nop"], ["proof (prove)\ngoal (1 subgoal):\n 1. nop A n f", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. vsv f\n 2. n \\<in>\\<^sub>\\<circ> \\<omega>\n 3. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n 4. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"vsv f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f", "by (rule vsv_axioms)"], ["proof (state)\nthis:\n  vsv f\n\ngoal (3 subgoals):\n 1. n \\<in>\\<^sub>\\<circ> \\<omega>\n 2. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n 3. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"n \\<in>\\<^sub>\\<circ> \\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n \\<in>\\<^sub>\\<circ> \\<omega>", "by (rule nop_onto_n)"], ["proof (state)\nthis:\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n\ngoal (2 subgoals):\n 1. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n 2. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n", "by (rule nop_onto_vdomain)"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "by (simp add: nop_onto_vrange)"], ["proof (state)\nthis:\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Rules.\\<close>"], ["", "lemma nop_ontoI[intro]:\n  assumes \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f = A\"\n  shows \"nop_onto A n f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop_onto A n f", "using assms"], ["proof (prove)\nusing this:\n  vsv f\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n  \\<R>\\<^sub>\\<circ> f = A\n\ngoal (1 subgoal):\n 1. nop_onto A n f", "unfolding nop_onto_def nop_onto_axioms_def"], ["proof (prove)\nusing this:\n  vsv f\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n  \\<R>\\<^sub>\\<circ> f = A\n\ngoal (1 subgoal):\n 1. vsv f \\<and>\n    n \\<in>\\<^sub>\\<circ> \\<omega> \\<and>\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n \\<and>\n    \\<R>\\<^sub>\\<circ> f = A", "by blast"], ["", "lemma nop_ontoD[dest]:\n  assumes \"nop_onto A n f\"\n  shows \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (vsv f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n &&& \\<R>\\<^sub>\\<circ> f = A", "using assms"], ["proof (prove)\nusing this:\n  nop_onto A n f\n\ngoal (1 subgoal):\n 1. (vsv f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n &&& \\<R>\\<^sub>\\<circ> f = A", "unfolding nop_onto_def nop_onto_axioms_def"], ["proof (prove)\nusing this:\n  vsv f \\<and>\n  n \\<in>\\<^sub>\\<circ> \\<omega> \\<and>\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n \\<and>\n  \\<R>\\<^sub>\\<circ> f = A\n\ngoal (1 subgoal):\n 1. (vsv f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n &&& \\<R>\\<^sub>\\<circ> f = A", "by auto"], ["", "lemma nop_ontoE[elim]:\n  assumes \"nop_onto A n f\"\n  obtains \"vsv f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; n \\<in>\\<^sub>\\<circ> \\<omega>;\n      \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n;\n      \\<R>\\<^sub>\\<circ> f = A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  nop_onto A n f\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; n \\<in>\\<^sub>\\<circ> \\<omega>;\n      \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n;\n      \\<R>\\<^sub>\\<circ> f = A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by force"], ["", "subsection\\<open>Bijective \\<open>n\\<close>-ary operation\\<close>"], ["", "locale nop_bij = v11 f for A n f :: V +\n  assumes nop_bij_n: \"n \\<in>\\<^sub>\\<circ> \\<omega>\" \n    and nop_bij_vdomain: \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and nop_bij_vrange: \"\\<R>\\<^sub>\\<circ> f = A\""], ["", "sublocale nop_bij \\<subseteq> nop_v11"], ["proof (prove)\ngoal (1 subgoal):\n 1. nop_v11 A n f", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. v11 f\n 2. n \\<in>\\<^sub>\\<circ> \\<omega>\n 3. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n 4. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"v11 f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v11 f", "by (rule v11_axioms)"], ["proof (state)\nthis:\n  v11 f\n\ngoal (3 subgoals):\n 1. n \\<in>\\<^sub>\\<circ> \\<omega>\n 2. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n 3. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"n \\<in>\\<^sub>\\<circ> \\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n \\<in>\\<^sub>\\<circ> \\<omega>", "by (rule nop_bij_n)"], ["proof (state)\nthis:\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n\ngoal (2 subgoals):\n 1. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n 2. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n", "by (rule nop_bij_vdomain)"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "show \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "by (simp add: nop_bij_vrange)"], ["proof (state)\nthis:\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal:\nNo subgoals!", "qed"], ["", "sublocale nop_bij \\<subseteq> nop_onto"], ["proof (prove)\ngoal (1 subgoal):\n 1. nop_onto A n f", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. vsv f\n 2. n \\<in>\\<^sub>\\<circ> \\<omega>\n 3. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n 4. \\<R>\\<^sub>\\<circ> f = A", "show \"vsv f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f", "by (rule vsv_axioms)"], ["proof (state)\nthis:\n  vsv f\n\ngoal (3 subgoals):\n 1. n \\<in>\\<^sub>\\<circ> \\<omega>\n 2. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n 3. \\<R>\\<^sub>\\<circ> f = A", "show \"n \\<in>\\<^sub>\\<circ> \\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n \\<in>\\<^sub>\\<circ> \\<omega>", "by (rule nop_bij_n)"], ["proof (state)\nthis:\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n\ngoal (2 subgoals):\n 1. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n 2. \\<R>\\<^sub>\\<circ> f = A", "show \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n", "by (rule nop_bij_vdomain)"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f = A", "show \"\\<R>\\<^sub>\\<circ> f = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f = A", "by (rule nop_bij_vrange)"], ["proof (state)\nthis:\n  \\<R>\\<^sub>\\<circ> f = A\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Rules.\\<close>"], ["", "lemma nop_bijI[intro]:\n  assumes \"v11 f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f = A\"\n  shows \"nop_bij A n f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop_bij A n f", "using assms"], ["proof (prove)\nusing this:\n  v11 f\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n  \\<R>\\<^sub>\\<circ> f = A\n\ngoal (1 subgoal):\n 1. nop_bij A n f", "unfolding nop_bij_def nop_bij_axioms_def"], ["proof (prove)\nusing this:\n  v11 f\n  n \\<in>\\<^sub>\\<circ> \\<omega>\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\n  \\<R>\\<^sub>\\<circ> f = A\n\ngoal (1 subgoal):\n 1. v11 f \\<and>\n    n \\<in>\\<^sub>\\<circ> \\<omega> \\<and>\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n \\<and>\n    \\<R>\\<^sub>\\<circ> f = A", "by blast"], ["", "lemma nop_bijD[dest]:\n  assumes \"nop_bij A n f\"\n  shows \"v11 f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v11 f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n &&& \\<R>\\<^sub>\\<circ> f = A", "using assms"], ["proof (prove)\nusing this:\n  nop_bij A n f\n\ngoal (1 subgoal):\n 1. (v11 f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n &&& \\<R>\\<^sub>\\<circ> f = A", "unfolding nop_bij_def nop_bij_axioms_def"], ["proof (prove)\nusing this:\n  v11 f \\<and>\n  n \\<in>\\<^sub>\\<circ> \\<omega> \\<and>\n  \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n \\<and>\n  \\<R>\\<^sub>\\<circ> f = A\n\ngoal (1 subgoal):\n 1. (v11 f &&& n \\<in>\\<^sub>\\<circ> \\<omega>) &&&\n    \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n &&& \\<R>\\<^sub>\\<circ> f = A", "by auto"], ["", "lemma nop_bijE[elim]:\n  assumes \"nop_bij A n f\"\n  obtains \"v11 f\"\n    and \"n \\<in>\\<^sub>\\<circ> \\<omega>\"\n    and \"\\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n\"\n    and \"\\<R>\\<^sub>\\<circ> f = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>v11 f; n \\<in>\\<^sub>\\<circ> \\<omega>;\n      \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n;\n      \\<R>\\<^sub>\\<circ> f = A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  nop_bij A n f\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>v11 f; n \\<in>\\<^sub>\\<circ> \\<omega>;\n      \\<D>\\<^sub>\\<circ> f = A ^\\<^sub>\\<times> n;\n      \\<R>\\<^sub>\\<circ> f = A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by force"], ["", "subsection\\<open>Scalar\\<close>"], ["", "locale scalar = \n  fixes A f\n  assumes scalar_nop: \"nop A 0 f\""], ["", "sublocale scalar \\<subseteq> nop A 0 f\n  rewrites scalar_vdomain[simp]: \"A ^\\<^sub>\\<times> 0 = set {0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop A []\\<^sub>\\<circ> f &&&\n    A ^\\<^sub>\\<times> []\\<^sub>\\<circ> = set {[]\\<^sub>\\<circ>}", "by (auto simp: scalar_nop)"], ["", "text\\<open>Rules.\\<close>"], ["", "lemmas scalarI[intro] = scalar.intro"], ["", "lemma scalarD[dest]:\n  assumes \"scalar A f\"\n  shows \"nop A 0 f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop A []\\<^sub>\\<circ> f", "using assms"], ["proof (prove)\nusing this:\n  scalar A f\n\ngoal (1 subgoal):\n 1. nop A []\\<^sub>\\<circ> f", "unfolding scalar_def"], ["proof (prove)\nusing this:\n  nop A []\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. nop A []\\<^sub>\\<circ> f", "by auto"], ["", "lemma scalarE[elim]:\n  assumes \"scalar A f\"\n  obtains \"nop A 0 f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nop A []\\<^sub>\\<circ> f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  scalar A f\n\ngoal (1 subgoal):\n 1. (nop A []\\<^sub>\\<circ> f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["", "subsection\\<open>Unary operation\\<close>"], ["", "locale unop = nop A \\<open>1\\<^sub>\\<nat>\\<close> f for A f"], ["", "text\\<open>Rules.\\<close>"], ["", "lemmas unopI[intro] = unop.intro"], ["", "lemma unopD[dest]:\n  assumes \"unop A f\"\n  shows \"nop A (1\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop A (1\\<^sub>\\<nat>) f", "using assms"], ["proof (prove)\nusing this:\n  unop A f\n\ngoal (1 subgoal):\n 1. nop A (1\\<^sub>\\<nat>) f", "unfolding unop_def"], ["proof (prove)\nusing this:\n  nop A (1\\<^sub>\\<nat>) f\n\ngoal (1 subgoal):\n 1. nop A (1\\<^sub>\\<nat>) f", "by auto"], ["", "lemma unopE[elim]:\n  assumes \"unop A f\"\n  obtains \"nop A (1\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nop A (1\\<^sub>\\<nat>) f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  unop A f\n\ngoal (1 subgoal):\n 1. (nop A (1\\<^sub>\\<nat>) f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["", "subsection\\<open>Injective unary operation\\<close>"], ["", "locale unop_v11 = nop_v11 A \\<open>1\\<^sub>\\<nat>\\<close> f for A f"], ["", "sublocale unop_v11 \\<subseteq> unop A f"], ["proof (prove)\ngoal (1 subgoal):\n 1. unop A f", "by (intro unopI) (simp add: nop_axioms)"], ["", "text\\<open>Rules.\\<close>"], ["", "lemma unop_v11I[intro]:\n  assumes \"nop_v11 A (1\\<^sub>\\<nat>) f\"\n  shows \"unop_v11 A f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. unop_v11 A f", "using assms"], ["proof (prove)\nusing this:\n  nop_v11 A (1\\<^sub>\\<nat>) f\n\ngoal (1 subgoal):\n 1. unop_v11 A f", "by (rule unop_v11.intro)"], ["", "lemma unop_v11D[dest]:\n  assumes \"unop_v11 A f\"\n  shows \"nop_v11 A (1\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop_v11 A (1\\<^sub>\\<nat>) f", "using assms"], ["proof (prove)\nusing this:\n  unop_v11 A f\n\ngoal (1 subgoal):\n 1. nop_v11 A (1\\<^sub>\\<nat>) f", "by (rule unop_v11.axioms)"], ["", "lemma unop_v11E[elim]:\n  assumes \"unop_v11 A f\"\n  obtains \"nop_v11 A (1\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nop_v11 A (1\\<^sub>\\<nat>) f \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  unop_v11 A f\n\ngoal (1 subgoal):\n 1. (nop_v11 A (1\\<^sub>\\<nat>) f \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["", "subsection\\<open>Surjective unary operation\\<close>"], ["", "locale unop_onto = nop_onto A \\<open>1\\<^sub>\\<nat>\\<close> f for A f"], ["", "sublocale unop_onto \\<subseteq> unop A f"], ["proof (prove)\ngoal (1 subgoal):\n 1. unop A f", "by (intro unopI) (simp add: nop_axioms)"], ["", "text\\<open>Rules.\\<close>"], ["", "lemma unop_ontoI[intro]:\n  assumes \"nop_onto A (1\\<^sub>\\<nat>) f\"\n  shows \"unop_onto A f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. unop_onto A f", "using assms"], ["proof (prove)\nusing this:\n  nop_onto A (1\\<^sub>\\<nat>) f\n\ngoal (1 subgoal):\n 1. unop_onto A f", "by (rule unop_onto.intro)"], ["", "lemma unop_ontoD[dest]:\n  assumes \"unop_onto A f\"\n  shows \"nop_onto A (1\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop_onto A (1\\<^sub>\\<nat>) f", "using assms"], ["proof (prove)\nusing this:\n  unop_onto A f\n\ngoal (1 subgoal):\n 1. nop_onto A (1\\<^sub>\\<nat>) f", "by (rule unop_onto.axioms)"], ["", "lemma unop_ontoE[elim]:\n  assumes \"unop_onto A f\"\n  obtains \"nop_onto A (1\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nop_onto A (1\\<^sub>\\<nat>) f \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  unop_onto A f\n\ngoal (1 subgoal):\n 1. (nop_onto A (1\\<^sub>\\<nat>) f \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["", "lemma unop_ontoI'[intro]:\n  assumes \"unop A f\" and \"A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\"\n  shows \"unop_onto A f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. unop_onto A f", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. unop_onto A f", "interpret unop A f"], ["proof (prove)\ngoal (1 subgoal):\n 1. unop A f", "by (rule assms(1))"], ["proof (state)\ngoal (1 subgoal):\n 1. unop_onto A f", "from assms(2) nop_vrange"], ["proof (chain)\npicking this:\n  A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "have \"A = \\<R>\\<^sub>\\<circ> f\""], ["proof (prove)\nusing this:\n  A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. A = \\<R>\\<^sub>\\<circ> f", "by simp"], ["proof (state)\nthis:\n  A = \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. unop_onto A f", "with assms(1)"], ["proof (chain)\npicking this:\n  unop A f\n  A = \\<R>\\<^sub>\\<circ> f", "show \"unop_onto A f\""], ["proof (prove)\nusing this:\n  unop A f\n  A = \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. unop_onto A f", "by auto"], ["proof (state)\nthis:\n  unop_onto A f\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>Bijective unary operation\\<close>"], ["", "locale unop_bij = nop_bij A \\<open>1\\<^sub>\\<nat>\\<close> f for A f"], ["", "sublocale unop_bij \\<subseteq> unop_v11 A f"], ["proof (prove)\ngoal (1 subgoal):\n 1. unop_v11 A f", "by (intro unop_v11I) (simp add: nop_v11_axioms)"], ["", "sublocale unop_bij \\<subseteq> unop_onto A f"], ["proof (prove)\ngoal (1 subgoal):\n 1. unop_onto A f", "by (intro unop_ontoI) (simp add: nop_onto_axioms)"], ["", "text\\<open>Rules.\\<close>"], ["", "lemma unop_bijI[intro]:\n  assumes \"nop_bij A (1\\<^sub>\\<nat>) f\"\n  shows \"unop_bij A f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. unop_bij A f", "using assms"], ["proof (prove)\nusing this:\n  nop_bij A (1\\<^sub>\\<nat>) f\n\ngoal (1 subgoal):\n 1. unop_bij A f", "by (rule unop_bij.intro)"], ["", "lemma unop_bijD[dest]:\n  assumes \"unop_bij A f\"\n  shows \"nop_bij A (1\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop_bij A (1\\<^sub>\\<nat>) f", "using assms"], ["proof (prove)\nusing this:\n  unop_bij A f\n\ngoal (1 subgoal):\n 1. nop_bij A (1\\<^sub>\\<nat>) f", "by (rule unop_bij.axioms)"], ["", "lemma unop_bijE[elim]:\n  assumes \"unop_bij A f\"\n  obtains \"nop_bij A (1\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nop_bij A (1\\<^sub>\\<nat>) f \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  unop_bij A f\n\ngoal (1 subgoal):\n 1. (nop_bij A (1\\<^sub>\\<nat>) f \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["", "lemma unop_bijI'[intro]:\n  assumes \"unop_v11 A f\" and \"A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\"\n  shows \"unop_bij A f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. unop_bij A f", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. unop_bij A f", "interpret unop_v11 A f"], ["proof (prove)\ngoal (1 subgoal):\n 1. unop_v11 A f", "by (rule assms(1))"], ["proof (state)\ngoal (1 subgoal):\n 1. unop_bij A f", "from assms(2) nop_vrange"], ["proof (chain)\npicking this:\n  A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "have \"A = \\<R>\\<^sub>\\<circ> f\""], ["proof (prove)\nusing this:\n  A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. A = \\<R>\\<^sub>\\<circ> f", "by simp"], ["proof (state)\nthis:\n  A = \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. unop_bij A f", "with assms(1)"], ["proof (chain)\npicking this:\n  unop_v11 A f\n  A = \\<R>\\<^sub>\\<circ> f", "show \"unop_bij A f\""], ["proof (prove)\nusing this:\n  unop_v11 A f\n  A = \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. unop_bij A f", "by auto"], ["proof (state)\nthis:\n  unop_bij A f\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>Partial binary operation\\<close>"], ["", "locale pbinop = pnop A \\<open>2\\<^sub>\\<nat>\\<close> f for A f"], ["", "sublocale pbinop \\<subseteq> dom: fbrelation \\<open>\\<D>\\<^sub>\\<circ> f\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. fbrelation (\\<D>\\<^sub>\\<circ> f)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. fpairs (\\<D>\\<^sub>\\<circ> f) = \\<D>\\<^sub>\\<circ> f", "from pnop_vdomain"], ["proof (chain)\npicking this:\n  \\<D>\\<^sub>\\<circ> f\n  \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> 2\\<^sub>\\<nat>", "show \"fpairs (\\<D>\\<^sub>\\<circ> f) = \\<D>\\<^sub>\\<circ> f\""], ["proof (prove)\nusing this:\n  \\<D>\\<^sub>\\<circ> f\n  \\<subseteq>\\<^sub>\\<circ> A ^\\<^sub>\\<times> 2\\<^sub>\\<nat>\n\ngoal (1 subgoal):\n 1. fpairs (\\<D>\\<^sub>\\<circ> f) = \\<D>\\<^sub>\\<circ> f", "by (intro vsubset_antisym vsubsetI) auto"], ["proof (state)\nthis:\n  fpairs (\\<D>\\<^sub>\\<circ> f) = \\<D>\\<^sub>\\<circ> f\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Rules.\\<close>"], ["", "lemmas pbinopI[intro] = pbinop.intro"], ["", "lemma pbinopD[dest]:\n  assumes \"pbinop A f\"\n  shows \"pnop A (2\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pnop A (2\\<^sub>\\<nat>) f", "using assms"], ["proof (prove)\nusing this:\n  pbinop A f\n\ngoal (1 subgoal):\n 1. pnop A (2\\<^sub>\\<nat>) f", "unfolding pbinop_def"], ["proof (prove)\nusing this:\n  pnop A (2\\<^sub>\\<nat>) f\n\ngoal (1 subgoal):\n 1. pnop A (2\\<^sub>\\<nat>) f", "by auto"], ["", "lemma pbinopE[elim]:\n  assumes \"pbinop A f\"\n  obtains \"pnop A (2\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (pnop A (2\\<^sub>\\<nat>) f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  pbinop A f\n\ngoal (1 subgoal):\n 1. (pnop A (2\\<^sub>\\<nat>) f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["", "text\\<open>Elementary properties.\\<close>"], ["", "lemma (in pbinop) fbinop_vcard: \n  assumes \"x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\" \n  shows \"vcard x = 2\\<^sub>\\<nat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard x = 2\\<^sub>\\<nat>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. vcard x = 2\\<^sub>\\<nat>", "from assms dom.fbrelation_axioms"], ["proof (chain)\npicking this:\n  x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n  fbrelation (\\<D>\\<^sub>\\<circ> f)", "obtain a b where x_def: \"x = [a, b]\\<^sub>\\<circ>\""], ["proof (prove)\nusing this:\n  x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n  fbrelation (\\<D>\\<^sub>\\<circ> f)\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        x = [a, b]\\<^sub>\\<circ> \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  x = [a, b]\\<^sub>\\<circ>\n\ngoal (1 subgoal):\n 1. vcard x = 2\\<^sub>\\<nat>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. vcard x = 2\\<^sub>\\<nat>", "by (auto simp: x_def nat_omega_simps)"], ["proof (state)\nthis:\n  vcard x = 2\\<^sub>\\<nat>\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>Total binary operation\\<close>"], ["", "locale binop = nop A \\<open>2\\<^sub>\\<nat>\\<close> f for A f"], ["", "sublocale binop \\<subseteq> pbinop"], ["proof (prove)\ngoal (1 subgoal):\n 1. pbinop A f", "by unfold_locales"], ["", "text\\<open>Rules.\\<close>"], ["", "lemmas binopI[intro] = binop.intro"], ["", "lemma binopD[dest]:\n  assumes \"binop A f\"\n  shows \"nop A (2\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop A (2\\<^sub>\\<nat>) f", "using assms"], ["proof (prove)\nusing this:\n  binop A f\n\ngoal (1 subgoal):\n 1. nop A (2\\<^sub>\\<nat>) f", "unfolding binop_def"], ["proof (prove)\nusing this:\n  nop A (2\\<^sub>\\<nat>) f\n\ngoal (1 subgoal):\n 1. nop A (2\\<^sub>\\<nat>) f", "by auto"], ["", "lemma binopE[elim]:\n  assumes \"binop A f\"\n  obtains \"nop A (2\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nop A (2\\<^sub>\\<nat>) f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  binop A f\n\ngoal (1 subgoal):\n 1. (nop A (2\\<^sub>\\<nat>) f \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["", "text\\<open>Elementary properties.\\<close>"], ["", "lemma (in binop) binop_app_in_vrange[intro]:\n  assumes \"a \\<in>\\<^sub>\\<circ> A\" and \"b \\<in>\\<^sub>\\<circ> A\"\n  shows \"f\\<lparr>a, b\\<rparr>\\<^sub>\\<bullet> \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\n    \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\n    \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f", "from assms"], ["proof (chain)\npicking this:\n  a \\<in>\\<^sub>\\<circ> A\n  b \\<in>\\<^sub>\\<circ> A", "have \"[a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> A ^\\<^sub>\\<times> 2\\<^sub>\\<nat>\""], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> A\n  b \\<in>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. [a, b]\\<^sub>\\<circ>\n    \\<in>\\<^sub>\\<circ> A ^\\<^sub>\\<times> 2\\<^sub>\\<nat>", "by (auto simp: nat_omega_simps)"], ["proof (state)\nthis:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> A ^\\<^sub>\\<times> 2\\<^sub>\\<nat>\n\ngoal (1 subgoal):\n 1. f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\n    \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f", "then"], ["proof (chain)\npicking this:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> A ^\\<^sub>\\<times> 2\\<^sub>\\<nat>", "show ?thesis"], ["proof (prove)\nusing this:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> A ^\\<^sub>\\<times> 2\\<^sub>\\<nat>\n\ngoal (1 subgoal):\n 1. f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\n    \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f", "by (simp add: nop_vdomain vsv_vimageI2)"], ["proof (state)\nthis:\n  f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\n  \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>Injective binary operation\\<close>"], ["", "locale binop_v11 = nop_v11 A \\<open>2\\<^sub>\\<nat>\\<close> f for A f"], ["", "sublocale binop_v11 \\<subseteq> binop A f"], ["proof (prove)\ngoal (1 subgoal):\n 1. binop A f", "by (intro binopI) (simp add: nop_axioms)"], ["", "text\\<open>Rules.\\<close>"], ["", "lemma binop_v11I[intro]:\n  assumes \"nop_v11 A (2\\<^sub>\\<nat>) f\"\n  shows \"binop_v11 A f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. binop_v11 A f", "using assms"], ["proof (prove)\nusing this:\n  nop_v11 A (2\\<^sub>\\<nat>) f\n\ngoal (1 subgoal):\n 1. binop_v11 A f", "by (rule binop_v11.intro)"], ["", "lemma binop_v11D[dest]:\n  assumes \"binop_v11 A f\"\n  shows \"nop_v11 A (2\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop_v11 A (2\\<^sub>\\<nat>) f", "using assms"], ["proof (prove)\nusing this:\n  binop_v11 A f\n\ngoal (1 subgoal):\n 1. nop_v11 A (2\\<^sub>\\<nat>) f", "by (rule binop_v11.axioms)"], ["", "lemma binop_v11E[elim]:\n  assumes \"binop_v11 A f\"\n  obtains \"nop_v11 A (2\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nop_v11 A (2\\<^sub>\\<nat>) f \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  binop_v11 A f\n\ngoal (1 subgoal):\n 1. (nop_v11 A (2\\<^sub>\\<nat>) f \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["", "subsection\\<open>Surjective binary operation\\<close>"], ["", "locale binop_onto = nop_onto A \\<open>2\\<^sub>\\<nat>\\<close> f for A f"], ["", "sublocale binop_onto \\<subseteq> binop A f"], ["proof (prove)\ngoal (1 subgoal):\n 1. binop A f", "by (intro binopI) (simp add: nop_axioms)"], ["", "text\\<open>Rules.\\<close>"], ["", "lemma binop_ontoI[intro]:\n  assumes \"nop_onto A (2\\<^sub>\\<nat>) f\"\n  shows \"binop_onto A f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. binop_onto A f", "using assms"], ["proof (prove)\nusing this:\n  nop_onto A (2\\<^sub>\\<nat>) f\n\ngoal (1 subgoal):\n 1. binop_onto A f", "by (rule binop_onto.intro)"], ["", "lemma binop_ontoD[dest]:\n  assumes \"binop_onto A f\"\n  shows \"nop_onto A (2\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop_onto A (2\\<^sub>\\<nat>) f", "using assms"], ["proof (prove)\nusing this:\n  binop_onto A f\n\ngoal (1 subgoal):\n 1. nop_onto A (2\\<^sub>\\<nat>) f", "by (rule binop_onto.axioms)"], ["", "lemma binop_ontoE[elim]:\n  assumes \"binop_onto A f\"\n  obtains \"nop_onto A (2\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nop_onto A (2\\<^sub>\\<nat>) f \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  binop_onto A f\n\ngoal (1 subgoal):\n 1. (nop_onto A (2\\<^sub>\\<nat>) f \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["", "lemma binop_ontoI'[intro]:\n  assumes \"binop A f\" and \"A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\"\n  shows \"binop_onto A f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. binop_onto A f", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. binop_onto A f", "interpret binop A f"], ["proof (prove)\ngoal (1 subgoal):\n 1. binop A f", "by (rule assms(1))"], ["proof (state)\ngoal (1 subgoal):\n 1. binop_onto A f", "from assms(2) nop_vrange"], ["proof (chain)\npicking this:\n  A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "have \"A = \\<R>\\<^sub>\\<circ> f\""], ["proof (prove)\nusing this:\n  A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. A = \\<R>\\<^sub>\\<circ> f", "by simp"], ["proof (state)\nthis:\n  A = \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. binop_onto A f", "with assms(1)"], ["proof (chain)\npicking this:\n  binop A f\n  A = \\<R>\\<^sub>\\<circ> f", "show \"binop_onto A f\""], ["proof (prove)\nusing this:\n  binop A f\n  A = \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. binop_onto A f", "by auto"], ["proof (state)\nthis:\n  binop_onto A f\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>Bijective binary operation\\<close>"], ["", "locale binop_bij = nop_bij A \\<open>2\\<^sub>\\<nat>\\<close> f for A f"], ["", "sublocale binop_bij \\<subseteq> binop_v11 A f"], ["proof (prove)\ngoal (1 subgoal):\n 1. binop_v11 A f", "by (intro binop_v11I) (simp add: nop_v11_axioms)"], ["", "sublocale binop_bij \\<subseteq> binop_onto A f"], ["proof (prove)\ngoal (1 subgoal):\n 1. binop_onto A f", "by (intro binop_ontoI) (simp add: nop_onto_axioms)"], ["", "text\\<open>Rules.\\<close>"], ["", "lemma binop_bijI[intro]:\n  assumes \"nop_bij A (2\\<^sub>\\<nat>) f\"\n  shows \"binop_bij A f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. binop_bij A f", "using assms"], ["proof (prove)\nusing this:\n  nop_bij A (2\\<^sub>\\<nat>) f\n\ngoal (1 subgoal):\n 1. binop_bij A f", "by (rule binop_bij.intro)"], ["", "lemma binop_bijD[dest]:\n  assumes \"binop_bij A f\"\n  shows \"nop_bij A (2\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nop_bij A (2\\<^sub>\\<nat>) f", "using assms"], ["proof (prove)\nusing this:\n  binop_bij A f\n\ngoal (1 subgoal):\n 1. nop_bij A (2\\<^sub>\\<nat>) f", "by (rule binop_bij.axioms)"], ["", "lemma binop_bijE[elim]:\n  assumes \"binop_bij A f\"\n  obtains \"nop_bij A (2\\<^sub>\\<nat>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nop_bij A (2\\<^sub>\\<nat>) f \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  binop_bij A f\n\ngoal (1 subgoal):\n 1. (nop_bij A (2\\<^sub>\\<nat>) f \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["", "lemma binop_bijI'[intro]:\n  assumes \"binop_v11 A f\" and \"A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\"\n  shows \"binop_bij A f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. binop_bij A f", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. binop_bij A f", "interpret binop_v11 A f"], ["proof (prove)\ngoal (1 subgoal):\n 1. binop_v11 A f", "by (rule assms(1))"], ["proof (state)\ngoal (1 subgoal):\n 1. binop_bij A f", "from assms(2) nop_vrange"], ["proof (chain)\npicking this:\n  A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "have \"A = \\<R>\\<^sub>\\<circ> f\""], ["proof (prove)\nusing this:\n  A \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n  \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. A = \\<R>\\<^sub>\\<circ> f", "by simp"], ["proof (state)\nthis:\n  A = \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. binop_bij A f", "with assms(1)"], ["proof (chain)\npicking this:\n  binop_v11 A f\n  A = \\<R>\\<^sub>\\<circ> f", "show \"binop_bij A f\""], ["proof (prove)\nusing this:\n  binop_v11 A f\n  A = \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. binop_bij A f", "by auto"], ["proof (state)\nthis:\n  binop_bij A f\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>Flip\\<close>"], ["", "definition fflip :: \"V \\<Rightarrow> V\"\n  where \"fflip f = (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>. f\\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>, ab\\<lparr>0\\<rparr>\\<rparr>\\<^sub>\\<bullet>)\""], ["", "text\\<open>Elementary properties.\\<close>"], ["", "lemma fflip_vsv: \"vsv (fflip f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv (fflip f)", "by (intro vsvI) (auto simp: fflip_def)"], ["", "lemma vdomain_fflip[simp]: \"\\<D>\\<^sub>\\<circ> (fflip f) = (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> (fflip f) =\n    (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>", "unfolding fflip_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ>\n     (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\nf)\\<inverse>\\<^sub>\\<bullet>.\n         f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n                   ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>) =\n    (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>", "by simp"], ["", "lemma (in pbinop) vrange_fflip: \"\\<R>\\<^sub>\\<circ> (fflip f) = \\<R>\\<^sub>\\<circ> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> (fflip f) = \\<R>\\<^sub>\\<circ> f", "unfolding fflip_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ>\n     (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\nf)\\<inverse>\\<^sub>\\<bullet>.\n         f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n                   ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>) =\n    \\<R>\\<^sub>\\<circ> f", "proof(intro vsubset_antisym vsubsetI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "fix y"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "assume \"y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> ((\\<lambda>x\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>. f\\<lparr>x\\<lparr>1\\<^sub>\\<nat>\\<rparr>, x\\<lparr>0\\<rparr>\\<rparr>\\<^sub>\\<bullet>))\""], ["proof (state)\nthis:\n  y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                         (\\<lambda>x\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                   f)\\<inverse>\\<^sub>\\<bullet>.\n                             f \\<lparr>x\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n x\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "then"], ["proof (chain)\npicking this:\n  y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                         (\\<lambda>x\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                   f)\\<inverse>\\<^sub>\\<bullet>.\n                             f \\<lparr>x\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n x\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "obtain x where \"x \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>\" and y_def: \"y = f\\<lparr>x\\<lparr>1\\<^sub>\\<nat>\\<rparr>, x\\<lparr>0\\<rparr>\\<rparr>\\<^sub>\\<bullet>\""], ["proof (prove)\nusing this:\n  y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                         (\\<lambda>x\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                   f)\\<inverse>\\<^sub>\\<bullet>.\n                             f \\<lparr>x\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n x\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ>\n   f)\\<inverse>\\<^sub>\\<bullet>;\n         y =\n         f \\<lparr>x\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n                   x\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fast"], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>\n  y =\n  f \\<lparr>x\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n            x\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "then"], ["proof (chain)\npicking this:\n  x \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>\n  y =\n  f \\<lparr>x\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n            x\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>", "obtain a b where x_def: \"x = [b, a]\\<^sub>\\<circ>\""], ["proof (prove)\nusing this:\n  x \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>\n  y =\n  f \\<lparr>x\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n            x\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>\n\ngoal (1 subgoal):\n 1. (\\<And>b a.\n        x = [b, a]\\<^sub>\\<circ> \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by clarsimp"], ["proof (state)\nthis:\n  x = [b, a]\\<^sub>\\<circ>\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "have y_def': \"y = f\\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y = f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>", "unfolding y_def x_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<lparr>[b, a]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n              [b, a]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet> =\n    f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>", "by (simp add: nat_omega_simps)"], ["proof (state)\nthis:\n  y = f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "from x_def \\<open>x \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>\\<close>"], ["proof (chain)\npicking this:\n  x = [b, a]\\<^sub>\\<circ>\n  x \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>", "have \"[a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\""], ["proof (prove)\nusing this:\n  x = [b, a]\\<^sub>\\<circ>\n  x \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>\n\ngoal (1 subgoal):\n 1. [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f", "by clarsimp"], ["proof (state)\nthis:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>) \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "then"], ["proof (chain)\npicking this:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f", "show \"y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\""], ["proof (prove)\nusing this:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f", "unfolding y_def'"], ["proof (prove)\nusing this:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\n    \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f", "by (simp add: vsv_vimageI2)"], ["proof (state)\nthis:\n  y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "assume \"y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\""], ["proof (state)\nthis:\n  y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "with vrange_atD"], ["proof (chain)\npicking this:\n  ?b \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n  \\<exists>a\\<in>elts (\\<D>\\<^sub>\\<circ> f). f\\<lparr>a\\<rparr> = ?b\n  y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f", "obtain x where x: \"x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\" and y_def: \"y = f\\<lparr>x\\<rparr>\""], ["proof (prove)\nusing this:\n  ?b \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n  \\<exists>a\\<in>elts (\\<D>\\<^sub>\\<circ> f). f\\<lparr>a\\<rparr> = ?b\n  y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f;\n         y = f\\<lparr>x\\<rparr>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n  y = f\\<lparr>x\\<rparr>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "with dom.fbrelation"], ["proof (chain)\npicking this:\n  fpairs (\\<D>\\<^sub>\\<circ> f) = \\<D>\\<^sub>\\<circ> f\n  x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n  y = f\\<lparr>x\\<rparr>", "obtain a b where x_def: \"x = [a, b]\\<^sub>\\<circ>\""], ["proof (prove)\nusing this:\n  fpairs (\\<D>\\<^sub>\\<circ> f) = \\<D>\\<^sub>\\<circ> f\n  x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n  y = f\\<lparr>x\\<rparr>\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        x = [a, b]\\<^sub>\\<circ> \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  x = [a, b]\\<^sub>\\<circ>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "from x"], ["proof (chain)\npicking this:\n  x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f", "have ba: \"[b, a]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>\""], ["proof (prove)\nusing this:\n  x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. [b, a]\\<^sub>\\<circ>\n    \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>", "unfolding x_def"], ["proof (prove)\nusing this:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. [b, a]\\<^sub>\\<circ>\n    \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>", "by clarsimp"], ["proof (state)\nthis:\n  [b, a]\\<^sub>\\<circ>\n  \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "then"], ["proof (chain)\npicking this:\n  [b, a]\\<^sub>\\<circ>\n  \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>", "have y_def': \"y = f\\<lparr>[b, a]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr>, [b, a]\\<^sub>\\<circ>\\<lparr>0\\<rparr>\\<rparr>\\<^sub>\\<bullet>\""], ["proof (prove)\nusing this:\n  [b, a]\\<^sub>\\<circ>\n  \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>\n\ngoal (1 subgoal):\n 1. y =\n    f \\<lparr>[b, a]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n              [b, a]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>", "unfolding y_def x_def"], ["proof (prove)\nusing this:\n  [b, a]\\<^sub>\\<circ>\n  \\<in>\\<^sub>\\<circ> (\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>\n\ngoal (1 subgoal):\n 1. f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet> =\n    f \\<lparr>[b, a]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n              [b, a]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>", "by (auto simp: nat_omega_simps)"], ["proof (state)\nthis:\n  y =\n  f \\<lparr>[b, a]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n            [b, a]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                              (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                         f)\\<inverse>\\<^sub>\\<bullet>.\n                                  f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n      ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "then"], ["proof (chain)\npicking this:\n  y =\n  f \\<lparr>[b, a]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n            [b, a]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>", "show \"y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> ((\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ> f)\\<inverse>\\<^sub>\\<bullet>. f\\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>, ab\\<lparr>0\\<rparr>\\<rparr>\\<^sub>\\<bullet>))\""], ["proof (prove)\nusing this:\n  y =\n  f \\<lparr>[b, a]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n            [b, a]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>\n\ngoal (1 subgoal):\n 1. y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                           (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                      f)\\<inverse>\\<^sub>\\<bullet>.\n                               f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n   ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "unfolding y_def'"], ["proof (prove)\nusing this:\n  f \\<lparr>[b, a]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n            [b, a]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet> =\n  f \\<lparr>[b, a]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n            [b, a]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>\n\ngoal (1 subgoal):\n 1. f \\<lparr>[b, a]\\<^sub>\\<circ>\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n              [b, a]\\<^sub>\\<circ>\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>\n    \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                         (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                    f)\\<inverse>\\<^sub>\\<bullet>.\n                             f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)", "by (metis (lifting) ba beta rel_VLambda.vsv_vimageI2 vdomain_VLambda)"], ["proof (state)\nthis:\n  y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                         (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n                    f)\\<inverse>\\<^sub>\\<bullet>.\n                             f \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma fflip_app[simp]: \n  assumes \"[a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\"\n  shows \"fflip f\\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> = f\\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fflip f \\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> =\n    f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. fflip f \\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> =\n    f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>", "from assms"], ["proof (chain)\npicking this:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f", "have \"[b, a]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (fflip f)\""], ["proof (prove)\nusing this:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. [b, a]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (fflip f)", "by clarsimp"], ["proof (state)\nthis:\n  [b, a]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (fflip f)\n\ngoal (1 subgoal):\n 1. fflip f \\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> =\n    f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>", "then"], ["proof (chain)\npicking this:\n  [b, a]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (fflip f)", "show \"fflip f\\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> = f\\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\""], ["proof (prove)\nusing this:\n  [b, a]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (fflip f)\n\ngoal (1 subgoal):\n 1. fflip f \\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> =\n    f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>", "by (simp add: fflip_def ord_of_nat_succ_vempty)"], ["proof (state)\nthis:\n  fflip f \\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> =\n  f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in pbinop) pbinop_fflip_fflip: \"fflip (fflip f) = f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fflip (fflip f) = f", "proof(rule vsv_eqI)"], ["proof (state)\ngoal (4 subgoals):\n 1. vsv (fflip (fflip f))\n 2. vsv f\n 3. \\<D>\\<^sub>\\<circ> (fflip (fflip f)) = \\<D>\\<^sub>\\<circ> f\n 4. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                              (fflip (fflip f)) \\<Longrightarrow>\n       fflip (fflip f)\\<lparr>a\\<rparr> = f\\<lparr>a\\<rparr>", "show \"vsv (fflip (fflip f))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv (fflip (fflip f))", "by (simp add: fflip_vsv)"], ["proof (state)\nthis:\n  vsv (fflip (fflip f))\n\ngoal (3 subgoals):\n 1. vsv f\n 2. \\<D>\\<^sub>\\<circ> (fflip (fflip f)) = \\<D>\\<^sub>\\<circ> f\n 3. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                              (fflip (fflip f)) \\<Longrightarrow>\n       fflip (fflip f)\\<lparr>a\\<rparr> = f\\<lparr>a\\<rparr>", "show \"vsv f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f", "by (rule vsv_axioms)"], ["proof (state)\nthis:\n  vsv f\n\ngoal (2 subgoals):\n 1. \\<D>\\<^sub>\\<circ> (fflip (fflip f)) = \\<D>\\<^sub>\\<circ> f\n 2. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                              (fflip (fflip f)) \\<Longrightarrow>\n       fflip (fflip f)\\<lparr>a\\<rparr> = f\\<lparr>a\\<rparr>", "show dom: \"\\<D>\\<^sub>\\<circ> (fflip (fflip f)) = \\<D>\\<^sub>\\<circ> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> (fflip (fflip f)) = \\<D>\\<^sub>\\<circ> f", "by simp"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> (fflip (fflip f)) = \\<D>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                              (fflip (fflip f)) \\<Longrightarrow>\n       fflip (fflip f)\\<lparr>a\\<rparr> = f\\<lparr>a\\<rparr>", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                              (fflip (fflip f)) \\<Longrightarrow>\n       fflip (fflip f)\\<lparr>a\\<rparr> = f\\<lparr>a\\<rparr>", "assume prems: \"x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (fflip (fflip f))\""], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (fflip (fflip f))\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                              (fflip (fflip f)) \\<Longrightarrow>\n       fflip (fflip f)\\<lparr>a\\<rparr> = f\\<lparr>a\\<rparr>", "with dom dom.fbrelation_axioms"], ["proof (chain)\npicking this:\n  \\<D>\\<^sub>\\<circ> (fflip (fflip f)) = \\<D>\\<^sub>\\<circ> f\n  fbrelation (\\<D>\\<^sub>\\<circ> f)\n  x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (fflip (fflip f))", "obtain a b where x_def: \"x = [a, b]\\<^sub>\\<circ>\""], ["proof (prove)\nusing this:\n  \\<D>\\<^sub>\\<circ> (fflip (fflip f)) = \\<D>\\<^sub>\\<circ> f\n  fbrelation (\\<D>\\<^sub>\\<circ> f)\n  x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (fflip (fflip f))\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        x = [a, b]\\<^sub>\\<circ> \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x = [a, b]\\<^sub>\\<circ>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                              (fflip (fflip f)) \\<Longrightarrow>\n       fflip (fflip f)\\<lparr>a\\<rparr> = f\\<lparr>a\\<rparr>", "from prems"], ["proof (chain)\npicking this:\n  x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (fflip (fflip f))", "show \"fflip (fflip f)\\<lparr>x\\<rparr> = f\\<lparr>x\\<rparr>\""], ["proof (prove)\nusing this:\n  x \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (fflip (fflip f))\n\ngoal (1 subgoal):\n 1. fflip (fflip f)\\<lparr>x\\<rparr> = f\\<lparr>x\\<rparr>", "unfolding x_def"], ["proof (prove)\nusing this:\n  [a, b]\\<^sub>\\<circ>\n  \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (fflip (fflip f))\n\ngoal (1 subgoal):\n 1. fflip (fflip f) \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet> =\n    f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>", "by (auto simp: fconverseI)"], ["proof (state)\nthis:\n  fflip (fflip f)\\<lparr>x\\<rparr> = f\\<lparr>x\\<rparr>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in binop) pbinop_fflip_app[simp]: \n  assumes \"a \\<in>\\<^sub>\\<circ> A\" and \"b \\<in>\\<^sub>\\<circ> A\"\n  shows \"fflip f\\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> = f\\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fflip f \\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> =\n    f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. fflip f \\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> =\n    f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>", "from assms"], ["proof (chain)\npicking this:\n  a \\<in>\\<^sub>\\<circ> A\n  b \\<in>\\<^sub>\\<circ> A", "have \"[a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\""], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> A\n  b \\<in>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f", "unfolding nop_vdomain"], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> A\n  b \\<in>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. [a, b]\\<^sub>\\<circ>\n    \\<in>\\<^sub>\\<circ> A ^\\<^sub>\\<times> 2\\<^sub>\\<nat>", "by (auto simp: nat_omega_simps)"], ["proof (state)\nthis:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. fflip f \\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> =\n    f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>", "then"], ["proof (chain)\npicking this:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f", "show ?thesis"], ["proof (prove)\nusing this:\n  [a, b]\\<^sub>\\<circ> \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. fflip f \\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> =\n    f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>", "by auto"], ["proof (state)\nthis:\n  fflip f \\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> =\n  f \\<lparr>a, b\\<rparr>\\<^sub>\\<bullet>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma fflip_vsingleton: \"fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}) = set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}) =\n    set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}) =\n    set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}", "have dom_lhs: \"\\<D>\\<^sub>\\<circ> (fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>})) = set {[b, a]\\<^sub>\\<circ>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ>\n     (fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>})) =\n    set {[b, a]\\<^sub>\\<circ>}", "unfolding fflip_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ>\n     (\\<lambda>ab\\<in>\\<^sub>\\<circ>(\\<D>\\<^sub>\\<circ>\n(set {\\<langle>[a, b]\\<^sub>\\<circ>,\n               c\\<rangle>}))\\<inverse>\\<^sub>\\<bullet>.\n         set {\\<langle>[a, b]\\<^sub>\\<circ>,\n                       c\\<rangle>} \\<lparr>ab\\<lparr>1\\<^sub>\\<nat>\\<rparr>,\n     ab\\<lparr>[]\\<^sub>\\<circ>\\<rparr>\\<rparr>\\<^sub>\\<bullet>) =\n    set {[b, a]\\<^sub>\\<circ>}", "by auto"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ>\n   (fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>})) =\n  set {[b, a]\\<^sub>\\<circ>}\n\ngoal (1 subgoal):\n 1. fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}) =\n    set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}", "have dom_rhs: \"\\<D>\\<^sub>\\<circ> (set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}) = set {[b, a]\\<^sub>\\<circ>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> (set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}) =\n    set {[b, a]\\<^sub>\\<circ>}", "by simp"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> (set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}) =\n  set {[b, a]\\<^sub>\\<circ>}\n\ngoal (1 subgoal):\n 1. fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}) =\n    set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}) =\n    set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}", "proof(rule vsv_eqI, unfold dom_lhs dom_rhs)"], ["proof (state)\ngoal (4 subgoals):\n 1. vsv (fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}))\n 2. vsv (set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>})\n 3. set {[b, a]\\<^sub>\\<circ>} = set {[b, a]\\<^sub>\\<circ>}\n 4. \\<And>aa.\n       aa \\<in>\\<^sub>\\<circ> set {[b, a]\\<^sub>\\<circ>} \\<Longrightarrow>\n       fflip\n        (set {\\<langle>[a, b]\\<^sub>\\<circ>,\n                       c\\<rangle>})\\<lparr>aa\\<rparr> =\n       set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}\\<lparr>aa\\<rparr>", "fix q"], ["proof (state)\ngoal (4 subgoals):\n 1. vsv (fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}))\n 2. vsv (set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>})\n 3. set {[b, a]\\<^sub>\\<circ>} = set {[b, a]\\<^sub>\\<circ>}\n 4. \\<And>aa.\n       aa \\<in>\\<^sub>\\<circ> set {[b, a]\\<^sub>\\<circ>} \\<Longrightarrow>\n       fflip\n        (set {\\<langle>[a, b]\\<^sub>\\<circ>,\n                       c\\<rangle>})\\<lparr>aa\\<rparr> =\n       set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}\\<lparr>aa\\<rparr>", "assume \"q \\<in>\\<^sub>\\<circ> set {[b, a]\\<^sub>\\<circ>}\""], ["proof (state)\nthis:\n  q \\<in>\\<^sub>\\<circ> set {[b, a]\\<^sub>\\<circ>}\n\ngoal (4 subgoals):\n 1. vsv (fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}))\n 2. vsv (set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>})\n 3. set {[b, a]\\<^sub>\\<circ>} = set {[b, a]\\<^sub>\\<circ>}\n 4. \\<And>aa.\n       aa \\<in>\\<^sub>\\<circ> set {[b, a]\\<^sub>\\<circ>} \\<Longrightarrow>\n       fflip\n        (set {\\<langle>[a, b]\\<^sub>\\<circ>,\n                       c\\<rangle>})\\<lparr>aa\\<rparr> =\n       set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}\\<lparr>aa\\<rparr>", "then"], ["proof (chain)\npicking this:\n  q \\<in>\\<^sub>\\<circ> set {[b, a]\\<^sub>\\<circ>}", "have q_def: \"q = [b, a]\\<^sub>\\<circ>\""], ["proof (prove)\nusing this:\n  q \\<in>\\<^sub>\\<circ> set {[b, a]\\<^sub>\\<circ>}\n\ngoal (1 subgoal):\n 1. q = [b, a]\\<^sub>\\<circ>", "by simp"], ["proof (state)\nthis:\n  q = [b, a]\\<^sub>\\<circ>\n\ngoal (4 subgoals):\n 1. vsv (fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}))\n 2. vsv (set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>})\n 3. set {[b, a]\\<^sub>\\<circ>} = set {[b, a]\\<^sub>\\<circ>}\n 4. \\<And>aa.\n       aa \\<in>\\<^sub>\\<circ> set {[b, a]\\<^sub>\\<circ>} \\<Longrightarrow>\n       fflip\n        (set {\\<langle>[a, b]\\<^sub>\\<circ>,\n                       c\\<rangle>})\\<lparr>aa\\<rparr> =\n       set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}\\<lparr>aa\\<rparr>", "show \"fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>})\\<lparr>q\\<rparr> = set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}\\<lparr>q\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fflip\n     (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>})\\<lparr>q\\<rparr> =\n    set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}\\<lparr>q\\<rparr>", "unfolding q_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. fflip\n     (set {\\<langle>[a, b]\\<^sub>\\<circ>,\n                    c\\<rangle>}) \\<lparr>b, a\\<rparr>\\<^sub>\\<bullet> =\n    set {\\<langle>[b, a]\\<^sub>\\<circ>,\n                  c\\<rangle>} \\<lparr>b, a\\<rparr>\\<^sub>\\<bullet>", "by auto"], ["proof (state)\nthis:\n  fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>})\\<lparr>q\\<rparr> =\n  set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}\\<lparr>q\\<rparr>\n\ngoal (3 subgoals):\n 1. vsv (fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}))\n 2. vsv (set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>})\n 3. set {[b, a]\\<^sub>\\<circ>} = set {[b, a]\\<^sub>\\<circ>}", "qed (auto simp: fflip_def)"], ["proof (state)\nthis:\n  fflip (set {\\<langle>[a, b]\\<^sub>\\<circ>, c\\<rangle>}) =\n  set {\\<langle>[b, a]\\<^sub>\\<circ>, c\\<rangle>}\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>\\newpage\\<close>"], ["", "end"]]}