{"file_name": "/home/qj213/afp-2021-10-22/thys/CZH_Foundations/czh_sets/CZH_Sets_IF.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/CZH_Foundations", "problem_names": ["lemma vifintersectionI[intro]:\n  assumes \"I \\<noteq> 0\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> a \\<in>\\<^sub>\\<circ> f i\"  \n  shows \"a \\<in>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"", "lemma vifintersectionD[dest]:\n  assumes \"a \\<in>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\" and \"i \\<in>\\<^sub>\\<circ> I\"\n  shows \"a \\<in>\\<^sub>\\<circ> f i\"", "lemma vifintersectionE1[elim]:\n  assumes \"a \\<in>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\" and \"a \\<in>\\<^sub>\\<circ> f i \\<Longrightarrow> P\" and \"i \\<notin>\\<^sub>\\<circ> I \\<Longrightarrow> P\" \n  shows P", "lemma vifintersectionE3[elim]:\n  assumes \"a \\<in>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"\n  obtains \"\\<And>i. i\\<in>\\<^sub>\\<circ>I \\<Longrightarrow> a \\<in>\\<^sub>\\<circ> f i\"", "lemma vifintersectionE2[elim]:\n  assumes \"a \\<in>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"\n  obtains i where \"i \\<in>\\<^sub>\\<circ> I\" and \"a \\<in>\\<^sub>\\<circ> f i\"", "lemma vifintersection_vempty_is[simp]: \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>0. f i) = 0\"", "lemma vifintersection_vsingleton_is[simp]: \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{i}. f i) = f i\"", "lemma vifintersection_vdoubleton_is[simp]: \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {i, j}. f i) = f i \\<inter>\\<^sub>\\<circ> f j\"", "lemma vifintersection_antimono1: \n  assumes \"I \\<noteq> 0\" and \"I \\<subseteq>\\<^sub>\\<circ> J\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. f j) \\<subseteq>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"", "lemma vifintersection_antimono2: \n  assumes \"I \\<noteq> 0\" and \" I \\<subseteq>\\<^sub>\\<circ> J\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f i \\<subseteq>\\<^sub>\\<circ> g i\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. f j) \\<subseteq>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. g i)\"", "lemma vifintersection_vintersection: \n  assumes \"I \\<noteq> 0\" and \"J \\<noteq> 0\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<inter>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>J. f i) = (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I \\<union>\\<^sub>\\<circ> J. f i)\"", "lemma vifintersection_vintersection_family: \n  assumes \"I \\<noteq> 0\" \n  shows \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<inter>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<inter>\\<^sub>\\<circ> B i)\"", "lemma vifintersection_vunion:\n  assumes \"I \\<noteq> 0\" and \"J \\<noteq> 0\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<union>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. g j) = (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. \\<Inter>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. f i \\<union>\\<^sub>\\<circ> g j)\"", "lemma vifintersection_vinsert_is[intro, simp]:\n  assumes \"I \\<noteq> 0\" \n  shows \"(\\<Inter>\\<^sub>\\<circ>i \\<in>\\<^sub>\\<circ> vinsert j I. f i) = f j \\<inter>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"", "lemma vifintersection_VPow: \n  assumes \"I \\<noteq> 0\"\n  shows \"VPow (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. VPow (f i))\"", "lemma vifintersection_constant[intro, simp]:\n  assumes \"I \\<noteq> 0\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>y\\<in>\\<^sub>\\<circ>I. c) = c\"", "lemma vifintersection_vsubset_iff: \n  assumes \"I \\<noteq> 0\"\n  shows \"A \\<subseteq>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<longleftrightarrow> (\\<forall>i\\<in>\\<^sub>\\<circ>I. A \\<subseteq>\\<^sub>\\<circ> f i)\"", "lemma vifintersection_vsubset_lower: \n  assumes \"i \\<in>\\<^sub>\\<circ> I\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<subseteq>\\<^sub>\\<circ> f i\"", "lemma vifintersection_vsubset_greatest: \n  assumes \"I \\<noteq> 0\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> A \\<subseteq>\\<^sub>\\<circ> f i\" \n  shows \"A \\<subseteq>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"", "lemma vifintersection_vintersection_value: \n  assumes \"i \\<in>\\<^sub>\\<circ> I\"\n  shows \"f i \\<inter>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"", "lemma vifintersection_vintersection_single: \n  assumes \"I \\<noteq> 0\"\n  shows \"B \\<union>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) = (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B \\<union>\\<^sub>\\<circ> A i)\"", "lemma vifintersection_vrange_VLambda: \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = \\<Inter>\\<^sub>\\<circ> (\\<R>\\<^sub>\\<circ> (\\<lambda>a\\<in>\\<^sub>\\<circ>I. f a))\"", "lemma vifunion_iff: \"b \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<longleftrightarrow> (\\<exists>i\\<in>\\<^sub>\\<circ>I. b \\<in>\\<^sub>\\<circ> f i)\"", "lemma vifunionI[intro]: \n  assumes \"i \\<in>\\<^sub>\\<circ> I\" and \"a \\<in>\\<^sub>\\<circ> f i\" \n  shows \"a \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"", "lemma vifunionD[dest]: \n  assumes \"a \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\" \n  shows \"\\<exists>i\\<in>\\<^sub>\\<circ>I. a \\<in>\\<^sub>\\<circ> f i\"", "lemma vifunionE[elim!]: \n  assumes \"a \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\" and \"\\<And>i. \\<lbrakk> i \\<in>\\<^sub>\\<circ> I; a \\<in>\\<^sub>\\<circ> f i \\<rbrakk> \\<Longrightarrow> R\" \n  shows R", "lemma vifunion_vempty_family[simp]: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. 0) = 0\"", "lemma vifunion_vsingleton_is[simp]: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {i}. f i) = f i\"", "lemma vifunion_vsingleton_family[simp]: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. set {i}) = I\"", "lemma vifunion_vdoubleton: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {i, j}. f i) = f i \\<union>\\<^sub>\\<circ> f j\"", "lemma vifunion_mono:\n  assumes \"I \\<subseteq>\\<^sub>\\<circ> J\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f i \\<subseteq>\\<^sub>\\<circ> g i\" \n  shows \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<subseteq>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. g j)\"", "lemma vifunion_vunion_is: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. f j) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I \\<union>\\<^sub>\\<circ> J. f i)\"", "lemma vifunion_vunion_family:\n  \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. g i) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i \\<union>\\<^sub>\\<circ> g i)\"", "lemma vifunion_vintersection: \n  \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<inter>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. g j) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. \\<Union>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. f i \\<inter>\\<^sub>\\<circ> g j)\"", "lemma vifunion_vinsert_is: \n  \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>vinsert j I. f i) = f j \\<union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"", "lemma vifunion_VPow: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. VPow (f i)) \\<subseteq>\\<^sub>\\<circ> VPow (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"", "lemma vifunion_vempty_conv:\n  \"0 = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<longleftrightarrow> (\\<forall>i\\<in>\\<^sub>\\<circ>I. f i = 0)\"\n  \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = 0 \\<longleftrightarrow> (\\<forall>i\\<in>\\<^sub>\\<circ>I. f i = 0)\"", "lemma vifunion_constant[simp]: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. c) = (if I = 0 then 0 else c)\"", "lemma vifunion_upper:\n  assumes \"i \\<in>\\<^sub>\\<circ> I\"\n  shows \"f i \\<subseteq>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"", "lemma vifunion_least: \n  assumes \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f i \\<subseteq>\\<^sub>\\<circ> C\"\n  shows \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<subseteq>\\<^sub>\\<circ> C\"", "lemma vifunion_absorb: \n  assumes \"j \\<in>\\<^sub>\\<circ> I\"\n  shows \"f j \\<union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"", "lemma vifunion_vifunion_flatten: \n  \"(\\<Union>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i). g j) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. \\<Union>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>f i. g j)\"", "lemma vifunion_vsubset_iff: \"((\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<subseteq>\\<^sub>\\<circ> B) = (\\<forall>i\\<in>\\<^sub>\\<circ>I. f i \\<subseteq>\\<^sub>\\<circ> B)\"", "lemma vifunion_vsingleton_eq_vrange: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. set {f i}) = \\<R>\\<^sub>\\<circ> (\\<lambda>a\\<in>\\<^sub>\\<circ>I. f a)\"", "lemma vball_vifunion[simp]: \"(\\<forall>z\\<in>\\<^sub>\\<circ>(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i). P z) \\<longleftrightarrow> (\\<forall>x\\<in>\\<^sub>\\<circ>I. \\<forall>z\\<in>\\<^sub>\\<circ>f x. P z)\"", "lemma vbex_vifunion[simp]: \"(\\<exists>z\\<in>\\<^sub>\\<circ>(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i). P z) \\<longleftrightarrow> (\\<exists>x\\<in>\\<^sub>\\<circ>I. \\<exists>z\\<in>\\<^sub>\\<circ>f x. P z)\"", "lemma vifunion_vintersection_index_right[simp]: \"(\\<Union>\\<^sub>\\<circ>C\\<in>\\<^sub>\\<circ>B. A \\<inter>\\<^sub>\\<circ> C) = A \\<inter>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>B\"", "lemma vifunion_vintersection_index_left[simp]: \"(\\<Union>\\<^sub>\\<circ>C\\<in>\\<^sub>\\<circ>B. C \\<inter>\\<^sub>\\<circ> A) = \\<Union>\\<^sub>\\<circ>B \\<inter>\\<^sub>\\<circ> A\"", "lemma vifunion_vunion_index[intro, simp]:\n  assumes \"B \\<noteq> 0\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>C\\<in>\\<^sub>\\<circ>B. A \\<union>\\<^sub>\\<circ> C) = A \\<union>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>B\"", "lemma vifunion_vintersection_single: \"B \\<inter>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B \\<inter>\\<^sub>\\<circ> f i)\"", "lemma vifunion_vifunion_flip: \n  \"(\\<Union>\\<^sub>\\<circ>b\\<in>\\<^sub>\\<circ>B. \\<Union>\\<^sub>\\<circ>a\\<in>\\<^sub>\\<circ>A. f b a) = (\\<Union>\\<^sub>\\<circ>a\\<in>\\<^sub>\\<circ>A. \\<Union>\\<^sub>\\<circ>b\\<in>\\<^sub>\\<circ>B. f b a)\"", "lemma vifunion_disjoint: \"(\\<Union>\\<^sub>\\<circ>C \\<inter>\\<^sub>\\<circ> A = 0) \\<longleftrightarrow> (\\<forall>B\\<in>\\<^sub>\\<circ>C. vdisjnt B A)\"", "lemma vdisjnt_vifunion_iff: \n  \"vdisjnt A (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<longleftrightarrow> (\\<forall>i\\<in>\\<^sub>\\<circ>I. vdisjnt A (f i))\"", "lemma vifunion_VLambda: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>A. set {\\<langle>i, f i\\<rangle>}) = (\\<lambda>a\\<in>\\<^sub>\\<circ>A. f a)\"", "lemma vifunion_vrange_VLambda: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = \\<Union>\\<^sub>\\<circ>(\\<R>\\<^sub>\\<circ> (\\<lambda>a\\<in>\\<^sub>\\<circ>I. f a))\"", "lemma (in vsv) vsv_vrange_vsubset_vifunion_app:\n  assumes \"\\<D>\\<^sub>\\<circ> r = I\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> r\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\" \n  shows \"\\<R>\\<^sub>\\<circ> r \\<subseteq>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\"", "lemma v11_vlrestriction_vifintersection: \n  assumes \"I \\<noteq> 0\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> v11 (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> (A i))\" \n  shows \"v11 (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i))\"", "lemma vifunion_simps[simp]:\n  \"\\<And>a B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. vinsert a (B i)) = \n    (if I=0 then 0 else vinsert a (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i))\"\n  \"\\<And>A B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<union>\\<^sub>\\<circ> B) = ((if I=0 then 0 else (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<union>\\<^sub>\\<circ> B))\"\n  \"\\<And>A B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<union>\\<^sub>\\<circ> B i) = ((if I=0 then 0 else A \\<union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i)))\"\n  \"\\<And>A B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<inter>\\<^sub>\\<circ> B) = ((\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<inter>\\<^sub>\\<circ> B)\"\n  \"\\<And>A B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<inter>\\<^sub>\\<circ> B i) = (A \\<inter>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i))\"\n  \"\\<And>A B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i -\\<^sub>\\<circ> B) = ((\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) -\\<^sub>\\<circ> B)\"\n  \"\\<And>A B. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>\\<Union>\\<^sub>\\<circ>A. B i) = (\\<Union>\\<^sub>\\<circ>y\\<in>\\<^sub>\\<circ>A. \\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>y. B i)\"", "lemma vifunion_simps_ext:\n  \"\\<And>a B I. vinsert a (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = \n    (if I=0 then set {a} else (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. vinsert a (B i)))\"\n  \"\\<And>A B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<union>\\<^sub>\\<circ> B = (if I=0 then B else (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<union>\\<^sub>\\<circ> B))\"\n  \"\\<And>A B I. A \\<union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = (if I=0 then A else (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<union>\\<^sub>\\<circ> B i))\"\n  \"\\<And>A B I. ((\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<inter>\\<^sub>\\<circ> B) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<inter>\\<^sub>\\<circ> B)\"\n  \"\\<And>A B I. ((\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) -\\<^sub>\\<circ> B) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i -\\<^sub>\\<circ> B)\"\n  \"\\<And>A B. (\\<Union>\\<^sub>\\<circ>y\\<in>\\<^sub>\\<circ>A. \\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>y. B i) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>\\<Union>\\<^sub>\\<circ>A. B i)\"", "lemma vifunion_vball_vbex_simps[simp]:\n  \"\\<And>A P. (\\<forall>a\\<in>\\<^sub>\\<circ>\\<Union>\\<^sub>\\<circ>A. P a) \\<longleftrightarrow> (\\<forall>y\\<in>\\<^sub>\\<circ>A. \\<forall>a\\<in>\\<^sub>\\<circ>y. P a)\"\n  \"\\<And>A P. (\\<exists>a\\<in>\\<^sub>\\<circ>\\<Union>\\<^sub>\\<circ>A. P a) \\<longleftrightarrow> (\\<exists>y\\<in>\\<^sub>\\<circ>A. \\<exists>a\\<in>\\<^sub>\\<circ>y. P a)\"", "lemma vifintersection_simps[simp]: \n  \"\\<And>I A B. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<inter>\\<^sub>\\<circ> B) = (if I = 0 then 0 else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<inter>\\<^sub>\\<circ> B)\"\n  \"\\<And>I A B. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<inter>\\<^sub>\\<circ> B i) = (if I = 0 then 0 else A \\<inter>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i))\"\n  \"\\<And>I A B. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i -\\<^sub>\\<circ> B) = (if I = 0 then 0 else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) -\\<^sub>\\<circ> B)\"\n  \"\\<And>I A B. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A -\\<^sub>\\<circ> B i) = (if I = 0 then 0 else A -\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i))\"\n  \"\\<And>I a B. \n    (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. vinsert a (B i)) = (if I = 0 then 0 else vinsert a (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i))\"\n  \"\\<And>I A B. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<union>\\<^sub>\\<circ> B) = (if I = 0 then 0 else ((\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<union>\\<^sub>\\<circ> B))\"\n  \"\\<And>I A B. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<union>\\<^sub>\\<circ> B i) = (if I = 0 then 0 else (A \\<union>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i)))\"", "lemma vifintersection_simps_ext:\n  \"\\<And>A B I. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<inter>\\<^sub>\\<circ> B = (if I = 0 then 0 else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<inter>\\<^sub>\\<circ> B))\"\n  \"\\<And>A B I. A \\<inter>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = (if I = 0 then 0 else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<inter>\\<^sub>\\<circ> B i))\"\n  \"\\<And>A B I. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) -\\<^sub>\\<circ> B = (if I = 0 then 0 else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i -\\<^sub>\\<circ> B))\"\n  \"\\<And>A B I. A -\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = (if I = 0 then A else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A -\\<^sub>\\<circ> B i))\"\n  \"\\<And>a B I. vinsert a (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = \n    (if I = 0 then set {a} else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. vinsert a (B i)))\"\n  \"\\<And>A B I. ((\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<union>\\<^sub>\\<circ> B) = (if I = 0 then B else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<union>\\<^sub>\\<circ> B))\"\n  \"\\<And>A B I. A \\<union>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = (if I = 0 then A else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<union>\\<^sub>\\<circ> B i))\"", "lemma SUP_vifunion: \"(SUP \\<xi>\\<in>elts \\<alpha>. A \\<xi>) = (\\<Union>\\<^sub>\\<circ>\\<xi>\\<in>\\<^sub>\\<circ>\\<alpha>. A \\<xi>)\"", "lemma INF_vifintersection: \"(INF \\<xi>\\<in>elts \\<alpha>. A \\<xi>) = (\\<Inter>\\<^sub>\\<circ>\\<xi>\\<in>\\<^sub>\\<circ>\\<alpha>. A \\<xi>)\"", "lemmas Ord_induct3'[consumes 1, case_names 0 succ Limit, induct type: V] =\n  Ord_induct3[unfolded SUP_vifunion]", "lemma Limit_vifunion_def[simp]:\n  assumes \"Limit \\<alpha>\"\n  shows \"(\\<Union>\\<^sub>\\<circ>\\<xi>\\<in>\\<^sub>\\<circ>\\<alpha>. \\<xi>) = \\<alpha>\"", "lemmas_with[unfolded SUP_vifunion INF_vifintersection]: \n  TC = ZFC_Cardinals.TC\n  and rank_Sup = ZFC_Cardinals.rank_Sup\n  and TC_def = ZFC_Cardinals.TC_def\n  and Ord_equality = ZFC_in_HOL.Ord_equality\n  and Aleph_Limit = ZFC_Cardinals.Aleph_Limit\n  and rank = ZFC_Cardinals.rank\n  and Vset = ZFC_in_HOL.Vset\n  and mult = Kirby.mult\n  and Aleph_def = ZFC_Cardinals.Aleph_def\n  and times_V_def = Kirby.times_V_def\n  and mult_Limit = Kirby.mult_Limit\n  and Vfrom = ZFC_in_HOL.Vfrom\n  and Vfrom_def = ZFC_in_HOL.Vfrom_def\n  and rank_def = ZFC_Cardinals.rank_def\n  and add_Limit = Kirby.add_Limit\n  and Limit_Vfrom_eq = ZFC_in_HOL.Limit_Vfrom_eq\n  and VSigma_def = ZFC_Cardinals.VSigma_def\n  and add_Sup_distrib_id = Kirby.add_Sup_distrib_id\n  and Limit_add_Sup_distrib = Kirby.Limit_add_Sup_distrib\n  and TC_mult = Kirby.TC_mult\n  and add_Sup_distrib = Kirby.add_Sup_distrib", "lemma vdunion_expE[elim!]:\n  assumes \"c \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. \\<Union>\\<^sub>\\<circ>x\\<in>\\<^sub>\\<circ>A i. set {\\<langle>i, x\\<rangle>})\"\n  obtains i a where \"i \\<in>\\<^sub>\\<circ> I\" and \"a \\<in>\\<^sub>\\<circ> A i\" and \"c = \\<langle>i, a\\<rangle>\"", "lemma vdunion_def: \"(\\<Coprod>\\<^sub>\\<times>i\\<in>\\<^sub>\\<circ>I. A i) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. \\<Union>\\<^sub>\\<circ>x\\<in>\\<^sub>\\<circ>A i. set {\\<langle>i, x\\<rangle>})\"", "lemma vdunion_vsingleton: \"(\\<Coprod>\\<^sub>\\<times>i\\<in>\\<^sub>\\<circ>set{c}. A i) = set {c} \\<times>\\<^sub>\\<circ> A c\"", "lemma vdunion_vdoubleton: \n  \"(\\<Coprod>\\<^sub>\\<times>i\\<in>\\<^sub>\\<circ>set{a, b}. A i) = set {a} \\<times>\\<^sub>\\<circ> A a \\<union>\\<^sub>\\<circ> set {b} \\<times>\\<^sub>\\<circ> A b\"", "lemma vdunion_vsum: \"(\\<Coprod>\\<^sub>\\<times>i\\<in>\\<^sub>\\<circ>set{0, 1}. if i=0 then A else B) = A \\<Uplus> B\"", "lemma small_vproduct[simp]:\n  \"small {f. vsv f \\<and> \\<D>\\<^sub>\\<circ> f = I \\<and> (\\<forall>i\\<in>\\<^sub>\\<circ>I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}\"\n  (is \\<open>small ?A\\<close>)", "lemma vproductI[intro!]:\n  assumes \"vsv f\" and \"\\<D>\\<^sub>\\<circ> f = I\" and \"\\<forall>i\\<in>\\<^sub>\\<circ>I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\"\n  shows \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\"", "lemma vproductD[dest]:\n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\"\n  shows \"vsv f\" \n    and \"\\<D>\\<^sub>\\<circ> f = I\"\n    and \"\\<forall>i\\<in>\\<^sub>\\<circ>I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\"", "lemma vproductE[elim!]:\n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\"\n  obtains \"vsv f\" and \"\\<D>\\<^sub>\\<circ> f = I\" and \"\\<forall>i\\<in>\\<^sub>\\<circ>I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\"", "lemma vproduct_index_vempty[simp]: \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>0. A i) = set {0}\"", "lemma vproduct_vsingletonI:\n  assumes \"f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c\" and \"f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\" \n  shows \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{c}. A i)\"", "lemma vproduct_vsingletonD: \n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{c}. A i)\" \n  shows \"vsv f\" and \"f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c\" and \"f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\"", "lemma vproduct_vsingletonE: \n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{c}. A i)\" \n  obtains \"vsv f\" and \"f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c\" and \"f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\"", "lemma vproduct_vsingleton_iff: \n  \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{c}. A i) \\<longleftrightarrow> f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c \\<and> f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\"", "lemma vproduct_vdoubletonI[intro]:\n  assumes \"vsv f\"\n    and \"f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a\" \n    and \"f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b\" \n    and \"\\<D>\\<^sub>\\<circ> f = set {a, b}\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A a \\<union>\\<^sub>\\<circ> A b\"\n  shows \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {a, b}. A i)\"", "lemma vproduct_vdoubletonD[dest]: \n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{a, b}. A i)\" \n  shows \"vsv f\"\n    and \"f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a\" \n    and \"f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b\" \n    and \"\\<D>\\<^sub>\\<circ> f = set {a, b}\" \n    and \"f = set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>, \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}\"", "lemma vproduct_vdoubletonE: \n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{a, b}. A i)\" \n  obtains \"vsv f\"\n    and \"f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a\" \n    and \"f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b\" \n    and \"\\<D>\\<^sub>\\<circ> f = set {a, b}\" \n    and \"f = set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>, \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}\"", "lemma vproduct_vdoubleton_iff: \n  \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {a, b}. A i) \\<longleftrightarrow> \n    vsv f \\<and> \n    f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a \\<and> \n    f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b \\<and> \n    \\<D>\\<^sub>\\<circ> f = set {a, b} \\<and> \n    f = set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>, \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}\"", "lemma vproduct_eq_vemptyI:\n  assumes \"i \\<in>\\<^sub>\\<circ> I\" and \"A i = 0\"\n  shows \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) = 0\"", "lemma vproduct_eq_vemptyD:\n  assumes \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<noteq> 0\"\n  shows \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> A i \\<noteq> 0\"", "lemma vproduct_vrange:\n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\"\n  shows \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\"", "lemma vproduct_vsubset_VPow: \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<subseteq>\\<^sub>\\<circ> VPow (I \\<times>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i))\"", "lemma VLambda_in_vproduct:\n  assumes \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f i \\<in>\\<^sub>\\<circ> A i\"\n  shows \"(\\<lambda>i\\<in>\\<^sub>\\<circ>I. f i) \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\"", "lemma vproduct_cong:\n  assumes \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f i = g i\"\n  shows \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. g i)\"", "lemma vproduct_ex_in_vproduct:\n  assumes \"x \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>J. A i)\" and \"J \\<subseteq>\\<^sub>\\<circ> I\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> A i \\<noteq> 0\"\n  obtains X where \"X \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\" and \"x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\"", "lemma vproduct_vsingleton_def: \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {j}. A i) = (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {j}. A j)\"", "lemma vprojection_in_VUnionI:\n  assumes \"A \\<subseteq>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. F i)\" and \"f \\<in>\\<^sub>\\<circ> A\" and \"i \\<in>\\<^sub>\\<circ> I\"\n  shows \"f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>(\\<Union>\\<^sub>\\<circ>(\\<Union>\\<^sub>\\<circ>A))\"", "lemma vprojection_vrange_vsubset: \n  assumes \"i \\<in>\\<^sub>\\<circ> I\" \n  shows \"\\<R>\\<^sub>\\<circ> (vprojection I A i) \\<subseteq>\\<^sub>\\<circ> A i\"", "lemma vprojection_vrange: \n  assumes \"i \\<in>\\<^sub>\\<circ> I\" and \"\\<And>j. j \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> A j \\<noteq> 0\"\n  shows \"\\<R>\\<^sub>\\<circ> (vprojection I A i) = A i\"", "lemma vcpowerI[intro]:\n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)\"\n  shows \"f \\<in>\\<^sub>\\<circ> (A ^\\<^sub>\\<times> n)\"", "lemma vcpowerD[dest]:\n  assumes \"f \\<in>\\<^sub>\\<circ> (A ^\\<^sub>\\<times> n)\"\n  shows \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)\"", "lemma vcpowerE[elim]:\n  assumes \"f \\<in>\\<^sub>\\<circ> (A ^\\<^sub>\\<times> n)\" and \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A) \\<Longrightarrow> P\"\n  shows P", "lemma vcpower_index_vempty[simp]: \"A ^\\<^sub>\\<times> 0 = set {0}\"", "lemma vcpower_of_vempty: \n  assumes \"n \\<noteq> 0\"\n  shows \"0 ^\\<^sub>\\<times> n = 0\"", "lemma vcpower_vdomain: \n  assumes \"f \\<in>\\<^sub>\\<circ> (A ^\\<^sub>\\<times> n)\"\n  shows \"\\<D>\\<^sub>\\<circ> f = n\"", "lemma vcpower_vrange:\n  assumes \"f \\<in>\\<^sub>\\<circ> (A ^\\<^sub>\\<times> n)\"\n  shows \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], "translations": [["", "lemma vifintersectionI[intro]:\n  assumes \"I \\<noteq> 0\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> a \\<in>\\<^sub>\\<circ> f i\"  \n  shows \"a \\<in>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                           (VLambda I f `\\<^sub>\\<circ> I)", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> 0\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> a \\<in>\\<^sub>\\<circ> f ?i\n\ngoal (1 subgoal):\n 1. a \\<in>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                           (VLambda I f `\\<^sub>\\<circ> I)", "by (auto intro!: vsubset_antisym)"], ["", "lemma vifintersectionD[dest]:\n  assumes \"a \\<in>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\" and \"i \\<in>\\<^sub>\\<circ> I\"\n  shows \"a \\<in>\\<^sub>\\<circ> f i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in>\\<^sub>\\<circ> f i", "using assms"], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                         (VLambda I f `\\<^sub>\\<circ> I)\n  i \\<in>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. a \\<in>\\<^sub>\\<circ> f i", "by blast"], ["", "lemma vifintersectionE1[elim]:\n  assumes \"a \\<in>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\" and \"a \\<in>\\<^sub>\\<circ> f i \\<Longrightarrow> P\" and \"i \\<notin>\\<^sub>\\<circ> I \\<Longrightarrow> P\" \n  shows P"], ["proof (prove)\ngoal (1 subgoal):\n 1. P", "using assms"], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                         (VLambda I f `\\<^sub>\\<circ> I)\n  a \\<in>\\<^sub>\\<circ> f i \\<Longrightarrow> P\n  i \\<notin>\\<^sub>\\<circ> I \\<Longrightarrow> P\n\ngoal (1 subgoal):\n 1. P", "by blast"], ["", "lemma vifintersectionE3[elim]:\n  assumes \"a \\<in>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"\n  obtains \"\\<And>i. i\\<in>\\<^sub>\\<circ>I \\<Longrightarrow> a \\<in>\\<^sub>\\<circ> f i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>i.\n         i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n         a \\<in>\\<^sub>\\<circ> f i) \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                         (VLambda I f `\\<^sub>\\<circ> I)\n\ngoal (1 subgoal):\n 1. ((\\<And>i.\n         i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n         a \\<in>\\<^sub>\\<circ> f i) \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["", "lemma vifintersectionE2[elim]:\n  assumes \"a \\<in>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\"\n  obtains i where \"i \\<in>\\<^sub>\\<circ> I\" and \"a \\<in>\\<^sub>\\<circ> f i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i \\<in>\\<^sub>\\<circ> I; a \\<in>\\<^sub>\\<circ> f i\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                         (VLambda I f `\\<^sub>\\<circ> I)\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i \\<in>\\<^sub>\\<circ> I; a \\<in>\\<^sub>\\<circ> f i\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (elim vifintersectionE3) (meson assms VInterE2 app_vimageE)"], ["", "text\\<open>Set operations.\\<close>"], ["", "lemma vifintersection_vempty_is[simp]: \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>0. f i) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ> (VLambda 0 f `\\<^sub>\\<circ> 0) = 0", "by auto"], ["", "lemma vifintersection_vsingleton_is[simp]: \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{i}. f i) = f i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ> (VLambda (set {i}) f `\\<^sub>\\<circ> set {i}) =\n    f i", "using elts_0"], ["proof (prove)\nusing this:\n  elts 0 = {}\n\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ> (VLambda (set {i}) f `\\<^sub>\\<circ> set {i}) =\n    f i", "by blast"], ["", "lemma vifintersection_vdoubleton_is[simp]: \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {i, j}. f i) = f i \\<inter>\\<^sub>\\<circ> f j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ>\n     (VLambda (set {i, j}) f `\\<^sub>\\<circ> set {i, j}) =\n    f i \\<inter>\\<^sub>\\<circ> f j", "by \n    (\n      intro vsubset_antisym vsubsetI; \n      (elim vifintersectionE3 | intro vifintersectionI)\n    )\n    auto"], ["", "lemma vifintersection_antimono1: \n  assumes \"I \\<noteq> 0\" and \"I \\<subseteq>\\<^sub>\\<circ> J\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. f j) \\<subseteq>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ> (VLambda J f `\\<^sub>\\<circ> J)\n    \\<subseteq>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                               (VLambda I f `\\<^sub>\\<circ> I)", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> 0\n  I \\<subseteq>\\<^sub>\\<circ> J\n\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ> (VLambda J f `\\<^sub>\\<circ> J)\n    \\<subseteq>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                               (VLambda I f `\\<^sub>\\<circ> I)", "by blast"], ["", "lemma vifintersection_antimono2: \n  assumes \"I \\<noteq> 0\" and \" I \\<subseteq>\\<^sub>\\<circ> J\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f i \\<subseteq>\\<^sub>\\<circ> g i\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. f j) \\<subseteq>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. g i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ> (VLambda J f `\\<^sub>\\<circ> J)\n    \\<subseteq>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                               (VLambda I g `\\<^sub>\\<circ> I)", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> 0\n  I \\<subseteq>\\<^sub>\\<circ> J\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  f ?i \\<subseteq>\\<^sub>\\<circ> g ?i\n\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ> (VLambda J f `\\<^sub>\\<circ> J)\n    \\<subseteq>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                               (VLambda I g `\\<^sub>\\<circ> I)", "by blast"], ["", "lemma vifintersection_vintersection: \n  assumes \"I \\<noteq> 0\" and \"J \\<noteq> 0\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<inter>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>J. f i) = (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I \\<union>\\<^sub>\\<circ> J. f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ>\n     (VLambda I f `\\<^sub>\\<circ> I) \\<inter>\\<^sub>\\<circ>\n    \\<Inter>\\<^sub>\\<circ> (VLambda J f `\\<^sub>\\<circ> J) =\n    \\<Inter>\\<^sub>\\<circ>\n     (VLambda (I \\<union>\\<^sub>\\<circ> J) f `\\<^sub>\\<circ>\n      (I \\<union>\\<^sub>\\<circ> J))", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> 0\n  J \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ>\n     (VLambda I f `\\<^sub>\\<circ> I) \\<inter>\\<^sub>\\<circ>\n    \\<Inter>\\<^sub>\\<circ> (VLambda J f `\\<^sub>\\<circ> J) =\n    \\<Inter>\\<^sub>\\<circ>\n     (VLambda (I \\<union>\\<^sub>\\<circ> J) f `\\<^sub>\\<circ>\n      (I \\<union>\\<^sub>\\<circ> J))", "by (auto intro!: vsubset_antisym)"], ["", "lemma vifintersection_vintersection_family: \n  assumes \"I \\<noteq> 0\" \n  shows \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<inter>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<inter>\\<^sub>\\<circ> B i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ>\n     (VLambda I A `\\<^sub>\\<circ> I) \\<inter>\\<^sub>\\<circ>\n    \\<Inter>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I) =\n    \\<Inter>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n          A a \\<inter>\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\n      I)", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ>\n     (VLambda I A `\\<^sub>\\<circ> I) \\<inter>\\<^sub>\\<circ>\n    \\<Inter>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I) =\n    \\<Inter>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n          A a \\<inter>\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\n      I)", "by (intro vsubset_antisym vsubsetI, intro vifintersectionI | tactic\\<open>all_tac\\<close>) \n    blast+"], ["", "lemma vifintersection_vunion:\n  assumes \"I \\<noteq> 0\" and \"J \\<noteq> 0\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<union>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. g j) = (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. \\<Inter>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. f i \\<union>\\<^sub>\\<circ> g j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ>\n     (VLambda I f `\\<^sub>\\<circ> I) \\<union>\\<^sub>\\<circ>\n    \\<Inter>\\<^sub>\\<circ> (VLambda J g `\\<^sub>\\<circ> J) =\n    \\<Inter>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n          \\<Inter>\\<^sub>\\<circ>\n           ((\\<lambda>aa\\<in>\\<^sub>\\<circ>J.\n                f a \\<union>\\<^sub>\\<circ> g aa) `\\<^sub>\\<circ>\n            J)) `\\<^sub>\\<circ>\n      I)", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> 0\n  J \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ>\n     (VLambda I f `\\<^sub>\\<circ> I) \\<union>\\<^sub>\\<circ>\n    \\<Inter>\\<^sub>\\<circ> (VLambda J g `\\<^sub>\\<circ> J) =\n    \\<Inter>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n          \\<Inter>\\<^sub>\\<circ>\n           ((\\<lambda>aa\\<in>\\<^sub>\\<circ>J.\n                f a \\<union>\\<^sub>\\<circ> g aa) `\\<^sub>\\<circ>\n            J)) `\\<^sub>\\<circ>\n      I)", "by (blast intro!: vsubset_antisym)"], ["", "lemma vifintersection_vinsert_is[intro, simp]:\n  assumes \"I \\<noteq> 0\" \n  shows \"(\\<Inter>\\<^sub>\\<circ>i \\<in>\\<^sub>\\<circ> vinsert j I. f i) = f j \\<inter>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ>\n     (VLambda (vinsert j I) f `\\<^sub>\\<circ> vinsert j I) =\n    f j \\<inter>\\<^sub>\\<circ>\n    \\<Inter>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)", "apply(insert assms, intro vsubset_antisym vsubsetI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>I \\<noteq> 0;\n        x \\<in>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                               (VLambda (vinsert j I) f `\\<^sub>\\<circ>\n                                vinsert j I)\\<rbrakk>\n       \\<Longrightarrow> x \\<in>\\<^sub>\\<circ> f j \\<inter>\\<^sub>\\<circ>\n         \\<Inter>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)\n 2. \\<And>x.\n       \\<lbrakk>I \\<noteq> 0;\n        x \\<in>\\<^sub>\\<circ> f j \\<inter>\\<^sub>\\<circ>\n                              \\<Inter>\\<^sub>\\<circ>\n                               (VLambda I f `\\<^sub>\\<circ> I)\\<rbrakk>\n       \\<Longrightarrow> x \\<in>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n          (VLambda (vinsert j I) f `\\<^sub>\\<circ> vinsert j I)", "subgoal for b"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>I \\<noteq> 0;\n     b \\<in>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                            (VLambda (vinsert j I) f `\\<^sub>\\<circ>\n                             vinsert j I)\\<rbrakk>\n    \\<Longrightarrow> b \\<in>\\<^sub>\\<circ> f j \\<inter>\\<^sub>\\<circ>\n      \\<Inter>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)", "by (subgoal_tac \\<open>b \\<in>\\<^sub>\\<circ> f j\\<close> \\<open>b \\<in>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\\<close>) blast+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>I \\<noteq> 0;\n        x \\<in>\\<^sub>\\<circ> f j \\<inter>\\<^sub>\\<circ>\n                              \\<Inter>\\<^sub>\\<circ>\n                               (VLambda I f `\\<^sub>\\<circ> I)\\<rbrakk>\n       \\<Longrightarrow> x \\<in>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n          (VLambda (vinsert j I) f `\\<^sub>\\<circ> vinsert j I)", "subgoal for b"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>I \\<noteq> 0;\n     b \\<in>\\<^sub>\\<circ> f j \\<inter>\\<^sub>\\<circ>\n                           \\<Inter>\\<^sub>\\<circ>\n                            (VLambda I f `\\<^sub>\\<circ> I)\\<rbrakk>\n    \\<Longrightarrow> b \\<in>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n       (VLambda (vinsert j I) f `\\<^sub>\\<circ> vinsert j I)", "by (subgoal_tac \\<open>b \\<in>\\<^sub>\\<circ> f j\\<close> \\<open>b \\<in>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\\<close>) \n      (blast intro!: vsubset_antisym)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma vifintersection_VPow: \n  assumes \"I \\<noteq> 0\"\n  shows \"VPow (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. VPow (f i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. VPow (\\<Inter>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)) =\n    \\<Inter>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. VPow (f a)) `\\<^sub>\\<circ> I)", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> 0\n\ngoal (1 subgoal):\n 1. VPow (\\<Inter>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)) =\n    \\<Inter>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. VPow (f a)) `\\<^sub>\\<circ> I)", "by (auto intro!: vsubset_antisym)"], ["", "text\\<open>Elementary properties.\\<close>"], ["", "lemma vifintersection_constant[intro, simp]:\n  assumes \"I \\<noteq> 0\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>y\\<in>\\<^sub>\\<circ>I. c) = c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. c) `\\<^sub>\\<circ> I) =\n    c", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. c) `\\<^sub>\\<circ> I) =\n    c", "by auto"], ["", "lemma vifintersection_vsubset_iff: \n  assumes \"I \\<noteq> 0\"\n  shows \"A \\<subseteq>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<longleftrightarrow> (\\<forall>i\\<in>\\<^sub>\\<circ>I. A \\<subseteq>\\<^sub>\\<circ> f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A \\<subseteq>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                                  (VLambda I f `\\<^sub>\\<circ> I)) =\n    (\\<forall>i\\<in>elts I. A \\<subseteq>\\<^sub>\\<circ> f i)", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (A \\<subseteq>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                                  (VLambda I f `\\<^sub>\\<circ> I)) =\n    (\\<forall>i\\<in>elts I. A \\<subseteq>\\<^sub>\\<circ> f i)", "by blast"], ["", "lemma vifintersection_vsubset_lower: \n  assumes \"i \\<in>\\<^sub>\\<circ> I\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<subseteq>\\<^sub>\\<circ> f i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)\n    \\<subseteq>\\<^sub>\\<circ> f i", "using assms"], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)\n    \\<subseteq>\\<^sub>\\<circ> f i", "by blast"], ["", "lemma vifintersection_vsubset_greatest: \n  assumes \"I \\<noteq> 0\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> A \\<subseteq>\\<^sub>\\<circ> f i\" \n  shows \"A \\<subseteq>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<subseteq>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                                 (VLambda I f `\\<^sub>\\<circ> I)", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> 0\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  A \\<subseteq>\\<^sub>\\<circ> f ?i\n\ngoal (1 subgoal):\n 1. A \\<subseteq>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>\n                                 (VLambda I f `\\<^sub>\\<circ> I)", "by (intro vsubsetI vifintersectionI) auto"], ["", "lemma vifintersection_vintersection_value: \n  assumes \"i \\<in>\\<^sub>\\<circ> I\"\n  shows \"f i \\<inter>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f i \\<inter>\\<^sub>\\<circ>\n    \\<Inter>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I) =\n    \\<Inter>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)", "using assms"], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. f i \\<inter>\\<^sub>\\<circ>\n    \\<Inter>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I) =\n    \\<Inter>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)", "by blast"], ["", "lemma vifintersection_vintersection_single: \n  assumes \"I \\<noteq> 0\"\n  shows \"B \\<union>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) = (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B \\<union>\\<^sub>\\<circ> A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<union>\\<^sub>\\<circ>\n    \\<Inter>\\<^sub>\\<circ> (VLambda I A `\\<^sub>\\<circ> I) =\n    \\<Inter>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n          B \\<union>\\<^sub>\\<circ> A a) `\\<^sub>\\<circ>\n      I)", "by (insert assms, intro vsubset_antisym vsubsetI vifintersectionI) \n    blast+"], ["", "text\\<open>Connections.\\<close>"], ["", "lemma vifintersection_vrange_VLambda: \"(\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = \\<Inter>\\<^sub>\\<circ> (\\<R>\\<^sub>\\<circ> (\\<lambda>a\\<in>\\<^sub>\\<circ>I. f a))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I) =\n    \\<Inter>\\<^sub>\\<circ> (\\<R>\\<^sub>\\<circ> (VLambda I f))", "by (simp add: vimage_VLambda_vrange_rep)"], ["", "subsection\\<open>Union of an indexed family of sets\\<close>"], ["", "syntax \"_VIFUNION\" :: \"pttrn \\<Rightarrow> V \\<Rightarrow> V \\<Rightarrow> V\" (\\<open>(3\\<Union>\\<^sub>\\<circ>_\\<in>\\<^sub>\\<circ>_./ _)\\<close> [0, 0, 10] 10)"], ["", "translations \"\\<Union>\\<^sub>\\<circ>x\\<in>\\<^sub>\\<circ>A. f\" \\<rightleftharpoons> \"CONST VUnion (CONST imVLambda A (\\<lambda>x. f))\""], ["", "text\\<open>Rules.\\<close>"], ["", "lemma vifunion_iff: \"b \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<longleftrightarrow> (\\<exists>i\\<in>\\<^sub>\\<circ>I. b \\<in>\\<^sub>\\<circ> f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (b \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                            (VLambda I f `\\<^sub>\\<circ> I)) =\n    (\\<exists>i\\<in>elts I. b \\<in>\\<^sub>\\<circ> f i)", "by force"], ["", "lemma vifunionI[intro]: \n  assumes \"i \\<in>\\<^sub>\\<circ> I\" and \"a \\<in>\\<^sub>\\<circ> f i\" \n  shows \"a \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                           (VLambda I f `\\<^sub>\\<circ> I)", "using assms"], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n  a \\<in>\\<^sub>\\<circ> f i\n\ngoal (1 subgoal):\n 1. a \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                           (VLambda I f `\\<^sub>\\<circ> I)", "by force"], ["", "lemma vifunionD[dest]: \n  assumes \"a \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\" \n  shows \"\\<exists>i\\<in>\\<^sub>\\<circ>I. a \\<in>\\<^sub>\\<circ> f i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i\\<in>elts I. a \\<in>\\<^sub>\\<circ> f i", "using assms"], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda I f `\\<^sub>\\<circ> I)\n\ngoal (1 subgoal):\n 1. \\<exists>i\\<in>elts I. a \\<in>\\<^sub>\\<circ> f i", "by auto"], ["", "lemma vifunionE[elim!]: \n  assumes \"a \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\" and \"\\<And>i. \\<lbrakk> i \\<in>\\<^sub>\\<circ> I; a \\<in>\\<^sub>\\<circ> f i \\<rbrakk> \\<Longrightarrow> R\" \n  shows R"], ["proof (prove)\ngoal (1 subgoal):\n 1. R", "using assms"], ["proof (prove)\nusing this:\n  a \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda I f `\\<^sub>\\<circ> I)\n  \\<lbrakk>?i \\<in>\\<^sub>\\<circ> I; a \\<in>\\<^sub>\\<circ> f ?i\\<rbrakk>\n  \\<Longrightarrow> R\n\ngoal (1 subgoal):\n 1. R", "by auto"], ["", "text\\<open>Set operations.\\<close>"], ["", "lemma vifunion_vempty_family[simp]: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. 0) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. 0) `\\<^sub>\\<circ> I) =\n    0", "by auto"], ["", "lemma vifunion_vsingleton_is[simp]: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {i}. f i) = f i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ> (VLambda (set {i}) f `\\<^sub>\\<circ> set {i}) =\n    f i", "by force"], ["", "lemma vifunion_vsingleton_family[simp]: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. set {i}) = I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. set {a}) `\\<^sub>\\<circ> I) =\n    I", "by force"], ["", "lemma vifunion_vdoubleton: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {i, j}. f i) = f i \\<union>\\<^sub>\\<circ> f j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     (VLambda (set {i, j}) f `\\<^sub>\\<circ> set {i, j}) =\n    f i \\<union>\\<^sub>\\<circ> f j", "using VLambda_vinsert vimage_vunion_left"], ["proof (prove)\nusing this:\n  VLambda (vinsert ?a ?A) ?f =\n  VLambda (set {?a}) ?f \\<union>\\<^sub>\\<circ> VLambda ?A ?f\n  (?r \\<union>\\<^sub>\\<circ> ?s) `\\<^sub>\\<circ> ?A =\n  ?r `\\<^sub>\\<circ> ?A \\<union>\\<^sub>\\<circ> ?s `\\<^sub>\\<circ> ?A\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     (VLambda (set {i, j}) f `\\<^sub>\\<circ> set {i, j}) =\n    f i \\<union>\\<^sub>\\<circ> f j", "by (force simp: VLambda_vsingleton simp: vinsert_set_insert_eq)"], ["", "lemma vifunion_mono:\n  assumes \"I \\<subseteq>\\<^sub>\\<circ> J\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f i \\<subseteq>\\<^sub>\\<circ> g i\" \n  shows \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<subseteq>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. g j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               (VLambda J g `\\<^sub>\\<circ> J)", "using assms"], ["proof (prove)\nusing this:\n  I \\<subseteq>\\<^sub>\\<circ> J\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  f ?i \\<subseteq>\\<^sub>\\<circ> g ?i\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               (VLambda J g `\\<^sub>\\<circ> J)", "by force"], ["", "lemma vifunion_vunion_is: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. f j) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I \\<union>\\<^sub>\\<circ> J. f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     (VLambda I f `\\<^sub>\\<circ> I) \\<union>\\<^sub>\\<circ>\n    \\<Union>\\<^sub>\\<circ> (VLambda J f `\\<^sub>\\<circ> J) =\n    \\<Union>\\<^sub>\\<circ>\n     (VLambda (I \\<union>\\<^sub>\\<circ> J) f `\\<^sub>\\<circ>\n      (I \\<union>\\<^sub>\\<circ> J))", "by force"], ["", "lemma vifunion_vunion_family:\n  \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. g i) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i \\<union>\\<^sub>\\<circ> g i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     (VLambda I f `\\<^sub>\\<circ> I) \\<union>\\<^sub>\\<circ>\n    \\<Union>\\<^sub>\\<circ> (VLambda I g `\\<^sub>\\<circ> I) =\n    \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n          f a \\<union>\\<^sub>\\<circ> g a) `\\<^sub>\\<circ>\n      I)", "by (intro vsubset_antisym vsubsetI; elim vunionE vifunionE) force+"], ["", "lemma vifunion_vintersection: \n  \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<inter>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. g j) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. \\<Union>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>J. f i \\<inter>\\<^sub>\\<circ> g j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     (VLambda I f `\\<^sub>\\<circ> I) \\<inter>\\<^sub>\\<circ>\n    \\<Union>\\<^sub>\\<circ> (VLambda J g `\\<^sub>\\<circ> J) =\n    \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n          \\<Union>\\<^sub>\\<circ>\n           ((\\<lambda>aa\\<in>\\<^sub>\\<circ>J.\n                f a \\<inter>\\<^sub>\\<circ> g aa) `\\<^sub>\\<circ>\n            J)) `\\<^sub>\\<circ>\n      I)", "by (force simp: vrange_VLambda vimage_VLambda_vrange_rep)"], ["", "lemma vifunion_vinsert_is: \n  \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>vinsert j I. f i) = f j \\<union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     (VLambda (vinsert j I) f `\\<^sub>\\<circ> vinsert j I) =\n    f j \\<union>\\<^sub>\\<circ>\n    \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)", "by (force simp: vimage_VLambda_vrange_rep)"], ["", "lemma vifunion_VPow: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. VPow (f i)) \\<subseteq>\\<^sub>\\<circ> VPow (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. VPow (f a)) `\\<^sub>\\<circ> I)\n    \\<subseteq>\\<^sub>\\<circ> VPow\n                               (\\<Union>\\<^sub>\\<circ>\n                                 (VLambda I f `\\<^sub>\\<circ> I))", "by force"], ["", "text\\<open>Elementary properties.\\<close>"], ["", "lemma vifunion_vempty_conv:\n  \"0 = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<longleftrightarrow> (\\<forall>i\\<in>\\<^sub>\\<circ>I. f i = 0)\"\n  \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = 0 \\<longleftrightarrow> (\\<forall>i\\<in>\\<^sub>\\<circ>I. f i = 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0 = \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)) =\n    (\\<forall>i\\<in>elts I. f i = 0) &&&\n    (\\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I) = 0) =\n    (\\<forall>i\\<in>elts I. f i = 0)", "by (auto simp: vrange_VLambda vimage_VLambda_vrange_rep)"], ["", "lemma vifunion_constant[simp]: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. c) = (if I = 0 then 0 else c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. c) `\\<^sub>\\<circ> I) =\n    (if I = 0 \\<Rightarrow> 0 | otherwise \\<Rightarrow> c)", "proof(intro vsubset_antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. c) `\\<^sub>\\<circ> I)\n    \\<subseteq>\\<^sub>\\<circ> (if I = 0 \\<Rightarrow> 0 \n                                | otherwise \\<Rightarrow> c)\n 2. (if I = 0 \\<Rightarrow> 0 | otherwise \\<Rightarrow> c)\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n                                    c) `\\<^sub>\\<circ>\n                                I)", "show \"(if I = 0 then 0 else c) \\<subseteq>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if I = 0 \\<Rightarrow> 0 | otherwise \\<Rightarrow> c)\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n                                    c) `\\<^sub>\\<circ>\n                                I)", "by (cases \\<open>vdisjnt I I\\<close>) (auto simp: VLambda_vconst_on)"], ["proof (state)\nthis:\n  (if I = 0 \\<Rightarrow> 0 | otherwise \\<Rightarrow> c)\n  \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                             ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n                                  c) `\\<^sub>\\<circ>\n                              I)\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. c) `\\<^sub>\\<circ> I)\n    \\<subseteq>\\<^sub>\\<circ> (if I = 0 \\<Rightarrow> 0 \n                                | otherwise \\<Rightarrow> c)", "qed auto"], ["", "lemma vifunion_upper:\n  assumes \"i \\<in>\\<^sub>\\<circ> I\"\n  shows \"f i \\<subseteq>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f i\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               (VLambda I f `\\<^sub>\\<circ> I)", "using assms"], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. f i\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               (VLambda I f `\\<^sub>\\<circ> I)", "by force"], ["", "lemma vifunion_least: \n  assumes \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f i \\<subseteq>\\<^sub>\\<circ> C\"\n  shows \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<subseteq>\\<^sub>\\<circ> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)\n    \\<subseteq>\\<^sub>\\<circ> C", "using assms"], ["proof (prove)\nusing this:\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  f ?i \\<subseteq>\\<^sub>\\<circ> C\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)\n    \\<subseteq>\\<^sub>\\<circ> C", "by auto"], ["", "lemma vifunion_absorb: \n  assumes \"j \\<in>\\<^sub>\\<circ> I\"\n  shows \"f j \\<union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f j \\<union>\\<^sub>\\<circ>\n    \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I) =\n    \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)", "using assms"], ["proof (prove)\nusing this:\n  j \\<in>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. f j \\<union>\\<^sub>\\<circ>\n    \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I) =\n    \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)", "by force"], ["", "lemma vifunion_vifunion_flatten: \n  \"(\\<Union>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i). g j) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. \\<Union>\\<^sub>\\<circ>j\\<in>\\<^sub>\\<circ>f i. g j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     (VLambda (\\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I))\n       g `\\<^sub>\\<circ>\n      \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)) =\n    \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda (f a) g `\\<^sub>\\<circ> f a)) `\\<^sub>\\<circ>\n      I)", "by (force simp: vrange_VLambda vimage_VLambda_vrange_rep)"], ["", "lemma vifunion_vsubset_iff: \"((\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<subseteq>\\<^sub>\\<circ> B) = (\\<forall>i\\<in>\\<^sub>\\<circ>I. f i \\<subseteq>\\<^sub>\\<circ> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)\n     \\<subseteq>\\<^sub>\\<circ> B) =\n    (\\<forall>i\\<in>elts I. f i \\<subseteq>\\<^sub>\\<circ> B)", "by force"], ["", "lemma vifunion_vsingleton_eq_vrange: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. set {f i}) = \\<R>\\<^sub>\\<circ> (\\<lambda>a\\<in>\\<^sub>\\<circ>I. f a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. set {f a}) `\\<^sub>\\<circ> I) =\n    \\<R>\\<^sub>\\<circ> (VLambda I f)", "by force"], ["", "lemma vball_vifunion[simp]: \"(\\<forall>z\\<in>\\<^sub>\\<circ>(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i). P z) \\<longleftrightarrow> (\\<forall>x\\<in>\\<^sub>\\<circ>I. \\<forall>z\\<in>\\<^sub>\\<circ>f x. P z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>z\\<in>elts\n                     (\\<Union>\\<^sub>\\<circ>\n                       (VLambda I f `\\<^sub>\\<circ> I)).\n        P z) =\n    (\\<forall>x\\<in>elts I. \\<forall>z\\<in>elts (f x). P z)", "by force"], ["", "lemma vbex_vifunion[simp]: \"(\\<exists>z\\<in>\\<^sub>\\<circ>(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i). P z) \\<longleftrightarrow> (\\<exists>x\\<in>\\<^sub>\\<circ>I. \\<exists>z\\<in>\\<^sub>\\<circ>f x. P z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>z\\<in>elts\n                     (\\<Union>\\<^sub>\\<circ>\n                       (VLambda I f `\\<^sub>\\<circ> I)).\n        P z) =\n    (\\<exists>x\\<in>elts I. \\<exists>z\\<in>elts (f x). P z)", "by force"], ["", "lemma vifunion_vintersection_index_right[simp]: \"(\\<Union>\\<^sub>\\<circ>C\\<in>\\<^sub>\\<circ>B. A \\<inter>\\<^sub>\\<circ> C) = A \\<inter>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     (VLambda B ((\\<inter>\\<^sub>\\<circ>) A) `\\<^sub>\\<circ> B) =\n    A \\<inter>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ> B", "by (force simp: vimage_VLambda_vrange_rep)"], ["", "lemma vifunion_vintersection_index_left[simp]: \"(\\<Union>\\<^sub>\\<circ>C\\<in>\\<^sub>\\<circ>B. C \\<inter>\\<^sub>\\<circ> A) = \\<Union>\\<^sub>\\<circ>B \\<inter>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>B.\n          a \\<inter>\\<^sub>\\<circ> A) `\\<^sub>\\<circ>\n      B) =\n    \\<Union>\\<^sub>\\<circ> B \\<inter>\\<^sub>\\<circ> A", "by (force simp: vimage_VLambda_vrange_rep)"], ["", "lemma vifunion_vunion_index[intro, simp]:\n  assumes \"B \\<noteq> 0\"\n  shows \"(\\<Inter>\\<^sub>\\<circ>C\\<in>\\<^sub>\\<circ>B. A \\<union>\\<^sub>\\<circ> C) = A \\<union>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ>B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ>\n     (VLambda B ((\\<union>\\<^sub>\\<circ>) A) `\\<^sub>\\<circ> B) =\n    A \\<union>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ> B", "using assms"], ["proof (prove)\nusing this:\n  B \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<Inter>\\<^sub>\\<circ>\n     (VLambda B ((\\<union>\\<^sub>\\<circ>) A) `\\<^sub>\\<circ> B) =\n    A \\<union>\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ> B", "by \n    (\n      (intro vsubset_antisym vsubsetI); \n      (intro vifintersectionI | tactic\\<open>all_tac\\<close>)\n    ) \n    blast+"], ["", "lemma vifunion_vintersection_single: \"B \\<inter>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B \\<inter>\\<^sub>\\<circ> f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<inter>\\<^sub>\\<circ>\n    \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I) =\n    \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n          B \\<inter>\\<^sub>\\<circ> f a) `\\<^sub>\\<circ>\n      I)", "by (force simp: vrange_VLambda vimage_VLambda_vrange_rep)"], ["", "lemma vifunion_vifunion_flip: \n  \"(\\<Union>\\<^sub>\\<circ>b\\<in>\\<^sub>\\<circ>B. \\<Union>\\<^sub>\\<circ>a\\<in>\\<^sub>\\<circ>A. f b a) = (\\<Union>\\<^sub>\\<circ>a\\<in>\\<^sub>\\<circ>A. \\<Union>\\<^sub>\\<circ>b\\<in>\\<^sub>\\<circ>B. f b a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>B.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda A (f a) `\\<^sub>\\<circ> A)) `\\<^sub>\\<circ>\n      B) =\n    \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n          \\<Union>\\<^sub>\\<circ>\n           ((\\<lambda>aa\\<in>\\<^sub>\\<circ>B. f aa a) `\\<^sub>\\<circ>\n            B)) `\\<^sub>\\<circ>\n      A)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>B.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda A (f a) `\\<^sub>\\<circ> A)) `\\<^sub>\\<circ>\n      B) =\n    \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n          \\<Union>\\<^sub>\\<circ>\n           ((\\<lambda>aa\\<in>\\<^sub>\\<circ>B. f aa a) `\\<^sub>\\<circ>\n            B)) `\\<^sub>\\<circ>\n      A)", "have \"x \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>a\\<in>\\<^sub>\\<circ>A. \\<Union>\\<^sub>\\<circ>b\\<in>\\<^sub>\\<circ>B. f b a)\" if \"x \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>b\\<in>\\<^sub>\\<circ>B. \\<Union>\\<^sub>\\<circ>a\\<in>\\<^sub>\\<circ>A. f b a)\" \n    for x f A B"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                           ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n                                \\<Union>\\<^sub>\\<circ>\n                                 ((\\<lambda>aa\\<in>\\<^sub>\\<circ>B.\nf aa a) `\\<^sub>\\<circ>\n                                  B)) `\\<^sub>\\<circ>\n                            A)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                           ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n                                \\<Union>\\<^sub>\\<circ>\n                                 ((\\<lambda>aa\\<in>\\<^sub>\\<circ>B.\nf aa a) `\\<^sub>\\<circ>\n                                  B)) `\\<^sub>\\<circ>\n                            A)", "from that"], ["proof (chain)\npicking this:\n  x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         ((\\<lambda>a\\<in>\\<^sub>\\<circ>B.\n                              \\<Union>\\<^sub>\\<circ>\n                               (VLambda A (f a) `\\<^sub>\\<circ>\n                                A)) `\\<^sub>\\<circ>\n                          B)", "obtain b where b: \"b \\<in>\\<^sub>\\<circ> B\" and x_b: \"x \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>a\\<in>\\<^sub>\\<circ>A. f b a)\""], ["proof (prove)\nusing this:\n  x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         ((\\<lambda>a\\<in>\\<^sub>\\<circ>B.\n                              \\<Union>\\<^sub>\\<circ>\n                               (VLambda A (f a) `\\<^sub>\\<circ>\n                                A)) `\\<^sub>\\<circ>\n                          B)\n\ngoal (1 subgoal):\n 1. (\\<And>b.\n        \\<lbrakk>b \\<in>\\<^sub>\\<circ> B;\n         x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                (VLambda A (f b) `\\<^sub>\\<circ> A)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  b \\<in>\\<^sub>\\<circ> B\n  x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda A (f b) `\\<^sub>\\<circ> A)\n\ngoal (1 subgoal):\n 1. x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                           ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n                                \\<Union>\\<^sub>\\<circ>\n                                 ((\\<lambda>aa\\<in>\\<^sub>\\<circ>B.\nf aa a) `\\<^sub>\\<circ>\n                                  B)) `\\<^sub>\\<circ>\n                            A)", "then"], ["proof (chain)\npicking this:\n  b \\<in>\\<^sub>\\<circ> B\n  x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda A (f b) `\\<^sub>\\<circ> A)", "obtain a where a: \"a \\<in>\\<^sub>\\<circ> A\" and x_fba: \"x \\<in>\\<^sub>\\<circ> f b a\""], ["proof (prove)\nusing this:\n  b \\<in>\\<^sub>\\<circ> B\n  x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda A (f b) `\\<^sub>\\<circ> A)\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in>\\<^sub>\\<circ> A;\n         x \\<in>\\<^sub>\\<circ> f b a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  a \\<in>\\<^sub>\\<circ> A\n  x \\<in>\\<^sub>\\<circ> f b a\n\ngoal (1 subgoal):\n 1. x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                           ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n                                \\<Union>\\<^sub>\\<circ>\n                                 ((\\<lambda>aa\\<in>\\<^sub>\\<circ>B.\nf aa a) `\\<^sub>\\<circ>\n                                  B)) `\\<^sub>\\<circ>\n                            A)", "show \"x \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>a\\<in>\\<^sub>\\<circ>A. \\<Union>\\<^sub>\\<circ>b\\<in>\\<^sub>\\<circ>B. f b a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                           ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n                                \\<Union>\\<^sub>\\<circ>\n                                 ((\\<lambda>aa\\<in>\\<^sub>\\<circ>B.\nf aa a) `\\<^sub>\\<circ>\n                                  B)) `\\<^sub>\\<circ>\n                            A)", "unfolding vifunion_iff"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i\\<in>elts A.\n       \\<exists>ia\\<in>elts B. x \\<in>\\<^sub>\\<circ> f ia i", "by (auto intro: a b x_fba)"], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n                              \\<Union>\\<^sub>\\<circ>\n                               ((\\<lambda>aa\\<in>\\<^sub>\\<circ>B.\n                                    f aa a) `\\<^sub>\\<circ>\n                                B)) `\\<^sub>\\<circ>\n                          A)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                          ((\\<lambda>a\\<in>\\<^sub>\\<circ>?B.\n                               \\<Union>\\<^sub>\\<circ>\n                                (VLambda ?A (?f a) `\\<^sub>\\<circ>\n                                 ?A)) `\\<^sub>\\<circ>\n                           ?B) \\<Longrightarrow>\n  ?x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                          ((\\<lambda>a\\<in>\\<^sub>\\<circ>?A.\n                               \\<Union>\\<^sub>\\<circ>\n                                ((\\<lambda>aa\\<in>\\<^sub>\\<circ>?B.\n                                     ?f aa a) `\\<^sub>\\<circ>\n                                 ?B)) `\\<^sub>\\<circ>\n                           ?A)\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>B.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda A (f a) `\\<^sub>\\<circ> A)) `\\<^sub>\\<circ>\n      B) =\n    \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n          \\<Union>\\<^sub>\\<circ>\n           ((\\<lambda>aa\\<in>\\<^sub>\\<circ>B. f aa a) `\\<^sub>\\<circ>\n            B)) `\\<^sub>\\<circ>\n      A)", "then"], ["proof (chain)\npicking this:\n  ?x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                          ((\\<lambda>a\\<in>\\<^sub>\\<circ>?B.\n                               \\<Union>\\<^sub>\\<circ>\n                                (VLambda ?A (?f a) `\\<^sub>\\<circ>\n                                 ?A)) `\\<^sub>\\<circ>\n                           ?B) \\<Longrightarrow>\n  ?x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                          ((\\<lambda>a\\<in>\\<^sub>\\<circ>?A.\n                               \\<Union>\\<^sub>\\<circ>\n                                ((\\<lambda>aa\\<in>\\<^sub>\\<circ>?B.\n                                     ?f aa a) `\\<^sub>\\<circ>\n                                 ?B)) `\\<^sub>\\<circ>\n                           ?A)", "show ?thesis"], ["proof (prove)\nusing this:\n  ?x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                          ((\\<lambda>a\\<in>\\<^sub>\\<circ>?B.\n                               \\<Union>\\<^sub>\\<circ>\n                                (VLambda ?A (?f a) `\\<^sub>\\<circ>\n                                 ?A)) `\\<^sub>\\<circ>\n                           ?B) \\<Longrightarrow>\n  ?x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                          ((\\<lambda>a\\<in>\\<^sub>\\<circ>?A.\n                               \\<Union>\\<^sub>\\<circ>\n                                ((\\<lambda>aa\\<in>\\<^sub>\\<circ>?B.\n                                     ?f aa a) `\\<^sub>\\<circ>\n                                 ?B)) `\\<^sub>\\<circ>\n                           ?A)\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>B.\n          \\<Union>\\<^sub>\\<circ>\n           (VLambda A (f a) `\\<^sub>\\<circ> A)) `\\<^sub>\\<circ>\n      B) =\n    \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n          \\<Union>\\<^sub>\\<circ>\n           ((\\<lambda>aa\\<in>\\<^sub>\\<circ>B. f aa a) `\\<^sub>\\<circ>\n            B)) `\\<^sub>\\<circ>\n      A)", "by (intro vsubset_antisym vsubsetI) auto"], ["proof (state)\nthis:\n  \\<Union>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>B.\n        \\<Union>\\<^sub>\\<circ>\n         (VLambda A (f a) `\\<^sub>\\<circ> A)) `\\<^sub>\\<circ>\n    B) =\n  \\<Union>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n        \\<Union>\\<^sub>\\<circ>\n         ((\\<lambda>aa\\<in>\\<^sub>\\<circ>B. f aa a) `\\<^sub>\\<circ>\n          B)) `\\<^sub>\\<circ>\n    A)\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Connections.\\<close>"], ["", "lemma vifunion_disjoint: \"(\\<Union>\\<^sub>\\<circ>C \\<inter>\\<^sub>\\<circ> A = 0) \\<longleftrightarrow> (\\<forall>B\\<in>\\<^sub>\\<circ>C. vdisjnt B A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vdisjnt (\\<Union>\\<^sub>\\<circ> C) A =\n    (\\<forall>B\\<in>elts C. vdisjnt B A)", "by (intro iffI)\n    (auto intro!: vsubset_antisym simp: Sup_upper vdisjnt_vsubset_left)"], ["", "lemma vdisjnt_vifunion_iff: \n  \"vdisjnt A (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<longleftrightarrow> (\\<forall>i\\<in>\\<^sub>\\<circ>I. vdisjnt A (f i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vdisjnt A (\\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I)) =\n    (\\<forall>i\\<in>elts I. vdisjnt A (f i))", "by (force intro!: vsubset_antisym simp: vdisjnt_iff)+"], ["", "lemma vifunion_VLambda: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>A. set {\\<langle>i, f i\\<rangle>}) = (\\<lambda>a\\<in>\\<^sub>\\<circ>A. f a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n          set {\\<langle>a, f a\\<rangle>}) `\\<^sub>\\<circ>\n      A) =\n    VLambda A f", "using vifunionI"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i \\<in>\\<^sub>\\<circ> ?I; ?a \\<in>\\<^sub>\\<circ> ?f ?i\\<rbrakk>\n  \\<Longrightarrow> ?a \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n      (VLambda ?I ?f `\\<^sub>\\<circ> ?I)\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n          set {\\<langle>a, f a\\<rangle>}) `\\<^sub>\\<circ>\n      A) =\n    VLambda A f", "by (intro vsubset_antisym vsubsetI) auto"], ["", "lemma vifunion_vrange_VLambda: \"(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = \\<Union>\\<^sub>\\<circ>(\\<R>\\<^sub>\\<circ> (\\<lambda>a\\<in>\\<^sub>\\<circ>I. f a))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I) =\n    \\<Union>\\<^sub>\\<circ> (\\<R>\\<^sub>\\<circ> (VLambda I f))", "using vimage_VLambda_vrange_rep"], ["proof (prove)\nusing this:\n  VLambda ?A ?f `\\<^sub>\\<circ> ?A = \\<R>\\<^sub>\\<circ> (VLambda ?A ?f)\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ> (VLambda I f `\\<^sub>\\<circ> I) =\n    \\<Union>\\<^sub>\\<circ> (\\<R>\\<^sub>\\<circ> (VLambda I f))", "by auto"], ["", "lemma (in vsv) vsv_vrange_vsubset_vifunion_app:\n  assumes \"\\<D>\\<^sub>\\<circ> r = I\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> r\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\" \n  shows \"\\<R>\\<^sub>\\<circ> r \\<subseteq>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> r\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               (VLambda I A `\\<^sub>\\<circ> I)", "proof(intro vsubsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> r \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> r \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "assume \"x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> r\""], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> r\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> r \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "with assms(1)"], ["proof (chain)\npicking this:\n  \\<D>\\<^sub>\\<circ> r = I\n  x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> r", "obtain i where x_def: \"x = r\\<lparr>i\\<rparr>\" and i: \"i \\<in>\\<^sub>\\<circ> I\""], ["proof (prove)\nusing this:\n  \\<D>\\<^sub>\\<circ> r = I\n  x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> r\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>x = r\\<lparr>i\\<rparr>; i \\<in>\\<^sub>\\<circ> I\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis vrange_atE)"], ["proof (state)\nthis:\n  x = r\\<lparr>i\\<rparr>\n  i \\<in>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> r \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "from i assms(2)[rule_format, OF i]"], ["proof (chain)\npicking this:\n  i \\<in>\\<^sub>\\<circ> I\n  r\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "show \"x \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n  r\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n\ngoal (1 subgoal):\n 1. x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                           (VLambda I A `\\<^sub>\\<circ> I)", "unfolding x_def"], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n  r\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n\ngoal (1 subgoal):\n 1. r\\<lparr>i\\<rparr>\n    \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda I A `\\<^sub>\\<circ> I)", "by (intro vifunionI) auto"], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda I A `\\<^sub>\\<circ> I)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma v11_vlrestriction_vifintersection: \n  assumes \"I \\<noteq> 0\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> v11 (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> (A i))\" \n  shows \"v11 (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v11 (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n         \\<Inter>\\<^sub>\\<circ> (VLambda I A `\\<^sub>\\<circ> I))", "proof(intro v11I)"], ["proof (state)\ngoal (2 subgoals):\n 1. vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n         \\<Inter>\\<^sub>\\<circ> (VLambda I A `\\<^sub>\\<circ> I))\n 2. vsv ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n          \\<Inter>\\<^sub>\\<circ>\n           (VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>)", "show \"vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ> ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. A a) `\\<^sub>\\<circ> I))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n         \\<Inter>\\<^sub>\\<circ> (VLambda I A `\\<^sub>\\<circ> I))", "(*slow*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n         \\<Inter>\\<^sub>\\<circ> (VLambda I A `\\<^sub>\\<circ> I))", "apply(subgoal_tac \\<open>\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> (A i))\\<close>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<And>i.\n        i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n        vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> A i)) \\<Longrightarrow>\n    vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n         \\<Inter>\\<^sub>\\<circ> (VLambda I A `\\<^sub>\\<circ> I))\n 2. \\<And>i.\n       i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n       vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> A i)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n        vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> A i)) \\<Longrightarrow>\n    vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n         \\<Inter>\\<^sub>\\<circ> (VLambda I A `\\<^sub>\\<circ> I))", "by (insert assms(1), intro vsvI) (blast intro!: vsubset_antisym)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n       vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> A i)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. i_ \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n    vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> A i_)", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> 0\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  v11 (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> A ?i)\n\ngoal (1 subgoal):\n 1. i_ \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n    vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> A i_)", "by blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  vsv (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n       \\<Inter>\\<^sub>\\<circ> (VLambda I A `\\<^sub>\\<circ> I))\n\ngoal (1 subgoal):\n 1. vsv ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n          \\<Inter>\\<^sub>\\<circ>\n           (VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>)", "show \"vsv ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ> ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. A a) `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n          \\<Inter>\\<^sub>\\<circ>\n           (VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>)", "proof(intro vsvI)"], ["proof (state)\ngoal (2 subgoals):\n 1. vbrelation\n     ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n       \\<Inter>\\<^sub>\\<circ>\n        (VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>)\n 2. \\<And>a b c.\n       \\<lbrakk>\\<langle>a, b\\<rangle>\n                \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                                     \\<Inter>\\<^sub>\\<circ>\n(VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>;\n        \\<langle>a, c\\<rangle>\n        \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                             \\<Inter>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ>\n                               I))\\<inverse>\\<^sub>\\<circ>\\<rbrakk>\n       \\<Longrightarrow> b = c", "fix a b c"], ["proof (state)\ngoal (2 subgoals):\n 1. vbrelation\n     ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n       \\<Inter>\\<^sub>\\<circ>\n        (VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>)\n 2. \\<And>a b c.\n       \\<lbrakk>\\<langle>a, b\\<rangle>\n                \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                                     \\<Inter>\\<^sub>\\<circ>\n(VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>;\n        \\<langle>a, c\\<rangle>\n        \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                             \\<Inter>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ>\n                               I))\\<inverse>\\<^sub>\\<circ>\\<rbrakk>\n       \\<Longrightarrow> b = c", "assume ab: \"\\<langle>a, b\\<rangle> \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ> ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. A a) `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>\"\n      and ac: \"\\<langle>a, c\\<rangle> \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> \\<Inter>\\<^sub>\\<circ> ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. A a) `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>\""], ["proof (state)\nthis:\n  \\<langle>a, b\\<rangle>\n  \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                       \\<Inter>\\<^sub>\\<circ>\n                        (VLambda I A `\\<^sub>\\<circ>\n                         I))\\<inverse>\\<^sub>\\<circ>\n  \\<langle>a, c\\<rangle>\n  \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                       \\<Inter>\\<^sub>\\<circ>\n                        (VLambda I A `\\<^sub>\\<circ>\n                         I))\\<inverse>\\<^sub>\\<circ>\n\ngoal (2 subgoals):\n 1. vbrelation\n     ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n       \\<Inter>\\<^sub>\\<circ>\n        (VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>)\n 2. \\<And>a b c.\n       \\<lbrakk>\\<langle>a, b\\<rangle>\n                \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                                     \\<Inter>\\<^sub>\\<circ>\n(VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>;\n        \\<langle>a, c\\<rangle>\n        \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                             \\<Inter>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ>\n                               I))\\<inverse>\\<^sub>\\<circ>\\<rbrakk>\n       \\<Longrightarrow> b = c", "from assms(2)"], ["proof (chain)\npicking this:\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  v11 (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> A ?i)", "have hyp: \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> vsv ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ> (A i))\\<inverse>\\<^sub>\\<circ>)\""], ["proof (prove)\nusing this:\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  v11 (f \\<restriction>\\<^sup>l\\<^sub>\\<circ> A ?i)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n       vsv ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n             A i)\\<inverse>\\<^sub>\\<circ>)", "by blast"], ["proof (state)\nthis:\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  vsv ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n        A ?i)\\<inverse>\\<^sub>\\<circ>)\n\ngoal (2 subgoals):\n 1. vbrelation\n     ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n       \\<Inter>\\<^sub>\\<circ>\n        (VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>)\n 2. \\<And>a b c.\n       \\<lbrakk>\\<langle>a, b\\<rangle>\n                \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                                     \\<Inter>\\<^sub>\\<circ>\n(VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>;\n        \\<langle>a, c\\<rangle>\n        \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                             \\<Inter>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ>\n                               I))\\<inverse>\\<^sub>\\<circ>\\<rbrakk>\n       \\<Longrightarrow> b = c", "from assms(1)"], ["proof (chain)\npicking this:\n  I \\<noteq> 0", "obtain i where \"i \\<in>\\<^sub>\\<circ> I\" and \"\\<Inter>\\<^sub>\\<circ> ((\\<lambda>a\\<in>\\<^sub>\\<circ>I. A a) `\\<^sub>\\<circ> I) \\<subseteq>\\<^sub>\\<circ> A i\""], ["proof (prove)\nusing this:\n  I \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i \\<in>\\<^sub>\\<circ> I;\n         \\<Inter>\\<^sub>\\<circ> (VLambda I A `\\<^sub>\\<circ> I)\n         \\<subseteq>\\<^sub>\\<circ> A i\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto intro!: vsubset_antisym)"], ["proof (state)\nthis:\n  i \\<in>\\<^sub>\\<circ> I\n  \\<Inter>\\<^sub>\\<circ> (VLambda I A `\\<^sub>\\<circ> I)\n  \\<subseteq>\\<^sub>\\<circ> A i\n\ngoal (2 subgoals):\n 1. vbrelation\n     ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n       \\<Inter>\\<^sub>\\<circ>\n        (VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>)\n 2. \\<And>a b c.\n       \\<lbrakk>\\<langle>a, b\\<rangle>\n                \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                                     \\<Inter>\\<^sub>\\<circ>\n(VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>;\n        \\<langle>a, c\\<rangle>\n        \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                             \\<Inter>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ>\n                               I))\\<inverse>\\<^sub>\\<circ>\\<rbrakk>\n       \\<Longrightarrow> b = c", "with ab ac hyp \\<open>i \\<in>\\<^sub>\\<circ> I\\<close>"], ["proof (chain)\npicking this:\n  \\<langle>a, b\\<rangle>\n  \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                       \\<Inter>\\<^sub>\\<circ>\n                        (VLambda I A `\\<^sub>\\<circ>\n                         I))\\<inverse>\\<^sub>\\<circ>\n  \\<langle>a, c\\<rangle>\n  \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                       \\<Inter>\\<^sub>\\<circ>\n                        (VLambda I A `\\<^sub>\\<circ>\n                         I))\\<inverse>\\<^sub>\\<circ>\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  vsv ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n        A ?i)\\<inverse>\\<^sub>\\<circ>)\n  i \\<in>\\<^sub>\\<circ> I\n  i \\<in>\\<^sub>\\<circ> I\n  \\<Inter>\\<^sub>\\<circ> (VLambda I A `\\<^sub>\\<circ> I)\n  \\<subseteq>\\<^sub>\\<circ> A i", "show \"b = c\""], ["proof (prove)\nusing this:\n  \\<langle>a, b\\<rangle>\n  \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                       \\<Inter>\\<^sub>\\<circ>\n                        (VLambda I A `\\<^sub>\\<circ>\n                         I))\\<inverse>\\<^sub>\\<circ>\n  \\<langle>a, c\\<rangle>\n  \\<in>\\<^sub>\\<circ> (f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n                       \\<Inter>\\<^sub>\\<circ>\n                        (VLambda I A `\\<^sub>\\<circ>\n                         I))\\<inverse>\\<^sub>\\<circ>\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  vsv ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n        A ?i)\\<inverse>\\<^sub>\\<circ>)\n  i \\<in>\\<^sub>\\<circ> I\n  i \\<in>\\<^sub>\\<circ> I\n  \\<Inter>\\<^sub>\\<circ> (VLambda I A `\\<^sub>\\<circ> I)\n  \\<subseteq>\\<^sub>\\<circ> A i\n\ngoal (1 subgoal):\n 1. b = c", "by auto"], ["proof (state)\nthis:\n  b = c\n\ngoal (1 subgoal):\n 1. vbrelation\n     ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n       \\<Inter>\\<^sub>\\<circ>\n        (VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>)", "qed auto"], ["proof (state)\nthis:\n  vsv ((f \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n        \\<Inter>\\<^sub>\\<circ>\n         (VLambda I A `\\<^sub>\\<circ> I))\\<inverse>\\<^sub>\\<circ>)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>Additional simplification rules for indexed families of sets.\\<close>"], ["", "text\\<open>Union.\\<close>"], ["", "lemma vifunion_simps[simp]:\n  \"\\<And>a B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. vinsert a (B i)) = \n    (if I=0 then 0 else vinsert a (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i))\"\n  \"\\<And>A B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<union>\\<^sub>\\<circ> B) = ((if I=0 then 0 else (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<union>\\<^sub>\\<circ> B))\"\n  \"\\<And>A B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<union>\\<^sub>\\<circ> B i) = ((if I=0 then 0 else A \\<union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i)))\"\n  \"\\<And>A B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<inter>\\<^sub>\\<circ> B) = ((\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<inter>\\<^sub>\\<circ> B)\"\n  \"\\<And>A B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<inter>\\<^sub>\\<circ> B i) = (A \\<inter>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i))\"\n  \"\\<And>A B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i -\\<^sub>\\<circ> B) = ((\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) -\\<^sub>\\<circ> B)\"\n  \"\\<And>A B. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>\\<Union>\\<^sub>\\<circ>A. B i) = (\\<Union>\\<^sub>\\<circ>y\\<in>\\<^sub>\\<circ>A. \\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>y. B i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>a B I.\n         \\<Union>\\<^sub>\\<circ>\n          ((\\<lambda>aa\\<in>\\<^sub>\\<circ>I.\n               vinsert a (B aa)) `\\<^sub>\\<circ>\n           I) =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> vinsert a\n(\\<Union>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I)))) &&&\n     (\\<And>A B I.\n         \\<Union>\\<^sub>\\<circ>\n          ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n               A a \\<union>\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n           I) =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> \\<Union>\\<^sub>\\<circ>\n(VLambda I A `\\<^sub>\\<circ> I) \\<union>\\<^sub>\\<circ>\n                                     B)) &&&\n     (\\<And>A B I.\n         \\<Union>\\<^sub>\\<circ>\n          ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n               A \\<union>\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\n           I) =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> A \\<union>\\<^sub>\\<circ>\n                                     \\<Union>\\<^sub>\\<circ>\n(VLambda I B `\\<^sub>\\<circ> I)))) &&&\n    ((\\<And>A B I.\n         \\<Union>\\<^sub>\\<circ>\n          ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n               A a \\<inter>\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n           I) =\n         \\<Union>\\<^sub>\\<circ>\n          (VLambda I A `\\<^sub>\\<circ> I) \\<inter>\\<^sub>\\<circ>\n         B) &&&\n     (\\<And>A B I.\n         \\<Union>\\<^sub>\\<circ>\n          ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n               A \\<inter>\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\n           I) =\n         A \\<inter>\\<^sub>\\<circ>\n         \\<Union>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I))) &&&\n    (\\<And>A B I.\n        \\<Union>\\<^sub>\\<circ>\n         ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n              A a -\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n          I) =\n        \\<Union>\\<^sub>\\<circ>\n         (VLambda I A `\\<^sub>\\<circ> I) -\\<^sub>\\<circ>\n        B) &&&\n    (\\<And>A B.\n        \\<Union>\\<^sub>\\<circ>\n         (VLambda (\\<Union>\\<^sub>\\<circ> A) B `\\<^sub>\\<circ>\n          \\<Union>\\<^sub>\\<circ> A) =\n        \\<Union>\\<^sub>\\<circ>\n         ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n              \\<Union>\\<^sub>\\<circ>\n               (VLambda a B `\\<^sub>\\<circ> a)) `\\<^sub>\\<circ>\n          A))", "by \n    (\n      force \n        simp: vrange_VLambda vimage_VLambda_vrange_rep\n        intro!: vsubset_antisym\n    )+"], ["", "lemma vifunion_simps_ext:\n  \"\\<And>a B I. vinsert a (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = \n    (if I=0 then set {a} else (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. vinsert a (B i)))\"\n  \"\\<And>A B I. (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<union>\\<^sub>\\<circ> B = (if I=0 then B else (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<union>\\<^sub>\\<circ> B))\"\n  \"\\<And>A B I. A \\<union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = (if I=0 then A else (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<union>\\<^sub>\\<circ> B i))\"\n  \"\\<And>A B I. ((\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<inter>\\<^sub>\\<circ> B) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<inter>\\<^sub>\\<circ> B)\"\n  \"\\<And>A B I. ((\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) -\\<^sub>\\<circ> B) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i -\\<^sub>\\<circ> B)\"\n  \"\\<And>A B. (\\<Union>\\<^sub>\\<circ>y\\<in>\\<^sub>\\<circ>A. \\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>y. B i) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>\\<Union>\\<^sub>\\<circ>A. B i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>a B I.\n         vinsert a\n          (\\<Union>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I)) =\n         (if I = 0 \\<Rightarrow> set {a} \n           | otherwise \\<Rightarrow> \\<Union>\\<^sub>\\<circ>\n((\\<lambda>aa\\<in>\\<^sub>\\<circ>I. vinsert a (B aa)) `\\<^sub>\\<circ>\n I))) &&&\n     (\\<And>A B I.\n         \\<Union>\\<^sub>\\<circ>\n          (VLambda I A `\\<^sub>\\<circ> I) \\<union>\\<^sub>\\<circ>\n         B =\n         (if I = 0 \\<Rightarrow> B \n           | otherwise \\<Rightarrow> \\<Union>\\<^sub>\\<circ>\n((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n     A a \\<union>\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n I))) &&&\n     (\\<And>A B I.\n         A \\<union>\\<^sub>\\<circ>\n         \\<Union>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I) =\n         (if I = 0 \\<Rightarrow> A \n           | otherwise \\<Rightarrow> \\<Union>\\<^sub>\\<circ>\n((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n     A \\<union>\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\n I)))) &&&\n    (\\<And>A B I.\n        \\<Union>\\<^sub>\\<circ>\n         (VLambda I A `\\<^sub>\\<circ> I) \\<inter>\\<^sub>\\<circ>\n        B =\n        \\<Union>\\<^sub>\\<circ>\n         ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n              A a \\<inter>\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n          I)) &&&\n    (\\<And>A B I.\n        \\<Union>\\<^sub>\\<circ>\n         (VLambda I A `\\<^sub>\\<circ> I) -\\<^sub>\\<circ>\n        B =\n        \\<Union>\\<^sub>\\<circ>\n         ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n              A a -\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n          I)) &&&\n    (\\<And>A B.\n        \\<Union>\\<^sub>\\<circ>\n         ((\\<lambda>a\\<in>\\<^sub>\\<circ>A.\n              \\<Union>\\<^sub>\\<circ>\n               (VLambda a B `\\<^sub>\\<circ> a)) `\\<^sub>\\<circ>\n          A) =\n        \\<Union>\\<^sub>\\<circ>\n         (VLambda (\\<Union>\\<^sub>\\<circ> A) B `\\<^sub>\\<circ>\n          \\<Union>\\<^sub>\\<circ> A))", "by (auto simp: vrange_VLambda)"], ["", "lemma vifunion_vball_vbex_simps[simp]:\n  \"\\<And>A P. (\\<forall>a\\<in>\\<^sub>\\<circ>\\<Union>\\<^sub>\\<circ>A. P a) \\<longleftrightarrow> (\\<forall>y\\<in>\\<^sub>\\<circ>A. \\<forall>a\\<in>\\<^sub>\\<circ>y. P a)\"\n  \"\\<And>A P. (\\<exists>a\\<in>\\<^sub>\\<circ>\\<Union>\\<^sub>\\<circ>A. P a) \\<longleftrightarrow> (\\<exists>y\\<in>\\<^sub>\\<circ>A. \\<exists>a\\<in>\\<^sub>\\<circ>y. P a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A P.\n        (\\<forall>a\\<in>elts (\\<Union>\\<^sub>\\<circ> A). P a) =\n        (\\<forall>y\\<in>elts A. \\<forall>a\\<in>elts y. P a)) &&&\n    (\\<And>A P.\n        (\\<exists>a\\<in>elts (\\<Union>\\<^sub>\\<circ> A). P a) =\n        (\\<exists>y\\<in>elts A. \\<exists>a\\<in>elts y. P a))", "using vball_vifunion vbex_vifunion"], ["proof (prove)\nusing this:\n  (\\<forall>z\\<in>elts\n                   (\\<Union>\\<^sub>\\<circ>\n                     (VLambda ?I ?f `\\<^sub>\\<circ> ?I)).\n      ?P z) =\n  (\\<forall>x\\<in>elts ?I. \\<forall>z\\<in>elts (?f x). ?P z)\n  (\\<exists>z\\<in>elts\n                   (\\<Union>\\<^sub>\\<circ>\n                     (VLambda ?I ?f `\\<^sub>\\<circ> ?I)).\n      ?P z) =\n  (\\<exists>x\\<in>elts ?I. \\<exists>z\\<in>elts (?f x). ?P z)\n\ngoal (1 subgoal):\n 1. (\\<And>A P.\n        (\\<forall>a\\<in>elts (\\<Union>\\<^sub>\\<circ> A). P a) =\n        (\\<forall>y\\<in>elts A. \\<forall>a\\<in>elts y. P a)) &&&\n    (\\<And>A P.\n        (\\<exists>a\\<in>elts (\\<Union>\\<^sub>\\<circ> A). P a) =\n        (\\<exists>y\\<in>elts A. \\<exists>a\\<in>elts y. P a))", "by auto"], ["", "text\\<open>Intersection.\\<close>"], ["", "lemma vifintersection_simps[simp]: \n  \"\\<And>I A B. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<inter>\\<^sub>\\<circ> B) = (if I = 0 then 0 else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<inter>\\<^sub>\\<circ> B)\"\n  \"\\<And>I A B. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<inter>\\<^sub>\\<circ> B i) = (if I = 0 then 0 else A \\<inter>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i))\"\n  \"\\<And>I A B. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i -\\<^sub>\\<circ> B) = (if I = 0 then 0 else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) -\\<^sub>\\<circ> B)\"\n  \"\\<And>I A B. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A -\\<^sub>\\<circ> B i) = (if I = 0 then 0 else A -\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i))\"\n  \"\\<And>I a B. \n    (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. vinsert a (B i)) = (if I = 0 then 0 else vinsert a (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i))\"\n  \"\\<And>I A B. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<union>\\<^sub>\\<circ> B) = (if I = 0 then 0 else ((\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<union>\\<^sub>\\<circ> B))\"\n  \"\\<And>I A B. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<union>\\<^sub>\\<circ> B i) = (if I = 0 then 0 else (A \\<union>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>I A B.\n         \\<Inter>\\<^sub>\\<circ>\n          ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n               A a \\<inter>\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n           I) =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n(VLambda I A `\\<^sub>\\<circ> I) \\<inter>\\<^sub>\\<circ>\n                                     B)) &&&\n     (\\<And>I A B.\n         \\<Inter>\\<^sub>\\<circ>\n          ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n               A \\<inter>\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\n           I) =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> A \\<inter>\\<^sub>\\<circ>\n                                     \\<Inter>\\<^sub>\\<circ>\n(VLambda I B `\\<^sub>\\<circ> I))) &&&\n     (\\<And>I A B.\n         \\<Inter>\\<^sub>\\<circ>\n          ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n               A a -\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n           I) =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n(VLambda I A `\\<^sub>\\<circ> I) -\\<^sub>\\<circ>\n                                     B))) &&&\n    ((\\<And>I A B.\n         \\<Inter>\\<^sub>\\<circ>\n          ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n               A -\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\n           I) =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> A -\\<^sub>\\<circ>\n                                     \\<Union>\\<^sub>\\<circ>\n(VLambda I B `\\<^sub>\\<circ> I))) &&&\n     (\\<And>I a B.\n         \\<Inter>\\<^sub>\\<circ>\n          ((\\<lambda>aa\\<in>\\<^sub>\\<circ>I.\n               vinsert a (B aa)) `\\<^sub>\\<circ>\n           I) =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> vinsert a\n(\\<Inter>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I))))) &&&\n    (\\<And>I A B.\n        \\<Inter>\\<^sub>\\<circ>\n         ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n              A a \\<union>\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n          I) =\n        (if I = 0 \\<Rightarrow> 0 \n          | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n                                     (VLambda I A `\\<^sub>\\<circ>\nI) \\<union>\\<^sub>\\<circ>\n                                    B)) &&&\n    (\\<And>I A B.\n        \\<Inter>\\<^sub>\\<circ>\n         ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n              A \\<union>\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\n          I) =\n        (if I = 0 \\<Rightarrow> 0 \n          | otherwise \\<Rightarrow> A \\<union>\\<^sub>\\<circ>\n                                    \\<Inter>\\<^sub>\\<circ>\n                                     (VLambda I B `\\<^sub>\\<circ> I)))", "by force+"], ["", "lemma vifintersection_simps_ext:\n  \"\\<And>A B I. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<inter>\\<^sub>\\<circ> B = (if I = 0 then 0 else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<inter>\\<^sub>\\<circ> B))\"\n  \"\\<And>A B I. A \\<inter>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = (if I = 0 then 0 else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<inter>\\<^sub>\\<circ> B i))\"\n  \"\\<And>A B I. (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) -\\<^sub>\\<circ> B = (if I = 0 then 0 else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i -\\<^sub>\\<circ> B))\"\n  \"\\<And>A B I. A -\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = (if I = 0 then A else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A -\\<^sub>\\<circ> B i))\"\n  \"\\<And>a B I. vinsert a (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = \n    (if I = 0 then set {a} else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. vinsert a (B i)))\"\n  \"\\<And>A B I. ((\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<union>\\<^sub>\\<circ> B) = (if I = 0 then B else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i \\<union>\\<^sub>\\<circ> B))\"\n  \"\\<And>A B I. A \\<union>\\<^sub>\\<circ> (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. B i) = (if I = 0 then A else (\\<Inter>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A \\<union>\\<^sub>\\<circ> B i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>A B I.\n         \\<Inter>\\<^sub>\\<circ>\n          (VLambda I A `\\<^sub>\\<circ> I) \\<inter>\\<^sub>\\<circ>\n         B =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n     A a \\<inter>\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n I))) &&&\n     (\\<And>A B I.\n         A \\<inter>\\<^sub>\\<circ>\n         \\<Inter>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I) =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n     A \\<inter>\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\n I))) &&&\n     (\\<And>A B I.\n         \\<Inter>\\<^sub>\\<circ>\n          (VLambda I A `\\<^sub>\\<circ> I) -\\<^sub>\\<circ>\n         B =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n((\\<lambda>a\\<in>\\<^sub>\\<circ>I. A a -\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n I)))) &&&\n    ((\\<And>A B I.\n         A -\\<^sub>\\<circ>\n         \\<Union>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I) =\n         (if I = 0 \\<Rightarrow> A \n           | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n((\\<lambda>a\\<in>\\<^sub>\\<circ>I. A -\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\n I))) &&&\n     (\\<And>a B I.\n         vinsert a\n          (\\<Inter>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I)) =\n         (if I = 0 \\<Rightarrow> set {a} \n           | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n((\\<lambda>aa\\<in>\\<^sub>\\<circ>I. vinsert a (B aa)) `\\<^sub>\\<circ>\n I)))) &&&\n    (\\<And>A B I.\n        \\<Inter>\\<^sub>\\<circ>\n         (VLambda I A `\\<^sub>\\<circ> I) \\<union>\\<^sub>\\<circ>\n        B =\n        (if I = 0 \\<Rightarrow> B \n          | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n                                     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n    A a \\<union>\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\nI))) &&&\n    (\\<And>A B I.\n        A \\<union>\\<^sub>\\<circ>\n        \\<Inter>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I) =\n        (if I = 0 \\<Rightarrow> A \n          | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n                                     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n    A \\<union>\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\nI)))", "using vifintersection_simps"], ["proof (prove)\nusing this:\n  \\<Inter>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>?I.\n        ?A a \\<inter>\\<^sub>\\<circ> ?B) `\\<^sub>\\<circ>\n    ?I) =\n  (if ?I = 0 \\<Rightarrow> 0 \n    | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n                               (VLambda ?I ?A `\\<^sub>\\<circ>\n                                ?I) \\<inter>\\<^sub>\\<circ>\n                              ?B)\n  \\<Inter>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>?I.\n        ?A \\<inter>\\<^sub>\\<circ> ?B a) `\\<^sub>\\<circ>\n    ?I) =\n  (if ?I = 0 \\<Rightarrow> 0 \n    | otherwise \\<Rightarrow> ?A \\<inter>\\<^sub>\\<circ>\n                              \\<Inter>\\<^sub>\\<circ>\n                               (VLambda ?I ?B `\\<^sub>\\<circ> ?I))\n  \\<Inter>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>?I.\n        ?A a -\\<^sub>\\<circ> ?B) `\\<^sub>\\<circ>\n    ?I) =\n  (if ?I = 0 \\<Rightarrow> 0 \n    | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n                               (VLambda ?I ?A `\\<^sub>\\<circ>\n                                ?I) -\\<^sub>\\<circ>\n                              ?B)\n  \\<Inter>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>?I.\n        ?A -\\<^sub>\\<circ> ?B a) `\\<^sub>\\<circ>\n    ?I) =\n  (if ?I = 0 \\<Rightarrow> 0 \n    | otherwise \\<Rightarrow> ?A -\\<^sub>\\<circ>\n                              \\<Union>\\<^sub>\\<circ>\n                               (VLambda ?I ?B `\\<^sub>\\<circ> ?I))\n  \\<Inter>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>?I. vinsert ?a (?B a)) `\\<^sub>\\<circ>\n    ?I) =\n  (if ?I = 0 \\<Rightarrow> 0 \n    | otherwise \\<Rightarrow> vinsert ?a\n                               (\\<Inter>\\<^sub>\\<circ>\n                                 (VLambda ?I ?B `\\<^sub>\\<circ> ?I)))\n  \\<Inter>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>?I.\n        ?A a \\<union>\\<^sub>\\<circ> ?B) `\\<^sub>\\<circ>\n    ?I) =\n  (if ?I = 0 \\<Rightarrow> 0 \n    | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n                               (VLambda ?I ?A `\\<^sub>\\<circ>\n                                ?I) \\<union>\\<^sub>\\<circ>\n                              ?B)\n  \\<Inter>\\<^sub>\\<circ>\n   ((\\<lambda>a\\<in>\\<^sub>\\<circ>?I.\n        ?A \\<union>\\<^sub>\\<circ> ?B a) `\\<^sub>\\<circ>\n    ?I) =\n  (if ?I = 0 \\<Rightarrow> 0 \n    | otherwise \\<Rightarrow> ?A \\<union>\\<^sub>\\<circ>\n                              \\<Inter>\\<^sub>\\<circ>\n                               (VLambda ?I ?B `\\<^sub>\\<circ> ?I))\n\ngoal (1 subgoal):\n 1. ((\\<And>A B I.\n         \\<Inter>\\<^sub>\\<circ>\n          (VLambda I A `\\<^sub>\\<circ> I) \\<inter>\\<^sub>\\<circ>\n         B =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n     A a \\<inter>\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n I))) &&&\n     (\\<And>A B I.\n         A \\<inter>\\<^sub>\\<circ>\n         \\<Inter>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I) =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n     A \\<inter>\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\n I))) &&&\n     (\\<And>A B I.\n         \\<Inter>\\<^sub>\\<circ>\n          (VLambda I A `\\<^sub>\\<circ> I) -\\<^sub>\\<circ>\n         B =\n         (if I = 0 \\<Rightarrow> 0 \n           | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n((\\<lambda>a\\<in>\\<^sub>\\<circ>I. A a -\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\n I)))) &&&\n    ((\\<And>A B I.\n         A -\\<^sub>\\<circ>\n         \\<Union>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I) =\n         (if I = 0 \\<Rightarrow> A \n           | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n((\\<lambda>a\\<in>\\<^sub>\\<circ>I. A -\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\n I))) &&&\n     (\\<And>a B I.\n         vinsert a\n          (\\<Inter>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I)) =\n         (if I = 0 \\<Rightarrow> set {a} \n           | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n((\\<lambda>aa\\<in>\\<^sub>\\<circ>I. vinsert a (B aa)) `\\<^sub>\\<circ>\n I)))) &&&\n    (\\<And>A B I.\n        \\<Inter>\\<^sub>\\<circ>\n         (VLambda I A `\\<^sub>\\<circ> I) \\<union>\\<^sub>\\<circ>\n        B =\n        (if I = 0 \\<Rightarrow> B \n          | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n                                     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n    A a \\<union>\\<^sub>\\<circ> B) `\\<^sub>\\<circ>\nI))) &&&\n    (\\<And>A B I.\n        A \\<union>\\<^sub>\\<circ>\n        \\<Inter>\\<^sub>\\<circ> (VLambda I B `\\<^sub>\\<circ> I) =\n        (if I = 0 \\<Rightarrow> A \n          | otherwise \\<Rightarrow> \\<Inter>\\<^sub>\\<circ>\n                                     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n    A \\<union>\\<^sub>\\<circ> B a) `\\<^sub>\\<circ>\nI)))", "by auto"], ["", "subsection\\<open>Knowledge transfer: union and intersection of indexed families\\<close>"], ["", "lemma SUP_vifunion: \"(SUP \\<xi>\\<in>elts \\<alpha>. A \\<xi>) = (\\<Union>\\<^sub>\\<circ>\\<xi>\\<in>\\<^sub>\\<circ>\\<alpha>. A \\<xi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Squnion> (A ` elts \\<alpha>) =\n    \\<Union>\\<^sub>\\<circ> (VLambda \\<alpha> A `\\<^sub>\\<circ> \\<alpha>)", "by (simp add: vimage_VLambda_vrange_rep vrange_VLambda)"], ["", "lemma INF_vifintersection: \"(INF \\<xi>\\<in>elts \\<alpha>. A \\<xi>) = (\\<Inter>\\<^sub>\\<circ>\\<xi>\\<in>\\<^sub>\\<circ>\\<alpha>. A \\<xi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sqinter> (A ` elts \\<alpha>) =\n    \\<Inter>\\<^sub>\\<circ> (VLambda \\<alpha> A `\\<^sub>\\<circ> \\<alpha>)", "by (simp add: vimage_VLambda_vrange_rep vrange_VLambda)"], ["", "lemmas Ord_induct3'[consumes 1, case_names 0 succ Limit, induct type: V] =\n  Ord_induct3[unfolded SUP_vifunion]"], ["", "lemma Limit_vifunion_def[simp]:\n  assumes \"Limit \\<alpha>\"\n  shows \"(\\<Union>\\<^sub>\\<circ>\\<xi>\\<in>\\<^sub>\\<circ>\\<alpha>. \\<xi>) = \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>\\<alpha>. a) `\\<^sub>\\<circ> \\<alpha>) =\n    \\<alpha>", "using assms"], ["proof (prove)\nusing this:\n  Limit \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>\\<alpha>. a) `\\<^sub>\\<circ> \\<alpha>) =\n    \\<alpha>", "unfolding SUP_vifunion[symmetric]"], ["proof (prove)\nusing this:\n  Limit \\<alpha>\n\ngoal (1 subgoal):\n 1. (SUP a\\<in>elts \\<alpha>. a) = \\<alpha>", "by simp"], ["", "lemmas_with[unfolded SUP_vifunion INF_vifintersection]: \n  TC = ZFC_Cardinals.TC\n  and rank_Sup = ZFC_Cardinals.rank_Sup\n  and TC_def = ZFC_Cardinals.TC_def\n  and Ord_equality = ZFC_in_HOL.Ord_equality\n  and Aleph_Limit = ZFC_Cardinals.Aleph_Limit\n  and rank = ZFC_Cardinals.rank\n  and Vset = ZFC_in_HOL.Vset\n  and mult = Kirby.mult\n  and Aleph_def = ZFC_Cardinals.Aleph_def\n  and times_V_def = Kirby.times_V_def\n  and mult_Limit = Kirby.mult_Limit\n  and Vfrom = ZFC_in_HOL.Vfrom\n  and Vfrom_def = ZFC_in_HOL.Vfrom_def\n  and rank_def = ZFC_Cardinals.rank_def\n  and add_Limit = Kirby.add_Limit\n  and Limit_Vfrom_eq = ZFC_in_HOL.Limit_Vfrom_eq\n  and VSigma_def = ZFC_Cardinals.VSigma_def\n  and add_Sup_distrib_id = Kirby.add_Sup_distrib_id\n  and Limit_add_Sup_distrib = Kirby.Limit_add_Sup_distrib\n  and TC_mult = Kirby.TC_mult\n  and add_Sup_distrib = Kirby.add_Sup_distrib"], ["", "subsection\\<open>Disjoint union\\<close>"], ["", "text\\<open>\nFundamental properties have already been exposed in the main library\nof \\<open>ZFC in HOL\\<close>.\n\\<close>"], ["", "syntax \"_VPRODUCT\" :: \"pttrn \\<Rightarrow> V \\<Rightarrow> V \\<Rightarrow> V\" (\\<open>(3\\<Coprod>\\<^sub>\\<times>_\\<in>\\<^sub>\\<circ>_./ _)\\<close> [0, 0, 10] 10)"], ["", "translations \"\\<Coprod>\\<^sub>\\<times>i\\<in>\\<^sub>\\<circ>I. A\" \\<rightleftharpoons> \"CONST VSigma I (\\<lambda>i. A)\""], ["", "text\\<open>Further rules.\\<close>"], ["", "lemma vdunion_expE[elim!]:\n  assumes \"c \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. \\<Union>\\<^sub>\\<circ>x\\<in>\\<^sub>\\<circ>A i. set {\\<langle>i, x\\<rangle>})\"\n  obtains i a where \"i \\<in>\\<^sub>\\<circ> I\" and \"a \\<in>\\<^sub>\\<circ> A i\" and \"c = \\<langle>i, a\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i a.\n        \\<lbrakk>i \\<in>\\<^sub>\\<circ> I; a \\<in>\\<^sub>\\<circ> A i;\n         c = \\<langle>i, a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  c \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n                              \\<Union>\\<^sub>\\<circ>\n                               ((\\<lambda>aa\\<in>\\<^sub>\\<circ>A a.\n                                    set {\\<langle>a,\n            aa\\<rangle>}) `\\<^sub>\\<circ>\n                                A a)) `\\<^sub>\\<circ>\n                          I)\n\ngoal (1 subgoal):\n 1. (\\<And>i a.\n        \\<lbrakk>i \\<in>\\<^sub>\\<circ> I; a \\<in>\\<^sub>\\<circ> A i;\n         c = \\<langle>i, a\\<rangle>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (clarsimp simp: vrange_VLambda vimage_VLambda_vrange_rep)"], ["", "lemma vdunion_def: \"(\\<Coprod>\\<^sub>\\<times>i\\<in>\\<^sub>\\<circ>I. A i) = (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. \\<Union>\\<^sub>\\<circ>x\\<in>\\<^sub>\\<circ>A i. set {\\<langle>i, x\\<rangle>})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. VSigma I A =\n    \\<Union>\\<^sub>\\<circ>\n     ((\\<lambda>a\\<in>\\<^sub>\\<circ>I.\n          \\<Union>\\<^sub>\\<circ>\n           ((\\<lambda>aa\\<in>\\<^sub>\\<circ>A a.\n                set {\\<langle>a, aa\\<rangle>}) `\\<^sub>\\<circ>\n            A a)) `\\<^sub>\\<circ>\n      I)", "by (auto simp: vrange_VLambda vimage_VLambda_vrange_rep)"], ["", "text\\<open>Set operations.\\<close>"], ["", "lemma vdunion_vsingleton: \"(\\<Coprod>\\<^sub>\\<times>i\\<in>\\<^sub>\\<circ>set{c}. A i) = set {c} \\<times>\\<^sub>\\<circ> A c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. VSigma (set {c}) A = set {c} \\<times>\\<^sub>\\<circ> A c", "by auto"], ["", "lemma vdunion_vdoubleton: \n  \"(\\<Coprod>\\<^sub>\\<times>i\\<in>\\<^sub>\\<circ>set{a, b}. A i) = set {a} \\<times>\\<^sub>\\<circ> A a \\<union>\\<^sub>\\<circ> set {b} \\<times>\\<^sub>\\<circ> A b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. VSigma (set {a, b}) A =\n    set {a} \\<times>\\<^sub>\\<circ> A a \\<union>\\<^sub>\\<circ>\n    set {b} \\<times>\\<^sub>\\<circ> A b", "by auto"], ["", "text\\<open>Connections.\\<close>"], ["", "lemma vdunion_vsum: \"(\\<Coprod>\\<^sub>\\<times>i\\<in>\\<^sub>\\<circ>set{0, 1}. if i=0 then A else B) = A \\<Uplus> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Coprod>\\<^sub>\\<times>i\\<in>\\<^sub>\\<circ>set {0, 1}.\n        if i = 0 \\<Rightarrow> A | otherwise \\<Rightarrow> B) =\n    A \\<Uplus> B", "unfolding vdunion_vdoubleton vsum_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. set {0} \\<times>\\<^sub>\\<circ>\n    (if 0 = 0 \\<Rightarrow> A \n      | otherwise \\<Rightarrow> B) \\<union>\\<^sub>\\<circ>\n    set {1} \\<times>\\<^sub>\\<circ>\n    (if 1 = 0 \\<Rightarrow> A | otherwise \\<Rightarrow> B) =\n    set {0} \\<times>\\<^sub>\\<circ> A \\<union>\\<^sub>\\<circ>\n    set {1} \\<times>\\<^sub>\\<circ> B", "by simp"], ["", "subsection\\<open>Infinite Cartesian product\\<close>"], ["", "definition vproduct :: \"V \\<Rightarrow> (V \\<Rightarrow> V) \\<Rightarrow> V\"\n  where \"vproduct I A = set {f. vsv f \\<and> \\<D>\\<^sub>\\<circ> f = I \\<and> (\\<forall>i\\<in>\\<^sub>\\<circ>I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}\""], ["", "syntax \"_VPRODUCT\" :: \"pttrn \\<Rightarrow> V \\<Rightarrow> V \\<Rightarrow> V\" (\\<open>(3\\<Prod>\\<^sub>\\<circ>_\\<in>\\<^sub>\\<circ>_./ _)\\<close> [0, 0, 10] 10)"], ["", "translations \"\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A\" \\<rightleftharpoons> \"CONST vproduct I (\\<lambda>i. A)\""], ["", "lemma small_vproduct[simp]:\n  \"small {f. vsv f \\<and> \\<D>\\<^sub>\\<circ> f = I \\<and> (\\<forall>i\\<in>\\<^sub>\\<circ>I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}\"\n  (is \\<open>small ?A\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. small\n     {f. vsv f \\<and>\n         \\<D>\\<^sub>\\<circ> f = I \\<and>\n         (\\<forall>i\\<in>elts I.\n             f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. small\n     {f. vsv f \\<and>\n         \\<D>\\<^sub>\\<circ> f = I \\<and>\n         (\\<forall>i\\<in>elts I.\n             f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}", "from small_vsv[of I \\<open>(\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\\<close>]"], ["proof (chain)\npicking this:\n  small\n   {f. vsv f \\<and>\n       \\<D>\\<^sub>\\<circ> f = I \\<and>\n       \\<R>\\<^sub>\\<circ> f\n       \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                  (VLambda I A `\\<^sub>\\<circ> I)}", "have \n    \"small {f. vsv f \\<and> \\<D>\\<^sub>\\<circ> f = I \\<and> \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)}\""], ["proof (prove)\nusing this:\n  small\n   {f. vsv f \\<and>\n       \\<D>\\<^sub>\\<circ> f = I \\<and>\n       \\<R>\\<^sub>\\<circ> f\n       \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                  (VLambda I A `\\<^sub>\\<circ> I)}\n\ngoal (1 subgoal):\n 1. small\n     {f. vsv f \\<and>\n         \\<D>\\<^sub>\\<circ> f = I \\<and>\n         \\<R>\\<^sub>\\<circ> f\n         \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                    (VLambda I A `\\<^sub>\\<circ> I)}", "by simp"], ["proof (state)\nthis:\n  small\n   {f. vsv f \\<and>\n       \\<D>\\<^sub>\\<circ> f = I \\<and>\n       \\<R>\\<^sub>\\<circ> f\n       \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                  (VLambda I A `\\<^sub>\\<circ> I)}\n\ngoal (1 subgoal):\n 1. small\n     {f. vsv f \\<and>\n         \\<D>\\<^sub>\\<circ> f = I \\<and>\n         (\\<forall>i\\<in>elts I.\n             f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}", "moreover"], ["proof (state)\nthis:\n  small\n   {f. vsv f \\<and>\n       \\<D>\\<^sub>\\<circ> f = I \\<and>\n       \\<R>\\<^sub>\\<circ> f\n       \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                  (VLambda I A `\\<^sub>\\<circ> I)}\n\ngoal (1 subgoal):\n 1. small\n     {f. vsv f \\<and>\n         \\<D>\\<^sub>\\<circ> f = I \\<and>\n         (\\<forall>i\\<in>elts I.\n             f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}", "have \"?A \\<subseteq> {f. vsv f \\<and> \\<D>\\<^sub>\\<circ> f = I \\<and> \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {f. vsv f \\<and>\n        \\<D>\\<^sub>\\<circ> f = I \\<and>\n        (\\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}\n    \\<subseteq> {f. vsv f \\<and>\n                    \\<D>\\<^sub>\\<circ> f = I \\<and>\n                    \\<R>\\<^sub>\\<circ> f\n                    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n         (VLambda I A `\\<^sub>\\<circ> I)}", "proof(intro subsetI, unfold mem_Collect_eq, elim conjE, intro conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> vsv x\n 2. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> \\<D>\\<^sub>\\<circ> x = I\n 3. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> \\<R>\\<^sub>\\<circ> x\n                         \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n              (VLambda I A `\\<^sub>\\<circ> I)", "fix f"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> vsv x\n 2. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> \\<D>\\<^sub>\\<circ> x = I\n 3. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> \\<R>\\<^sub>\\<circ> x\n                         \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n              (VLambda I A `\\<^sub>\\<circ> I)", "assume prems: \"vsv f\" \"\\<D>\\<^sub>\\<circ> f = I\" \"\\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\""], ["proof (state)\nthis:\n  vsv f\n  \\<D>\\<^sub>\\<circ> f = I\n  \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> vsv x\n 2. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> \\<D>\\<^sub>\\<circ> x = I\n 3. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> \\<R>\\<^sub>\\<circ> x\n                         \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n              (VLambda I A `\\<^sub>\\<circ> I)", "interpret vsv f"], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f", "by (rule prems(1))"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> vsv x\n 2. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> \\<D>\\<^sub>\\<circ> x = I\n 3. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> \\<R>\\<^sub>\\<circ> x\n                         \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n              (VLambda I A `\\<^sub>\\<circ> I)", "show \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               (VLambda I A `\\<^sub>\\<circ> I)", "proof(intro vsubsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "assume \"y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\""], ["proof (state)\nthis:\n  y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "with prems(2)"], ["proof (chain)\npicking this:\n  \\<D>\\<^sub>\\<circ> f = I\n  y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f", "obtain i where y_def: \"y = f\\<lparr>i\\<rparr>\" and i: \"i \\<in>\\<^sub>\\<circ> I\""], ["proof (prove)\nusing this:\n  \\<D>\\<^sub>\\<circ> f = I\n  y \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>y = f\\<lparr>i\\<rparr>; i \\<in>\\<^sub>\\<circ> I\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (blast dest: vrange_atD)"], ["proof (state)\nthis:\n  y = f\\<lparr>i\\<rparr>\n  i \\<in>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "from i prems(3) vifunionI"], ["proof (chain)\npicking this:\n  i \\<in>\\<^sub>\\<circ> I\n  \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n  \\<lbrakk>?i \\<in>\\<^sub>\\<circ> ?I; ?a \\<in>\\<^sub>\\<circ> ?f ?i\\<rbrakk>\n  \\<Longrightarrow> ?a \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n      (VLambda ?I ?f `\\<^sub>\\<circ> ?I)", "show \"y \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n  \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n  \\<lbrakk>?i \\<in>\\<^sub>\\<circ> ?I; ?a \\<in>\\<^sub>\\<circ> ?f ?i\\<rbrakk>\n  \\<Longrightarrow> ?a \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n      (VLambda ?I ?f `\\<^sub>\\<circ> ?I)\n\ngoal (1 subgoal):\n 1. y \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                           (VLambda I A `\\<^sub>\\<circ> I)", "unfolding y_def"], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n  \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n  \\<lbrakk>?i \\<in>\\<^sub>\\<circ> ?I; ?a \\<in>\\<^sub>\\<circ> ?f ?i\\<rbrakk>\n  \\<Longrightarrow> ?a \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n      (VLambda ?I ?f `\\<^sub>\\<circ> ?I)\n\ngoal (1 subgoal):\n 1. f\\<lparr>i\\<rparr>\n    \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda I A `\\<^sub>\\<circ> I)", "by auto"], ["proof (state)\nthis:\n  y \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda I A `\\<^sub>\\<circ> I)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<R>\\<^sub>\\<circ> f\n  \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                             (VLambda I A `\\<^sub>\\<circ> I)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> vsv x\n 2. \\<And>x.\n       \\<lbrakk>vsv x; \\<D>\\<^sub>\\<circ> x = I;\n        \\<forall>i\\<in>elts I.\n           x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n       \\<Longrightarrow> \\<D>\\<^sub>\\<circ> x = I", "qed"], ["proof (state)\nthis:\n  {f. vsv f \\<and>\n      \\<D>\\<^sub>\\<circ> f = I \\<and>\n      (\\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}\n  \\<subseteq> {f. vsv f \\<and>\n                  \\<D>\\<^sub>\\<circ> f = I \\<and>\n                  \\<R>\\<^sub>\\<circ> f\n                  \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n       (VLambda I A `\\<^sub>\\<circ> I)}\n\ngoal (1 subgoal):\n 1. small\n     {f. vsv f \\<and>\n         \\<D>\\<^sub>\\<circ> f = I \\<and>\n         (\\<forall>i\\<in>elts I.\n             f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}", "ultimately"], ["proof (chain)\npicking this:\n  small\n   {f. vsv f \\<and>\n       \\<D>\\<^sub>\\<circ> f = I \\<and>\n       \\<R>\\<^sub>\\<circ> f\n       \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                  (VLambda I A `\\<^sub>\\<circ> I)}\n  {f. vsv f \\<and>\n      \\<D>\\<^sub>\\<circ> f = I \\<and>\n      (\\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}\n  \\<subseteq> {f. vsv f \\<and>\n                  \\<D>\\<^sub>\\<circ> f = I \\<and>\n                  \\<R>\\<^sub>\\<circ> f\n                  \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n       (VLambda I A `\\<^sub>\\<circ> I)}", "show ?thesis"], ["proof (prove)\nusing this:\n  small\n   {f. vsv f \\<and>\n       \\<D>\\<^sub>\\<circ> f = I \\<and>\n       \\<R>\\<^sub>\\<circ> f\n       \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                                  (VLambda I A `\\<^sub>\\<circ> I)}\n  {f. vsv f \\<and>\n      \\<D>\\<^sub>\\<circ> f = I \\<and>\n      (\\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}\n  \\<subseteq> {f. vsv f \\<and>\n                  \\<D>\\<^sub>\\<circ> f = I \\<and>\n                  \\<R>\\<^sub>\\<circ> f\n                  \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n       (VLambda I A `\\<^sub>\\<circ> I)}\n\ngoal (1 subgoal):\n 1. small\n     {f. vsv f \\<and>\n         \\<D>\\<^sub>\\<circ> f = I \\<and>\n         (\\<forall>i\\<in>elts I.\n             f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}", "by (metis (lifting) smaller_than_small)"], ["proof (state)\nthis:\n  small\n   {f. vsv f \\<and>\n       \\<D>\\<^sub>\\<circ> f = I \\<and>\n       (\\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Rules.\\<close>"], ["", "lemma vproductI[intro!]:\n  assumes \"vsv f\" and \"\\<D>\\<^sub>\\<circ> f = I\" and \"\\<forall>i\\<in>\\<^sub>\\<circ>I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\"\n  shows \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> vproduct I A", "using assms small_vproduct"], ["proof (prove)\nusing this:\n  vsv f\n  \\<D>\\<^sub>\\<circ> f = I\n  \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n  small\n   {f. vsv f \\<and>\n       \\<D>\\<^sub>\\<circ> f = ?I \\<and>\n       (\\<forall>i\\<in>elts ?I.\n           f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> ?A i)}\n\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> vproduct I A", "unfolding vproduct_def"], ["proof (prove)\nusing this:\n  vsv f\n  \\<D>\\<^sub>\\<circ> f = I\n  \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n  small\n   {f. vsv f \\<and>\n       \\<D>\\<^sub>\\<circ> f = ?I \\<and>\n       (\\<forall>i\\<in>elts ?I.\n           f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> ?A i)}\n\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> set {f. vsv f \\<and>\n                                  \\<D>\\<^sub>\\<circ> f = I \\<and>\n                                  (\\<forall>i\\<in>elts I.\nf\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)}", "by auto"], ["", "lemma vproductD[dest]:\n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\"\n  shows \"vsv f\" \n    and \"\\<D>\\<^sub>\\<circ> f = I\"\n    and \"\\<forall>i\\<in>\\<^sub>\\<circ>I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f &&&\n    \\<D>\\<^sub>\\<circ> f = I &&&\n    \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "using assms"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> vproduct I A\n\ngoal (1 subgoal):\n 1. vsv f &&&\n    \\<D>\\<^sub>\\<circ> f = I &&&\n    \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "unfolding vproduct_def"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> set {f. vsv f \\<and>\n                                \\<D>\\<^sub>\\<circ> f = I \\<and>\n                                (\\<forall>i\\<in>elts I.\n                                    f\\<lparr>i\\<rparr>\n                                    \\<in>\\<^sub>\\<circ> A i)}\n\ngoal (1 subgoal):\n 1. vsv f &&&\n    \\<D>\\<^sub>\\<circ> f = I &&&\n    \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "by auto"], ["", "lemma vproductE[elim!]:\n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\"\n  obtains \"vsv f\" and \"\\<D>\\<^sub>\\<circ> f = I\" and \"\\<forall>i\\<in>\\<^sub>\\<circ>I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; \\<D>\\<^sub>\\<circ> f = I;\n      \\<forall>i\\<in>elts I.\n         f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> vproduct I A\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; \\<D>\\<^sub>\\<circ> f = I;\n      \\<forall>i\\<in>elts I.\n         f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding vproduct_def"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> set {f. vsv f \\<and>\n                                \\<D>\\<^sub>\\<circ> f = I \\<and>\n                                (\\<forall>i\\<in>elts I.\n                                    f\\<lparr>i\\<rparr>\n                                    \\<in>\\<^sub>\\<circ> A i)}\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; \\<D>\\<^sub>\\<circ> f = I;\n      \\<forall>i\\<in>elts I.\n         f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["", "text\\<open>Set operations.\\<close>"], ["", "lemma vproduct_index_vempty[simp]: \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>0. A i) = set {0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vproduct 0 A = set {0}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. vproduct 0 A = set {0}", "have \"{f. vsv f \\<and> \\<D>\\<^sub>\\<circ> f = 0 \\<and> (\\<forall>i\\<in>\\<^sub>\\<circ>0. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)} = {0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {f. vsv f \\<and>\n        \\<D>\\<^sub>\\<circ> f = 0 \\<and>\n        (\\<forall>i\\<in>elts 0.\n            f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)} =\n    {0}", "using vbrelation.vlrestriction_vdomain vsv_eqI"], ["proof (prove)\nusing this:\n  vbrelation ?r \\<Longrightarrow>\n  ?r \\<restriction>\\<^sup>l\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> ?r = ?r\n  \\<lbrakk>vsv ?r; vsv ?s; \\<D>\\<^sub>\\<circ> ?r = \\<D>\\<^sub>\\<circ> ?s;\n   \\<And>a.\n      a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> ?r \\<Longrightarrow>\n      ?r\\<lparr>a\\<rparr> = ?s\\<lparr>a\\<rparr>\\<rbrakk>\n  \\<Longrightarrow> ?r = ?s\n\ngoal (1 subgoal):\n 1. {f. vsv f \\<and>\n        \\<D>\\<^sub>\\<circ> f = 0 \\<and>\n        (\\<forall>i\\<in>elts 0.\n            f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)} =\n    {0}", "by fastforce"], ["proof (state)\nthis:\n  {f. vsv f \\<and>\n      \\<D>\\<^sub>\\<circ> f = 0 \\<and>\n      (\\<forall>i\\<in>elts 0. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)} =\n  {0}\n\ngoal (1 subgoal):\n 1. vproduct 0 A = set {0}", "then"], ["proof (chain)\npicking this:\n  {f. vsv f \\<and>\n      \\<D>\\<^sub>\\<circ> f = 0 \\<and>\n      (\\<forall>i\\<in>elts 0. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)} =\n  {0}", "show ?thesis"], ["proof (prove)\nusing this:\n  {f. vsv f \\<and>\n      \\<D>\\<^sub>\\<circ> f = 0 \\<and>\n      (\\<forall>i\\<in>elts 0. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)} =\n  {0}\n\ngoal (1 subgoal):\n 1. vproduct 0 A = set {0}", "unfolding vproduct_def"], ["proof (prove)\nusing this:\n  {f. vsv f \\<and>\n      \\<D>\\<^sub>\\<circ> f = 0 \\<and>\n      (\\<forall>i\\<in>elts 0. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)} =\n  {0}\n\ngoal (1 subgoal):\n 1. set {f. vsv f \\<and>\n            \\<D>\\<^sub>\\<circ> f = 0 \\<and>\n            (\\<forall>i\\<in>elts 0.\n                f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)} =\n    set {0}", "by simp"], ["proof (state)\nthis:\n  vproduct 0 A = set {0}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma vproduct_vsingletonI:\n  assumes \"f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c\" and \"f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\" \n  shows \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{c}. A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> vproduct (set {c}) A", "using assms"], ["proof (prove)\nusing this:\n  f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c\n  f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\n\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> vproduct (set {c}) A", "apply(intro vproductI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c;\n     f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\\<rbrakk>\n    \\<Longrightarrow> vsv f\n 2. \\<lbrakk>f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c;\n     f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\\<rbrakk>\n    \\<Longrightarrow> \\<D>\\<^sub>\\<circ> f = set {c}\n 3. \\<lbrakk>f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c;\n     f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i\\<in>elts (set {c}).\n                         f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c;\n     f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\\<rbrakk>\n    \\<Longrightarrow> vsv f", "by (metis rel_vsingleton.vsv_axioms)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c;\n     f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\\<rbrakk>\n    \\<Longrightarrow> \\<D>\\<^sub>\\<circ> f = set {c}\n 2. \\<lbrakk>f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c;\n     f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i\\<in>elts (set {c}).\n                         f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c;\n     f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\\<rbrakk>\n    \\<Longrightarrow> \\<D>\\<^sub>\\<circ> f = set {c}", "by (force intro!: vsubset_antisym)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c;\n     f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i\\<in>elts (set {c}).\n                         f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c;\n     f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i\\<in>elts (set {c}).\n                         f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma vproduct_vsingletonD: \n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{c}. A i)\" \n  shows \"vsv f\" and \"f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c\" and \"f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f &&&\n    f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c &&&\n    f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}", "proof-"], ["proof (state)\ngoal (3 subgoals):\n 1. vsv f\n 2. f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c\n 3. f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}", "from assms"], ["proof (chain)\npicking this:\n  f \\<in>\\<^sub>\\<circ> vproduct (set {c}) A", "show \"f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\""], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> vproduct (set {c}) A\n\ngoal (1 subgoal):\n 1. f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}", "by (elim vproductE) (metis VLambda_vsingleton  vsv.vsv_is_VLambda)"], ["proof (state)\nthis:\n  f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\n\ngoal (2 subgoals):\n 1. vsv f\n 2. f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c", "qed (use assms in auto)"], ["", "lemma vproduct_vsingletonE: \n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{c}. A i)\" \n  obtains \"vsv f\" and \"f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c\" and \"f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c;\n      f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms vproduct_vsingletonD that"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> vproduct (set {c}) A\n  ?f \\<in>\\<^sub>\\<circ> vproduct (set {?c}) ?A \\<Longrightarrow> vsv ?f\n  ?f \\<in>\\<^sub>\\<circ> vproduct (set {?c}) ?A \\<Longrightarrow>\n  ?f\\<lparr>?c\\<rparr> \\<in>\\<^sub>\\<circ> ?A ?c\n  ?f \\<in>\\<^sub>\\<circ> vproduct (set {?c}) ?A \\<Longrightarrow>\n  ?f = set {\\<langle>?c, ?f\\<lparr>?c\\<rparr>\\<rangle>}\n  \\<lbrakk>vsv f; f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c;\n   f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c;\n      f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["", "lemma vproduct_vsingleton_iff: \n  \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{c}. A i) \\<longleftrightarrow> f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c \\<and> f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<in>\\<^sub>\\<circ> vproduct (set {c}) A) =\n    (f\\<lparr>c\\<rparr> \\<in>\\<^sub>\\<circ> A c \\<and>\n     f = set {\\<langle>c, f\\<lparr>c\\<rparr>\\<rangle>})", "by (rule iffI) (auto simp: vproduct_vsingletonD intro!: vproduct_vsingletonI)"], ["", "lemma vproduct_vdoubletonI[intro]:\n  assumes \"vsv f\"\n    and \"f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a\" \n    and \"f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b\" \n    and \"\\<D>\\<^sub>\\<circ> f = set {a, b}\"\n    and \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A a \\<union>\\<^sub>\\<circ> A b\"\n  shows \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {a, b}. A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> vproduct (set {a, b}) A", "using assms vifunion_vdoubleton"], ["proof (prove)\nusing this:\n  vsv f\n  f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a\n  f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b\n  \\<D>\\<^sub>\\<circ> f = set {a, b}\n  \\<R>\\<^sub>\\<circ> f\n  \\<subseteq>\\<^sub>\\<circ> A a \\<union>\\<^sub>\\<circ> A b\n  \\<Union>\\<^sub>\\<circ>\n   (VLambda (set {?i, ?j}) ?f `\\<^sub>\\<circ> set {?i, ?j}) =\n  ?f ?i \\<union>\\<^sub>\\<circ> ?f ?j\n\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> vproduct (set {a, b}) A", "by (intro vproductI) auto"], ["", "lemma vproduct_vdoubletonD[dest]: \n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{a, b}. A i)\" \n  shows \"vsv f\"\n    and \"f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a\" \n    and \"f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b\" \n    and \"\\<D>\\<^sub>\\<circ> f = set {a, b}\" \n    and \"f = set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>, \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (vsv f &&& f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a) &&&\n    f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b &&&\n    \\<D>\\<^sub>\\<circ> f = set {a, b} &&&\n    f =\n    set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>,\n         \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f", "using assms"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> vproduct (set {a, b}) A\n\ngoal (1 subgoal):\n 1. vsv f", "by auto"], ["proof (prove)\ngoal (4 subgoals):\n 1. f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a\n 2. f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b\n 3. \\<D>\\<^sub>\\<circ> f = set {a, b}\n 4. f =\n    set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>,\n         \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a", "using assms"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> vproduct (set {a, b}) A\n\ngoal (1 subgoal):\n 1. f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a", "by auto"], ["proof (prove)\ngoal (3 subgoals):\n 1. f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b\n 2. \\<D>\\<^sub>\\<circ> f = set {a, b}\n 3. f =\n    set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>,\n         \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b", "using assms"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> vproduct (set {a, b}) A\n\ngoal (1 subgoal):\n 1. f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b", "by auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<D>\\<^sub>\\<circ> f = set {a, b}\n 2. f =\n    set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>,\n         \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> f = set {a, b}", "using assms vifunion_vdoubleton"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> vproduct (set {a, b}) A\n  \\<Union>\\<^sub>\\<circ>\n   (VLambda (set {?i, ?j}) ?f `\\<^sub>\\<circ> set {?i, ?j}) =\n  ?f ?i \\<union>\\<^sub>\\<circ> ?f ?j\n\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> f = set {a, b}", "by fastforce"], ["proof (prove)\ngoal (1 subgoal):\n 1. f =\n    set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>,\n         \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. f =\n    set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>,\n         \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}", "by (metis assms VLambda_vdoubleton vproductE vsv.vsv_is_VLambda)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma vproduct_vdoubletonE: \n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set{a, b}. A i)\" \n  obtains \"vsv f\"\n    and \"f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a\" \n    and \"f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b\" \n    and \"\\<D>\\<^sub>\\<circ> f = set {a, b}\" \n    and \"f = set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>, \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a;\n      f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b;\n      \\<D>\\<^sub>\\<circ> f = set {a, b};\n      f =\n      set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>,\n           \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms vproduct_vdoubletonD that"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> vproduct (set {a, b}) A\n  ?f \\<in>\\<^sub>\\<circ> vproduct (set {?a, ?b}) ?A \\<Longrightarrow> vsv ?f\n  ?f \\<in>\\<^sub>\\<circ> vproduct (set {?a, ?b}) ?A \\<Longrightarrow>\n  ?f\\<lparr>?a\\<rparr> \\<in>\\<^sub>\\<circ> ?A ?a\n  ?f \\<in>\\<^sub>\\<circ> vproduct (set {?a, ?b}) ?A \\<Longrightarrow>\n  ?f\\<lparr>?b\\<rparr> \\<in>\\<^sub>\\<circ> ?A ?b\n  ?f \\<in>\\<^sub>\\<circ> vproduct (set {?a, ?b}) ?A \\<Longrightarrow>\n  \\<D>\\<^sub>\\<circ> ?f = set {?a, ?b}\n  ?f \\<in>\\<^sub>\\<circ> vproduct (set {?a, ?b}) ?A \\<Longrightarrow>\n  ?f =\n  set {\\<langle>?a, ?f\\<lparr>?a\\<rparr>\\<rangle>,\n       \\<langle>?b, ?f\\<lparr>?b\\<rparr>\\<rangle>}\n  \\<lbrakk>vsv f; f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a;\n   f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b;\n   \\<D>\\<^sub>\\<circ> f = set {a, b};\n   f =\n   set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>,\n        \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>vsv f; f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a;\n      f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b;\n      \\<D>\\<^sub>\\<circ> f = set {a, b};\n      f =\n      set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>,\n           \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by simp"], ["", "lemma vproduct_vdoubleton_iff: \n  \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {a, b}. A i) \\<longleftrightarrow> \n    vsv f \\<and> \n    f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a \\<and> \n    f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b \\<and> \n    \\<D>\\<^sub>\\<circ> f = set {a, b} \\<and> \n    f = set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>, \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<in>\\<^sub>\\<circ> vproduct (set {a, b}) A) =\n    (vsv f \\<and>\n     f\\<lparr>a\\<rparr> \\<in>\\<^sub>\\<circ> A a \\<and>\n     f\\<lparr>b\\<rparr> \\<in>\\<^sub>\\<circ> A b \\<and>\n     \\<D>\\<^sub>\\<circ> f = set {a, b} \\<and>\n     f =\n     set {\\<langle>a, f\\<lparr>a\\<rparr>\\<rangle>,\n          \\<langle>b, f\\<lparr>b\\<rparr>\\<rangle>})", "by (force elim!: vproduct_vdoubletonE)+"], ["", "text\\<open>Elementary properties.\\<close>"], ["", "lemma vproduct_eq_vemptyI:\n  assumes \"i \\<in>\\<^sub>\\<circ> I\" and \"A i = 0\"\n  shows \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vproduct I A = 0", "proof(intro vsubset_antisym vsubsetI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I A \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> 0\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> 0 \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> vproduct I A", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I A \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> 0\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> 0 \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> vproduct I A", "assume prems: \"x \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> vproduct I A\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I A \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> 0\n 2. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> 0 \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> vproduct I A", "from assms vproductD(3)[OF prems]"], ["proof (chain)\npicking this:\n  i \\<in>\\<^sub>\\<circ> I\n  A i = 0\n  \\<forall>i\\<in>elts I. x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "show \"x \\<in>\\<^sub>\\<circ> 0\""], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n  A i = 0\n  \\<forall>i\\<in>elts I. x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n\ngoal (1 subgoal):\n 1. x \\<in>\\<^sub>\\<circ> 0", "by auto"], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> 0\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> 0 \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> vproduct I A", "qed auto"], ["", "lemma vproduct_eq_vemptyD:\n  assumes \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<noteq> 0\"\n  shows \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> A i \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> A i \\<noteq> 0", "proof(rule ccontr, unfold not_not)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>i \\<in>\\<^sub>\\<circ> I; A i = 0\\<rbrakk>\n       \\<Longrightarrow> False", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>i \\<in>\\<^sub>\\<circ> I; A i = 0\\<rbrakk>\n       \\<Longrightarrow> False", "assume prems: \"i \\<in>\\<^sub>\\<circ> I\" \"A i = 0\""], ["proof (state)\nthis:\n  i \\<in>\\<^sub>\\<circ> I\n  A i = 0\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>i \\<in>\\<^sub>\\<circ> I; A i = 0\\<rbrakk>\n       \\<Longrightarrow> False", "with vproduct_eq_vemptyI[where A=A, OF prems] assms"], ["proof (chain)\npicking this:\n  vproduct I A = 0\n  vproduct I A \\<noteq> 0\n  i \\<in>\\<^sub>\\<circ> I\n  A i = 0", "show False"], ["proof (prove)\nusing this:\n  vproduct I A = 0\n  vproduct I A \\<noteq> 0\n  i \\<in>\\<^sub>\\<circ> I\n  A i = 0\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma vproduct_vrange:\n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\"\n  shows \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f\n    \\<subseteq>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                               (VLambda I A `\\<^sub>\\<circ> I)", "proof(intro vsubsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "assume prems: \"x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\""], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "have vsv_f: \"vsv f\"\n    and dom_f: \"\\<D>\\<^sub>\\<circ> f = I\"\n    and fi: \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f &&&\n    \\<D>\\<^sub>\\<circ> f = I &&&\n    (\\<And>i.\n        i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n        f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i)", "by (simp_all add: vproductD[OF assms, rule_format])"], ["proof (state)\nthis:\n  vsv f\n  \\<D>\\<^sub>\\<circ> f = I\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  f\\<lparr>?i\\<rparr> \\<in>\\<^sub>\\<circ> A ?i\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "interpret f: vsv f"], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f", "by (rule vsv_f)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "from prems dom_f"], ["proof (chain)\npicking this:\n  x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n  \\<D>\\<^sub>\\<circ> f = I", "obtain i where x_def: \"x = f\\<lparr>i\\<rparr>\" and i: \"i \\<in>\\<^sub>\\<circ> I\""], ["proof (prove)\nusing this:\n  x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n  \\<D>\\<^sub>\\<circ> f = I\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>x = f\\<lparr>i\\<rparr>; i \\<in>\\<^sub>\\<circ> I\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto elim: f.vrange_atE)"], ["proof (state)\nthis:\n  x = f\\<lparr>i\\<rparr>\n  i \\<in>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "from i fi"], ["proof (chain)\npicking this:\n  i \\<in>\\<^sub>\\<circ> I\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  f\\<lparr>?i\\<rparr> \\<in>\\<^sub>\\<circ> A ?i", "show \"x \\<in>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  f\\<lparr>?i\\<rparr> \\<in>\\<^sub>\\<circ> A ?i\n\ngoal (1 subgoal):\n 1. x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                           (VLambda I A `\\<^sub>\\<circ> I)", "unfolding x_def"], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  f\\<lparr>?i\\<rparr> \\<in>\\<^sub>\\<circ> A ?i\n\ngoal (1 subgoal):\n 1. f\\<lparr>i\\<rparr>\n    \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda I A `\\<^sub>\\<circ> I)", "by (intro vifunionI) auto"], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (VLambda I A `\\<^sub>\\<circ> I)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma vproduct_vsubset_VPow: \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i) \\<subseteq>\\<^sub>\\<circ> VPow (I \\<times>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vproduct I A\n    \\<subseteq>\\<^sub>\\<circ> VPow\n                               (I \\<times>\\<^sub>\\<circ>\n                                \\<Union>\\<^sub>\\<circ>\n                                 (VLambda I A `\\<^sub>\\<circ> I))", "proof(intro vsubsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I A \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> VPow\n                              (I \\<times>\\<^sub>\\<circ>\n                               \\<Union>\\<^sub>\\<circ>\n                                (VLambda I A `\\<^sub>\\<circ> I))", "fix f"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I A \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> VPow\n                              (I \\<times>\\<^sub>\\<circ>\n                               \\<Union>\\<^sub>\\<circ>\n                                (VLambda I A `\\<^sub>\\<circ> I))", "assume \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (state)\nthis:\n  f \\<in>\\<^sub>\\<circ> vproduct I A\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I A \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> VPow\n                              (I \\<times>\\<^sub>\\<circ>\n                               \\<Union>\\<^sub>\\<circ>\n                                (VLambda I A `\\<^sub>\\<circ> I))", "then"], ["proof (chain)\npicking this:\n  f \\<in>\\<^sub>\\<circ> vproduct I A", "have vsv: \"vsv f\" \n    and domain: \"\\<D>\\<^sub>\\<circ> f = I\" \n    and range: \"\\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\""], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> vproduct I A\n\ngoal (1 subgoal):\n 1. vsv f &&&\n    \\<D>\\<^sub>\\<circ> f = I &&&\n    \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "by auto"], ["proof (state)\nthis:\n  vsv f\n  \\<D>\\<^sub>\\<circ> f = I\n  \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I A \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> VPow\n                              (I \\<times>\\<^sub>\\<circ>\n                               \\<Union>\\<^sub>\\<circ>\n                                (VLambda I A `\\<^sub>\\<circ> I))", "interpret f: vsv f"], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f", "by (rule vsv)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I A \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> VPow\n                              (I \\<times>\\<^sub>\\<circ>\n                               \\<Union>\\<^sub>\\<circ>\n                                (VLambda I A `\\<^sub>\\<circ> I))", "have \"f \\<subseteq>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<subseteq>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ>\n                                \\<Union>\\<^sub>\\<circ>\n                                 (VLambda I A `\\<^sub>\\<circ> I)", "proof(intro vsubsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ>\n                             \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ>\n                             \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "assume prems: \"x \\<in>\\<^sub>\\<circ> f\""], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ>\n                             \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "then"], ["proof (chain)\npicking this:\n  x \\<in>\\<^sub>\\<circ> f", "obtain a b where x_def: \"x = \\<langle>a, b\\<rangle>\""], ["proof (prove)\nusing this:\n  x \\<in>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        x = \\<langle>a, b\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (elim f.vbrelation_vinE)"], ["proof (state)\nthis:\n  x = \\<langle>a, b\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ>\n                             \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "with prems"], ["proof (chain)\npicking this:\n  x \\<in>\\<^sub>\\<circ> f\n  x = \\<langle>a, b\\<rangle>", "have \"a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\" and \"b \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\""], ["proof (prove)\nusing this:\n  x \\<in>\\<^sub>\\<circ> f\n  x = \\<langle>a, b\\<rangle>\n\ngoal (1 subgoal):\n 1. a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f &&&\n    b \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f", "by auto"], ["proof (state)\nthis:\n  a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n  b \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ>\n                             \\<Union>\\<^sub>\\<circ>\n                              (VLambda I A `\\<^sub>\\<circ> I)", "with range domain prems"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n  \\<D>\\<^sub>\\<circ> f = I\n  x \\<in>\\<^sub>\\<circ> f\n  a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n  b \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f", "show \"x \\<in>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>elts I. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n  \\<D>\\<^sub>\\<circ> f = I\n  x \\<in>\\<^sub>\\<circ> f\n  a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> f\n  b \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> f\n\ngoal (1 subgoal):\n 1. x \\<in>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ>\n                          \\<Union>\\<^sub>\\<circ>\n                           (VLambda I A `\\<^sub>\\<circ> I)", "by (fastforce simp: x_def)"], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ>\n                        \\<Union>\\<^sub>\\<circ>\n                         (VLambda I A `\\<^sub>\\<circ> I)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f \\<subseteq>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ>\n                              \\<Union>\\<^sub>\\<circ>\n                               (VLambda I A `\\<^sub>\\<circ> I)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I A \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> VPow\n                              (I \\<times>\\<^sub>\\<circ>\n                               \\<Union>\\<^sub>\\<circ>\n                                (VLambda I A `\\<^sub>\\<circ> I))", "then"], ["proof (chain)\npicking this:\n  f \\<subseteq>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ>\n                              \\<Union>\\<^sub>\\<circ>\n                               (VLambda I A `\\<^sub>\\<circ> I)", "show \"f \\<in>\\<^sub>\\<circ> VPow (I \\<times>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i))\""], ["proof (prove)\nusing this:\n  f \\<subseteq>\\<^sub>\\<circ> I \\<times>\\<^sub>\\<circ>\n                              \\<Union>\\<^sub>\\<circ>\n                               (VLambda I A `\\<^sub>\\<circ> I)\n\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> VPow\n                           (I \\<times>\\<^sub>\\<circ>\n                            \\<Union>\\<^sub>\\<circ>\n                             (VLambda I A `\\<^sub>\\<circ> I))", "by simp"], ["proof (state)\nthis:\n  f \\<in>\\<^sub>\\<circ> VPow\n                         (I \\<times>\\<^sub>\\<circ>\n                          \\<Union>\\<^sub>\\<circ>\n                           (VLambda I A `\\<^sub>\\<circ> I))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma VLambda_in_vproduct:\n  assumes \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f i \\<in>\\<^sub>\\<circ> A i\"\n  shows \"(\\<lambda>i\\<in>\\<^sub>\\<circ>I. f i) \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. VLambda I f \\<in>\\<^sub>\\<circ> vproduct I A", "using assms"], ["proof (prove)\nusing this:\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f ?i \\<in>\\<^sub>\\<circ> A ?i\n\ngoal (1 subgoal):\n 1. VLambda I f \\<in>\\<^sub>\\<circ> vproduct I A", "by (simp add: vproductI vsv.vsv_vrange_vsubset_vifunion_app)"], ["", "lemma vproduct_cong:\n  assumes \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f i = g i\"\n  shows \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) = (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. g i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vproduct I f = vproduct I g", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. vproduct I f = vproduct I g", "have \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i) \\<subseteq>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. g i)\" if \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f i = g i\" for f g"], ["proof (prove)\ngoal (1 subgoal):\n 1. vproduct I f \\<subseteq>\\<^sub>\\<circ> vproduct I g", "proof(intro vsubsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> vproduct I g", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> vproduct I g", "assume \"x \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. f i)\""], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> vproduct I f\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> vproduct I g", "note xD = vproductD[OF this]"], ["proof (state)\nthis:\n  vsv x\n  \\<D>\\<^sub>\\<circ> x = I\n  \\<forall>i\\<in>elts I. x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> f i\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> vproduct I g", "interpret vsv x"], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv x", "by (rule xD(1))"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I f \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> vproduct I g", "show \"x \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. g i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in>\\<^sub>\\<circ> vproduct I g", "by (metis xD(2,3) that VLambda_in_vproduct vsv_is_VLambda)"], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> vproduct I g\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<And>i.\n      i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n      ?f i = ?g i) \\<Longrightarrow>\n  vproduct I ?f \\<subseteq>\\<^sub>\\<circ> vproduct I ?g\n\ngoal (1 subgoal):\n 1. vproduct I f = vproduct I g", "with assms"], ["proof (chain)\npicking this:\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f ?i = g ?i\n  (\\<And>i.\n      i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n      ?f i = ?g i) \\<Longrightarrow>\n  vproduct I ?f \\<subseteq>\\<^sub>\\<circ> vproduct I ?g", "show ?thesis"], ["proof (prove)\nusing this:\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> f ?i = g ?i\n  (\\<And>i.\n      i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n      ?f i = ?g i) \\<Longrightarrow>\n  vproduct I ?f \\<subseteq>\\<^sub>\\<circ> vproduct I ?g\n\ngoal (1 subgoal):\n 1. vproduct I f = vproduct I g", "by (intro vsubset_antisym) auto"], ["proof (state)\nthis:\n  vproduct I f = vproduct I g\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma vproduct_ex_in_vproduct:\n  assumes \"x \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>J. A i)\" and \"J \\<subseteq>\\<^sub>\\<circ> I\" and \"\\<And>i. i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> A i \\<noteq> 0\"\n  obtains X where \"X \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\" and \"x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>X.\n        \\<lbrakk>X \\<in>\\<^sub>\\<circ> vproduct I A;\n         x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>X.\n        \\<lbrakk>X \\<in>\\<^sub>\\<circ> vproduct I A;\n         x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define X where \"X = (\\<lambda>i\\<in>\\<^sub>\\<circ>I. if i \\<in>\\<^sub>\\<circ> J then x\\<lparr>i\\<rparr> else (SOME x. x \\<in>\\<^sub>\\<circ> A i))\""], ["proof (state)\nthis:\n  X =\n  (\\<lambda>i\\<in>\\<^sub>\\<circ>I.\n      if i \\<in>\\<^sub>\\<circ> J \\<Rightarrow> x\\<lparr>i\\<rparr> \n       | otherwise \\<Rightarrow> SOME x. x \\<in>\\<^sub>\\<circ> A i)\n\ngoal (1 subgoal):\n 1. (\\<And>X.\n        \\<lbrakk>X \\<in>\\<^sub>\\<circ> vproduct I A;\n         x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have X: \"X \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<in>\\<^sub>\\<circ> vproduct I A", "by (intro vproductI) (use assms in \\<open>auto simp: X_def\\<close>)"], ["proof (state)\nthis:\n  X \\<in>\\<^sub>\\<circ> vproduct I A\n\ngoal (1 subgoal):\n 1. (\\<And>X.\n        \\<lbrakk>X \\<in>\\<^sub>\\<circ> vproduct I A;\n         x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  X \\<in>\\<^sub>\\<circ> vproduct I A\n\ngoal (1 subgoal):\n 1. (\\<And>X.\n        \\<lbrakk>X \\<in>\\<^sub>\\<circ> vproduct I A;\n         x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J", "proof(rule vsv_eqI)"], ["proof (state)\ngoal (4 subgoals):\n 1. vsv x\n 2. vsv (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\n 3. \\<D>\\<^sub>\\<circ> x =\n    \\<D>\\<^sub>\\<circ> (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\n 4. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> x \\<Longrightarrow>\n       x\\<lparr>a\\<rparr> =\n       (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\\<lparr>a\\<rparr>", "from assms(1)"], ["proof (chain)\npicking this:\n  x \\<in>\\<^sub>\\<circ> vproduct J A", "have [simp]: \"\\<D>\\<^sub>\\<circ> x = J\""], ["proof (prove)\nusing this:\n  x \\<in>\\<^sub>\\<circ> vproduct J A\n\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> x = J", "by clarsimp"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> x = J\n\ngoal (4 subgoals):\n 1. vsv x\n 2. vsv (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\n 3. \\<D>\\<^sub>\\<circ> x =\n    \\<D>\\<^sub>\\<circ> (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\n 4. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> x \\<Longrightarrow>\n       x\\<lparr>a\\<rparr> =\n       (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\\<lparr>a\\<rparr>", "moreover"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> x = J\n\ngoal (4 subgoals):\n 1. vsv x\n 2. vsv (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\n 3. \\<D>\\<^sub>\\<circ> x =\n    \\<D>\\<^sub>\\<circ> (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\n 4. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> x \\<Longrightarrow>\n       x\\<lparr>a\\<rparr> =\n       (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\\<lparr>a\\<rparr>", "from assms(2)"], ["proof (chain)\npicking this:\n  J \\<subseteq>\\<^sub>\\<circ> I", "have \"\\<D>\\<^sub>\\<circ> (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J) = J\""], ["proof (prove)\nusing this:\n  J \\<subseteq>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J) = J", "unfolding X_def"], ["proof (prove)\nusing this:\n  J \\<subseteq>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ>\n     ((\\<lambda>i\\<in>\\<^sub>\\<circ>I.\n          if i \\<in>\\<^sub>\\<circ> J \\<Rightarrow> x\\<lparr>i\\<rparr> \n           | otherwise \\<Rightarrow> SOME x.\n  x \\<in>\\<^sub>\\<circ> A i) \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n      J) =\n    J", "by fastforce"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J) = J\n\ngoal (4 subgoals):\n 1. vsv x\n 2. vsv (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\n 3. \\<D>\\<^sub>\\<circ> x =\n    \\<D>\\<^sub>\\<circ> (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\n 4. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> x \\<Longrightarrow>\n       x\\<lparr>a\\<rparr> =\n       (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\\<lparr>a\\<rparr>", "ultimately"], ["proof (chain)\npicking this:\n  \\<D>\\<^sub>\\<circ> x = J\n  \\<D>\\<^sub>\\<circ> (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J) = J", "show \"\\<D>\\<^sub>\\<circ> x = \\<D>\\<^sub>\\<circ> (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\""], ["proof (prove)\nusing this:\n  \\<D>\\<^sub>\\<circ> x = J\n  \\<D>\\<^sub>\\<circ> (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J) = J\n\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> x =\n    \\<D>\\<^sub>\\<circ> (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)", "by simp"], ["proof (state)\nthis:\n  \\<D>\\<^sub>\\<circ> x =\n  \\<D>\\<^sub>\\<circ> (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\n\ngoal (3 subgoals):\n 1. vsv x\n 2. vsv (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\n 3. \\<And>a.\n       a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> x \\<Longrightarrow>\n       x\\<lparr>a\\<rparr> =\n       (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\\<lparr>a\\<rparr>", "show \"x\\<lparr>i\\<rparr> = (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\\<lparr>i\\<rparr>\" if \"i \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> x\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<lparr>i\\<rparr> =\n    (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\\<lparr>i\\<rparr>", "using that assms(2)"], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> x\n  J \\<subseteq>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. x\\<lparr>i\\<rparr> =\n    (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\\<lparr>i\\<rparr>", "unfolding X_def"], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> x\n  J \\<subseteq>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. x\\<lparr>i\\<rparr> =\n    ((\\<lambda>i\\<in>\\<^sub>\\<circ>I.\n         if i \\<in>\\<^sub>\\<circ> J \\<Rightarrow> x\\<lparr>i\\<rparr> \n          | otherwise \\<Rightarrow> SOME x.\n x \\<in>\\<^sub>\\<circ> A i) \\<restriction>\\<^sup>l\\<^sub>\\<circ>\n     J)\\<lparr>i\\<rparr>", "by auto"], ["proof (state)\nthis:\n  ?i \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> x \\<Longrightarrow>\n  x\\<lparr>?i\\<rparr> =\n  (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)\\<lparr>?i\\<rparr>\n\ngoal (2 subgoals):\n 1. vsv x\n 2. vsv (X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J)", "qed (use assms X in auto)"], ["proof (state)\nthis:\n  x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\n\ngoal (1 subgoal):\n 1. (\\<And>X.\n        \\<lbrakk>X \\<in>\\<^sub>\\<circ> vproduct I A;\n         x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  X \\<in>\\<^sub>\\<circ> vproduct I A\n  x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J", "show ?thesis"], ["proof (prove)\nusing this:\n  X \\<in>\\<^sub>\\<circ> vproduct I A\n  x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\n\ngoal (1 subgoal):\n 1. thesis", "using that"], ["proof (prove)\nusing this:\n  X \\<in>\\<^sub>\\<circ> vproduct I A\n  x = X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\n  \\<lbrakk>?X \\<in>\\<^sub>\\<circ> vproduct I A;\n   x = ?X \\<restriction>\\<^sup>l\\<^sub>\\<circ> J\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by simp"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma vproduct_vsingleton_def: \"(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {j}. A i) = (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {j}. A j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vproduct (set {j}) A =\n    (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>set {j}. A j)", "by auto"], ["", "lemma vprojection_in_VUnionI:\n  assumes \"A \\<subseteq>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. F i)\" and \"f \\<in>\\<^sub>\\<circ> A\" and \"i \\<in>\\<^sub>\\<circ> I\"\n  shows \"f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>(\\<Union>\\<^sub>\\<circ>(\\<Union>\\<^sub>\\<circ>A))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<lparr>i\\<rparr>\n    \\<in>\\<^sub>\\<circ> \\<Union>\\<^sub>\\<circ>\n                         (\\<Union>\\<^sub>\\<circ> (\\<Union>\\<^sub>\\<circ> A))", "proof(intro VUnionI)"], ["proof (state)\ngoal (4 subgoals):\n 1. ?x2 \\<in>\\<^sub>\\<circ> A\n 2. ?x1 \\<in>\\<^sub>\\<circ> ?x2\n 3. ?x \\<in>\\<^sub>\\<circ> ?x1\n 4. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> ?x", "show \"f \\<in>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> A", "by (rule assms(2))"], ["proof (state)\nthis:\n  f \\<in>\\<^sub>\\<circ> A\n\ngoal (3 subgoals):\n 1. ?x1 \\<in>\\<^sub>\\<circ> f\n 2. ?x \\<in>\\<^sub>\\<circ> ?x1\n 3. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> ?x", "from assms(1,2)"], ["proof (chain)\npicking this:\n  A \\<subseteq>\\<^sub>\\<circ> vproduct I F\n  f \\<in>\\<^sub>\\<circ> A", "have \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. F i)\""], ["proof (prove)\nusing this:\n  A \\<subseteq>\\<^sub>\\<circ> vproduct I F\n  f \\<in>\\<^sub>\\<circ> A\n\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> vproduct I F", "by auto"], ["proof (state)\nthis:\n  f \\<in>\\<^sub>\\<circ> vproduct I F\n\ngoal (3 subgoals):\n 1. ?x1 \\<in>\\<^sub>\\<circ> f\n 2. ?x \\<in>\\<^sub>\\<circ> ?x1\n 3. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> ?x", "note f = vproductD[OF this, rule_format]"], ["proof (state)\nthis:\n  vsv f\n  \\<D>\\<^sub>\\<circ> f = I\n  ?i \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n  f\\<lparr>?i\\<rparr> \\<in>\\<^sub>\\<circ> F ?i\n\ngoal (3 subgoals):\n 1. ?x1 \\<in>\\<^sub>\\<circ> f\n 2. ?x \\<in>\\<^sub>\\<circ> ?x1\n 3. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> ?x", "interpret vsv f rewrites \"\\<D>\\<^sub>\\<circ> f = I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vsv f &&& \\<D>\\<^sub>\\<circ> f = I", "by (auto intro: f(1) simp: f(2))"], ["proof (state)\ngoal (3 subgoals):\n 1. ?x1 \\<in>\\<^sub>\\<circ> f\n 2. ?x \\<in>\\<^sub>\\<circ> ?x1\n 3. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> ?x", "show \"\\<langle>i, f\\<lparr>i\\<rparr>\\<rangle> \\<in>\\<^sub>\\<circ> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>i, f\\<lparr>i\\<rparr>\\<rangle> \\<in>\\<^sub>\\<circ> f", "by (meson assms(3) vsv_appE)"], ["proof (state)\nthis:\n  \\<langle>i, f\\<lparr>i\\<rparr>\\<rangle> \\<in>\\<^sub>\\<circ> f\n\ngoal (2 subgoals):\n 1. ?x \\<in>\\<^sub>\\<circ> \\<langle>i, f\\<lparr>i\\<rparr>\\<rangle>\n 2. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> ?x", "show \"set {i, f\\<lparr>i\\<rparr>} \\<in>\\<^sub>\\<circ> \\<langle>i, f\\<lparr>i\\<rparr>\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set {i, f\\<lparr>i\\<rparr>}\n    \\<in>\\<^sub>\\<circ> \\<langle>i, f\\<lparr>i\\<rparr>\\<rangle>", "unfolding vpair_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. set {i, f\\<lparr>i\\<rparr>}\n    \\<in>\\<^sub>\\<circ> set {set {i}, set {i, f\\<lparr>i\\<rparr>}}", "by simp"], ["proof (state)\nthis:\n  set {i, f\\<lparr>i\\<rparr>}\n  \\<in>\\<^sub>\\<circ> \\<langle>i, f\\<lparr>i\\<rparr>\\<rangle>\n\ngoal (1 subgoal):\n 1. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> set {i, f\\<lparr>i\\<rparr>}", "qed simp"], ["", "subsection\\<open>Projection\\<close>"], ["", "definition vprojection :: \"V \\<Rightarrow> (V \\<Rightarrow> V) \\<Rightarrow> V \\<Rightarrow> V\"\n  where \"vprojection I A i = (\\<lambda>f\\<in>\\<^sub>\\<circ>(\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i). f\\<lparr>i\\<rparr>)\""], ["", "text\\<open>Rules.\\<close>"], ["", "mk_VLambda vprojection_def\n  |vsv vprojection_vsv[intro]|\n  |vdomain vprojection_vdomain[simp]|\n  |app vprojection_app[simp, intro]|"], ["", "text\\<open>Elementary results.\\<close>"], ["", "lemma vprojection_vrange_vsubset: \n  assumes \"i \\<in>\\<^sub>\\<circ> I\" \n  shows \"\\<R>\\<^sub>\\<circ> (vprojection I A i) \\<subseteq>\\<^sub>\\<circ> A i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> (vprojection I A i) \\<subseteq>\\<^sub>\\<circ> A i", "unfolding vprojection_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ>\n     (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A. f\\<lparr>i\\<rparr>)\n    \\<subseteq>\\<^sub>\\<circ> A i", "proof(intro vrange_VLambda_vsubset)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I A \\<Longrightarrow>\n       x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "fix f"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I A \\<Longrightarrow>\n       x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "assume prems: \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>I. A i)\""], ["proof (state)\nthis:\n  f \\<in>\\<^sub>\\<circ> vproduct I A\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> vproduct I A \\<Longrightarrow>\n       x\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "show \"f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i", "by (intro vproductD(3)[OF prems, rule_format] assms)"], ["proof (state)\nthis:\n  f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> A i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma vprojection_vrange: \n  assumes \"i \\<in>\\<^sub>\\<circ> I\" and \"\\<And>j. j \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> A j \\<noteq> 0\"\n  shows \"\\<R>\\<^sub>\\<circ> (vprojection I A i) = A i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> (vprojection I A i) = A i", "proof\n  (\n    intro \n      vsubset_antisym vprojection_vrange_vsubset vrange_VLambda_vsubset assms(1)\n  )"], ["proof (state)\ngoal (1 subgoal):\n 1. A i \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (vprojection I A i)", "show \"A i \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (vprojection I A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A i \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (vprojection I A i)", "proof(intro vsubsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> A i \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (vprojection I A i)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> A i \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (vprojection I A i)", "assume prems: \"x \\<in>\\<^sub>\\<circ> A i\""], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> A i\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> A i \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (vprojection I A i)", "obtain f \n      where f: \"\\<And>x. x \\<in>\\<^sub>\\<circ> set {A i | i. i \\<in>\\<^sub>\\<circ> I} \\<Longrightarrow> x \\<noteq> 0 \\<Longrightarrow> f\\<lparr>x\\<rparr> \\<in>\\<^sub>\\<circ> x\" \n        and \"vsv f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x \\<in>\\<^sub>\\<circ> set\n              {A i |i. i \\<in>\\<^sub>\\<circ> I};\n                     x \\<noteq> 0\\<rbrakk>\n                    \\<Longrightarrow> f\\<lparr>x\\<rparr>\n\\<in>\\<^sub>\\<circ> x;\n         vsv f\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using that"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x.\n              \\<lbrakk>x \\<in>\\<^sub>\\<circ> set\n        {A i |i. i \\<in>\\<^sub>\\<circ> I};\n               x \\<noteq> 0\\<rbrakk>\n              \\<Longrightarrow> ?f\\<lparr>x\\<rparr> \\<in>\\<^sub>\\<circ> x;\n   vsv ?f\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<And>x.\n                    \\<lbrakk>x \\<in>\\<^sub>\\<circ> set\n              {A i |i. i \\<in>\\<^sub>\\<circ> I};\n                     x \\<noteq> 0\\<rbrakk>\n                    \\<Longrightarrow> f\\<lparr>x\\<rparr>\n\\<in>\\<^sub>\\<circ> x;\n         vsv f\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule Axiom_of_Choice)"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<in>\\<^sub>\\<circ> set {A i |i. i \\<in>\\<^sub>\\<circ> I};\n   ?x \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> f\\<lparr>?x\\<rparr> \\<in>\\<^sub>\\<circ> ?x\n  vsv f\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> A i \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (vprojection I A i)", "define f' where \"f' = (\\<lambda>j\\<in>\\<^sub>\\<circ>I. if j = i then x else f\\<lparr>A j\\<rparr>)\""], ["proof (state)\nthis:\n  f' =\n  (\\<lambda>j\\<in>\\<^sub>\\<circ>I.\n      if j = i \\<Rightarrow> x \n       | otherwise \\<Rightarrow> f\\<lparr>A j\\<rparr>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> A i \\<Longrightarrow>\n       x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (vprojection I A i)", "show \"x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (vprojection I A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (vprojection I A i)", "unfolding vprojection_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ>\n                           (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A.\n                               f\\<lparr>i\\<rparr>)", "proof(rule rel_VLambda.vsv_vimageI2')"], ["proof (state)\ngoal (2 subgoals):\n 1. x =\n    (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A.\n        f\\<lparr>i\\<rparr>)\\<lparr>?a\\<rparr>\n 2. ?a \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                            (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A.\n                                f\\<lparr>i\\<rparr>)", "show \"f' \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ> (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A. f\\<lparr>i\\<rparr>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f' \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                            (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A.\n                                f\\<lparr>i\\<rparr>)", "unfolding vdomain_VLambda"], ["proof (prove)\ngoal (1 subgoal):\n 1. f' \\<in>\\<^sub>\\<circ> vproduct I A", "proof(intro vproductI, unfold Ball_def; (intro allI conjI impI)?)"], ["proof (state)\ngoal (3 subgoals):\n 1. vsv f'\n 2. \\<D>\\<^sub>\\<circ> f' = I\n 3. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n       f'\\<lparr>x\\<rparr> \\<in>\\<^sub>\\<circ> A x", "fix j"], ["proof (state)\ngoal (3 subgoals):\n 1. vsv f'\n 2. \\<D>\\<^sub>\\<circ> f' = I\n 3. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n       f'\\<lparr>x\\<rparr> \\<in>\\<^sub>\\<circ> A x", "assume \"j \\<in>\\<^sub>\\<circ> I\""], ["proof (state)\nthis:\n  j \\<in>\\<^sub>\\<circ> I\n\ngoal (3 subgoals):\n 1. vsv f'\n 2. \\<D>\\<^sub>\\<circ> f' = I\n 3. \\<And>x.\n       x \\<in>\\<^sub>\\<circ> I \\<Longrightarrow>\n       f'\\<lparr>x\\<rparr> \\<in>\\<^sub>\\<circ> A x", "with prems assms(2)"], ["proof (chain)\npicking this:\n  x \\<in>\\<^sub>\\<circ> A i\n  ?j \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> A ?j \\<noteq> 0\n  j \\<in>\\<^sub>\\<circ> I", "show \"f'\\<lparr>j\\<rparr> \\<in>\\<^sub>\\<circ> A j\""], ["proof (prove)\nusing this:\n  x \\<in>\\<^sub>\\<circ> A i\n  ?j \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> A ?j \\<noteq> 0\n  j \\<in>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. f'\\<lparr>j\\<rparr> \\<in>\\<^sub>\\<circ> A j", "unfolding f'_def"], ["proof (prove)\nusing this:\n  x \\<in>\\<^sub>\\<circ> A i\n  ?j \\<in>\\<^sub>\\<circ> I \\<Longrightarrow> A ?j \\<noteq> 0\n  j \\<in>\\<^sub>\\<circ> I\n\ngoal (1 subgoal):\n 1. (\\<lambda>j\\<in>\\<^sub>\\<circ>I.\n        if j = i \\<Rightarrow> x \n         | otherwise \\<Rightarrow> f\\<lparr>A j\\<rparr>)\\<lparr>j\\<rparr>\n    \\<in>\\<^sub>\\<circ> A j", "by (cases \\<open>j = i\\<close>) (auto intro!: f)"], ["proof (state)\nthis:\n  f'\\<lparr>j\\<rparr> \\<in>\\<^sub>\\<circ> A j\n\ngoal (2 subgoals):\n 1. vsv f'\n 2. \\<D>\\<^sub>\\<circ> f' = I", "qed (simp_all add: f'_def)"], ["proof (state)\nthis:\n  f' \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                          (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A.\n                              f\\<lparr>i\\<rparr>)\n\ngoal (1 subgoal):\n 1. x =\n    (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A.\n        f\\<lparr>i\\<rparr>)\\<lparr>f'\\<rparr>", "with assms(1)"], ["proof (chain)\npicking this:\n  i \\<in>\\<^sub>\\<circ> I\n  f' \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                          (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A.\n                              f\\<lparr>i\\<rparr>)", "show \"x = (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A. f\\<lparr>i\\<rparr>)\\<lparr>f'\\<rparr>\""], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n  f' \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                          (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A.\n                              f\\<lparr>i\\<rparr>)\n\ngoal (1 subgoal):\n 1. x =\n    (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A.\n        f\\<lparr>i\\<rparr>)\\<lparr>f'\\<rparr>", "unfolding f'_def"], ["proof (prove)\nusing this:\n  i \\<in>\\<^sub>\\<circ> I\n  (\\<lambda>j\\<in>\\<^sub>\\<circ>I.\n      if j = i \\<Rightarrow> x \n       | otherwise \\<Rightarrow> f\\<lparr>A j\\<rparr>)\n  \\<in>\\<^sub>\\<circ> \\<D>\\<^sub>\\<circ>\n                       (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A.\n                           f\\<lparr>i\\<rparr>)\n\ngoal (1 subgoal):\n 1. x =\n    (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A.\n        f\\<lparr>i\\<rparr>)\\<lparr>(\\<lambda>j\\<in>\\<^sub>\\<circ>I.\n if j = i \\<Rightarrow> x \n  | otherwise \\<Rightarrow> f\\<lparr>A j\\<rparr>)\\<rparr>", "by simp"], ["proof (state)\nthis:\n  x =\n  (\\<lambda>f\\<in>\\<^sub>\\<circ>vproduct I A.\n      f\\<lparr>i\\<rparr>)\\<lparr>f'\\<rparr>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<in>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (vprojection I A i)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  A i \\<subseteq>\\<^sub>\\<circ> \\<R>\\<^sub>\\<circ> (vprojection I A i)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>Cartesian power of a set\\<close>"], ["", "definition vcpower :: \"V \\<Rightarrow> V \\<Rightarrow> V\" (infixr \\<open>^\\<^sub>\\<times>\\<close> 80)\n  where \"A ^\\<^sub>\\<times> n = (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)\""], ["", "text\\<open>Rules.\\<close>"], ["", "lemma vcpowerI[intro]:\n  assumes \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)\"\n  shows \"f \\<in>\\<^sub>\\<circ> (A ^\\<^sub>\\<times> n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n", "using assms"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)\n\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n", "unfolding vcpower_def"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)\n\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)", "by auto"], ["", "lemma vcpowerD[dest]:\n  assumes \"f \\<in>\\<^sub>\\<circ> (A ^\\<^sub>\\<times> n)\"\n  shows \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)", "using assms"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\n\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)", "unfolding vcpower_def"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)\n\ngoal (1 subgoal):\n 1. f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)", "by auto"], ["", "lemma vcpowerE[elim]:\n  assumes \"f \\<in>\\<^sub>\\<circ> (A ^\\<^sub>\\<times> n)\" and \"f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A) \\<Longrightarrow> P\"\n  shows P"], ["proof (prove)\ngoal (1 subgoal):\n 1. P", "using assms"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\n  f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n.\n                            A) \\<Longrightarrow>\n  P\n\ngoal (1 subgoal):\n 1. P", "unfolding vcpower_def"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n. A)\n  f \\<in>\\<^sub>\\<circ> (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>n.\n                            A) \\<Longrightarrow>\n  P\n\ngoal (1 subgoal):\n 1. P", "by auto"], ["", "text\\<open>Set operations.\\<close>"], ["", "lemma vcpower_index_vempty[simp]: \"A ^\\<^sub>\\<times> 0 = set {0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A ^\\<^sub>\\<times> 0 = set {0}", "unfolding vcpower_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Prod>\\<^sub>\\<circ>i\\<in>\\<^sub>\\<circ>0. A) = set {0}", "by (rule vproduct_index_vempty)"], ["", "lemma vcpower_of_vempty: \n  assumes \"n \\<noteq> 0\"\n  shows \"0 ^\\<^sub>\\<times> n = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 ^\\<^sub>\\<times> n = 0", "using assms"], ["proof (prove)\nusing this:\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 0 ^\\<^sub>\\<times> n = 0", "unfolding vcpower_def vproduct_def"], ["proof (prove)\nusing this:\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. set {f. vsv f \\<and>\n            \\<D>\\<^sub>\\<circ> f = n \\<and>\n            (\\<forall>i\\<in>elts n.\n                f\\<lparr>i\\<rparr> \\<in>\\<^sub>\\<circ> 0)} =\n    0", "by simp"], ["", "text\\<open>Connections.\\<close>"], ["", "lemma vcpower_vdomain: \n  assumes \"f \\<in>\\<^sub>\\<circ> (A ^\\<^sub>\\<times> n)\"\n  shows \"\\<D>\\<^sub>\\<circ> f = n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> f = n", "using assms"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\n\ngoal (1 subgoal):\n 1. \\<D>\\<^sub>\\<circ> f = n", "by auto"], ["", "lemma vcpower_vrange:\n  assumes \"f \\<in>\\<^sub>\\<circ> (A ^\\<^sub>\\<times> n)\"\n  shows \"\\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "using assms"], ["proof (prove)\nusing this:\n  f \\<in>\\<^sub>\\<circ> A ^\\<^sub>\\<times> n\n\ngoal (1 subgoal):\n 1. \\<R>\\<^sub>\\<circ> f \\<subseteq>\\<^sub>\\<circ> A", "by (intro vsubsetI; elim vcpowerE vproductE) auto"], ["", "text\\<open>\\newpage\\<close>"], ["", "end"]]}