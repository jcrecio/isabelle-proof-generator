{"file_name": "/home/qj213/afp-2021-10-22/thys/POPLmark-deBruijn/POPLmark.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/POPLmark-deBruijn", "problem_names": ["lemma liftE_length [simp]: \"\\<parallel>\\<up>\\<^sub>e n k \\<Gamma>\\<parallel> = \\<parallel>\\<Gamma>\\<parallel>\"", "lemma substE_length [simp]: \"\\<parallel>\\<Gamma>[k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e\\<parallel> = \\<parallel>\\<Gamma>\\<parallel>\"", "lemma liftE_nth [simp]:\n  \"(\\<up>\\<^sub>e n k \\<Gamma>)\\<langle>i\\<rangle> = map_option (mapB (\\<up>\\<^sub>\\<tau> n (k + \\<parallel>\\<Gamma>\\<parallel> - i - 1))) (\\<Gamma>\\<langle>i\\<rangle>)\"", "lemma substE_nth [simp]:\n  \"(\\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e)\\<langle>i\\<rangle> = map_option (mapB (\\<lambda>U. U[\\<parallel>\\<Gamma>\\<parallel> - i - 1 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>)) (\\<Gamma>\\<langle>i\\<rangle>)\"", "lemma liftT_liftT [simp]:\n  \"i \\<le> j \\<Longrightarrow> j \\<le> i + m \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T) = \\<up>\\<^sub>\\<tau> (m + n) i T\"", "lemma liftT_liftT' [simp]:\n  \"i + m \\<le> j \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T) = \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T)\"", "lemma lift_size [simp]: \"size (\\<up>\\<^sub>\\<tau> n k T) = size T\"", "lemma liftT0 [simp]: \"\\<up>\\<^sub>\\<tau> 0 i T = T\"", "lemma lift0 [simp]: \"\\<up> 0 i t = t\"", "theorem substT_liftT [simp]:\n  \"k \\<le> k' \\<Longrightarrow> k' < k + n \\<Longrightarrow> (\\<up>\\<^sub>\\<tau> n k T)[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> = \\<up>\\<^sub>\\<tau> (n - 1) k T\"", "theorem liftT_substT [simp]:\n  \"k \\<le> k' \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k (T[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) = \\<up>\\<^sub>\\<tau> n k T[k' + n \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\"", "theorem liftT_substT' [simp]: \"k' < k \\<Longrightarrow>\n  \\<up>\\<^sub>\\<tau> n k (T[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) = \\<up>\\<^sub>\\<tau> n (k + 1) T[k' \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n (k - k') U]\\<^sub>\\<tau>\"", "lemma liftT_substT_Top [simp]:\n  \"k \\<le> k' \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k' (T[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) = \\<up>\\<^sub>\\<tau> n (Suc k') T[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\"", "lemma liftT_substT_strange:\n  \"\\<up>\\<^sub>\\<tau> n k T[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> = \\<up>\\<^sub>\\<tau> n (Suc k) T[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0 U]\\<^sub>\\<tau>\"", "lemma lift_lift [simp]:\n  \"k \\<le> k' \\<Longrightarrow> k' \\<le> k + n \\<Longrightarrow> \\<up> n' k' (\\<up> n k t) = \\<up> (n + n') k t\"", "lemma substT_substT:\n  \"i \\<le> j \\<Longrightarrow> T[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j - i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> = T[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>\"", "lemma wf_TVarB: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> TVarB T \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\"", "lemma wf_VarB: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> VarB T \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\"", "lemma map_is_TVarb:\n  \"map is_TVarB \\<Gamma>' = map is_TVarB \\<Gamma> \\<Longrightarrow>\n    \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB T\\<rfloor> \\<Longrightarrow> \\<exists>T. \\<Gamma>'\\<langle>i\\<rangle> = \\<lfloor>TVarB T\\<rfloor>\"", "lemma wf_equallength:\n  assumes H: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\"\n  shows \"map is_TVarB \\<Gamma>' = map is_TVarB \\<Gamma> \\<Longrightarrow> \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f T\"", "lemma wfE_replace:\n  \"\\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B' \\<Longrightarrow> is_TVarB B' = is_TVarB B \\<Longrightarrow>\n    \\<Delta> @ B' \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\"", "lemma wf_weaken:\n  assumes H: \"\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\"\n  shows \"\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\"", "lemma wf_weaken': \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 T\"", "lemma wfE_weaken: \"\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\"", "lemma wf_liftB:\n  assumes H: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\"\n  shows \"\\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i) 0 T\"", "theorem wf_subst:\n  \"\\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\"", "theorem wfE_subst: \"\\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\"", "lemma wf_subtype_env:\n  assumes PQ: \"\\<Gamma> \\<turnstile> P <: Q\"\n  shows \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\"", "lemma wf_subtype:\n  assumes PQ: \"\\<Gamma> \\<turnstile> P <: Q\"\n  shows \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P \\<and> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\"", "lemma wf_subtypeE:\n  assumes H: \"\\<Gamma> \\<turnstile> T <: U\"\n  and H': \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U \\<Longrightarrow> P\"\n  shows \"P\"", "lemma wf_subtype_conj:\n  \"\\<Gamma> \\<turnstile> T <: U \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<and> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<and> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\"", "lemma subtype_refl: \\<comment> \\<open>A.1\\<close>\n  \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Gamma> \\<turnstile> T <: T\"", "lemma subtype_weaken:\n  assumes H: \"\\<Delta> @ \\<Gamma> \\<turnstile> P <: Q\"\n  and wf: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\"\n  shows \"\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> P <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> Q\"", "lemma subtype_weaken': \\<comment> \\<open>A.2\\<close>\n  \"\\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Q\"", "lemma subtype_trans: \\<comment> \\<open>A.3\\<close>\n  \"\\<Gamma> \\<turnstile> S <: Q \\<Longrightarrow> \\<Gamma> \\<turnstile> Q <: T \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\"\n  \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> M <: N \\<Longrightarrow> \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n     \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> M <: N\"", "lemma substT_subtype: \\<comment> \\<open>A.10\\<close>\n  assumes H: \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T\"\n  shows \"\\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @ \\<Gamma> \\<turnstile> S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\"", "lemma subst_subtype:\n  assumes H: \"\\<Delta> @ VarB V \\<Colon> \\<Gamma> \\<turnstile> T <: U\"\n  shows \"\\<down>\\<^sub>e 1 0 \\<Delta> @ \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T <: \\<down>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> U\"", "theorem wf_typeE1:\n  assumes H: \"\\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\"", "theorem wf_typeE2:\n  assumes H: \"\\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\"", "lemma wf_type_conj: \"\\<Gamma> \\<turnstile> t : T \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<and> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\"", "lemma narrow_type: \\<comment> \\<open>A.7\\<close>\n  assumes H: \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : T\"", "lemma subtype_refl':\n  assumes t: \"\\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile> T <: T\"", "lemma Abs_type: \\<comment> \\<open>A.13(1)\\<close>\n  assumes H: \"\\<Gamma> \\<turnstile> (\\<lambda>:S. s) : T\"\n  shows \"\\<Gamma> \\<turnstile> T <: U \\<rightarrow> U' \\<Longrightarrow>\n    (\\<And>S'. \\<Gamma> \\<turnstile> U <: S \\<Longrightarrow> VarB S \\<Colon> \\<Gamma> \\<turnstile> s : S' \\<Longrightarrow>\n      \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U' \\<Longrightarrow> P) \\<Longrightarrow> P\"", "lemma Abs_type':\n  assumes H: \"\\<Gamma> \\<turnstile> (\\<lambda>:S. s) : U \\<rightarrow> U'\"\n  and R: \"\\<And>S'. \\<Gamma> \\<turnstile> U <: S \\<Longrightarrow> VarB S \\<Colon> \\<Gamma> \\<turnstile> s : S' \\<Longrightarrow>\n    \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U' \\<Longrightarrow> P\"\n  shows \"P\"", "lemma TAbs_type: \\<comment> \\<open>A.13(2)\\<close>\n  assumes H: \"\\<Gamma> \\<turnstile> (\\<lambda><:S. s) : T\"\n  shows \"\\<Gamma> \\<turnstile> T <: (\\<forall><:U. U') \\<Longrightarrow>\n    (\\<And>S'. \\<Gamma> \\<turnstile> U <: S \\<Longrightarrow> TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S' \\<Longrightarrow>\n      TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U' \\<Longrightarrow> P) \\<Longrightarrow> P\"", "lemma TAbs_type':\n  assumes H: \"\\<Gamma> \\<turnstile> (\\<lambda><:S. s) : (\\<forall><:U. U')\"\n  and R: \"\\<And>S'. \\<Gamma> \\<turnstile> U <: S \\<Longrightarrow> TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S' \\<Longrightarrow>\n    TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U' \\<Longrightarrow> P\"\n  shows \"P\"", "lemma T_eq: \"\\<Gamma> \\<turnstile> t : T \\<Longrightarrow> T = T' \\<Longrightarrow> \\<Gamma> \\<turnstile> t : T'\"", "lemma type_weaken:\n  assumes H: \"\\<Delta> @ \\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B \\<Longrightarrow>\n    \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile> \\<up> 1 \\<parallel>\\<Delta>\\<parallel> t : \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\"", "lemma type_weaken': \\<comment> \\<open>A.5(6)\\<close>\n  \"\\<Gamma> \\<turnstile> t : T \\<Longrightarrow> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Delta> @ \\<Gamma> \\<turnstile> \\<up> \\<parallel>\\<Delta>\\<parallel> 0 t : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 T\"", "theorem subst_type: \\<comment> \\<open>A.8\\<close>\n  assumes H: \"\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n    \\<down>\\<^sub>e 1 0 \\<Delta> @ \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\"", "theorem substT_type: \\<comment> \\<open>A.11\\<close>\n  assumes H: \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n    \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @ \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\"", "theorem preservation: \\<comment> \\<open>A.20\\<close>\n  assumes H: \"\\<Gamma> \\<turnstile> t : T\"\n  shows \"t \\<longmapsto> t' \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\"", "lemma Fun_canonical: \\<comment> \\<open>A.14(1)\\<close>\n  assumes ty: \"[] \\<turnstile> v : T\\<^sub>1 \\<rightarrow> T\\<^sub>2\"\n  shows \"v \\<in> value \\<Longrightarrow> \\<exists>t S. v = (\\<lambda>:S. t)\"", "lemma TyAll_canonical: \\<comment> \\<open>A.14(3)\\<close>\n  assumes ty: \"[] \\<turnstile> v : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\"\n  shows \"v \\<in> value \\<Longrightarrow> \\<exists>t S. v = (\\<lambda><:S. t)\"", "theorem progress:\n  assumes ty: \"[] \\<turnstile> t : T\"\n  shows \"t \\<in> value \\<or> (\\<exists>t'. t \\<longmapsto> t')\""], "translations": [["", "lemma liftE_length [simp]: \"\\<parallel>\\<up>\\<^sub>e n k \\<Gamma>\\<parallel> = \\<parallel>\\<Gamma>\\<parallel>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>\\<up>\\<^sub>e n k \\<Gamma>\\<parallel> =\n    \\<parallel>\\<Gamma>\\<parallel>", "by (induct \\<Gamma>) simp_all"], ["", "lemma substE_length [simp]: \"\\<parallel>\\<Gamma>[k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e\\<parallel> = \\<parallel>\\<Gamma>\\<parallel>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>\\<Gamma>[k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e\\<parallel> =\n    \\<parallel>\\<Gamma>\\<parallel>", "by (induct \\<Gamma>) simp_all"], ["", "lemma liftE_nth [simp]:\n  \"(\\<up>\\<^sub>e n k \\<Gamma>)\\<langle>i\\<rangle> = map_option (mapB (\\<up>\\<^sub>\\<tau> n (k + \\<parallel>\\<Gamma>\\<parallel> - i - 1))) (\\<Gamma>\\<langle>i\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e n k \\<Gamma>\\<langle>i\\<rangle> =\n    map_option\n     (mapB\n       (\\<up>\\<^sub>\\<tau> n (k + \\<parallel>\\<Gamma>\\<parallel> - i - 1)))\n     (\\<Gamma>\\<langle>i\\<rangle>)", "apply (induct \\<Gamma> arbitrary: i)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>i.\n       \\<up>\\<^sub>e n k []\\<langle>i\\<rangle> =\n       map_option\n        (mapB (\\<up>\\<^sub>\\<tau> n (k + \\<parallel>[]\\<parallel> - i - 1)))\n        ([]\\<langle>i\\<rangle>)\n 2. \\<And>a \\<Gamma> i.\n       (\\<And>i.\n           \\<up>\\<^sub>e n k \\<Gamma>\\<langle>i\\<rangle> =\n           map_option\n            (mapB\n              (\\<up>\\<^sub>\\<tau> n\n                (k + \\<parallel>\\<Gamma>\\<parallel> - i - 1)))\n            (\\<Gamma>\\<langle>i\\<rangle>)) \\<Longrightarrow>\n       \\<up>\\<^sub>e n k (a \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n       map_option\n        (mapB\n          (\\<up>\\<^sub>\\<tau> n\n            (k + \\<parallel>a \\<Colon> \\<Gamma>\\<parallel> - i - 1)))\n        ((a \\<Colon> \\<Gamma>)\\<langle>i\\<rangle>)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Gamma> i.\n       (\\<And>i.\n           \\<up>\\<^sub>e n k \\<Gamma>\\<langle>i\\<rangle> =\n           map_option\n            (mapB\n              (\\<up>\\<^sub>\\<tau> n\n                (k + \\<parallel>\\<Gamma>\\<parallel> - i - 1)))\n            (\\<Gamma>\\<langle>i\\<rangle>)) \\<Longrightarrow>\n       \\<up>\\<^sub>e n k (a \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n       map_option\n        (mapB\n          (\\<up>\\<^sub>\\<tau> n\n            (k + \\<parallel>a \\<Colon> \\<Gamma>\\<parallel> - i - 1)))\n        ((a \\<Colon> \\<Gamma>)\\<langle>i\\<rangle>)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Gamma> i.\n       (\\<And>i.\n           \\<up>\\<^sub>e n k \\<Gamma>\\<langle>i\\<rangle> =\n           map_option\n            (mapB\n              (\\<up>\\<^sub>\\<tau> n\n                (k + \\<parallel>\\<Gamma>\\<parallel> - Suc i)))\n            (\\<Gamma>\\<langle>i\\<rangle>)) \\<Longrightarrow>\n       (case i of\n        0 \\<Rightarrow>\n          \\<lfloor>mapB\n                    (\\<up>\\<^sub>\\<tau> n\n                      (k + \\<parallel>\\<Gamma>\\<parallel>))\n                    a\\<rfloor>\n        | Suc j \\<Rightarrow>\n            \\<up>\\<^sub>e n k \\<Gamma>\\<langle>j\\<rangle>) =\n       map_option\n        (mapB\n          (\\<up>\\<^sub>\\<tau> n (k + \\<parallel>\\<Gamma>\\<parallel> - i)))\n        (case i of 0 \\<Rightarrow> \\<lfloor>a\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>)", "apply (case_tac i)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Gamma> i.\n       \\<lbrakk>\\<And>i.\n                   \\<up>\\<^sub>e n k \\<Gamma>\\<langle>i\\<rangle> =\n                   map_option\n                    (mapB\n                      (\\<up>\\<^sub>\\<tau> n\n                        (k + \\<parallel>\\<Gamma>\\<parallel> - Suc i)))\n                    (\\<Gamma>\\<langle>i\\<rangle>);\n        i = 0\\<rbrakk>\n       \\<Longrightarrow> (case i of\n                          0 \\<Rightarrow>\n                            \\<lfloor>mapB\n(\\<up>\\<^sub>\\<tau> n (k + \\<parallel>\\<Gamma>\\<parallel>)) a\\<rfloor>\n                          | Suc j \\<Rightarrow>\n                              \\<up>\\<^sub>e n k\n                               \\<Gamma>\\<langle>j\\<rangle>) =\n                         map_option\n                          (mapB\n                            (\\<up>\\<^sub>\\<tau> n\n                              (k + \\<parallel>\\<Gamma>\\<parallel> - i)))\n                          (case i of 0 \\<Rightarrow> \\<lfloor>a\\<rfloor>\n                           | Suc j \\<Rightarrow>\n                               \\<Gamma>\\<langle>j\\<rangle>)\n 2. \\<And>a \\<Gamma> i nat.\n       \\<lbrakk>\\<And>i.\n                   \\<up>\\<^sub>e n k \\<Gamma>\\<langle>i\\<rangle> =\n                   map_option\n                    (mapB\n                      (\\<up>\\<^sub>\\<tau> n\n                        (k + \\<parallel>\\<Gamma>\\<parallel> - Suc i)))\n                    (\\<Gamma>\\<langle>i\\<rangle>);\n        i = Suc nat\\<rbrakk>\n       \\<Longrightarrow> (case i of\n                          0 \\<Rightarrow>\n                            \\<lfloor>mapB\n(\\<up>\\<^sub>\\<tau> n (k + \\<parallel>\\<Gamma>\\<parallel>)) a\\<rfloor>\n                          | Suc j \\<Rightarrow>\n                              \\<up>\\<^sub>e n k\n                               \\<Gamma>\\<langle>j\\<rangle>) =\n                         map_option\n                          (mapB\n                            (\\<up>\\<^sub>\\<tau> n\n                              (k + \\<parallel>\\<Gamma>\\<parallel> - i)))\n                          (case i of 0 \\<Rightarrow> \\<lfloor>a\\<rfloor>\n                           | Suc j \\<Rightarrow>\n                               \\<Gamma>\\<langle>j\\<rangle>)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Gamma> i nat.\n       \\<lbrakk>\\<And>i.\n                   \\<up>\\<^sub>e n k \\<Gamma>\\<langle>i\\<rangle> =\n                   map_option\n                    (mapB\n                      (\\<up>\\<^sub>\\<tau> n\n                        (k + \\<parallel>\\<Gamma>\\<parallel> - Suc i)))\n                    (\\<Gamma>\\<langle>i\\<rangle>);\n        i = Suc nat\\<rbrakk>\n       \\<Longrightarrow> (case i of\n                          0 \\<Rightarrow>\n                            \\<lfloor>mapB\n(\\<up>\\<^sub>\\<tau> n (k + \\<parallel>\\<Gamma>\\<parallel>)) a\\<rfloor>\n                          | Suc j \\<Rightarrow>\n                              \\<up>\\<^sub>e n k\n                               \\<Gamma>\\<langle>j\\<rangle>) =\n                         map_option\n                          (mapB\n                            (\\<up>\\<^sub>\\<tau> n\n                              (k + \\<parallel>\\<Gamma>\\<parallel> - i)))\n                          (case i of 0 \\<Rightarrow> \\<lfloor>a\\<rfloor>\n                           | Suc j \\<Rightarrow>\n                               \\<Gamma>\\<langle>j\\<rangle>)", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma substE_nth [simp]:\n  \"(\\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e)\\<langle>i\\<rangle> = map_option (mapB (\\<lambda>U. U[\\<parallel>\\<Gamma>\\<parallel> - i - 1 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>)) (\\<Gamma>\\<langle>i\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>i\\<rangle> =\n    map_option\n     (mapB\n       (\\<lambda>U.\n           U[\\<parallel>\\<Gamma>\\<parallel> - i -\n             1 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n     (\\<Gamma>\\<langle>i\\<rangle>)", "apply (induct \\<Gamma> arbitrary: i)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>i.\n       [][0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>i\\<rangle> =\n       map_option\n        (mapB\n          (\\<lambda>U.\n              U[\\<parallel>[]\\<parallel> - i -\n                1 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n        ([]\\<langle>i\\<rangle>)\n 2. \\<And>a \\<Gamma> i.\n       (\\<And>i.\n           \\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>i\\<rangle> =\n           map_option\n            (mapB\n              (\\<lambda>U.\n                  U[\\<parallel>\\<Gamma>\\<parallel> - i -\n                    1 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n            (\\<Gamma>\\<langle>i\\<rangle>)) \\<Longrightarrow>\n       (a \\<Colon>\n        \\<Gamma>)[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>i\\<rangle> =\n       map_option\n        (mapB\n          (\\<lambda>U.\n              U[\\<parallel>a \\<Colon> \\<Gamma>\\<parallel> - i -\n                1 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n        ((a \\<Colon> \\<Gamma>)\\<langle>i\\<rangle>)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Gamma> i.\n       (\\<And>i.\n           \\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>i\\<rangle> =\n           map_option\n            (mapB\n              (\\<lambda>U.\n                  U[\\<parallel>\\<Gamma>\\<parallel> - i -\n                    1 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n            (\\<Gamma>\\<langle>i\\<rangle>)) \\<Longrightarrow>\n       (a \\<Colon>\n        \\<Gamma>)[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>i\\<rangle> =\n       map_option\n        (mapB\n          (\\<lambda>U.\n              U[\\<parallel>a \\<Colon> \\<Gamma>\\<parallel> - i -\n                1 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n        ((a \\<Colon> \\<Gamma>)\\<langle>i\\<rangle>)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Gamma> i.\n       (\\<And>i.\n           \\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>i\\<rangle> =\n           map_option\n            (mapB\n              (\\<lambda>U.\n                  U[\\<parallel>\\<Gamma>\\<parallel> -\n                    Suc i \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n            (\\<Gamma>\\<langle>i\\<rangle>)) \\<Longrightarrow>\n       (case i of\n        0 \\<Rightarrow>\n          \\<lfloor>mapB\n                    (\\<lambda>U.\n                        U[\\<parallel>\\<Gamma>\\<parallel> \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>)\n                    a\\<rfloor>\n        | Suc j \\<Rightarrow>\n            \\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>j\\<rangle>) =\n       map_option\n        (mapB\n          (\\<lambda>U.\n              U[\\<parallel>\\<Gamma>\\<parallel> -\n                i \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n        (case i of 0 \\<Rightarrow> \\<lfloor>a\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>)", "apply (case_tac i)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Gamma> i.\n       \\<lbrakk>\\<And>i.\n                   \\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>i\\<rangle> =\n                   map_option\n                    (mapB\n                      (\\<lambda>U.\n                          U[\\<parallel>\\<Gamma>\\<parallel> -\n                            Suc i \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n                    (\\<Gamma>\\<langle>i\\<rangle>);\n        i = 0\\<rbrakk>\n       \\<Longrightarrow> (case i of\n                          0 \\<Rightarrow>\n                            \\<lfloor>mapB\n(\\<lambda>U.\n    U[\\<parallel>\\<Gamma>\\<parallel> \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>)\na\\<rfloor>\n                          | Suc j \\<Rightarrow>\n                              \\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>j\\<rangle>) =\n                         map_option\n                          (mapB\n                            (\\<lambda>U.\n                                U[\\<parallel>\\<Gamma>\\<parallel> -\n                                  i \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n                          (case i of 0 \\<Rightarrow> \\<lfloor>a\\<rfloor>\n                           | Suc j \\<Rightarrow>\n                               \\<Gamma>\\<langle>j\\<rangle>)\n 2. \\<And>a \\<Gamma> i nat.\n       \\<lbrakk>\\<And>i.\n                   \\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>i\\<rangle> =\n                   map_option\n                    (mapB\n                      (\\<lambda>U.\n                          U[\\<parallel>\\<Gamma>\\<parallel> -\n                            Suc i \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n                    (\\<Gamma>\\<langle>i\\<rangle>);\n        i = Suc nat\\<rbrakk>\n       \\<Longrightarrow> (case i of\n                          0 \\<Rightarrow>\n                            \\<lfloor>mapB\n(\\<lambda>U.\n    U[\\<parallel>\\<Gamma>\\<parallel> \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>)\na\\<rfloor>\n                          | Suc j \\<Rightarrow>\n                              \\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>j\\<rangle>) =\n                         map_option\n                          (mapB\n                            (\\<lambda>U.\n                                U[\\<parallel>\\<Gamma>\\<parallel> -\n                                  i \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n                          (case i of 0 \\<Rightarrow> \\<lfloor>a\\<rfloor>\n                           | Suc j \\<Rightarrow>\n                               \\<Gamma>\\<langle>j\\<rangle>)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Gamma> i nat.\n       \\<lbrakk>\\<And>i.\n                   \\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>i\\<rangle> =\n                   map_option\n                    (mapB\n                      (\\<lambda>U.\n                          U[\\<parallel>\\<Gamma>\\<parallel> -\n                            Suc i \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n                    (\\<Gamma>\\<langle>i\\<rangle>);\n        i = Suc nat\\<rbrakk>\n       \\<Longrightarrow> (case i of\n                          0 \\<Rightarrow>\n                            \\<lfloor>mapB\n(\\<lambda>U.\n    U[\\<parallel>\\<Gamma>\\<parallel> \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>)\na\\<rfloor>\n                          | Suc j \\<Rightarrow>\n                              \\<Gamma>[0 \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>e\\<langle>j\\<rangle>) =\n                         map_option\n                          (mapB\n                            (\\<lambda>U.\n                                U[\\<parallel>\\<Gamma>\\<parallel> -\n                                  i \\<mapsto>\\<^sub>\\<tau> T]\\<^sub>\\<tau>))\n                          (case i of 0 \\<Rightarrow> \\<lfloor>a\\<rfloor>\n                           | Suc j \\<Rightarrow>\n                               \\<Gamma>\\<langle>j\\<rangle>)", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma liftT_liftT [simp]:\n  \"i \\<le> j \\<Longrightarrow> j \\<le> i + m \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T) = \\<up>\\<^sub>\\<tau> (m + n) i T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>i \\<le> j; j \\<le> i + m\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T) =\n                      \\<up>\\<^sub>\\<tau> (m + n) i T", "by (induct T arbitrary: i j m n) simp_all"], ["", "lemma liftT_liftT' [simp]:\n  \"i + m \\<le> j \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T) = \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i + m \\<le> j \\<Longrightarrow>\n    \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T) =\n    \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T)", "apply (induct T arbitrary: i j m n)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x i j m n.\n       i + m \\<le> j \\<Longrightarrow>\n       \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i (TVar x)) =\n       \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) (TVar x))\n 2. \\<And>i j m n.\n       i + m \\<le> j \\<Longrightarrow>\n       \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i Top) =\n       \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) Top)\n 3. \\<And>T1 T2 i j m n.\n       \\<lbrakk>\\<And>i j m n.\n                   i + m \\<le> j \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T1) =\n                   \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T1);\n        \\<And>i j m n.\n           i + m \\<le> j \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T2) =\n           \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T2);\n        i + m \\<le> j\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n j\n                          (\\<up>\\<^sub>\\<tau> m i (T1 \\<rightarrow> T2)) =\n                         \\<up>\\<^sub>\\<tau> m i\n                          (\\<up>\\<^sub>\\<tau> n (j - m)\n                            (T1 \\<rightarrow> T2))\n 4. \\<And>T1 T2 i j m n.\n       \\<lbrakk>\\<And>i j m n.\n                   i + m \\<le> j \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T1) =\n                   \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T1);\n        \\<And>i j m n.\n           i + m \\<le> j \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T2) =\n           \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T2);\n        i + m \\<le> j\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n j\n                          (\\<up>\\<^sub>\\<tau> m i (\\<forall><:T1. T2)) =\n                         \\<up>\\<^sub>\\<tau> m i\n                          (\\<up>\\<^sub>\\<tau> n (j - m) (\\<forall><:T1. T2))", "apply simp_all"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x i j m n.\n       i + m \\<le> j \\<Longrightarrow>\n       (x + m < j \\<longrightarrow>\n        (x < i \\<longrightarrow>\n         (x + n < i \\<longrightarrow>\n          \\<not> x < j - m \\<longrightarrow> n = 0) \\<and>\n         (\\<not> x + n < i \\<longrightarrow> x < j - m)) \\<and>\n        (\\<not> x < i \\<longrightarrow>\n         \\<not> x < j - m \\<longrightarrow> n = 0)) \\<and>\n       (\\<not> x + m < j \\<longrightarrow>\n        x < j - m \\<longrightarrow> n = 0)\n 2. \\<And>T1 T2 i j m n.\n       \\<lbrakk>\\<And>i j m n.\n                   i + m \\<le> j \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T1) =\n                   \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T1);\n        \\<And>i j m n.\n           i + m \\<le> j \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T2) =\n           \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T2);\n        i + m \\<le> j\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> m (Suc i)\n                          (\\<up>\\<^sub>\\<tau> n (Suc j - m) T2) =\n                         \\<up>\\<^sub>\\<tau> m (Suc i)\n                          (\\<up>\\<^sub>\\<tau> n (Suc (j - m)) T2)", "apply arith"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 i j m n.\n       \\<lbrakk>\\<And>i j m n.\n                   i + m \\<le> j \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T1) =\n                   \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T1);\n        \\<And>i j m n.\n           i + m \\<le> j \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T2) =\n           \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T2);\n        i + m \\<le> j\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> m (Suc i)\n                          (\\<up>\\<^sub>\\<tau> n (Suc j - m) T2) =\n                         \\<up>\\<^sub>\\<tau> m (Suc i)\n                          (\\<up>\\<^sub>\\<tau> n (Suc (j - m)) T2)", "apply (subgoal_tac \"Suc j - m = Suc (j - m)\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 i j m n.\n       \\<lbrakk>\\<And>i j m n.\n                   i + m \\<le> j \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T1) =\n                   \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T1);\n        \\<And>i j m n.\n           i + m \\<le> j \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T2) =\n           \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T2);\n        i + m \\<le> j; Suc j - m = Suc (j - m)\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> m (Suc i)\n                          (\\<up>\\<^sub>\\<tau> n (Suc j - m) T2) =\n                         \\<up>\\<^sub>\\<tau> m (Suc i)\n                          (\\<up>\\<^sub>\\<tau> n (Suc (j - m)) T2)\n 2. \\<And>T1 T2 i j m n.\n       \\<lbrakk>\\<And>i j m n.\n                   i + m \\<le> j \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T1) =\n                   \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T1);\n        \\<And>i j m n.\n           i + m \\<le> j \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T2) =\n           \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T2);\n        i + m \\<le> j\\<rbrakk>\n       \\<Longrightarrow> Suc j - m = Suc (j - m)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 i j m n.\n       \\<lbrakk>\\<And>i j m n.\n                   i + m \\<le> j \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T1) =\n                   \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T1);\n        \\<And>i j m n.\n           i + m \\<le> j \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n j (\\<up>\\<^sub>\\<tau> m i T2) =\n           \\<up>\\<^sub>\\<tau> m i (\\<up>\\<^sub>\\<tau> n (j - m) T2);\n        i + m \\<le> j\\<rbrakk>\n       \\<Longrightarrow> Suc j - m = Suc (j - m)", "apply arith"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma lift_size [simp]: \"size (\\<up>\\<^sub>\\<tau> n k T) = size T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size (\\<up>\\<^sub>\\<tau> n k T) = size T", "by (induct T arbitrary: k) simp_all"], ["", "lemma liftT0 [simp]: \"\\<up>\\<^sub>\\<tau> 0 i T = T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>\\<tau> 0 i T = T", "by (induct T arbitrary: i) simp_all"], ["", "lemma lift0 [simp]: \"\\<up> 0 i t = t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<up> 0 i t = t", "by (induct t arbitrary: i) simp_all"], ["", "theorem substT_liftT [simp]:\n  \"k \\<le> k' \\<Longrightarrow> k' < k + n \\<Longrightarrow> (\\<up>\\<^sub>\\<tau> n k T)[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> = \\<up>\\<^sub>\\<tau> (n - 1) k T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>k \\<le> k'; k' < k + n\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k\n                       T[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n                      \\<up>\\<^sub>\\<tau> (n - 1) k T", "by (induct T arbitrary: k k') simp_all"], ["", "theorem liftT_substT [simp]:\n  \"k \\<le> k' \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k (T[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) = \\<up>\\<^sub>\\<tau> n k T[k' + n \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. k \\<le> k' \\<Longrightarrow>\n    \\<up>\\<^sub>\\<tau> n k (T[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n    \\<up>\\<^sub>\\<tau> n k T[k' + n \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>", "apply (induct T arbitrary: k k')"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x k k'.\n       k \\<le> k' \\<Longrightarrow>\n       \\<up>\\<^sub>\\<tau> n k\n        (TVar x[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n       \\<up>\\<^sub>\\<tau> n k\n        (TVar x)[k' + n \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 2. \\<And>k k'.\n       k \\<le> k' \\<Longrightarrow>\n       \\<up>\\<^sub>\\<tau> n k\n        (Top[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n       \\<up>\\<^sub>\\<tau> n k\n        Top[k' + n \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 3. \\<And>T1 T2 k k'.\n       \\<lbrakk>\\<And>k k'.\n                   k \\<le> k' \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n k\n                    (T1[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n                   \\<up>\\<^sub>\\<tau> n k\n                    T1[k' + n \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>k k'.\n           k \\<le> k' \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n k\n            (T2[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n           \\<up>\\<^sub>\\<tau> n k\n            T2[k' + n \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        k \\<le> k'\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k\n                          ((T1 \\<rightarrow>\n                            T2)[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n                         \\<up>\\<^sub>\\<tau> n k\n                          (T1 \\<rightarrow>\n                           T2)[k' + n \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 4. \\<And>T1 T2 k k'.\n       \\<lbrakk>\\<And>k k'.\n                   k \\<le> k' \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n k\n                    (T1[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n                   \\<up>\\<^sub>\\<tau> n k\n                    T1[k' + n \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>k k'.\n           k \\<le> k' \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n k\n            (T2[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n           \\<up>\\<^sub>\\<tau> n k\n            T2[k' + n \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        k \\<le> k'\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k\n                          ((\\<forall><:T1.\n                               T2)[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n                         \\<up>\\<^sub>\\<tau> n k\n                          (\\<forall><:T1.\n                              T2)[k' +\n                                  n \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>", "apply simp_all"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "theorem liftT_substT' [simp]: \"k' < k \\<Longrightarrow>\n  \\<up>\\<^sub>\\<tau> n k (T[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) = \\<up>\\<^sub>\\<tau> n (k + 1) T[k' \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n (k - k') U]\\<^sub>\\<tau>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. k' < k \\<Longrightarrow>\n    \\<up>\\<^sub>\\<tau> n k (T[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n    \\<up>\\<^sub>\\<tau> n (k + 1)\n     T[k' \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n (k - k')\n                                  U]\\<^sub>\\<tau>", "apply (induct T arbitrary: k k')"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x k k'.\n       k' < k \\<Longrightarrow>\n       \\<up>\\<^sub>\\<tau> n k\n        (TVar x[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n       \\<up>\\<^sub>\\<tau> n (k + 1)\n        (TVar\n          x)[k' \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n (k - k')\n  U]\\<^sub>\\<tau>\n 2. \\<And>k k'.\n       k' < k \\<Longrightarrow>\n       \\<up>\\<^sub>\\<tau> n k\n        (Top[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n       \\<up>\\<^sub>\\<tau> n (k + 1)\n        Top[k' \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n (k - k')\n U]\\<^sub>\\<tau>\n 3. \\<And>T1 T2 k k'.\n       \\<lbrakk>\\<And>k k'.\n                   k' < k \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n k\n                    (T1[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n                   \\<up>\\<^sub>\\<tau> n (k + 1)\n                    T1[k' \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n\n            (k - k') U]\\<^sub>\\<tau>;\n        \\<And>k k'.\n           k' < k \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n k\n            (T2[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n           \\<up>\\<^sub>\\<tau> n (k + 1)\n            T2[k' \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n (k - k')\n    U]\\<^sub>\\<tau>;\n        k' < k\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k\n                          ((T1 \\<rightarrow>\n                            T2)[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n                         \\<up>\\<^sub>\\<tau> n (k + 1)\n                          (T1 \\<rightarrow>\n                           T2)[k' \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau>\n                    n (k - k') U]\\<^sub>\\<tau>\n 4. \\<And>T1 T2 k k'.\n       \\<lbrakk>\\<And>k k'.\n                   k' < k \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n k\n                    (T1[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n                   \\<up>\\<^sub>\\<tau> n (k + 1)\n                    T1[k' \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n\n            (k - k') U]\\<^sub>\\<tau>;\n        \\<And>k k'.\n           k' < k \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n k\n            (T2[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n           \\<up>\\<^sub>\\<tau> n (k + 1)\n            T2[k' \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n (k - k')\n    U]\\<^sub>\\<tau>;\n        k' < k\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k\n                          ((\\<forall><:T1.\n                               T2)[k' \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) =\n                         \\<up>\\<^sub>\\<tau> n (k + 1)\n                          (\\<forall><:T1.\n                              T2)[k' \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau>\n                       n (k - k') U]\\<^sub>\\<tau>", "apply simp_all"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x k k'.\n       k' < k \\<Longrightarrow>\n       \\<not> x - Suc 0 < k \\<longrightarrow>\n       x \\<noteq> k' \\<longrightarrow>\n       k' < x \\<longrightarrow> x < Suc k \\<longrightarrow> n = 0", "apply arith"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma liftT_substT_Top [simp]:\n  \"k \\<le> k' \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k' (T[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) = \\<up>\\<^sub>\\<tau> n (Suc k') T[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. k \\<le> k' \\<Longrightarrow>\n    \\<up>\\<^sub>\\<tau> n k' (T[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) =\n    \\<up>\\<^sub>\\<tau> n (Suc k')\n     T[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>", "apply (induct T arbitrary: k k')"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x k k'.\n       k \\<le> k' \\<Longrightarrow>\n       \\<up>\\<^sub>\\<tau> n k'\n        (TVar x[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) =\n       \\<up>\\<^sub>\\<tau> n (Suc k')\n        (TVar x)[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>k k'.\n       k \\<le> k' \\<Longrightarrow>\n       \\<up>\\<^sub>\\<tau> n k'\n        (Top[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) =\n       \\<up>\\<^sub>\\<tau> n (Suc k')\n        Top[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T1 T2 k k'.\n       \\<lbrakk>\\<And>k k'.\n                   k \\<le> k' \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n k'\n                    (T1[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) =\n                   \\<up>\\<^sub>\\<tau> n (Suc k')\n                    T1[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<And>k k'.\n           k \\<le> k' \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n k'\n            (T2[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) =\n           \\<up>\\<^sub>\\<tau> n (Suc k')\n            T2[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        k \\<le> k'\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k'\n                          ((T1 \\<rightarrow>\n                            T2)[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) =\n                         \\<up>\\<^sub>\\<tau> n (Suc k')\n                          (T1 \\<rightarrow>\n                           T2)[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T1 T2 k k'.\n       \\<lbrakk>\\<And>k k'.\n                   k \\<le> k' \\<Longrightarrow>\n                   \\<up>\\<^sub>\\<tau> n k'\n                    (T1[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) =\n                   \\<up>\\<^sub>\\<tau> n (Suc k')\n                    T1[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<And>k k'.\n           k \\<le> k' \\<Longrightarrow>\n           \\<up>\\<^sub>\\<tau> n k'\n            (T2[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) =\n           \\<up>\\<^sub>\\<tau> n (Suc k')\n            T2[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        k \\<le> k'\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k'\n                          ((\\<forall><:T1.\n                               T2)[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) =\n                         \\<up>\\<^sub>\\<tau> n (Suc k')\n                          (\\<forall><:T1.\n                              T2)[k \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>", "apply simp_all"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x k k'.\n       k \\<le> k' \\<Longrightarrow>\n       \\<not> x - Suc 0 < k' \\<longrightarrow>\n       x \\<noteq> k \\<longrightarrow>\n       k < x \\<longrightarrow> x < Suc k' \\<longrightarrow> n = 0", "apply arith"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma liftT_substT_strange:\n  \"\\<up>\\<^sub>\\<tau> n k T[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> = \\<up>\\<^sub>\\<tau> n (Suc k) T[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0 U]\\<^sub>\\<tau>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>\\<tau> n k T[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n    \\<up>\\<^sub>\\<tau> n (Suc k)\n     T[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0 U]\\<^sub>\\<tau>", "apply (induct T arbitrary: n k)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x n k.\n       \\<up>\\<^sub>\\<tau> n k\n        (TVar x)[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n       \\<up>\\<^sub>\\<tau> n (Suc k)\n        (TVar\n          x)[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0 U]\\<^sub>\\<tau>\n 2. \\<And>n k.\n       \\<up>\\<^sub>\\<tau> n k\n        Top[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n       \\<up>\\<^sub>\\<tau> n (Suc k)\n        Top[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0 U]\\<^sub>\\<tau>\n 3. \\<And>T1 T2 n k.\n       \\<lbrakk>\\<And>n k.\n                   \\<up>\\<^sub>\\<tau> n k\n                    T1[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n                   \\<up>\\<^sub>\\<tau> n (Suc k)\n                    T1[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0\n           U]\\<^sub>\\<tau>;\n        \\<And>n k.\n           \\<up>\\<^sub>\\<tau> n k\n            T2[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n           \\<up>\\<^sub>\\<tau> n (Suc k)\n            T2[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0\n   U]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k\n                          (T1 \\<rightarrow>\n                           T2)[n +\n                               k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> n (Suc k)\n                          (T1 \\<rightarrow>\n                           T2)[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n\n                   0 U]\\<^sub>\\<tau>\n 4. \\<And>T1 T2 n k.\n       \\<lbrakk>\\<And>n k.\n                   \\<up>\\<^sub>\\<tau> n k\n                    T1[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n                   \\<up>\\<^sub>\\<tau> n (Suc k)\n                    T1[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0\n           U]\\<^sub>\\<tau>;\n        \\<And>n k.\n           \\<up>\\<^sub>\\<tau> n k\n            T2[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n           \\<up>\\<^sub>\\<tau> n (Suc k)\n            T2[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0\n   U]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n k\n                          (\\<forall><:T1.\n                              T2)[n +\n                                  k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> n (Suc k)\n                          (\\<forall><:T1.\n                              T2)[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau>\n                      n 0 U]\\<^sub>\\<tau>", "apply simp_all"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 n k.\n       \\<lbrakk>\\<And>n k.\n                   \\<up>\\<^sub>\\<tau> n k\n                    T1[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n                   \\<up>\\<^sub>\\<tau> n (Suc k)\n                    T1[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0\n           U]\\<^sub>\\<tau>;\n        \\<And>n k.\n           \\<up>\\<^sub>\\<tau> n k\n            T2[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n           \\<up>\\<^sub>\\<tau> n (Suc k)\n            T2[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0\n   U]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> n (Suc k)\n                          T2[Suc (n +\n                                  k) \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> n (Suc (Suc k))\n                          T2[Suc k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau>\n                     n 0 U]\\<^sub>\\<tau>", "apply (thin_tac \"\\<And>x. PROP P x\" for P :: \"_ \\<Rightarrow> prop\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 n k.\n       (\\<And>n k.\n           \\<up>\\<^sub>\\<tau> n k\n            T2[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n           \\<up>\\<^sub>\\<tau> n (Suc k)\n            T2[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0\n   U]\\<^sub>\\<tau>) \\<Longrightarrow>\n       \\<up>\\<^sub>\\<tau> n (Suc k)\n        T2[Suc (n + k) \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n       \\<up>\\<^sub>\\<tau> n (Suc (Suc k))\n        T2[Suc k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0\n   U]\\<^sub>\\<tau>", "apply (drule_tac x=n in meta_spec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 n k.\n       (\\<And>k.\n           \\<up>\\<^sub>\\<tau> n k\n            T2[n + k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n           \\<up>\\<^sub>\\<tau> n (Suc k)\n            T2[k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0\n   U]\\<^sub>\\<tau>) \\<Longrightarrow>\n       \\<up>\\<^sub>\\<tau> n (Suc k)\n        T2[Suc (n + k) \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n       \\<up>\\<^sub>\\<tau> n (Suc (Suc k))\n        T2[Suc k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0\n   U]\\<^sub>\\<tau>", "apply (drule_tac x=\"Suc k\" in meta_spec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 n k.\n       \\<up>\\<^sub>\\<tau> n (Suc k)\n        T2[n + Suc k \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n       \\<up>\\<^sub>\\<tau> n (Suc (Suc k))\n        T2[Suc k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0\n   U]\\<^sub>\\<tau> \\<Longrightarrow>\n       \\<up>\\<^sub>\\<tau> n (Suc k)\n        T2[Suc (n + k) \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> =\n       \\<up>\\<^sub>\\<tau> n (Suc (Suc k))\n        T2[Suc k \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau> n 0\n   U]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma lift_lift [simp]:\n  \"k \\<le> k' \\<Longrightarrow> k' \\<le> k + n \\<Longrightarrow> \\<up> n' k' (\\<up> n k t) = \\<up> (n + n') k t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>k \\<le> k'; k' \\<le> k + n\\<rbrakk>\n    \\<Longrightarrow> \\<up> n' k' (\\<up> n k t) = \\<up> (n + n') k t", "by (induct t arbitrary: k k') simp_all"], ["", "lemma substT_substT:\n  \"i \\<le> j \\<Longrightarrow> T[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j - i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> = T[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<le> j \\<Longrightarrow>\n    T[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j -\n  i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n    T[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>", "apply (induct T arbitrary: i j U V)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x i j U V.\n       i \\<le> j \\<Longrightarrow>\n       TVar\n        x[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j -\n      i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n       TVar\n        x[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>\n 2. \\<And>i j U V.\n       i \\<le> j \\<Longrightarrow>\n       Top[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j -\n       i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n       Top[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>\n 3. \\<And>T1 T2 i j U V.\n       \\<lbrakk>\\<And>i j U V.\n                   i \\<le> j \\<Longrightarrow>\n                   T1[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j -\n                  i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                   T1[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>;\n        \\<And>i j U V.\n           i \\<le> j \\<Longrightarrow>\n           T2[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j -\n          i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n           T2[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>;\n        i \\<le> j\\<rbrakk>\n       \\<Longrightarrow> (T1 \\<rightarrow>\n                          T2)[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j -\n                          i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         (T1 \\<rightarrow>\n                          T2)[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>\n 4. \\<And>T1 T2 i j U V.\n       \\<lbrakk>\\<And>i j U V.\n                   i \\<le> j \\<Longrightarrow>\n                   T1[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j -\n                  i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                   T1[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>;\n        \\<And>i j U V.\n           i \\<le> j \\<Longrightarrow>\n           T2[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j -\n          i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n           T2[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>;\n        i \\<le> j\\<rbrakk>\n       \\<Longrightarrow> (\\<forall><:T1.\n                             T2)[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j -\n                             i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         (\\<forall><:T1.\n                             T2)[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>", "apply (simp_all add: diff_Suc split: nat.split)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 i j U V.\n       \\<lbrakk>\\<And>i j U V.\n                   i \\<le> j \\<Longrightarrow>\n                   T1[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j -\n                  i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                   T1[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>;\n        \\<And>i j U V.\n           i \\<le> j \\<Longrightarrow>\n           T2[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j -\n          i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n           T2[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>;\n        i \\<le> j\\<rbrakk>\n       \\<Longrightarrow> T2[Suc (Suc j) \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[Suc\n    i \\<mapsto>\\<^sub>\\<tau> U[j -\n                               i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T2[Suc i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[Suc\n                                    j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>", "apply (thin_tac \"\\<And>x. PROP P x\" for P :: \"_ \\<Rightarrow> prop\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 i j U V.\n       \\<lbrakk>\\<And>i j U V.\n                   i \\<le> j \\<Longrightarrow>\n                   T2[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[i \\<mapsto>\\<^sub>\\<tau> U[j -\n                  i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                   T2[i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>;\n        i \\<le> j\\<rbrakk>\n       \\<Longrightarrow> T2[Suc (Suc j) \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[Suc\n    i \\<mapsto>\\<^sub>\\<tau> U[j -\n                               i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T2[Suc i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[Suc\n                                    j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>", "apply (drule_tac x=\"Suc i\" in meta_spec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 i j U V.\n       \\<lbrakk>i \\<le> j;\n        \\<And>j U V.\n           Suc i \\<le> j \\<Longrightarrow>\n           T2[Suc j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[Suc\n                      i \\<mapsto>\\<^sub>\\<tau> U[j -\n           Suc i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n           T2[Suc i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> T2[Suc (Suc j) \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[Suc\n    i \\<mapsto>\\<^sub>\\<tau> U[j -\n                               i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T2[Suc i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[Suc\n                                    j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>", "apply (drule_tac x=\"Suc j\" in meta_spec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 i j U V.\n       \\<lbrakk>i \\<le> j;\n        \\<And>U V.\n           Suc i \\<le> Suc j \\<Longrightarrow>\n           T2[Suc (Suc j) \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[Suc\n                            i \\<mapsto>\\<^sub>\\<tau> U[Suc j -\n                 Suc i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n           T2[Suc i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[Suc\n                      j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> T2[Suc (Suc j) \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>[Suc\n    i \\<mapsto>\\<^sub>\\<tau> U[j -\n                               i \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T2[Suc i \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>[Suc\n                                    j \\<mapsto>\\<^sub>\\<tau> V]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "subsection \\<open>Well-formedness\\<close>"], ["", "text \\<open>\n\\label{sec:wf}\nThe subtyping and typing judgements to be defined in \\secref{sec:subtyping}\nand \\secref{sec:typing} may only operate on types and contexts that\nare well-formed. Intuitively, a type @{term T} is well-formed with respect to a\ncontext @{term \\<Gamma>}, if all variables occurring in it are defined in @{term \\<Gamma>}.\nMore precisely, if @{term T} contains a type variable @{term \"TVar i\"}, then\nthe @{term i}th element of @{term \\<Gamma>} must exist and have the form @{term \"TVarB U\"}.\n\\<close>"], ["", "inductive\n  well_formed :: \"env \\<Rightarrow> type \\<Rightarrow> bool\"  (\"_ \\<turnstile>\\<^sub>w\\<^sub>f _\" [50, 50] 50)\nwhere\n  wf_TVar: \"\\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB T\\<rfloor> \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\"\n| wf_Top: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\"\n| wf_arrow: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<rightarrow> U\"\n| wf_all: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> TVarB T \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T. U)\""], ["", "text \\<open>\nA context @{term \"\\<Gamma>\"} is well-formed, if all types occurring in it only refer to type variables\ndeclared ``further to the right'':\n\\<close>"], ["", "inductive\n  well_formedE :: \"env \\<Rightarrow> bool\"  (\"_ \\<turnstile>\\<^sub>w\\<^sub>f\" [50] 50)\n  and well_formedB :: \"env \\<Rightarrow> binding \\<Rightarrow> bool\"  (\"_ \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B _\" [50, 50] 50)\nwhere\n  \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B \\<equiv> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f type_ofB B\"\n| wf_Nil: \"[] \\<turnstile>\\<^sub>w\\<^sub>f\"\n| wf_Cons: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\""], ["", "text \\<open>\nThe judgement \\<open>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<close>, which denotes well-formedness of the binding @{term B}\nwith respect to context @{term \\<Gamma>}, is just an abbreviation for \\<open>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f type_ofB B\\<close>.\nWe now present a number of properties of the well-formedness judgements that will be used\nin the proofs in the following sections.\n\\<close>"], ["", "inductive_cases well_formed_cases:\n  \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\"\n  \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\"\n  \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<rightarrow> U\"\n  \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T. U)\""], ["", "inductive_cases well_formedE_cases:\n  \"B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\""], ["", "lemma wf_TVarB: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> TVarB T \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n    \\<Longrightarrow> TVarB T \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "by (rule wf_Cons) simp_all"], ["", "lemma wf_VarB: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> VarB T \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n    \\<Longrightarrow> VarB T \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "by (rule wf_Cons) simp_all"], ["", "lemma map_is_TVarb:\n  \"map is_TVarB \\<Gamma>' = map is_TVarB \\<Gamma> \\<Longrightarrow>\n    \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB T\\<rfloor> \\<Longrightarrow> \\<exists>T. \\<Gamma>'\\<langle>i\\<rangle> = \\<lfloor>TVarB T\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>map is_TVarB \\<Gamma>' = map is_TVarB \\<Gamma>;\n     \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T.\n                         \\<Gamma>'\\<langle>i\\<rangle> =\n                         \\<lfloor>TVarB T\\<rfloor>", "apply (induct \\<Gamma> arbitrary: \\<Gamma>' T i)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma>' T i.\n       \\<lbrakk>map is_TVarB \\<Gamma>' = map is_TVarB [];\n        []\\<langle>i\\<rangle> = \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            \\<Gamma>'\\<langle>i\\<rangle> =\n                            \\<lfloor>TVarB T\\<rfloor>\n 2. \\<And>a \\<Gamma> \\<Gamma>' T i.\n       \\<lbrakk>\\<And>\\<Gamma>' T i.\n                   \\<lbrakk>map is_TVarB \\<Gamma>' = map is_TVarB \\<Gamma>;\n                    \\<Gamma>\\<langle>i\\<rangle> =\n                    \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>T.\n  \\<Gamma>'\\<langle>i\\<rangle> = \\<lfloor>TVarB T\\<rfloor>;\n        map is_TVarB \\<Gamma>' = map is_TVarB (a \\<Colon> \\<Gamma>);\n        (a \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            \\<Gamma>'\\<langle>i\\<rangle> =\n                            \\<lfloor>TVarB T\\<rfloor>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Gamma> \\<Gamma>' T i.\n       \\<lbrakk>\\<And>\\<Gamma>' T i.\n                   \\<lbrakk>map is_TVarB \\<Gamma>' = map is_TVarB \\<Gamma>;\n                    \\<Gamma>\\<langle>i\\<rangle> =\n                    \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>T.\n  \\<Gamma>'\\<langle>i\\<rangle> = \\<lfloor>TVarB T\\<rfloor>;\n        map is_TVarB \\<Gamma>' = map is_TVarB (a \\<Colon> \\<Gamma>);\n        (a \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            \\<Gamma>'\\<langle>i\\<rangle> =\n                            \\<lfloor>TVarB T\\<rfloor>", "apply (auto split: nat.split_asm)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> z zs.\n       \\<lbrakk>\\<And>\\<Gamma>' T i.\n                   \\<lbrakk>map is_TVarB \\<Gamma>' = map is_TVarB \\<Gamma>;\n                    \\<Gamma>\\<langle>i\\<rangle> =\n                    \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>T.\n  \\<Gamma>'\\<langle>i\\<rangle> = \\<lfloor>TVarB T\\<rfloor>;\n        map is_TVarB zs = map is_TVarB \\<Gamma>; is_TVarB z\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T. z = TVarB T", "apply (case_tac z)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> z zs x1.\n       \\<lbrakk>\\<And>\\<Gamma>' T i.\n                   \\<lbrakk>map is_TVarB \\<Gamma>' = map is_TVarB \\<Gamma>;\n                    \\<Gamma>\\<langle>i\\<rangle> =\n                    \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>T.\n  \\<Gamma>'\\<langle>i\\<rangle> = \\<lfloor>TVarB T\\<rfloor>;\n        map is_TVarB zs = map is_TVarB \\<Gamma>; is_TVarB z;\n        z = VarB x1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T. z = TVarB T\n 2. \\<And>\\<Gamma> z zs x2.\n       \\<lbrakk>\\<And>\\<Gamma>' T i.\n                   \\<lbrakk>map is_TVarB \\<Gamma>' = map is_TVarB \\<Gamma>;\n                    \\<Gamma>\\<langle>i\\<rangle> =\n                    \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>T.\n  \\<Gamma>'\\<langle>i\\<rangle> = \\<lfloor>TVarB T\\<rfloor>;\n        map is_TVarB zs = map is_TVarB \\<Gamma>; is_TVarB z;\n        z = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T. z = TVarB T", "apply simp_all"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>\nA type that is well-formed in a context @{term \\<Gamma>} is also well-formed in another context\n@{term \\<Gamma>'} that contains type variable bindings at the same positions as @{term \\<Gamma>}:\n\\<close>"], ["", "lemma wf_equallength:\n  assumes H: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\"\n  shows \"map is_TVarB \\<Gamma>' = map is_TVarB \\<Gamma> \\<Longrightarrow> \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. map is_TVarB \\<Gamma>' = map is_TVarB \\<Gamma> \\<Longrightarrow>\n    \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f T", "using H"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\n\ngoal (1 subgoal):\n 1. map is_TVarB \\<Gamma>' = map is_TVarB \\<Gamma> \\<Longrightarrow>\n    \\<Gamma>' \\<turnstile>\\<^sub>w\\<^sub>f T", "by (induct arbitrary: \\<Gamma>') (auto intro: well_formed.intros dest: map_is_TVarb)"], ["", "text \\<open>\nA well-formed context of the form @{term \"\\<Delta> @ B \\<Colon> \\<Gamma>\"} remains well-formed if we replace\nthe binding @{term B} by another well-formed binding @{term B'}:\n\\<close>"], ["", "lemma wfE_replace:\n  \"\\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B' \\<Longrightarrow> is_TVarB B' = is_TVarB B \\<Longrightarrow>\n    \\<Delta> @ B' \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n     is_TVarB B' = is_TVarB B\\<rbrakk>\n    \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                      \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (induct \\<Delta>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>[] @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n     is_TVarB B' = is_TVarB B\\<rbrakk>\n    \\<Longrightarrow> [] @ B' \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n                 is_TVarB B' = is_TVarB B\\<rbrakk>\n                \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon> \\<Delta>) @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n     is_TVarB B' = is_TVarB B\\<rbrakk>\n    \\<Longrightarrow> B' \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n                 is_TVarB B' = is_TVarB B\\<rbrakk>\n                \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon> \\<Delta>) @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (erule wf_Cons)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     is_TVarB B' = is_TVarB B\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n                 is_TVarB B' = is_TVarB B\\<rbrakk>\n                \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon> \\<Delta>) @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (erule well_formedE_cases)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>is_TVarB B' = is_TVarB B;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n                 is_TVarB B' = is_TVarB B\\<rbrakk>\n                \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon> \\<Delta>) @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n                 is_TVarB B' = is_TVarB B\\<rbrakk>\n                \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon> \\<Delta>) @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon>\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B\\<rbrakk>\n       \\<Longrightarrow> a \\<Colon>\n                         \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (erule well_formedE_cases)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> a \\<Colon>\n                         \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (rule wf_Cons)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (case_tac a)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = VarB x1\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a\n 2. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a\n 3. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = VarB x1\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1\n 2. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a\n 3. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (rule wf_equallength)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = VarB x1\\<rbrakk>\n       \\<Longrightarrow> ?\\<Gamma>12 a \\<Delta>\n                          x1 \\<turnstile>\\<^sub>w\\<^sub>f x1\n 2. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = VarB x1\\<rbrakk>\n       \\<Longrightarrow> map is_TVarB (\\<Delta> @ B' \\<Colon> \\<Gamma>) =\n                         map is_TVarB (?\\<Gamma>12 a \\<Delta> x1)\n 3. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a\n 4. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply assumption"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = VarB x1\\<rbrakk>\n       \\<Longrightarrow> map is_TVarB (\\<Delta> @ B' \\<Colon> \\<Gamma>) =\n                         map is_TVarB (\\<Delta> @ B \\<Colon> \\<Gamma>)\n 2. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a\n 3. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (rule wf_equallength)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> ?\\<Gamma>15 a \\<Delta>\n                          x2 \\<turnstile>\\<^sub>w\\<^sub>f x2\n 2. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> map is_TVarB (\\<Delta> @ B' \\<Colon> \\<Gamma>) =\n                         map is_TVarB (?\\<Gamma>15 a \\<Delta> x2)\n 3. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> map is_TVarB (\\<Delta> @ B' \\<Colon> \\<Gamma>) =\n                         map is_TVarB (\\<Delta> @ B \\<Colon> \\<Gamma>)\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @ B' \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B';\n        is_TVarB B' = is_TVarB B;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ B' \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>\nThe following weakening lemmas can easily be proved by structural induction on\ntypes and contexts:\n\\<close>"], ["", "lemma wf_weaken:\n  assumes H: \"\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\"\n  shows \"\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n     \\<parallel>\\<Delta>\\<parallel> T", "using H"], ["proof (prove)\nusing this:\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n     \\<parallel>\\<Delta>\\<parallel> T", "apply (induct \"\\<Delta> @ \\<Gamma>\" T arbitrary: \\<Delta>)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i T \\<Delta>.\n       (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n       \\<lfloor>TVarB T\\<rfloor> \\<Longrightarrow>\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n        \\<parallel>\\<Delta>\\<parallel> (TVar i)\n 2. \\<And>\\<Delta>.\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n        \\<parallel>\\<Delta>\\<parallel> Top\n 3. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          (T \\<rightarrow> U)\n 4. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<And>\\<Delta>'.\n           TVarB T \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e (Suc 0) 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n            \\<parallel>\\<Delta>'\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          (\\<forall><:T. U)", "apply simp_all"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i T \\<Delta>.\n       (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n       \\<lfloor>TVarB T\\<rfloor> \\<Longrightarrow>\n       (i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i) \\<and>\n       (\\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar (Suc i))\n 2. \\<And>\\<Delta>.\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          T \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel> U\n 4. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply (rule conjI)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i T \\<Delta>.\n       (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n       \\<lfloor>TVarB T\\<rfloor> \\<Longrightarrow>\n       i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 2. \\<And>i T \\<Delta>.\n       (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n       \\<lfloor>TVarB T\\<rfloor> \\<Longrightarrow>\n       \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar (Suc i)\n 3. \\<And>\\<Delta>.\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          T \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel> U\n 5. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply (rule impI)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB T\\<rfloor>;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 2. \\<And>i T \\<Delta>.\n       (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n       \\<lfloor>TVarB T\\<rfloor> \\<Longrightarrow>\n       \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar (Suc i)\n 3. \\<And>\\<Delta>.\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          T \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel> U\n 5. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply (rule wf_TVar)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB T\\<rfloor>;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>TVarB (?T10 i T \\<Delta>)\\<rfloor>\n 2. \\<And>i T \\<Delta>.\n       (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n       \\<lfloor>TVarB T\\<rfloor> \\<Longrightarrow>\n       \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar (Suc i)\n 3. \\<And>\\<Delta>.\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          T \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel> U\n 5. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply simp"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i T \\<Delta>.\n       (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n       \\<lfloor>TVarB T\\<rfloor> \\<Longrightarrow>\n       \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar (Suc i)\n 2. \\<And>\\<Delta>.\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          T \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel> U\n 4. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply (rule impI)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB T\\<rfloor>;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar (Suc i)\n 2. \\<And>\\<Delta>.\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          T \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel> U\n 4. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply (rule wf_TVar)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB T\\<rfloor>;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                          \\<Gamma>)\\<langle>Suc i\\<rangle> =\n                         \\<lfloor>TVarB (?T15 i T \\<Delta>)\\<rfloor>\n 2. \\<And>\\<Delta>.\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          T \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel> U\n 4. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply (subgoal_tac \"Suc i - \\<parallel>\\<Delta>\\<parallel> = Suc (i - \\<parallel>\\<Delta>\\<parallel>)\")"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB T\\<rfloor>;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>;\n        Suc i - \\<parallel>\\<Delta>\\<parallel> =\n        Suc (i - \\<parallel>\\<Delta>\\<parallel>)\\<rbrakk>\n       \\<Longrightarrow> (\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                          \\<Gamma>)\\<langle>Suc i\\<rangle> =\n                         \\<lfloor>TVarB (?T15 i T \\<Delta>)\\<rfloor>\n 2. \\<And>i T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB T\\<rfloor>;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> Suc i - \\<parallel>\\<Delta>\\<parallel> =\n                         Suc (i - \\<parallel>\\<Delta>\\<parallel>)\n 3. \\<And>\\<Delta>.\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          T \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel> U\n 5. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply simp"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB T\\<rfloor>;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> Suc i - \\<parallel>\\<Delta>\\<parallel> =\n                         Suc (i - \\<parallel>\\<Delta>\\<parallel>)\n 2. \\<And>\\<Delta>.\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          T \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel> U\n 4. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply arith"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>\\<Delta>.\n       \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n       \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 2. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          T \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel> U\n 3. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply (rule wf_Top)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                          T \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel> U\n 2. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply (rule wf_arrow)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel> U\n 3. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel> U\n 2. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:\\<up>\\<^sub>\\<tau>\n(Suc 0) \\<parallel>\\<Delta>\\<parallel> T.\n                             \\<up>\\<^sub>\\<tau> (Suc 0)\n                              (Suc \\<parallel>\\<Delta>\\<parallel>) U)", "apply (rule wf_all)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (\\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel> T) \\<Colon>\n                         \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>) U", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T U \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         \\<parallel>\\<Delta>\\<parallel> T;\n        TVarB T \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0)\n         (Suc \\<parallel>\\<Delta>\\<parallel>) U\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (\\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel> T) \\<Colon>\n                         \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>) U", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma wf_weaken': \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow>\n    \\<Delta> @\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n     \\<parallel>\\<Delta>\\<parallel> 0 T", "apply (induct \\<Delta>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow>\n    [] @\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n     \\<parallel>[]\\<parallel> 0 T\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow>\n                \\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                 \\<parallel>\\<Delta>\\<parallel> 0 T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon> \\<Delta>) @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          \\<parallel>a \\<Colon> \\<Delta>\\<parallel> 0 T", "apply simp_all"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                 \\<parallel>\\<Delta>\\<parallel> 0 T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<rbrakk>\n       \\<Longrightarrow> a \\<Colon>\n                         \\<Delta> @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc \\<parallel>\\<Delta>\\<parallel>) 0 T", "apply (drule_tac B=a in wf_weaken [of \"[]\", simplified])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        a \\<Colon>\n        \\<Delta> @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0) 0\n         (\\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 T)\\<rbrakk>\n       \\<Longrightarrow> a \\<Colon>\n                         \\<Delta> @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc \\<parallel>\\<Delta>\\<parallel>) 0 T", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma wfE_weaken: \"\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (induct \\<Delta>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>[] @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 [] @ B \\<Colon>\n                      \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n                \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @\n                                  B \\<Colon>\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 (a \\<Colon> \\<Delta>) @\n                         B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n    \\<Longrightarrow> B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n                \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @\n                                  B \\<Colon>\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 (a \\<Colon> \\<Delta>) @\n                         B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (rule wf_Cons)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\n 2. \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 3. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n                \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @\n                                  B \\<Colon>\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 (a \\<Colon> \\<Delta>) @\n                         B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply assumption+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n                \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @\n                                  B \\<Colon>\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 (a \\<Colon> \\<Delta>) @\n                         B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> mapB\n                          (\\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>)\n                          a \\<Colon>\n                         \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (rule wf_Cons)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B mapB\n                                  (\\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel>)\n                                  a\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (erule well_formedE_cases)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B mapB\n                                  (\\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel>)\n                                  a\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (case_tac a)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = VarB x1\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B mapB\n                                  (\\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel>)\n                                  a\n 2. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B mapB\n                                  (\\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel>)\n                                  a\n 3. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = VarB x1\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel> x1\n 2. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B mapB\n                                  (\\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel>)\n                                  a\n 3. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (rule wf_weaken)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = VarB x1\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1\n 2. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B mapB\n                                  (\\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel>)\n                                  a\n 3. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B mapB\n                                  (\\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel>)\n                                  a\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) \\<parallel>\\<Delta>\\<parallel> x2\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (rule wf_weaken)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (erule well_formedE_cases)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>\nIntuitively, lemma \\<open>wf_weaken\\<close> states that a type @{term T} which is well-formed\nin a context is still well-formed in a larger context, whereas lemma \\<open>wfE_weaken\\<close>\nstates that a well-formed context remains well-formed when extended with a\nwell-formed binding. Owing to the encoding of variables using de Bruijn\nindices, the statements of the above lemmas involve additional lifting functions.\nThe typing judgement, which will be described in \\secref{sec:typing}, involves\nthe lookup of variables in a context. It has already been pointed out earlier that each\nentry in a context may only depend on types declared ``further to the right''. To ensure that\na type @{term T} stored at position @{term i} in an environment @{term \\<Gamma>} is valid in the full\nenvironment, as opposed to the smaller environment consisting only of the entries in\n@{term \\<Gamma>} at positions greater than @{term i}, we need to increment the indices of all\nfree type variables in @{term T} by @{term \"Suc i\"}:\n\\<close>"], ["", "lemma wf_liftB:\n  assumes H: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\"\n  shows \"\\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i) 0 T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow>\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i) 0 T", "using H"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow>\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i) 0 T", "apply (induct arbitrary: i)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>i.\n       []\\<langle>i\\<rangle> = \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow>\n       [] \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i) 0 T\n 2. \\<And>\\<Gamma> B i.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<And>i.\n           \\<Gamma>\\<langle>i\\<rangle> =\n           \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i)\n            0 T;\n        (B \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc i) 0 T", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> B i.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<And>i.\n           \\<Gamma>\\<langle>i\\<rangle> =\n           \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i)\n            0 T;\n        (B \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc i) 0 T", "apply (simp split: nat.split_asm)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> B i.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<And>i.\n           \\<Gamma>\\<langle>i\\<rangle> =\n           \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i)\n            0 T;\n        i = 0; B = VarB T\\<rbrakk>\n       \\<Longrightarrow> VarB T \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) 0 T\n 2. \\<And>\\<Gamma> B i x2.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<And>i.\n           \\<Gamma>\\<langle>i\\<rangle> =\n           \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i)\n            0 T;\n        i = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc (Suc x2)) 0 T", "apply (frule_tac B=\"VarB T\" in wf_weaken [of \"[]\", simplified])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> B i.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<And>i.\n           \\<Gamma>\\<langle>i\\<rangle> =\n           \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i)\n            0 T;\n        i = 0; B = VarB T;\n        VarB T \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0) 0\n         T\\<rbrakk>\n       \\<Longrightarrow> VarB T \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc 0) 0 T\n 2. \\<And>\\<Gamma> B i x2.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<And>i.\n           \\<Gamma>\\<langle>i\\<rangle> =\n           \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i)\n            0 T;\n        i = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc (Suc x2)) 0 T", "apply simp+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> B i x2.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<And>i.\n           \\<Gamma>\\<langle>i\\<rangle> =\n           \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i)\n            0 T;\n        i = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc (Suc x2)) 0 T", "apply (rename_tac nat)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> B i nat.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<And>i.\n           \\<Gamma>\\<langle>i\\<rangle> =\n           \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc i)\n            0 T;\n        i = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>VarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc (Suc nat)) 0 T", "apply (drule_tac x=nat in meta_spec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> B i nat.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f; i = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>VarB T\\<rfloor>;\n        \\<Gamma>\\<langle>nat\\<rangle> =\n        \\<lfloor>VarB T\\<rfloor> \\<Longrightarrow>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc nat) 0\n         T\\<rbrakk>\n       \\<Longrightarrow> B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc (Suc nat)) 0 T", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> B i nat.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f; i = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>VarB T\\<rfloor>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc nat) 0\n         T\\<rbrakk>\n       \\<Longrightarrow> B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc (Suc nat)) 0 T", "apply (frule_tac T=\"\\<up>\\<^sub>\\<tau> (Suc nat) 0 T\" in wf_weaken [of \"[]\", simplified])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> B i nat.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f; i = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>VarB T\\<rfloor>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc nat) 0\n         T;\n        ?B18 \\<Gamma> B i nat \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau> (Suc 0) 0\n         (\\<up>\\<^sub>\\<tau> (Suc nat) 0 T)\\<rbrakk>\n       \\<Longrightarrow> B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc (Suc nat)) 0 T", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>\nWe also need lemmas stating that substitution of well-formed types preserves the well-formedness\nof types and contexts:\n\\<close>"], ["", "theorem wf_subst:\n  \"\\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n    \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                      \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>", "apply (induct T arbitrary: \\<Delta>)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          x[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 2. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 3. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<lbrakk>\\<Delta> @ B \\<Colon>\n                            \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1;\n                    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n                   \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                                     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<lbrakk>\\<Delta> @ B \\<Colon>\n                    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2;\n            \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n           \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                             \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (T1 \\<rightarrow>\n                          T2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<lbrakk>\\<Delta> @ B \\<Colon>\n                            \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1;\n                    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n                   \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                                     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<lbrakk>\\<Delta> @ B \\<Colon>\n                    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2;\n            \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n           \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                             \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1.\n                             T2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>", "apply simp_all"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> (x =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                          \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                           \\<parallel>\\<Delta>\\<parallel> 0 U) \\<and>\n                         (x \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < x \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                            (x - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < x \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x))\n 2. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (rule conjI)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> x =\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          \\<parallel>\\<Delta>\\<parallel> 0 U\n 2. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> x \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < x \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                          \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                           (x - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < x \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                          \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x)\n 3. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 5. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (rule impI)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          \\<parallel>\\<Delta>\\<parallel> 0 U\n 2. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> x \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < x \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                          \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                           (x - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < x \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                          \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x)\n 3. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 5. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (drule_tac \\<Gamma>=\\<Gamma> and \\<Delta>=\"\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e\" in wf_weaken')"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        x = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n         \\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e\\<parallel>\n         0 U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          \\<parallel>\\<Delta>\\<parallel> 0 U\n 2. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> x \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < x \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                          \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                           (x - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < x \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                          \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x)\n 3. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 5. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> x \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < x \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                          \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                           (x - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < x \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                          \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x)\n 2. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (rule impI conjI)+"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (x - Suc 0)\n 2. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < x \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x\n 3. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 5. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (erule well_formed_cases)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x \\<Delta> T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < x;\n        (\\<Delta> @ B \\<Colon> \\<Gamma>)\\<langle>x\\<rangle> =\n        \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (x - Suc 0)\n 2. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < x \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x\n 3. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 5. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (rule wf_TVar)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x \\<Delta> T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < x;\n        (\\<Delta> @ B \\<Colon> \\<Gamma>)\\<langle>x\\<rangle> =\n        \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                          \\<Gamma>)\\<langle>x - Suc 0\\<rangle> =\n                         \\<lfloor>TVarB (?T25 x \\<Delta> T)\\<rfloor>\n 2. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < x \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x\n 3. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 5. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (simp split: nat.split_asm)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x \\<Delta> T x2.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<parallel>\\<Delta>\\<parallel> < x;\n        x - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>x -\n    Suc \\<parallel>\\<Delta>\\<parallel>\\<rangle> =\n                         \\<lfloor>TVarB (?T25 x \\<Delta> T)\\<rfloor>\n 2. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < x \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x\n 3. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 5. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (rename_tac nat \\<Delta> T nata)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>nat \\<Delta> T nata.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<parallel>\\<Delta>\\<parallel> < nat;\n        nat - \\<parallel>\\<Delta>\\<parallel> = Suc nata;\n        \\<Gamma>\\<langle>nata\\<rangle> = \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>nat -\n    Suc \\<parallel>\\<Delta>\\<parallel>\\<rangle> =\n                         \\<lfloor>TVarB (?T25 nat \\<Delta> T)\\<rfloor>\n 2. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < x \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x\n 3. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 5. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (subgoal_tac \"\\<parallel>\\<Delta>\\<parallel> \\<le> nat - Suc 0\")"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>nat \\<Delta> T nata.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<parallel>\\<Delta>\\<parallel> < nat;\n        nat - \\<parallel>\\<Delta>\\<parallel> = Suc nata;\n        \\<Gamma>\\<langle>nata\\<rangle> = \\<lfloor>TVarB T\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> nat - Suc 0\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>nat -\n    Suc \\<parallel>\\<Delta>\\<parallel>\\<rangle> =\n                         \\<lfloor>TVarB (?T25 nat \\<Delta> T)\\<rfloor>\n 2. \\<And>nat \\<Delta> T nata.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<parallel>\\<Delta>\\<parallel> < nat;\n        nat - \\<parallel>\\<Delta>\\<parallel> = Suc nata;\n        \\<Gamma>\\<langle>nata\\<rangle> = \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> nat - Suc 0\n 3. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < x \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x\n 4. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 5. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 6. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (subgoal_tac \"nat - Suc \\<parallel>\\<Delta>\\<parallel> = nata\")"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>nat \\<Delta> T nata.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<parallel>\\<Delta>\\<parallel> < nat;\n        nat - \\<parallel>\\<Delta>\\<parallel> = Suc nata;\n        \\<Gamma>\\<langle>nata\\<rangle> = \\<lfloor>TVarB T\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> nat - Suc 0;\n        nat - Suc \\<parallel>\\<Delta>\\<parallel> = nata\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>nat -\n    Suc \\<parallel>\\<Delta>\\<parallel>\\<rangle> =\n                         \\<lfloor>TVarB (?T25 nat \\<Delta> T)\\<rfloor>\n 2. \\<And>nat \\<Delta> T nata.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<parallel>\\<Delta>\\<parallel> < nat;\n        nat - \\<parallel>\\<Delta>\\<parallel> = Suc nata;\n        \\<Gamma>\\<langle>nata\\<rangle> = \\<lfloor>TVarB T\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> nat - Suc 0\\<rbrakk>\n       \\<Longrightarrow> nat - Suc \\<parallel>\\<Delta>\\<parallel> = nata\n 3. \\<And>nat \\<Delta> T nata.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<parallel>\\<Delta>\\<parallel> < nat;\n        nat - \\<parallel>\\<Delta>\\<parallel> = Suc nata;\n        \\<Gamma>\\<langle>nata\\<rangle> = \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> nat - Suc 0\n 4. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < x \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x\n 5. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 6. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 7. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (simp (no_asm_simp))"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>nat \\<Delta> T nata.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<parallel>\\<Delta>\\<parallel> < nat;\n        nat - \\<parallel>\\<Delta>\\<parallel> = Suc nata;\n        \\<Gamma>\\<langle>nata\\<rangle> = \\<lfloor>TVarB T\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> nat - Suc 0\\<rbrakk>\n       \\<Longrightarrow> nat - Suc \\<parallel>\\<Delta>\\<parallel> = nata\n 2. \\<And>nat \\<Delta> T nata.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<parallel>\\<Delta>\\<parallel> < nat;\n        nat - \\<parallel>\\<Delta>\\<parallel> = Suc nata;\n        \\<Gamma>\\<langle>nata\\<rangle> = \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> nat - Suc 0\n 3. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < x \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x\n 4. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 5. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 6. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply arith"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>nat \\<Delta> T nata.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<parallel>\\<Delta>\\<parallel> < nat;\n        nat - \\<parallel>\\<Delta>\\<parallel> = Suc nata;\n        \\<Gamma>\\<langle>nata\\<rangle> = \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> nat - Suc 0\n 2. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < x \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x\n 3. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 5. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply arith"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < x \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x\n 2. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (rule impI)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x\n 2. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (erule well_formed_cases)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x \\<Delta> T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < x;\n        (\\<Delta> @ B \\<Colon> \\<Gamma>)\\<langle>x\\<rangle> =\n        \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar x\n 2. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (rule wf_TVar)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x \\<Delta> T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        x \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < x;\n        (\\<Delta> @ B \\<Colon> \\<Gamma>)\\<langle>x\\<rangle> =\n        \\<lfloor>TVarB T\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                          \\<Gamma>)\\<langle>x\\<rangle> =\n                         \\<lfloor>TVarB (?T356 x \\<Delta> T)\\<rfloor>\n 2. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 4. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>\\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 2. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 3. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (rule wf_Top)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<rightarrow> T2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 2. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (erule well_formed_cases)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau> \\<rightarrow>\n                         T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 2. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (rule wf_arrow)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 2. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 3. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply simp+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1. T2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (erule well_formed_cases)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1;\n        TVarB T1 \\<Colon>\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>.\n                             T2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)", "apply (rule wf_all)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1;\n        TVarB T1 \\<Colon>\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 2. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1;\n        TVarB T1 \\<Colon>\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[Suc\n                             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<And>\\<Delta>.\n           \\<Delta> @ B \\<Colon>\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n           \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1;\n        TVarB T1 \\<Colon>\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[Suc\n                             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>", "apply (thin_tac \"\\<And>x. PROP P x\" for P :: \"_ \\<Rightarrow> prop\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<And>\\<Delta>.\n                   \\<Delta> @ B \\<Colon>\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n                   \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                   \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1;\n        TVarB T1 \\<Colon>\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[Suc\n                             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>", "apply (drule_tac x=\"TVarB T1 \\<Colon> \\<Delta>\" in meta_spec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T1 T2 \\<Delta>.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T1;\n        TVarB T1 \\<Colon>\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2;\n        (TVarB T1 \\<Colon> \\<Delta>) @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2 \\<Longrightarrow>\n        (TVarB T1 \\<Colon> \\<Delta>)[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[\\<parallel>TVarB\n                       T1 \\<Colon>\n        \\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (T1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T2[Suc\n                             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "theorem wfE_subst: \"\\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n    \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                      \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (induct \\<Delta>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>[] @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n    \\<Longrightarrow> [][0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                      \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n                \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon>\n                          \\<Delta>)[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n                \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon>\n                          \\<Delta>)[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (erule well_formedE_cases)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n                \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon>\n                          \\<Delta>)[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n                 \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n                \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                                  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (a \\<Colon> \\<Delta>) @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon>\n                          \\<Delta>)[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon>\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\\<rbrakk>\n       \\<Longrightarrow> mapB\n                          (\\<lambda>Ua.\n                              Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)\n                          a \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (case_tac a)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon>\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = VarB x1\\<rbrakk>\n       \\<Longrightarrow> mapB\n                          (\\<lambda>Ua.\n                              Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)\n                          a \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon>\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> mapB\n                          (\\<lambda>Ua.\n                              Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)\n                          a \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (erule well_formedE_cases)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = VarB x1;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> mapB\n                          (\\<lambda>Ua.\n                              Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)\n                          a \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon>\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> mapB\n                          (\\<lambda>Ua.\n                              Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)\n                          a \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (rule wf_Cons)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = VarB x1;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B mapB\n                                  (\\<lambda>Ua.\nUa[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)\n                                  a\n 2. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = VarB x1;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 3. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon>\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> mapB\n                          (\\<lambda>Ua.\n                              Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)\n                          a \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = VarB x1;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 2. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = VarB x1;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 3. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon>\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> mapB\n                          (\\<lambda>Ua.\n                              Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)\n                          a \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (rule wf_subst)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = VarB x1;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B10 a \\<Delta> x1 \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1\n 2. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = VarB x1;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x1;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\n 3. \\<And>a \\<Delta> x1.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = VarB x1;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 4. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon>\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> mapB\n                          (\\<lambda>Ua.\n                              Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)\n                          a \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply assumption+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon>\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> mapB\n                          (\\<lambda>Ua.\n                              Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)\n                          a \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        TVarB x2 \\<Colon>\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (x2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (erule well_formedE_cases)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B TVarB x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (x2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (rule wf_Cons)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B TVarB x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B TVarB\n                                  (x2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>)\n 2. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B TVarB x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>\\<tau>\n 2. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B TVarB x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply (rule wf_subst)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B36 a \\<Delta> x2 \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2\n 2. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\n 3. \\<And>a \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ B \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U; a = TVarB x2;\n        \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B TVarB x2;\n        \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> U]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "apply assumption+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "subsection \\<open>Subtyping\\<close>"], ["", "text \\<open>\n\\label{sec:subtyping}\nWe now come to the definition of the subtyping judgement \\<open>\\<Gamma> \\<turnstile> T <: U\\<close>.\n\\<close>"], ["", "inductive\n  subtyping :: \"env \\<Rightarrow> type \\<Rightarrow> type \\<Rightarrow> bool\"  (\"_ \\<turnstile> _ <: _\" [50, 50, 50] 50)\nwhere\n  SA_Top: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: Top\"\n| SA_refl_TVar: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: TVar i\"\n| SA_trans_TVar: \"\\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor> \\<Longrightarrow>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: T\"\n| SA_arrow: \"\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1 \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2 \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow> S\\<^sub>2 <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\"\n| SA_all: \"\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1 \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2 \\<Longrightarrow>\n    \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1. S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)\""], ["", "text \\<open>\nThe rules \\<open>SA_Top\\<close> and \\<open>SA_refl_TVar\\<close>, which appear at the leaves of\nthe derivation tree for a judgement @{term \"\\<Gamma> \\<turnstile> T <: U\"}, contain additional\nside conditions ensuring the well-formedness of the contexts and types involved.\nIn order for the rule \\<open>SA_trans_TVar\\<close> to be applicable, the context @{term \\<Gamma>}\nmust be of the form \\mbox{@{term \"\\<Gamma>\\<^sub>1 @ B \\<Colon> \\<Gamma>\\<^sub>2\"}}, where @{term \"\\<Gamma>\\<^sub>1\"} has the length @{term i}.\nSince the indices of variables in @{term B} can only refer to variables defined in\n@{term \"\\<Gamma>\\<^sub>2\"}, they have to be incremented by @{term \"Suc i\"} to ensure that they point\nto the right variables in the larger context \\<open>\\<Gamma>\\<close>.\n\\<close>"], ["", "lemma wf_subtype_env:\n  assumes PQ: \"\\<Gamma> \\<turnstile> P <: Q\"\n  shows \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "using PQ"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> P <: Q\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "by induct assumption+"], ["", "lemma wf_subtype:\n  assumes PQ: \"\\<Gamma> \\<turnstile> P <: Q\"\n  shows \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P \\<and> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P \\<and>\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q", "using PQ"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> P <: Q\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P \\<and>\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q", "by induct (auto intro: well_formed.intros elim!: wf_equallength)"], ["", "lemma wf_subtypeE:\n  assumes H: \"\\<Gamma> \\<turnstile> T <: U\"\n  and H': \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U \\<Longrightarrow> P\"\n  shows \"P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P", "apply (rule H')"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\n 3. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U", "apply (rule wf_subtype_env)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<Gamma> \\<turnstile> ?P3 <: ?Q3\n 2. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\n 3. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U", "apply (rule H)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\n 2. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U", "apply (rule wf_subtype [OF H, THEN conjunct1])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U", "apply (rule wf_subtype [OF H, THEN conjunct2])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>\nBy induction on the derivation of @{term \"\\<Gamma> \\<turnstile> T <: U\"}, it can easily be shown\nthat all types and contexts occurring in a subtyping judgement must be well-formed:\n\\<close>"], ["", "lemma wf_subtype_conj:\n  \"\\<Gamma> \\<turnstile> T <: U \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<and> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<and> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> T <: U \\<Longrightarrow>\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<and>\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<and>\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f U", "by (erule wf_subtypeE) iprover"], ["", "text \\<open>\nBy induction on types, we can prove that the subtyping relation is reflexive:\n\\<close>"], ["", "lemma subtype_refl: \\<comment> \\<open>A.1\\<close>\n  \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T \\<Longrightarrow> \\<Gamma> \\<turnstile> T <: T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile> T <: T", "by (induct T arbitrary: \\<Gamma>) (blast intro:\n    subtyping.intros wf_Nil wf_TVarB elim: well_formed_cases)+"], ["", "text \\<open>\nThe weakening lemma for the subtyping relation is proved in two steps:\nby induction on the derivation of the subtyping relation, we first prove\nthat inserting a single type into the context preserves subtyping:\n\\<close>"], ["", "lemma subtype_weaken:\n  assumes H: \"\\<Delta> @ \\<Gamma> \\<turnstile> P <: Q\"\n  and wf: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\"\n  shows \"\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> P <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>\\<parallel>\n                           P <: \\<up>\\<^sub>\\<tau> 1\n                                 \\<parallel>\\<Delta>\\<parallel> Q", "using H"], ["proof (prove)\nusing this:\n  \\<Delta> @ \\<Gamma> \\<turnstile> P <: Q\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>\\<parallel>\n                           P <: \\<up>\\<^sub>\\<tau> 1\n                                 \\<parallel>\\<Delta>\\<parallel> Q", "proof (induct \"\\<Delta> @ \\<Gamma>\" P Q arbitrary: \\<Delta>)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          S <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> Top\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar\n            i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                   (TVar i)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                                 U) <: \\<up>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> T\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (S\\<^sub>1 \\<rightarrow>\n           S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "case SA_Top"], ["proof (state)\nthis:\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S_\n\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          S <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> Top\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar\n            i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                   (TVar i)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                                 U) <: \\<up>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> T\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (S\\<^sub>1 \\<rightarrow>\n           S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "with wf"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S_", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S_\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>\\<parallel>\n                           S_ <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> Top", "by (auto intro: subtyping.SA_Top wfE_weaken wf_weaken)"], ["proof (state)\nthis:\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         S_ <: \\<up>\\<^sub>\\<tau> 1\n                                \\<parallel>\\<Delta>\\<parallel> Top\n\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar\n            i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                   (TVar i)\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                                 U) <: \\<up>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> T\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (S\\<^sub>1 \\<rightarrow>\n           S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar\n            i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                   (TVar i)\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                                 U) <: \\<up>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> T\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (S\\<^sub>1 \\<rightarrow>\n           S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "case SA_refl_TVar"], ["proof (state)\nthis:\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i_\n\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar\n            i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                   (TVar i)\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                                 U) <: \\<up>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> T\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (S\\<^sub>1 \\<rightarrow>\n           S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "with wf"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i_", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i_\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>\\<parallel>\n                           (TVar\n                             i_) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel>\n                                     (TVar i_)", "by (auto intro!: subtyping.SA_refl_TVar wfE_weaken dest: wf_weaken)"], ["proof (state)\nthis:\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (TVar\n                           i_) <: \\<up>\\<^sub>\\<tau> 1\n                                   \\<parallel>\\<Delta>\\<parallel> (TVar i_)\n\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                                 U) <: \\<up>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> T\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (S\\<^sub>1 \\<rightarrow>\n           S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                                 U) <: \\<up>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> T\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (S\\<^sub>1 \\<rightarrow>\n           S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "case (SA_trans_TVar i U T)"], ["proof (state)\nthis:\n  (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                                 U) <: \\<up>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> T\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (S\\<^sub>1 \\<rightarrow>\n           S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>\\<parallel>\n                           (TVar\n                             i) <: \\<up>\\<^sub>\\<tau> 1\n                                    \\<parallel>\\<Delta>\\<parallel> T", "proof (cases \"i < \\<parallel>\\<Delta>\\<parallel>\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "case True"], ["proof (state)\nthis:\n  i < \\<parallel>\\<Delta>\\<parallel>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "with SA_trans_TVar"], ["proof (chain)\npicking this:\n  (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n  i < \\<parallel>\\<Delta>\\<parallel>", "have \"(\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>TVarB (\\<up>\\<^sub>\\<tau> 1 (\\<parallel>\\<Delta>\\<parallel> - Suc i) U)\\<rfloor>\""], ["proof (prove)\nusing this:\n  (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n  i < \\<parallel>\\<Delta>\\<parallel>\n\ngoal (1 subgoal):\n 1. (\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n    \\<lfloor>TVarB\n              (\\<up>\\<^sub>\\<tau> 1 (\\<parallel>\\<Delta>\\<parallel> - Suc i)\n                U)\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  (\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB\n            (\\<up>\\<^sub>\\<tau> 1 (\\<parallel>\\<Delta>\\<parallel> - Suc i)\n              U)\\<rfloor>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "moreover"], ["proof (state)\nthis:\n  (\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB\n            (\\<up>\\<^sub>\\<tau> 1 (\\<parallel>\\<Delta>\\<parallel> - Suc i)\n              U)\\<rfloor>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "from True SA_trans_TVar"], ["proof (chain)\npicking this:\n  i < \\<parallel>\\<Delta>\\<parallel>\n  (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T", "have \"\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile>\n      \\<up>\\<^sub>\\<tau> (Suc i) 0 (\\<up>\\<^sub>\\<tau> 1 (\\<parallel>\\<Delta>\\<parallel> - Suc i) U) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\""], ["proof (prove)\nusing this:\n  i < \\<parallel>\\<Delta>\\<parallel>\n  (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                           (\\<up>\\<^sub>\\<tau> 1\n                             (\\<parallel>\\<Delta>\\<parallel> - Suc i)\n                             U) <: \\<up>\\<^sub>\\<tau> 1\n                                    \\<parallel>\\<Delta>\\<parallel> T", "by simp"], ["proof (state)\nthis:\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                         (\\<up>\\<^sub>\\<tau> 1\n                           (\\<parallel>\\<Delta>\\<parallel> - Suc i)\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "ultimately"], ["proof (chain)\npicking this:\n  (\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB\n            (\\<up>\\<^sub>\\<tau> 1 (\\<parallel>\\<Delta>\\<parallel> - Suc i)\n              U)\\<rfloor>\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                         (\\<up>\\<^sub>\\<tau> 1\n                           (\\<parallel>\\<Delta>\\<parallel> - Suc i)\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T", "have \"\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile> TVar i <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\""], ["proof (prove)\nusing this:\n  (\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB\n            (\\<up>\\<^sub>\\<tau> 1 (\\<parallel>\\<Delta>\\<parallel> - Suc i)\n              U)\\<rfloor>\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                         (\\<up>\\<^sub>\\<tau> 1\n                           (\\<parallel>\\<Delta>\\<parallel> - Suc i)\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> TVar\n                           i <: \\<up>\\<^sub>\\<tau> 1\n                                 \\<parallel>\\<Delta>\\<parallel> T", "by (rule subtyping.SA_trans_TVar)"], ["proof (state)\nthis:\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> TVar\n                         i <: \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "with True"], ["proof (chain)\npicking this:\n  i < \\<parallel>\\<Delta>\\<parallel>\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> TVar\n                         i <: \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel> T", "show ?thesis"], ["proof (prove)\nusing this:\n  i < \\<parallel>\\<Delta>\\<parallel>\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> TVar\n                         i <: \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>\\<parallel>\n                           (TVar\n                             i) <: \\<up>\\<^sub>\\<tau> 1\n                                    \\<parallel>\\<Delta>\\<parallel> T", "by simp"], ["proof (state)\nthis:\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (TVar\n                           i) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "case False"], ["proof (state)\nthis:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "then"], ["proof (chain)\npicking this:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>", "have \"Suc i - \\<parallel>\\<Delta>\\<parallel> = Suc (i - \\<parallel>\\<Delta>\\<parallel>)\""], ["proof (prove)\nusing this:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n\ngoal (1 subgoal):\n 1. Suc i - \\<parallel>\\<Delta>\\<parallel> =\n    Suc (i - \\<parallel>\\<Delta>\\<parallel>)", "by arith"], ["proof (state)\nthis:\n  Suc i - \\<parallel>\\<Delta>\\<parallel> =\n  Suc (i - \\<parallel>\\<Delta>\\<parallel>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "with False SA_trans_TVar"], ["proof (chain)\npicking this:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n  Suc i - \\<parallel>\\<Delta>\\<parallel> =\n  Suc (i - \\<parallel>\\<Delta>\\<parallel>)", "have \"(\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma>)\\<langle>Suc i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n  Suc i - \\<parallel>\\<Delta>\\<parallel> =\n  Suc (i - \\<parallel>\\<Delta>\\<parallel>)\n\ngoal (1 subgoal):\n 1. (\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma>)\\<langle>Suc i\\<rangle> =\n    \\<lfloor>TVarB U\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  (\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n   \\<Gamma>)\\<langle>Suc i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "moreover"], ["proof (state)\nthis:\n  (\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n   \\<Gamma>)\\<langle>Suc i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "from False SA_trans_TVar"], ["proof (chain)\npicking this:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T", "have \"\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\""], ["proof (prove)\nusing this:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                           U) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0\n                           U <: \\<up>\\<^sub>\\<tau> 1\n                                 \\<parallel>\\<Delta>\\<parallel> T", "by simp"], ["proof (state)\nthis:\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0\n                         U <: \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "ultimately"], ["proof (chain)\npicking this:\n  (\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n   \\<Gamma>)\\<langle>Suc i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0\n                         U <: \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel> T", "have \"\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile> TVar (Suc i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\""], ["proof (prove)\nusing this:\n  (\\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n   \\<Gamma>)\\<langle>Suc i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0\n                         U <: \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> TVar\n                           (Suc i) <: \\<up>\\<^sub>\\<tau> 1\n \\<parallel>\\<Delta>\\<parallel> T", "by (rule subtyping.SA_trans_TVar)"], ["proof (state)\nthis:\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> TVar\n                         (Suc i) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n             \\<lfloor>TVarB U\\<rfloor>;\n     \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n     \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n     \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                              U) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T;\n     \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n    \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel>\n       (TVar i) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "with False"], ["proof (chain)\npicking this:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> TVar\n                         (Suc i) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> TVar\n                         (Suc i) <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>\\<parallel>\n                           (TVar\n                             i) <: \\<up>\\<^sub>\\<tau> 1\n                                    \\<parallel>\\<Delta>\\<parallel> T", "by simp"], ["proof (state)\nthis:\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (TVar\n                           i) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (TVar\n                           i) <: \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>\\<parallel> T\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (S\\<^sub>1 \\<rightarrow>\n           S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (S\\<^sub>1 \\<rightarrow>\n           S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "case SA_arrow"], ["proof (state)\nthis:\n  \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1_ <: S\\<^sub>1_\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         T\\<^sub>1_ <: \\<up>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1_\n  \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2_ <: T\\<^sub>2_\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         S\\<^sub>2_ <: \\<up>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2_\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (S\\<^sub>1 \\<rightarrow>\n           S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1_ <: S\\<^sub>1_\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         T\\<^sub>1_ <: \\<up>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1_\n  \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2_ <: T\\<^sub>2_\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         S\\<^sub>2_ <: \\<up>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2_\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>\\<parallel>\n                           (S\\<^sub>1_ \\<rightarrow>\n                            S\\<^sub>2_) <: \\<up>\\<^sub>\\<tau> 1\n      \\<parallel>\\<Delta>\\<parallel> (T\\<^sub>1_ \\<rightarrow> T\\<^sub>2_)", "by simp (iprover intro: subtyping.SA_arrow)"], ["proof (state)\nthis:\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (S\\<^sub>1_ \\<rightarrow>\n                          S\\<^sub>2_) <: \\<up>\\<^sub>\\<tau> 1\n    \\<parallel>\\<Delta>\\<parallel> (T\\<^sub>1_ \\<rightarrow> T\\<^sub>2_)\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "case (SA_all T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>)"], ["proof (state)\nthis:\n  \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1\n  TVarB T\\<^sub>1 \\<Colon>\n  \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n  ?\\<Delta> @ \\<Gamma> \\<Longrightarrow>\n  \\<up>\\<^sub>e 1 0 ?\\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>?\\<Delta>\\<parallel>\n                         S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n \\<parallel>?\\<Delta>\\<parallel> T\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n           \\<Delta>' @ \\<Gamma> \\<Longrightarrow>\n           \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n           \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "with SA_all(4) [of \"TVarB T\\<^sub>1 \\<Colon> \\<Delta>\"]"], ["proof (chain)\npicking this:\n  TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n  (TVarB T\\<^sub>1 \\<Colon> \\<Delta>) @ \\<Gamma> \\<Longrightarrow>\n  \\<up>\\<^sub>e 1 0 (TVarB T\\<^sub>1 \\<Colon> \\<Delta>) @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                         \\<parallel>TVarB T\\<^sub>1 \\<Colon>\n                         \\<Delta>\\<parallel>\n                         S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n \\<parallel>TVarB T\\<^sub>1 \\<Colon> \\<Delta>\\<parallel> T\\<^sub>2\n  \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1\n  TVarB T\\<^sub>1 \\<Colon>\n  \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n  ?\\<Delta> @ \\<Gamma> \\<Longrightarrow>\n  \\<up>\\<^sub>e 1 0 ?\\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>?\\<Delta>\\<parallel>\n                         S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n \\<parallel>?\\<Delta>\\<parallel> T\\<^sub>2", "show ?case"], ["proof (prove)\nusing this:\n  TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n  (TVarB T\\<^sub>1 \\<Colon> \\<Delta>) @ \\<Gamma> \\<Longrightarrow>\n  \\<up>\\<^sub>e 1 0 (TVarB T\\<^sub>1 \\<Colon> \\<Delta>) @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                         \\<parallel>TVarB T\\<^sub>1 \\<Colon>\n                         \\<Delta>\\<parallel>\n                         S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n \\<parallel>TVarB T\\<^sub>1 \\<Colon> \\<Delta>\\<parallel> T\\<^sub>2\n  \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         T\\<^sub>1 <: \\<up>\\<^sub>\\<tau> 1\n \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1\n  TVarB T\\<^sub>1 \\<Colon>\n  \\<Delta> @ \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n  ?\\<Delta> @ \\<Gamma> \\<Longrightarrow>\n  \\<up>\\<^sub>e 1 0 ?\\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>?\\<Delta>\\<parallel>\n                         S\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n \\<parallel>?\\<Delta>\\<parallel> T\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>\\<parallel>\n                           (\\<forall><:S\\<^sub>1.\n                               S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n        \\<parallel>\\<Delta>\\<parallel> (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "by simp (iprover intro: subtyping.SA_all)"], ["proof (state)\nthis:\n  \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (\\<forall><:S\\<^sub>1.\n                             S\\<^sub>2) <: \\<up>\\<^sub>\\<tau> 1\n      \\<parallel>\\<Delta>\\<parallel> (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nAll cases are trivial, except for the \\<open>SA_trans_TVar\\<close> case, which\nrequires a case distinction on whether the index of the variable is smaller\nthan @{term \"\\<parallel>\\<Delta>\\<parallel>\"}.\nThe stronger result that appending a new context @{term \\<Delta>} to a context\n@{term \\<Gamma>} preserves subtyping can be proved by induction on @{term \\<Delta>},\nusing the previous result in the induction step:\n\\<close>"], ["", "lemma subtype_weaken': \\<comment> \\<open>A.2\\<close>\n  \"\\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Delta> @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> P <: Q;\n     \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n    \\<Longrightarrow> \\<Delta> @\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n       \\<parallel>\\<Delta>\\<parallel> 0\n       P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Q", "apply (induct \\<Delta>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> P <: Q;\n     [] @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n    \\<Longrightarrow> [] @\n                      \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n       \\<parallel>[]\\<parallel> 0\n       P <: \\<up>\\<^sub>\\<tau> \\<parallel>[]\\<parallel> 0 Q\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Gamma> \\<turnstile> P <: Q;\n                 \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n                \\<Longrightarrow> \\<Delta> @\n                                  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                   \\<parallel>\\<Delta>\\<parallel> 0\n                   P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                         Q;\n        \\<Gamma> \\<turnstile> P <: Q;\n        (a \\<Colon> \\<Delta>) @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon> \\<Delta>) @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          \\<parallel>a \\<Colon> \\<Delta>\\<parallel> 0\n          P <: \\<up>\\<^sub>\\<tau> \\<parallel>a \\<Colon> \\<Delta>\\<parallel>\n                0 Q", "apply simp_all"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n \\<parallel>\\<Delta>\\<parallel> 0\n P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Q;\n        \\<Gamma> \\<turnstile> P <: Q;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> a \\<Colon>\n                         \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n          P <: \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Q", "apply (erule well_formedE_cases)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n \\<parallel>\\<Delta>\\<parallel> 0\n P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Q;\n        \\<Gamma> \\<turnstile> P <: Q;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> a \\<Colon>\n                         \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n          P <: \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Q", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n \\<parallel>\\<Delta>\\<parallel> 0\n P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Q;\n        \\<Gamma> \\<turnstile> P <: Q;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> a \\<Colon>\n                         \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n          P <: \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Q", "apply (drule_tac B=\"a\" and \\<Gamma>=\"\\<Delta> @ \\<Gamma>\" in subtype_weaken [of \"[]\", simplified])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Gamma> \\<turnstile> P <: Q;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Gamma> \\<turnstile> P <: Q;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon>\n        \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc 0) 0\n                               (\\<up>\\<^sub>\\<tau>\n                                 \\<parallel>\\<Delta>\\<parallel> 0\n                                 P) <: \\<up>\\<^sub>\\<tau> (Suc 0) 0\n  (\\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Q)\\<rbrakk>\n       \\<Longrightarrow> a \\<Colon>\n                         \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n          P <: \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Q", "apply simp_all"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>\nAn unrestricted transitivity rule has the disadvantage that it can\nbe applied in any situation. In order to make the above definition of the\nsubtyping relation {\\it syntax-directed}, the transitivity rule \\<open>SA_trans_TVar\\<close>\nis restricted to the case where the type on the left-hand side of the \\<open><:\\<close>\noperator is a variable. However, the unrestricted transitivity rule\ncan be derived from this definition.\nIn order for the proof to go through, we have to simultaneously prove\nanother property called {\\it narrowing}.\nThe two properties are proved by nested induction. The outer induction\nis on the size of the type @{term Q}, whereas the two inner inductions for\nproving transitivity and narrowing are on the derivation of the\nsubtyping judgements. The transitivity property is needed in the proof of\nnarrowing, which is by induction on the derivation of \\mbox{@{term \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> M <: N\"}}.\nIn the case corresponding to the rule \\<open>SA_trans_TVar\\<close>, we must prove\n\\mbox{@{term \"\\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\"}}. The only interesting case\nis the one where @{term \"i = \\<parallel>\\<Delta>\\<parallel>\"}. By induction hypothesis, we know that\n@{term \"\\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (i+1) 0 Q <: T\"} and\n@{term \"(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>TVarB Q\\<rfloor>\"}.\nBy assumption, we have @{term \"\\<Gamma> \\<turnstile> P <: Q\"} and hence \n\\mbox{@{term \"\\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (i+1) 0 P <: \\<up>\\<^sub>\\<tau> (i+1) 0 Q\"}} by weakening.\nSince @{term \"\\<up>\\<^sub>\\<tau> (i+1) 0 Q\"} has the same size as @{term Q}, we can use\nthe transitivity property, which yields\n@{term \"\\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (i+1) 0 P <: T\"}. The claim then follows\neasily by an application of \\<open>SA_trans_TVar\\<close>.\n\\<close>"], ["", "lemma subtype_trans: \\<comment> \\<open>A.3\\<close>\n  \"\\<Gamma> \\<turnstile> S <: Q \\<Longrightarrow> \\<Gamma> \\<turnstile> Q <: T \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\"\n  \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> M <: N \\<Longrightarrow> \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n     \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> M <: N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>\\<Gamma> \\<turnstile> S <: Q;\n      \\<Gamma> \\<turnstile> Q <: T\\<rbrakk>\n     \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T) &&&\n    (\\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n      \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n     \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                       \\<Gamma> \\<turnstile> M <: N)", "using wf_measure_size"], ["proof (prove)\nusing this:\n  wf (measure size)\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>\\<Gamma> \\<turnstile> S <: Q;\n      \\<Gamma> \\<turnstile> Q <: T\\<rbrakk>\n     \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T) &&&\n    (\\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n      \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n     \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                       \\<Gamma> \\<turnstile> M <: N)", "proof (induct Q arbitrary: \\<Gamma> S T \\<Delta> P M N rule: wf_induct_rule)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x \\<Gamma> S T.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> S <: x; \\<Gamma> \\<turnstile> x <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "case (less Q)"], ["proof (state)\nthis:\n  \\<lbrakk>(?y, Q) \\<in> measure size; ?\\<Gamma> \\<turnstile> ?S <: ?y;\n   ?\\<Gamma> \\<turnstile> ?y <: ?T\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma> \\<turnstile> ?S <: ?T\n  \\<lbrakk>(?y, Q) \\<in> measure size;\n   ?\\<Delta> @ TVarB ?y \\<Colon> ?\\<Gamma> \\<turnstile> ?M <: ?N;\n   ?\\<Gamma> \\<turnstile> ?P <: ?y\\<rbrakk>\n  \\<Longrightarrow> ?\\<Delta> @ TVarB ?P \\<Colon>\n                    ?\\<Gamma> \\<turnstile> ?M <: ?N\n\ngoal (2 subgoals):\n 1. \\<And>x \\<Gamma> S T.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> S <: x; \\<Gamma> \\<turnstile> x <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "{"], ["proof (state)\nthis:\n  \\<lbrakk>(?y, Q) \\<in> measure size; ?\\<Gamma> \\<turnstile> ?S <: ?y;\n   ?\\<Gamma> \\<turnstile> ?y <: ?T\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma> \\<turnstile> ?S <: ?T\n  \\<lbrakk>(?y, Q) \\<in> measure size;\n   ?\\<Delta> @ TVarB ?y \\<Colon> ?\\<Gamma> \\<turnstile> ?M <: ?N;\n   ?\\<Gamma> \\<turnstile> ?P <: ?y\\<rbrakk>\n  \\<Longrightarrow> ?\\<Delta> @ TVarB ?P \\<Colon>\n                    ?\\<Gamma> \\<turnstile> ?M <: ?N\n\ngoal (2 subgoals):\n 1. \\<And>x \\<Gamma> S T.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> S <: x; \\<Gamma> \\<turnstile> x <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "fix \\<Gamma> S T Q'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x \\<Gamma> S T.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> S <: x; \\<Gamma> \\<turnstile> x <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "assume \"\\<Gamma> \\<turnstile> S <: Q'\""], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> S <: Q'\n\ngoal (2 subgoals):\n 1. \\<And>x \\<Gamma> S T.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> S <: x; \\<Gamma> \\<turnstile> x <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "then"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> S <: Q'", "have \"\\<Gamma> \\<turnstile> Q' <: T \\<Longrightarrow> size Q = size Q' \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> S <: Q'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> Q' <: T; size Q = size Q'\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T", "proof (induct arbitrary: T)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<Gamma> S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> Top <: T; size Q = size Top\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>\\<Gamma> i T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> TVar i <: T; size Q = size (TVar i)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: T\n 3. \\<And>\\<Gamma> i U T Ta.\n       \\<lbrakk>\\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<And>Ta.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n              (Suc i) 0 U <: Ta;\n        \\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: Ta\n 4. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T;\n        size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\n 5. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "case SA_Top"], ["proof (state)\nthis:\n  \\<Gamma>_ \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Gamma>_ \\<turnstile>\\<^sub>w\\<^sub>f S_\n  \\<Gamma>_ \\<turnstile> Top <: T\n  size Q = size Top\n\ngoal (5 subgoals):\n 1. \\<And>\\<Gamma> S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> Top <: T; size Q = size Top\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>\\<Gamma> i T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> TVar i <: T; size Q = size (TVar i)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: T\n 3. \\<And>\\<Gamma> i U T Ta.\n       \\<lbrakk>\\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<And>Ta.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n              (Suc i) 0 U <: Ta;\n        \\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: Ta\n 4. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T;\n        size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\n 5. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "from SA_Top(3)"], ["proof (chain)\npicking this:\n  \\<Gamma>_ \\<turnstile> Top <: T", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>_ \\<turnstile> Top <: T\n\ngoal (1 subgoal):\n 1. \\<Gamma>_ \\<turnstile> S_ <: T", "by cases (auto intro: subtyping.SA_Top SA_Top)"], ["proof (state)\nthis:\n  \\<Gamma>_ \\<turnstile> S_ <: T\n\ngoal (4 subgoals):\n 1. \\<And>\\<Gamma> i T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> TVar i <: T; size Q = size (TVar i)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: T\n 2. \\<And>\\<Gamma> i U T Ta.\n       \\<lbrakk>\\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<And>Ta.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n              (Suc i) 0 U <: Ta;\n        \\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: Ta\n 3. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T;\n        size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\n 4. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Gamma> i T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> TVar i <: T; size Q = size (TVar i)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: T\n 2. \\<And>\\<Gamma> i U T Ta.\n       \\<lbrakk>\\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<And>Ta.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n              (Suc i) 0 U <: Ta;\n        \\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: Ta\n 3. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T;\n        size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\n 4. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "case SA_refl_TVar"], ["proof (state)\nthis:\n  \\<Gamma>_ \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Gamma>_ \\<turnstile>\\<^sub>w\\<^sub>f TVar i_\n  \\<Gamma>_ \\<turnstile> TVar i_ <: T\n  size Q = size (TVar i_)\n\ngoal (4 subgoals):\n 1. \\<And>\\<Gamma> i T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> TVar i <: T; size Q = size (TVar i)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: T\n 2. \\<And>\\<Gamma> i U T Ta.\n       \\<lbrakk>\\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<And>Ta.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n              (Suc i) 0 U <: Ta;\n        \\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: Ta\n 3. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T;\n        size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\n 4. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>_ \\<turnstile> TVar i_ <: T", "by fact"], ["proof (state)\nthis:\n  \\<Gamma>_ \\<turnstile> TVar i_ <: T\n\ngoal (3 subgoals):\n 1. \\<And>\\<Gamma> i U T Ta.\n       \\<lbrakk>\\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<And>Ta.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n              (Suc i) 0 U <: Ta;\n        \\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: Ta\n 2. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T;\n        size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\n 3. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Gamma> i U T Ta.\n       \\<lbrakk>\\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<And>Ta.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n              (Suc i) 0 U <: Ta;\n        \\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: Ta\n 2. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T;\n        size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\n 3. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "case SA_trans_TVar"], ["proof (state)\nthis:\n  \\<Gamma>_\\<langle>i_\\<rangle> = \\<lfloor>TVarB U_\\<rfloor>\n  \\<Gamma>_ \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i_) 0 U_ <: T_\n  \\<lbrakk>\\<Gamma>_ \\<turnstile> T_ <: ?T; size Q = size T_\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>_ \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i_) 0\n      U_ <: ?T\n  \\<Gamma>_ \\<turnstile> T_ <: T\n  size Q = size T_\n\ngoal (3 subgoals):\n 1. \\<And>\\<Gamma> i U T Ta.\n       \\<lbrakk>\\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<And>Ta.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n              (Suc i) 0 U <: Ta;\n        \\<Gamma> \\<turnstile> T <: Ta; size Q = size T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> TVar i <: Ta\n 2. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T;\n        size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\n 3. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>_\\<langle>i_\\<rangle> = \\<lfloor>TVarB U_\\<rfloor>\n  \\<Gamma>_ \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i_) 0 U_ <: T_\n  \\<lbrakk>\\<Gamma>_ \\<turnstile> T_ <: ?T; size Q = size T_\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>_ \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i_) 0\n      U_ <: ?T\n  \\<Gamma>_ \\<turnstile> T_ <: T\n  size Q = size T_\n\ngoal (1 subgoal):\n 1. \\<Gamma>_ \\<turnstile> TVar i_ <: T", "by (auto intro: subtyping.SA_trans_TVar)"], ["proof (state)\nthis:\n  \\<Gamma>_ \\<turnstile> TVar i_ <: T\n\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T;\n        size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\n 2. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T;\n        size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\n 2. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "case (SA_arrow \\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T\n  size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T;\n        size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\n 2. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "note SA_arrow' = SA_arrow"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T\n  size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T;\n        size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\n 2. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "from SA_arrow(5)"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow> S\\<^sub>2 <: T", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>T = Top; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1 \\<rightarrow>\n     T\\<^sub>2\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n      S\\<^sub>2 <: T\n 2. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = T\\<^sub>1' \\<rightarrow> T\\<^sub>2';\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T", "case SA_Top"], ["proof (state)\nthis:\n  T = Top\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<lbrakk>T = Top; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1 \\<rightarrow>\n     T\\<^sub>2\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n      S\\<^sub>2 <: T\n 2. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = T\\<^sub>1' \\<rightarrow> T\\<^sub>2';\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T", "with SA_arrow"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T\n  size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n  T = Top\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1 \\<rightarrow> T\\<^sub>2", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T\n  size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n  T = Top\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow> S\\<^sub>2 <: T", "by (auto intro: subtyping.SA_Top wf_arrow elim: wf_subtypeE)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow> S\\<^sub>2 <: T\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = T\\<^sub>1' \\<rightarrow> T\\<^sub>2';\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = T\\<^sub>1' \\<rightarrow> T\\<^sub>2';\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T", "case (SA_arrow T\\<^sub>1' T\\<^sub>2')"], ["proof (state)\nthis:\n  T = T\\<^sub>1' \\<rightarrow> T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = T\\<^sub>1' \\<rightarrow> T\\<^sub>2';\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T", "from SA_arrow SA_arrow'"], ["proof (chain)\npicking this:\n  T = T\\<^sub>1' \\<rightarrow> T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T\n  size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)", "have \"\\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow> S\\<^sub>2 <: T\\<^sub>1' \\<rightarrow> T\\<^sub>2'\""], ["proof (prove)\nusing this:\n  T = T\\<^sub>1' \\<rightarrow> T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> T\\<^sub>2 <: T\n  size Q = size (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n                          S\\<^sub>2 <: T\\<^sub>1' \\<rightarrow> T\\<^sub>2'", "by (auto intro!: subtyping.SA_arrow intro: less(1) [of \"T\\<^sub>1\"] less(1) [of \"T\\<^sub>2\"])"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n                        S\\<^sub>2 <: T\\<^sub>1' \\<rightarrow> T\\<^sub>2'\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = T\\<^sub>1' \\<rightarrow> T\\<^sub>2';\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T", "with SA_arrow"], ["proof (chain)\npicking this:\n  T = T\\<^sub>1' \\<rightarrow> T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n  \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n                        S\\<^sub>2 <: T\\<^sub>1' \\<rightarrow> T\\<^sub>2'", "show ?thesis"], ["proof (prove)\nusing this:\n  T = T\\<^sub>1' \\<rightarrow> T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n  \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n                        S\\<^sub>2 <: T\\<^sub>1' \\<rightarrow> T\\<^sub>2'\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow> S\\<^sub>2 <: T", "by simp"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow> S\\<^sub>2 <: T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow> S\\<^sub>2 <: T\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "case (SA_all \\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T\n  size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "note SA_all' = SA_all"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T\n  size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<And>T.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: T;\n            size Q = size S\\<^sub>1\\<rbrakk>\n           \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: T;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>T.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> T\\<^sub>2 <: T;\n            size Q = size T\\<^sub>2\\<rbrakk>\n           \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                             \\<Gamma> \\<turnstile> S\\<^sub>2 <: T;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T;\n        size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "from SA_all(5)"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1. S\\<^sub>2) <: T", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>T = Top; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n         T\\<^sub>2)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n          S\\<^sub>2) <: T\n 2. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2');\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        TVarB T\\<^sub>1' \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "case SA_Top"], ["proof (state)\nthis:\n  T = Top\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>T = Top; \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n     \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n         T\\<^sub>2)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n          S\\<^sub>2) <: T\n 2. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2');\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        TVarB T\\<^sub>1' \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "with SA_all"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T\n  size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n  T = Top\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T\n  size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n  T = Top\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1. S\\<^sub>2) <: T", "by (auto intro!:\n          subtyping.SA_Top wf_all intro: wf_equallength elim: wf_subtypeE)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1. S\\<^sub>2) <: T\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2');\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        TVarB T\\<^sub>1' \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2');\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        TVarB T\\<^sub>1' \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "case (SA_all T\\<^sub>1' T\\<^sub>2')"], ["proof (state)\nthis:\n  T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2')\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2');\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        TVarB T\\<^sub>1' \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "from SA_all SA_all'"], ["proof (chain)\npicking this:\n  T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2')\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T\n  size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "have \"\\<Gamma> \\<turnstile> T\\<^sub>1' <: S\\<^sub>1\""], ["proof (prove)\nusing this:\n  T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2')\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T\n  size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> T\\<^sub>1' <: S\\<^sub>1", "by - (rule less(1), simp_all)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: S\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2');\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        TVarB T\\<^sub>1' \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "moreover"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: S\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2');\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        TVarB T\\<^sub>1' \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "from SA_all SA_all'"], ["proof (chain)\npicking this:\n  T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2')\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T\n  size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "have \"TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\""], ["proof (prove)\nusing this:\n  T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2')\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T\n  size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n\ngoal (1 subgoal):\n 1. TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2", "by - (rule less(2) [of _ \"[]\", simplified], simp_all)"], ["proof (state)\nthis:\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2');\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        TVarB T\\<^sub>1' \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "with SA_all SA_all'"], ["proof (chain)\npicking this:\n  T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2')\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T\n  size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2", "have \"TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2'\""], ["proof (prove)\nusing this:\n  T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2')\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n  \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<lbrakk>\\<Gamma> \\<turnstile> S\\<^sub>1 <: ?T;\n   size Q = size S\\<^sub>1\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>1 <: ?T\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  \\<lbrakk>TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: ?T;\n   size Q = size T\\<^sub>2\\<rbrakk>\n  \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                    \\<Gamma> \\<turnstile> S\\<^sub>2 <: ?T\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: T\n  size Q = size (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n\ngoal (1 subgoal):\n 1. TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2'", "by - (rule less(1), simp_all)"], ["proof (state)\nthis:\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2'\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2');\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        TVarB T\\<^sub>1' \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "ultimately"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: S\\<^sub>1\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2'", "have \"\\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1. S\\<^sub>2) <: (\\<forall><:T\\<^sub>1'. T\\<^sub>2')\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: S\\<^sub>1\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2'\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n                              S\\<^sub>2) <: (\\<forall><:T\\<^sub>1'.\n          T\\<^sub>2')", "by (rule subtyping.SA_all)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n                            S\\<^sub>2) <: (\\<forall><:T\\<^sub>1'.\n        T\\<^sub>2')\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1' T\\<^sub>2'.\n       \\<lbrakk>T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2');\n        \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1;\n        TVarB T\\<^sub>1' \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: T", "with SA_all"], ["proof (chain)\npicking this:\n  T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2')\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n  \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n                            S\\<^sub>2) <: (\\<forall><:T\\<^sub>1'.\n        T\\<^sub>2')", "show ?thesis"], ["proof (prove)\nusing this:\n  T = (\\<forall><:T\\<^sub>1'. T\\<^sub>2')\n  \\<Gamma> \\<turnstile> T\\<^sub>1' <: T\\<^sub>1\n  TVarB T\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>2'\n  \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n                            S\\<^sub>2) <: (\\<forall><:T\\<^sub>1'.\n        T\\<^sub>2')\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1. S\\<^sub>2) <: T", "by simp"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1. S\\<^sub>2) <: T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1. S\\<^sub>2) <: T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>\\<Gamma> \\<turnstile> Q' <: T; size Q = size Q'\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n\ngoal (2 subgoals):\n 1. \\<And>x \\<Gamma> S T.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> S <: x; \\<Gamma> \\<turnstile> x <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Gamma>'2 \\<turnstile> ?Sa2 <: ?Q'2;\n   ?\\<Gamma>'2 \\<turnstile> ?Q'2 <: ?Ta2; size Q = size ?Q'2\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>'2 \\<turnstile> ?Sa2 <: ?Ta2\n\ngoal (2 subgoals):\n 1. \\<And>x \\<Gamma> S T.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> S <: x; \\<Gamma> \\<turnstile> x <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "note tr = this"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Gamma>'2 \\<turnstile> ?Sa2 <: ?Q'2;\n   ?\\<Gamma>'2 \\<turnstile> ?Q'2 <: ?Ta2; size Q = size ?Q'2\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>'2 \\<turnstile> ?Sa2 <: ?Ta2\n\ngoal (2 subgoals):\n 1. \\<And>x \\<Gamma> S T.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> S <: x; \\<Gamma> \\<turnstile> x <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Gamma>'2 \\<turnstile> ?Sa2 <: ?Q'2;\n   ?\\<Gamma>'2 \\<turnstile> ?Q'2 <: ?Ta2; size Q = size ?Q'2\\<rbrakk>\n  \\<Longrightarrow> ?\\<Gamma>'2 \\<turnstile> ?Sa2 <: ?Ta2\n\ngoal (2 subgoals):\n 1. \\<And>x \\<Gamma> S T.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> S <: x; \\<Gamma> \\<turnstile> x <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "case 1"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> S <: Q\n  \\<Gamma> \\<turnstile> Q <: T\n\ngoal (2 subgoals):\n 1. \\<And>x \\<Gamma> S T.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> S <: x; \\<Gamma> \\<turnstile> x <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> S <: Q\n  \\<Gamma> \\<turnstile> Q <: T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> S <: T", "using refl"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> S <: Q\n  \\<Gamma> \\<turnstile> Q <: T\n  ?t = ?t\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> S <: T", "by (rule tr)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> S <: T\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "case 2"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> M <: N\n  \\<Gamma> \\<turnstile> P <: Q\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Gamma> \\<Delta> P M N.\n       \\<lbrakk>\\<And>y \\<Gamma> S T.\n                   \\<lbrakk>(y, x) \\<in> measure size;\n                    \\<Gamma> \\<turnstile> S <: y;\n                    \\<Gamma> \\<turnstile> y <: T\\<rbrakk>\n                   \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T;\n        \\<And>y \\<Gamma> \\<Delta> P M N.\n           \\<lbrakk>(y, x) \\<in> measure size;\n            \\<Delta> @ TVarB y \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n            \\<Gamma> \\<turnstile> P <: y\\<rbrakk>\n           \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> M <: N;\n        \\<Delta> @ TVarB x \\<Colon> \\<Gamma> \\<turnstile> M <: N;\n        \\<Gamma> \\<turnstile> P <: x\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> M <: N", "from 2(1)"], ["proof (chain)\npicking this:\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> M <: N", "show \"\\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> M <: N\""], ["proof (prove)\nusing this:\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> M <: N\n\ngoal (1 subgoal):\n 1. \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> M <: N", "proof (induct \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>\" M N arbitrary: \\<Delta>)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S <: Top\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: T\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "case SA_Top"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S_\n\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S <: Top\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: T\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "with 2"], ["proof (chain)\npicking this:\n  \\<Delta>'__ @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> M <: N\n  \\<Gamma> \\<turnstile> P <: Q\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S_", "show ?case"], ["proof (prove)\nusing this:\n  \\<Delta>'__ @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> M <: N\n  \\<Gamma> \\<turnstile> P <: Q\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S_\n\ngoal (1 subgoal):\n 1. \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> S_ <: Top", "by (auto intro!: subtyping.SA_Top\n        intro: wf_equallength wfE_replace elim!: wf_subtypeE)"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> S_ <: Top\n\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: T\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: T\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "case SA_refl_TVar"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i_\n\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: T\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "with 2"], ["proof (chain)\npicking this:\n  \\<Delta>'__ @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> M <: N\n  \\<Gamma> \\<turnstile> P <: Q\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i_", "show ?case"], ["proof (prove)\nusing this:\n  \\<Delta>'__ @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> M <: N\n  \\<Gamma> \\<turnstile> P <: Q\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i_\n\ngoal (1 subgoal):\n 1. \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i_ <: TVar i_", "by (auto intro!: subtyping.SA_refl_TVar\n        intro: wf_equallength wfE_replace elim!: wf_subtypeE)"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i_ <: TVar i_\n\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: T\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: T\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "case (SA_trans_TVar i U T)"], ["proof (state)\nthis:\n  (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ TVarB Q \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> TVar i <: T\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "proof (cases \"i < \\<parallel>\\<Delta>\\<parallel>\")"], ["proof (state)\ngoal (2 subgoals):\n 1. i < \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\n 2. \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "case True"], ["proof (state)\nthis:\n  i < \\<parallel>\\<Delta>\\<parallel>\n\ngoal (2 subgoals):\n 1. i < \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\n 2. \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "with SA_trans_TVar"], ["proof (chain)\npicking this:\n  (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ TVarB Q \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  i < \\<parallel>\\<Delta>\\<parallel>", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ TVarB Q \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  i < \\<parallel>\\<Delta>\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "by (auto intro!: subtyping.SA_trans_TVar)"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\n\ngoal (1 subgoal):\n 1. \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "case False"], ["proof (state)\nthis:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "note False' = False"], ["proof (state)\nthis:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "proof (cases \"i = \\<parallel>\\<Delta>\\<parallel>\")"], ["proof (state)\ngoal (2 subgoals):\n 1. i = \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\n 2. i \\<noteq> \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "case True"], ["proof (state)\nthis:\n  i = \\<parallel>\\<Delta>\\<parallel>\n\ngoal (2 subgoals):\n 1. i = \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\n 2. i \\<noteq> \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "from SA_trans_TVar"], ["proof (chain)\npicking this:\n  (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ TVarB Q \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T", "have \"(\\<Delta> @ [TVarB P]) @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\""], ["proof (prove)\nusing this:\n  (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ TVarB Q \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n\ngoal (1 subgoal):\n 1. (\\<Delta> @ [TVarB P]) @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "by (auto elim!: wf_subtypeE)"], ["proof (state)\nthis:\n  (\\<Delta> @ [TVarB P]) @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n\ngoal (2 subgoals):\n 1. i = \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\n 2. i \\<noteq> \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "with \\<open>\\<Gamma> \\<turnstile> P <: Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> P <: Q\n  (\\<Delta> @ [TVarB P]) @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "have \"(\\<Delta> @ [TVarB P]) @ \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta> @ [TVarB P]\\<parallel> 0 P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta> @ [TVarB P]\\<parallel> 0 Q\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> P <: Q\n  (\\<Delta> @ [TVarB P]) @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n\ngoal (1 subgoal):\n 1. (\\<Delta> @ [TVarB P]) @\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                           \\<parallel>\\<Delta> @ [TVarB P]\\<parallel> 0\n                           P <: \\<up>\\<^sub>\\<tau>\n                                 \\<parallel>\\<Delta> @ [TVarB P]\\<parallel>\n                                 0 Q", "by (rule subtype_weaken')"], ["proof (state)\nthis:\n  (\\<Delta> @ [TVarB P]) @\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                         \\<parallel>\\<Delta> @ [TVarB P]\\<parallel> 0\n                         P <: \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta> @ [TVarB P]\\<parallel> 0\n                               Q\n\ngoal (2 subgoals):\n 1. i = \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\n 2. i \\<noteq> \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "with SA_trans_TVar True False"], ["proof (chain)\npicking this:\n  (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ TVarB Q \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  i = \\<parallel>\\<Delta>\\<parallel>\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  (\\<Delta> @ [TVarB P]) @\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                         \\<parallel>\\<Delta> @ [TVarB P]\\<parallel> 0\n                         P <: \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta> @ [TVarB P]\\<parallel> 0\n                               Q", "have \"\\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 P <: T\""], ["proof (prove)\nusing this:\n  (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ TVarB Q \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  i = \\<parallel>\\<Delta>\\<parallel>\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  (\\<Delta> @ [TVarB P]) @\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                         \\<parallel>\\<Delta> @ [TVarB P]\\<parallel> 0\n                         P <: \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta> @ [TVarB P]\\<parallel> 0\n                               Q\n\ngoal (1 subgoal):\n 1. \\<Delta> @ TVarB P \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                           (Suc \\<parallel>\\<Delta>\\<parallel>) 0 P <: T", "by - (rule tr, simp+)"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                         (Suc \\<parallel>\\<Delta>\\<parallel>) 0 P <: T\n\ngoal (2 subgoals):\n 1. i = \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\n 2. i \\<noteq> \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "with True and False and SA_trans_TVar"], ["proof (chain)\npicking this:\n  i = \\<parallel>\\<Delta>\\<parallel>\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ TVarB Q \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                         (Suc \\<parallel>\\<Delta>\\<parallel>) 0 P <: T", "show ?thesis"], ["proof (prove)\nusing this:\n  i = \\<parallel>\\<Delta>\\<parallel>\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ TVarB Q \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                         (Suc \\<parallel>\\<Delta>\\<parallel>) 0 P <: T\n\ngoal (1 subgoal):\n 1. \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "by (auto intro!: subtyping.SA_trans_TVar)"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\n\ngoal (1 subgoal):\n 1. i \\<noteq> \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. i \\<noteq> \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "case False"], ["proof (state)\nthis:\n  i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\n\ngoal (1 subgoal):\n 1. i \\<noteq> \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "with False'"], ["proof (chain)\npicking this:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  i \\<noteq> \\<parallel>\\<Delta>\\<parallel>", "have \"i - \\<parallel>\\<Delta>\\<parallel> = Suc (i - \\<parallel>\\<Delta>\\<parallel> - 1)\""], ["proof (prove)\nusing this:\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\n\ngoal (1 subgoal):\n 1. i - \\<parallel>\\<Delta>\\<parallel> =\n    Suc (i - \\<parallel>\\<Delta>\\<parallel> - 1)", "by arith"], ["proof (state)\nthis:\n  i - \\<parallel>\\<Delta>\\<parallel> =\n  Suc (i - \\<parallel>\\<Delta>\\<parallel> - 1)\n\ngoal (1 subgoal):\n 1. i \\<noteq> \\<parallel>\\<Delta>\\<parallel> \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "with False False' SA_trans_TVar"], ["proof (chain)\npicking this:\n  i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ TVarB Q \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  i - \\<parallel>\\<Delta>\\<parallel> =\n  Suc (i - \\<parallel>\\<Delta>\\<parallel> - 1)", "show ?thesis"], ["proof (prove)\nusing this:\n  i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\n  \\<not> i < \\<parallel>\\<Delta>\\<parallel>\n  (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n  \\<lfloor>TVarB U\\<rfloor>\n  \\<Delta> @ TVarB Q \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T\n  i - \\<parallel>\\<Delta>\\<parallel> =\n  Suc (i - \\<parallel>\\<Delta>\\<parallel> - 1)\n\ngoal (1 subgoal):\n 1. \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T", "by - (rule subtyping.SA_trans_TVar, simp+)"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> TVar i <: T\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "case SA_arrow"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>1_ <: S\\<^sub>1_\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>1_ <: S\\<^sub>1_\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2_ <: T\\<^sub>2_\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2_ <: T\\<^sub>2_\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S\\<^sub>1 \\<rightarrow>\n         S\\<^sub>2 <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>1_ <: S\\<^sub>1_\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>1_ <: S\\<^sub>1_\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2_ <: T\\<^sub>2_\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2_ <: T\\<^sub>2_\n\ngoal (1 subgoal):\n 1. \\<Delta> @ TVarB P \\<Colon>\n    \\<Gamma> \\<turnstile> S\\<^sub>1_ \\<rightarrow>\n                          S\\<^sub>2_ <: T\\<^sub>1_ \\<rightarrow> T\\<^sub>2_", "by (auto intro!: subtyping.SA_arrow)"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> S\\<^sub>1_ \\<rightarrow>\n                        S\\<^sub>2_ <: T\\<^sub>1_ \\<rightarrow> T\\<^sub>2_\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "case (SA_all T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2)"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  TVarB T\\<^sub>1 \\<Colon>\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n  ?\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n  ?\\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n           \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<Delta>' @ TVarB P \\<Colon>\n           \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1\n  TVarB T\\<^sub>1 \\<Colon>\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n  TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n  ?\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<Longrightarrow>\n  ?\\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<Delta> @ TVarB P \\<Colon>\n    \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n                              S\\<^sub>2) <: (\\<forall><:T\\<^sub>1.\n          T\\<^sub>2)", "by (auto intro: subtyping.SA_all\n        SA_all(4) [of \"TVarB T\\<^sub>1 \\<Colon> \\<Delta>\", simplified])"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB P \\<Colon>\n  \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n                            S\\<^sub>2) <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> M <: N\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Delta>'2 @ TVarB Q \\<Colon>\n           ?\\<Gamma>'2 \\<turnstile> ?Ma2 <: ?Na2;\n   ?\\<Gamma>'2 \\<turnstile> ?Pa2 <: Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Delta>'2 @ TVarB ?Pa2 \\<Colon>\n                    ?\\<Gamma>'2 \\<turnstile> ?Ma2 <: ?Na2\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nIn the proof of the preservation theorem presented in \\secref{sec:evaluation},\nwe will also need a substitution theorem, which is proved by\ninduction on the subtyping derivation:\n\\<close>"], ["", "lemma substT_subtype: \\<comment> \\<open>A.10\\<close>\n  assumes H: \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T\"\n  shows \"\\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @ \\<Gamma> \\<turnstile> S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n    \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n    \\<Gamma> \\<turnstile> S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "using H"], ["proof (prove)\nusing this:\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n    \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n    \\<Gamma> \\<turnstile> S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (induct \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>\" S T arbitrary: \\<Delta>)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: Top[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: TVar\n          i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (S\\<^sub>1 \\<rightarrow>\n          S\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: (T\\<^sub>1 \\<rightarrow>\n                   T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n           \\<Longrightarrow> \\<Delta>'[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                             \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1.\n             S\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: (\\<forall><:T\\<^sub>1.\n                         T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp_all"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: Top\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                 P) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule SA_Top)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                 P) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule wfE_subst)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B13 S \\<Delta> \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 3. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                 P) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 5. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                 P) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                 P) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                 P) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule wf_subst)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B18 S \\<Delta> \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\n 2. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                 P) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                 P) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                 P) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                 P) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule impI conjI)+"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          P <: \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 P\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule subtype_refl)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          \\<parallel>\\<Delta>\\<parallel> 0 P\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule wfE_subst)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B31 i \\<Delta> \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          \\<parallel>\\<Delta>\\<parallel> 0 P\n 4. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 5. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          \\<parallel>\\<Delta>\\<parallel> 0 P\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          \\<parallel>\\<Delta>\\<parallel> 0 P\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          \\<parallel>\\<Delta>\\<parallel> 0 P\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          \\<parallel>\\<Delta>\\<parallel> 0 P\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (drule_tac T=P and \\<Delta>=\"\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e\" in wf_weaken')"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n         \\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e\\<parallel>\n         0 P\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          \\<parallel>\\<Delta>\\<parallel> 0 P\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule conjI impI)+"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          (i - Suc 0) <: TVar (i - Suc 0)\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule SA_refl_TVar)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule wfE_subst)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B50 i \\<Delta> \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 4. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 5. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (drule wf_subst)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?U57 i\n                          \\<Delta>\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> ?U57 i \\<Delta>]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n         i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> ?U57 i\n                            \\<Delta>]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n         i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule impI)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule SA_refl_TVar)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule wfE_subst)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B65 i \\<Delta> \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (drule wf_subst)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?U72 i\n                          \\<Delta>\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> ?U72 i \\<Delta>]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n         i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> ?U72 i\n                            \\<Delta>]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n         i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>))\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule conjI impI)+"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i -\n            Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>Q = U;\n        \\<Delta> @ TVarB U \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n                               U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>\\<parallel> 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: U;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i -\n            Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (drule_tac \\<Gamma>=\\<Gamma> and \\<Delta>=\"\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e\" in subtype_weaken')"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>Q = U;\n        \\<Delta> @ TVarB U \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n                               U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>\\<parallel> 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>Q = U;\n        \\<Delta> @ TVarB U \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n                               U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>\\<parallel> 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e\\<parallel>\n                               0 P <: \\<up>\\<^sub>\\<tau>\n \\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e\\<parallel> 0\n U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i -\n            Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (erule wf_subtypeE)+"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>Q = U; i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Delta> @ TVarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ TVarB U \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n         (Suc \\<parallel>\\<Delta>\\<parallel>) 0 U;\n        \\<Delta> @ TVarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n         \\<parallel>\\<Delta>\\<parallel> 0 U;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>Q = U;\n        \\<Delta> @ TVarB U \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n                               U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>\\<parallel> 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e\\<parallel>\n                               0 P <: \\<up>\\<^sub>\\<tau>\n \\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e\\<parallel> 0\n U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i -\n            Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>Q = U;\n        \\<Delta> @ TVarB U \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n                               U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>\\<parallel> 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e\\<parallel>\n                               0 P <: \\<up>\\<^sub>\\<tau>\n \\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e\\<parallel> 0\n U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i -\n            Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>Q = U;\n        \\<Delta> @ TVarB U \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n                               U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>\\<parallel> 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>\\<parallel> 0\n                               P <: \\<up>\\<^sub>\\<tau>\n                                     \\<parallel>\\<Delta>\\<parallel> 0\n                                     U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          P <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i -\n            Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule subtype_trans(1))"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>Q = U;\n        \\<Delta> @ TVarB U \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n                               U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>\\<parallel> 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>\\<parallel> 0\n                               P <: \\<up>\\<^sub>\\<tau>\n                                     \\<parallel>\\<Delta>\\<parallel> 0\n                                     U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          \\<parallel>\\<Delta>\\<parallel> 0 P <: ?Q86 i U T \\<Delta>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>Q = U;\n        \\<Delta> @ TVarB U \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n                               U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>\\<parallel> 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n                               \\<parallel>\\<Delta>\\<parallel> 0\n                               P <: \\<up>\\<^sub>\\<tau>\n                                     \\<parallel>\\<Delta>\\<parallel> 0\n                                     U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> ?Q86 i U T\n          \\<Delta> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i -\n            Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply assumption+"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i -\n            Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule conjI impI)+"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          (i -\n           Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule SA_trans_TVar)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>TVarB (?U96 i U T \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          (?U96 i U T\n            \\<Delta>) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (simp split: nat.split_asm)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>i -\n    Suc \\<parallel>\\<Delta>\\<parallel>\\<rangle> =\n                         \\<lfloor>TVarB (?U96 i U T \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          (?U96 i U T\n            \\<Delta>) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (subgoal_tac \"\\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\")"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>i -\n    Suc \\<parallel>\\<Delta>\\<parallel>\\<rangle> =\n                         \\<lfloor>TVarB (?U96 i U T \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          (?U96 i U T\n            \\<Delta>) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rename_tac nat)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta> nat.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>i -\n    Suc \\<parallel>\\<Delta>\\<parallel>\\<rangle> =\n                         \\<lfloor>TVarB (?U96 i U T \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          (?U96 i U T\n            \\<Delta>) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (subgoal_tac \"i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\")"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta> nat.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0;\n        i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>i -\n    Suc \\<parallel>\\<Delta>\\<parallel>\\<rangle> =\n                         \\<lfloor>TVarB (?U96 i U T \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta> nat.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\n 3. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          (?U96 i U T\n            \\<Delta>) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (simp (no_asm_simp))"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta> nat.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\n 2. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply arith"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply arith"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule impI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule SA_trans_TVar)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>TVarB (?U433 i U T \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n          (?U433 i U T\n            \\<Delta>) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (simp split: nat.split_asm)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n          (U[\\<parallel>\\<Delta>\\<parallel> -\n             Suc i \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (subgoal_tac \"Suc (\\<parallel>\\<Delta>\\<parallel> - Suc 0) = \\<parallel>\\<Delta>\\<parallel>\")"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        Suc (\\<parallel>\\<Delta>\\<parallel> - Suc 0) =\n        \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n          (U[\\<parallel>\\<Delta>\\<parallel> -\n             Suc i \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> Suc (\\<parallel>\\<Delta>\\<parallel> - Suc 0) =\n                         \\<parallel>\\<Delta>\\<parallel>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (simp (no_asm_simp))"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> Suc (\\<parallel>\\<Delta>\\<parallel> - Suc 0) =\n                         \\<parallel>\\<Delta>\\<parallel>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply arith"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule SA_arrow)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply simp+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                             T\\<^sub>2[Suc\n  \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)", "apply (rule SA_all)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n                    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n                            \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n           \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n                    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n                            \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma subst_subtype:\n  assumes H: \"\\<Delta> @ VarB V \\<Colon> \\<Gamma> \\<turnstile> T <: U\"\n  shows \"\\<down>\\<^sub>e 1 0 \\<Delta> @ \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T <: \\<down>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<down>\\<^sub>e 1 0 \\<Delta> @\n    \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>\\<parallel>\n                           T <: \\<down>\\<^sub>\\<tau> 1\n                                 \\<parallel>\\<Delta>\\<parallel> U", "using H"], ["proof (prove)\nusing this:\n  \\<Delta> @ VarB V \\<Colon> \\<Gamma> \\<turnstile> T <: U\n\ngoal (1 subgoal):\n 1. \\<down>\\<^sub>e 1 0 \\<Delta> @\n    \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>\\<parallel>\n                           T <: \\<down>\\<^sub>\\<tau> 1\n                                 \\<parallel>\\<Delta>\\<parallel> U", "apply (induct \"\\<Delta> @ VarB V \\<Colon> \\<Gamma>\" T U arbitrary: \\<Delta>)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          S <: \\<down>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> Top\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar\n            i) <: \\<down>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                   (TVar i)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               (\\<up>\\<^sub>\\<tau> (Suc i) 0\n                                 U) <: \\<down>\\<^sub>\\<tau> 1\n  \\<parallel>\\<Delta>\\<parallel> T\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (TVar\n            i) <: \\<down>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<down>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S\\<^sub>2 <: \\<down>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (S\\<^sub>1 \\<rightarrow>\n           S\\<^sub>2) <: \\<down>\\<^sub>\\<tau> 1\n                          \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1 \\<rightarrow> T\\<^sub>2)\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>1 <: \\<down>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> S\\<^sub>1;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ VarB V \\<Colon> \\<Gamma> =\n           \\<Delta>' @ VarB V \\<Colon> \\<Gamma> \\<Longrightarrow>\n           \\<down>\\<^sub>e 1 0 \\<Delta>' @\n           \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1\n                                  \\<parallel>\\<Delta>'\\<parallel>\n                                  S\\<^sub>2 <: \\<down>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<forall><:S\\<^sub>1.\n              S\\<^sub>2) <: \\<down>\\<^sub>\\<tau> 1\n                             \\<parallel>\\<Delta>\\<parallel>\n                             (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "apply simp_all"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: Top\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: Top) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule SA_Top)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: Top) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule wfE_subst)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B13 S \\<Delta> \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: Top) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 5. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 2. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: Top) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule wf_Top)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: Top) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule wf_subst)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B17 S \\<Delta> \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\n 2. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: Top) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>S \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: Top) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule wf_Top)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: Top) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar i <: TVar i))\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule impI conjI)+"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Top <: Top\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule SA_Top)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule wfE_subst)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B29 i \\<Delta> \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 4. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 5. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule wf_Top)+"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i - Suc 0) <: TVar (i - Suc 0)) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar i <: TVar i)\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule conjI impI)+"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          (i - Suc 0) <: TVar (i - Suc 0)\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule SA_refl_TVar)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule wfE_subst)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B44 i \\<Delta> \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 4. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 5. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule wf_Top)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (drule wf_subst)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?U48 i\n                          \\<Delta>\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> ?U48 i \\<Delta>]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n         i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> ?U48 i\n                            \\<Delta>]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule wf_Top)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n         i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n                          (i - Suc 0)\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule impI)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar i <: TVar i\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule SA_refl_TVar)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule wfE_subst)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B57 i \\<Delta> \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply assumption"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule wf_Top)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (drule wf_subst)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f ?U61 i\n                          \\<Delta>\n 2. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> ?U61 i \\<Delta>]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n         i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> ?U61 i\n                            \\<Delta>]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule wf_Top)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar\n         i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f TVar i\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            (i -\n             Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> TVar\n            i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule conjI impI)+"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Top <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i -\n            Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           (i -\n            Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> TVar\n           i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule conjI impI)+"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          (i -\n           Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (simp split: nat.split_asm)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          (i -\n           Suc 0) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule SA_trans_TVar)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>TVarB (?U89 i U T \\<Delta> x2)\\<rfloor>\n 2. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          (?U89 i U T \\<Delta>\n            x2) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (subgoal_tac \"\\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\")"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>TVarB (?U89 i U T \\<Delta> x2)\\<rfloor>\n 2. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 3. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          (?U89 i U T \\<Delta>\n            x2) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rename_tac nat)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta> nat.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>TVarB (?U89 i U T \\<Delta> nat)\\<rfloor>\n 2. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 3. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          (?U89 i U T \\<Delta>\n            x2) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (subgoal_tac \"i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\")"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta> nat.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0;\n        i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>TVarB (?U89 i U T \\<Delta> nat)\\<rfloor>\n 2. \\<And>i U T \\<Delta> nat.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\n 3. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 4. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          (?U89 i U T \\<Delta>\n            x2) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (simp (no_asm_simp))"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta> nat.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>TVarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\n 2. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 3. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply arith"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 2. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply arith"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> i 0\n                               U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>TVarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau>\n          (Suc (i - Suc 0)) 0\n          U <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule impI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> TVar\n          i <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule SA_trans_TVar)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>TVarB (?U386 i U T \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n          (?U386 i U T\n            \\<Delta>) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n          (U[\\<parallel>\\<Delta>\\<parallel> -\n             Suc i \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (subgoal_tac \"0 < \\<parallel>\\<Delta>\\<parallel>\")"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        0 < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n          (U[\\<parallel>\\<Delta>\\<parallel> -\n             Suc i \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> 0 < \\<parallel>\\<Delta>\\<parallel>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB V \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>TVarB U\\<rfloor>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0 U <: T;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> 0 < \\<parallel>\\<Delta>\\<parallel>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply arith"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n         S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                  T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule SA_arrow)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply simp+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<forall><:S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             S\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) <: (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n                               T\\<^sub>2[Suc\n    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)", "apply (rule SA_all)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n                    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n                              \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T\\<^sub>1 S\\<^sub>1 S\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB V \\<Colon>\n                \\<Gamma> \\<turnstile> T\\<^sub>1 <: S\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: S\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ VarB V \\<Colon>\n        \\<Gamma> \\<turnstile> S\\<^sub>2 <: T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n             \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S\\<^sub>2[Suc\n                    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>2[Suc\n                              \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "subsection \\<open>Typing\\<close>"], ["", "text \\<open>\n\\label{sec:typing}\nWe are now ready to give a definition of the typing judgement \\<open>\\<Gamma> \\<turnstile> t : T\\<close>.\n\\<close>"], ["", "inductive\n  typing :: \"env \\<Rightarrow> trm \\<Rightarrow> type \\<Rightarrow> bool\"    (\"_ \\<turnstile> _ : _\" [50, 50, 50] 50)\nwhere\n  T_Var: \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor> \\<Longrightarrow> T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U \\<Longrightarrow> \\<Gamma> \\<turnstile> Var i : T\"\n| T_Abs: \"VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1. t\\<^sub>2) : T\\<^sub>1 \\<rightarrow> \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\"\n| T_App: \"\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2 \\<Longrightarrow> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1 \\<Longrightarrow> \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet> t\\<^sub>2 : T\\<^sub>1\\<^sub>2\"\n| T_TAbs: \"TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow> \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1. t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\"\n| T_TApp: \"\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2) \\<Longrightarrow> \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1 \\<Longrightarrow>\n    \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\"\n| T_Sub: \"\\<Gamma> \\<turnstile> t : S \\<Longrightarrow> \\<Gamma> \\<turnstile> S <: T \\<Longrightarrow> \\<Gamma> \\<turnstile> t : T\""], ["", "text \\<open>\nNote that in the rule \\<open>T_Var\\<close>, the indices of the type @{term U} looked up in\nthe context @{term \\<Gamma>} need to be incremented in order for the type to be well-formed\nwith respect to @{term \\<Gamma>}. In the rule \\<open>T_Abs\\<close>, the type @{term \"T\\<^sub>2\"} of the\nabstraction body @{term \"t\\<^sub>2\"} may not contain the variable with index \\<open>0\\<close>,\nsince it is a term variable. To compensate for the disappearance of the context\nelement @{term \"VarB T\\<^sub>1\"} in the conclusion of thy typing rule, the indices of all\nfree type variables in @{term \"T\\<^sub>2\"} have to be decremented by \\<open>1\\<close>.\n\\<close>"], ["", "theorem wf_typeE1:\n  assumes H: \"\\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "using H"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t : T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "by induct (blast elim: well_formedE_cases)+"], ["", "theorem wf_typeE2:\n  assumes H: \"\\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "using H"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t : T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply induct"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>\\<Gamma> i U T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1 \\<rightarrow>\n                         \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1 \\<rightarrow>\n        T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 5. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 6. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply simp"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>\\<Gamma> i U T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<up>\\<^sub>\\<tau>\n                          (Suc i) 0 U\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1 \\<rightarrow>\n                         \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1 \\<rightarrow>\n        T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 5. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 6. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (rule wf_liftB)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>\\<Gamma> i U T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>\\<Gamma> i U T.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB U\\<rfloor>\n 3. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1 \\<rightarrow>\n                         \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n 4. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1 \\<rightarrow>\n        T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 6. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 7. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply assumption+"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1 \\<rightarrow>\n                         \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1 \\<rightarrow>\n        T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 4. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 5. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (drule wf_typeE1)+"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1 \\<rightarrow>\n                         \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1 \\<rightarrow>\n        T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 4. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 5. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (erule well_formedE_cases)+"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B VarB T\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1 \\<rightarrow>\n                         \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1 \\<rightarrow>\n        T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 4. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 5. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (rule wf_arrow)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B VarB T\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B VarB T\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<down>\\<^sub>\\<tau>\n                          1 0 T\\<^sub>2\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1 \\<rightarrow>\n        T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 5. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 6. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply simp"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B VarB T\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<down>\\<^sub>\\<tau>\n                          1 0 T\\<^sub>2\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1 \\<rightarrow>\n        T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 4. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 5. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply simp"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1 \\<rightarrow>\n        T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 4. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 5. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (rule wf_subst [of \"[]\", simplified])"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> ?B16 T\\<^sub>1 \\<Gamma> T\\<^sub>2 \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\n 2. \\<And>T\\<^sub>1 \\<Gamma> T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1 \\<rightarrow>\n        T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 5. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 6. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply assumption"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> T\\<^sub>2.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1 \\<rightarrow>\n        T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 4. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 5. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (rule wf_Top)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1 \\<rightarrow>\n        T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 4. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (erule well_formed_cases)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 4. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply assumption"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1.\n                             T\\<^sub>2)\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 3. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (rule wf_all)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 4. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (drule wf_typeE1)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 4. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (erule well_formedE_cases)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B TVarB T\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 4. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 3. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f (\\<forall><:T\\<^sub>1\\<^sub>1.\n            T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 2. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (erule well_formed_cases)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1;\n        TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 2. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (rule wf_subst [of \"[]\", simplified])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1;\n        TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> ?B31 \\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1\n                          T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1;\n        TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\n 3. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1;\n        TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\n 2. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1;\n        TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<^sub>2\n 2. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> t S T.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>\nLike for the subtyping judgement, we can again prove that all types and contexts\ninvolved in a typing judgement are well-formed:\n\\<close>"], ["", "lemma wf_type_conj: \"\\<Gamma> \\<turnstile> t : T \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<and> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t : T \\<Longrightarrow>\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<and>\n    \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "by (frule wf_typeE1, drule wf_typeE2) iprover"], ["", "text \\<open>\nThe narrowing theorem for the typing judgement states that replacing the type\nof a variable in the context by a subtype preserves typability:\n\\<close>"], ["", "lemma narrow_type: \\<comment> \\<open>A.7\\<close>\n  assumes H: \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : T", "using H"], ["proof (prove)\nusing this:\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n    \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : T", "apply (induct \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>\" t T arbitrary: \\<Delta>)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> Var i : T\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n           \\<Longrightarrow> \\<Delta>' @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2) : T\\<^sub>1 \\<rightarrow>\n                          \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n           \\<Longrightarrow> \\<Delta>' @ TVarB P \\<Colon>\n                             \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply simp_all"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0 U\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2) : T\\<^sub>1 \\<rightarrow>\n                          T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply (rule T_Var)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta> @ TVarB P \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB (?U6 i U T \\<Delta>)\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 (?U6 i U T \\<Delta>)\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2) : T\\<^sub>1 \\<rightarrow>\n                          T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply (erule wfE_replace)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B TVarB\n                                  P\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> is_TVarB (TVarB P) = is_TVarB (TVarB Q)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta> @ TVarB P \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB (?U6 i U T \\<Delta>)\\<rfloor>\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 (?U6 i U T \\<Delta>)\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2) : T\\<^sub>1 \\<rightarrow>\n                          T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B TVarB\n                                  P\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> is_TVarB (TVarB P) = is_TVarB (TVarB Q)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta> @ TVarB P \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB (?U6 i U T \\<Delta>)\\<rfloor>\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 (?U6 i U T \\<Delta>)\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2) : T\\<^sub>1 \\<rightarrow>\n                          T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply simp+"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta> @ TVarB P \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB\n                                   (?U6 i U (\\<up>\\<^sub>\\<tau> (Suc i) 0 U)\n                                     \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 (?U6 i U T \\<Delta>)\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2) : T\\<^sub>1 \\<rightarrow>\n                          T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply (case_tac \"i < \\<parallel>\\<Delta>\\<parallel>\")"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta> @ TVarB P \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB\n                                   (?U6 i U (\\<up>\\<^sub>\\<tau> (Suc i) 0 U)\n                                     \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta> @ TVarB P \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB\n                                   (?U6 i U (\\<up>\\<^sub>\\<tau> (Suc i) 0 U)\n                                     \\<Delta>)\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 (?U6 i U T \\<Delta>)\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2) : T\\<^sub>1 \\<rightarrow>\n                          T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply simp"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta> @ TVarB P \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB U\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 U\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2) : T\\<^sub>1 \\<rightarrow>\n                          T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply (case_tac \"i = \\<parallel>\\<Delta>\\<parallel>\")"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta> @ TVarB P \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB U\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta> @ TVarB P \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB U\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 U\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2) : T\\<^sub>1 \\<rightarrow>\n                          T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply simp"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta> @ TVarB P \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB U\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 U\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2) : T\\<^sub>1 \\<rightarrow>\n                          T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply (simp split: nat.split nat.split_asm)+"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2) : T\\<^sub>1 \\<rightarrow>\n                          T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply (rule T_Abs [simplified])"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> VarB T\\<^sub>1 \\<Colon>\n                         \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply simp"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\n         t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 4. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply (rule_tac T\\<^sub>1\\<^sub>1=T\\<^sub>1\\<^sub>1 in T_App)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                     T\\<^sub>1\\<^sub>2\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n    T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply simp+"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2) : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply (rule T_TAbs)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB T\\<^sub>1 \\<Colon>\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> TVarB T\\<^sub>1 \\<Colon>\n                         \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply (rule_tac T\\<^sub>1\\<^sub>1=T\\<^sub>1\\<^sub>1 in T_TApp)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                         T\\<^sub>1\\<^sub>2)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply (rule subtype_trans(2))"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @\n                         TVarB\n                          (?Q40 t\\<^sub>1 T\\<^sub>1\\<^sub>1\n                            T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>) \\<Colon>\n                         \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB P \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n        T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> P <: ?Q40 t\\<^sub>1\n               T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply assumption+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : T", "apply (rule_tac S=S in T_Sub)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> t : S\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S <: T", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB P \\<Colon>\n                         \\<Gamma> \\<turnstile> S <: T", "apply (rule subtype_trans(2))"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB (?Q44 t S T \\<Delta>) \\<Colon>\n                         \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB P \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> P <: ?Q44 t S T \\<Delta>", "apply assumption+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma subtype_refl':\n  assumes t: \"\\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile> T <: T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> T <: T", "proof (rule subtype_refl)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "from t"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> t : T", "show \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t : T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f", "by (rule wf_typeE1)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "from t"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> t : T", "show \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t : T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T", "by (rule wf_typeE2)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f T\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Abs_type: \\<comment> \\<open>A.13(1)\\<close>\n  assumes H: \"\\<Gamma> \\<turnstile> (\\<lambda>:S. s) : T\"\n  shows \"\\<Gamma> \\<turnstile> T <: U \\<rightarrow> U' \\<Longrightarrow>\n    (\\<And>S'. \\<Gamma> \\<turnstile> U <: S \\<Longrightarrow> VarB S \\<Colon> \\<Gamma> \\<turnstile> s : S' \\<Longrightarrow>\n      \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U' \\<Longrightarrow> P) \\<Longrightarrow> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> T <: U \\<rightarrow> U';\n     \\<And>S'.\n        \\<lbrakk>\\<Gamma> \\<turnstile> U <: S;\n         VarB S \\<Colon> \\<Gamma> \\<turnstile> s : S';\n         \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U'\\<rbrakk>\n        \\<Longrightarrow> P\\<rbrakk>\n    \\<Longrightarrow> P", "using H"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> (\\<lambda>:S. s) : T\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> T <: U \\<rightarrow> U';\n     \\<And>S'.\n        \\<lbrakk>\\<Gamma> \\<turnstile> U <: S;\n         VarB S \\<Colon> \\<Gamma> \\<turnstile> s : S';\n         \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U'\\<rbrakk>\n        \\<Longrightarrow> P\\<rbrakk>\n    \\<Longrightarrow> P", "proof (induct \\<Gamma> \"\\<lambda>:S. s\" T arbitrary: U U' S s P)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 U U' P.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>S s U U' P.\n           \\<lbrakk>t\\<^sub>2 = (\\<lambda>:S. s);\n            VarB T\\<^sub>1 \\<Colon>\n            \\<Gamma> \\<turnstile> T\\<^sub>2 <: U \\<rightarrow> U';\n            \\<And>S'.\n               \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                        \\<Gamma> \\<turnstile> U <: S;\n                VarB S \\<Colon> VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> s : S';\n                VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0\n S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow>\n                              \\<down>\\<^sub>\\<tau> 1 0\n                               T\\<^sub>2 <: U \\<rightarrow> U';\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: T\\<^sub>1;\n            VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : S';\n            \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda>:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: U \\<rightarrow> U';\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0\n S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: U \\<rightarrow> U';\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "case (T_Abs T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2)"], ["proof (state)\nthis:\n  VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>t\\<^sub>2 = (\\<lambda>:?S. ?s);\n   VarB T\\<^sub>1 \\<Colon>\n   \\<Gamma> \\<turnstile> T\\<^sub>2 <: ?U \\<rightarrow> ?U';\n   \\<And>S'.\n      \\<lbrakk>VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> ?U <: ?S;\n       VarB ?S \\<Colon> VarB T\\<^sub>1 \\<Colon>\n       \\<Gamma> \\<turnstile> ?s : S';\n       VarB T\\<^sub>1 \\<Colon>\n       \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: ?U'\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow>\n                        \\<down>\\<^sub>\\<tau> 1 0\n                         T\\<^sub>2 <: U \\<rightarrow> U'\n  \\<lbrakk>\\<Gamma> \\<turnstile> U <: T\\<^sub>1;\n   VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : ?S';\n   \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 ?S' <: U'\\<rbrakk>\n  \\<Longrightarrow> P\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 U U' P.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>S s U U' P.\n           \\<lbrakk>t\\<^sub>2 = (\\<lambda>:S. s);\n            VarB T\\<^sub>1 \\<Colon>\n            \\<Gamma> \\<turnstile> T\\<^sub>2 <: U \\<rightarrow> U';\n            \\<And>S'.\n               \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                        \\<Gamma> \\<turnstile> U <: S;\n                VarB S \\<Colon> VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> s : S';\n                VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0\n S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow>\n                              \\<down>\\<^sub>\\<tau> 1 0\n                               T\\<^sub>2 <: U \\<rightarrow> U';\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: T\\<^sub>1;\n            VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : S';\n            \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda>:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: U \\<rightarrow> U';\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0\n S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: U \\<rightarrow> U';\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "from \\<open>\\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow> \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2 <: U \\<rightarrow> U'\\<close>"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow>\n                        \\<down>\\<^sub>\\<tau> 1 0\n                         T\\<^sub>2 <: U \\<rightarrow> U'", "obtain ty1: \"\\<Gamma> \\<turnstile> U <: T\\<^sub>1\" and ty2: \"\\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2 <: U'\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow>\n                        \\<down>\\<^sub>\\<tau> 1 0\n                         T\\<^sub>2 <: U \\<rightarrow> U'\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>\\<Gamma> \\<turnstile> U <: T\\<^sub>1;\n      \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0\n                             T\\<^sub>2 <: U'\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by cases simp_all"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> U <: T\\<^sub>1\n  \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2 <: U'\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 U U' P.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>S s U U' P.\n           \\<lbrakk>t\\<^sub>2 = (\\<lambda>:S. s);\n            VarB T\\<^sub>1 \\<Colon>\n            \\<Gamma> \\<turnstile> T\\<^sub>2 <: U \\<rightarrow> U';\n            \\<And>S'.\n               \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                        \\<Gamma> \\<turnstile> U <: S;\n                VarB S \\<Colon> VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> s : S';\n                VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0\n S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> T\\<^sub>1 \\<rightarrow>\n                              \\<down>\\<^sub>\\<tau> 1 0\n                               T\\<^sub>2 <: U \\<rightarrow> U';\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: T\\<^sub>1;\n            VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : S';\n            \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda>:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: U \\<rightarrow> U';\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0\n S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: U \\<rightarrow> U';\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "from ty1 \\<open>VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\\<close> ty2"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> U <: T\\<^sub>1\n  VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n  \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2 <: U'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> U <: T\\<^sub>1\n  VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n  \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2 <: U'\n\ngoal (1 subgoal):\n 1. P", "by (rule T_Abs)"], ["proof (state)\nthis:\n  P\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda>:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: U \\<rightarrow> U';\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0\n S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: U \\<rightarrow> U';\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda>:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: U \\<rightarrow> U';\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0\n S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: U \\<rightarrow> U';\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "case (T_Sub \\<Gamma> S' T)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> (\\<lambda>:S. s) : S'\n  \\<lbrakk>\\<Gamma> \\<turnstile> S' <: ?U \\<rightarrow> ?U';\n   \\<And>S'.\n      \\<lbrakk>\\<Gamma> \\<turnstile> ?U <: S;\n       VarB S \\<Colon> \\<Gamma> \\<turnstile> s : S';\n       \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: ?U'\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  \\<Gamma> \\<turnstile> S' <: T\n  \\<Gamma> \\<turnstile> T <: U \\<rightarrow> U'\n  \\<lbrakk>\\<Gamma> \\<turnstile> U <: S;\n   VarB S \\<Colon> \\<Gamma> \\<turnstile> s : ?S';\n   \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 ?S' <: U'\\<rbrakk>\n  \\<Longrightarrow> P\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda>:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: U \\<rightarrow> U';\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0\n S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: U \\<rightarrow> U';\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "from \\<open>\\<Gamma> \\<turnstile> S' <: T\\<close> and \\<open>\\<Gamma> \\<turnstile> T <: U \\<rightarrow> U'\\<close>"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> S' <: T\n  \\<Gamma> \\<turnstile> T <: U \\<rightarrow> U'", "have \"\\<Gamma> \\<turnstile> S' <: U \\<rightarrow> U'\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> S' <: T\n  \\<Gamma> \\<turnstile> T <: U \\<rightarrow> U'\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> S' <: U \\<rightarrow> U'", "by (rule subtype_trans(1))"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> S' <: U \\<rightarrow> U'\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda>:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: U \\<rightarrow> U';\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0\n S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: U \\<rightarrow> U';\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            VarB Sa \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "then"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> S' <: U \\<rightarrow> U'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> S' <: U \\<rightarrow> U'\n\ngoal (1 subgoal):\n 1. P", "by (rule T_Sub) (rule T_Sub(5))"], ["proof (state)\nthis:\n  P\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Abs_type':\n  assumes H: \"\\<Gamma> \\<turnstile> (\\<lambda>:S. s) : U \\<rightarrow> U'\"\n  and R: \"\\<And>S'. \\<Gamma> \\<turnstile> U <: S \\<Longrightarrow> VarB S \\<Colon> \\<Gamma> \\<turnstile> s : S' \\<Longrightarrow>\n    \\<Gamma> \\<turnstile> \\<down>\\<^sub>\\<tau> 1 0 S' <: U' \\<Longrightarrow> P\"\n  shows \"P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P", "using H subtype_refl' [OF H]"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> (\\<lambda>:S. s) : U \\<rightarrow> U'\n  \\<Gamma> \\<turnstile> U \\<rightarrow> U' <: U \\<rightarrow> U'\n\ngoal (1 subgoal):\n 1. P", "by (rule Abs_type) (rule R)"], ["", "lemma TAbs_type: \\<comment> \\<open>A.13(2)\\<close>\n  assumes H: \"\\<Gamma> \\<turnstile> (\\<lambda><:S. s) : T\"\n  shows \"\\<Gamma> \\<turnstile> T <: (\\<forall><:U. U') \\<Longrightarrow>\n    (\\<And>S'. \\<Gamma> \\<turnstile> U <: S \\<Longrightarrow> TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S' \\<Longrightarrow>\n      TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U' \\<Longrightarrow> P) \\<Longrightarrow> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> T <: (\\<forall><:U. U');\n     \\<And>S'.\n        \\<lbrakk>\\<Gamma> \\<turnstile> U <: S;\n         TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n         TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n        \\<Longrightarrow> P\\<rbrakk>\n    \\<Longrightarrow> P", "using H"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> (\\<lambda><:S. s) : T\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> T <: (\\<forall><:U. U');\n     \\<And>S'.\n        \\<lbrakk>\\<Gamma> \\<turnstile> U <: S;\n         TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n         TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n        \\<Longrightarrow> P\\<rbrakk>\n    \\<Longrightarrow> P", "proof (induct \\<Gamma> \"\\<lambda><:S. s\" T arbitrary: U U' S s P)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 U U' P.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>S s U U' P.\n           \\<lbrakk>t\\<^sub>2 = (\\<lambda><:S. s);\n            TVarB T\\<^sub>1 \\<Colon>\n            \\<Gamma> \\<turnstile> T\\<^sub>2 <: (\\<forall><:U. U');\n            \\<And>S'.\n               \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                        \\<Gamma> \\<turnstile> U <: S;\n                TVarB U \\<Colon> TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> s : S';\n                TVarB U \\<Colon> TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1.\n                                  T\\<^sub>2) <: (\\<forall><:U. U');\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: T\\<^sub>1;\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : S';\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda><:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: (\\<forall><:U. U');\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: (\\<forall><:U. U');\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "case (T_TAbs T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2)"], ["proof (state)\nthis:\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n  \\<lbrakk>t\\<^sub>2 = (\\<lambda><:?S. ?s);\n   TVarB T\\<^sub>1 \\<Colon>\n   \\<Gamma> \\<turnstile> T\\<^sub>2 <: (\\<forall><:?U. ?U');\n   \\<And>S'.\n      \\<lbrakk>TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> ?U <: ?S;\n       TVarB ?U \\<Colon> TVarB T\\<^sub>1 \\<Colon>\n       \\<Gamma> \\<turnstile> ?s : S';\n       TVarB ?U \\<Colon> TVarB T\\<^sub>1 \\<Colon>\n       \\<Gamma> \\<turnstile> S' <: ?U'\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1.\n                            T\\<^sub>2) <: (\\<forall><:U. U')\n  \\<lbrakk>\\<Gamma> \\<turnstile> U <: T\\<^sub>1;\n   TVarB U \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : ?S';\n   TVarB U \\<Colon> \\<Gamma> \\<turnstile> ?S' <: U'\\<rbrakk>\n  \\<Longrightarrow> P\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 U U' P.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>S s U U' P.\n           \\<lbrakk>t\\<^sub>2 = (\\<lambda><:S. s);\n            TVarB T\\<^sub>1 \\<Colon>\n            \\<Gamma> \\<turnstile> T\\<^sub>2 <: (\\<forall><:U. U');\n            \\<And>S'.\n               \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                        \\<Gamma> \\<turnstile> U <: S;\n                TVarB U \\<Colon> TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> s : S';\n                TVarB U \\<Colon> TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1.\n                                  T\\<^sub>2) <: (\\<forall><:U. U');\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: T\\<^sub>1;\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : S';\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda><:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: (\\<forall><:U. U');\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: (\\<forall><:U. U');\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "from \\<open>\\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1. T\\<^sub>2) <: (\\<forall><:U. U')\\<close>"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1.\n                            T\\<^sub>2) <: (\\<forall><:U. U')", "obtain ty1: \"\\<Gamma> \\<turnstile> U <: T\\<^sub>1\" and ty2: \"TVarB U \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: U'\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1.\n                            T\\<^sub>2) <: (\\<forall><:U. U')\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>\\<Gamma> \\<turnstile> U <: T\\<^sub>1;\n      TVarB U \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: U'\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by cases simp_all"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> U <: T\\<^sub>1\n  TVarB U \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: U'\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 U U' P.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>S s U U' P.\n           \\<lbrakk>t\\<^sub>2 = (\\<lambda><:S. s);\n            TVarB T\\<^sub>1 \\<Colon>\n            \\<Gamma> \\<turnstile> T\\<^sub>2 <: (\\<forall><:U. U');\n            \\<And>S'.\n               \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                        \\<Gamma> \\<turnstile> U <: S;\n                TVarB U \\<Colon> TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> s : S';\n                TVarB U \\<Colon> TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1.\n                                  T\\<^sub>2) <: (\\<forall><:U. U');\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: T\\<^sub>1;\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : S';\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda><:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: (\\<forall><:U. U');\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: (\\<forall><:U. U');\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "from \\<open>TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\\<close>"], ["proof (chain)\npicking this:\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2", "have \"TVarB U \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\""], ["proof (prove)\nusing this:\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n\ngoal (1 subgoal):\n 1. TVarB U \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2", "using ty1"], ["proof (prove)\nusing this:\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n  \\<Gamma> \\<turnstile> U <: T\\<^sub>1\n\ngoal (1 subgoal):\n 1. TVarB U \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2", "by (rule narrow_type [of \"[]\", simplified])"], ["proof (state)\nthis:\n  TVarB U \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 U U' P.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>S s U U' P.\n           \\<lbrakk>t\\<^sub>2 = (\\<lambda><:S. s);\n            TVarB T\\<^sub>1 \\<Colon>\n            \\<Gamma> \\<turnstile> T\\<^sub>2 <: (\\<forall><:U. U');\n            \\<And>S'.\n               \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                        \\<Gamma> \\<turnstile> U <: S;\n                TVarB U \\<Colon> TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> s : S';\n                TVarB U \\<Colon> TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> (\\<forall><:T\\<^sub>1.\n                                  T\\<^sub>2) <: (\\<forall><:U. U');\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: T\\<^sub>1;\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : S';\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda><:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: (\\<forall><:U. U');\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: (\\<forall><:U. U');\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "with ty1"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> U <: T\\<^sub>1\n  TVarB U \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> U <: T\\<^sub>1\n  TVarB U \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n\ngoal (1 subgoal):\n 1. P", "using ty2"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> U <: T\\<^sub>1\n  TVarB U \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n  TVarB U \\<Colon> \\<Gamma> \\<turnstile> T\\<^sub>2 <: U'\n\ngoal (1 subgoal):\n 1. P", "by (rule T_TAbs)"], ["proof (state)\nthis:\n  P\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda><:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: (\\<forall><:U. U');\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: (\\<forall><:U. U');\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda><:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: (\\<forall><:U. U');\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: (\\<forall><:U. U');\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "case (T_Sub \\<Gamma> S' T)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> (\\<lambda><:S. s) : S'\n  \\<lbrakk>\\<Gamma> \\<turnstile> S' <: (\\<forall><:?U. ?U');\n   \\<And>S'.\n      \\<lbrakk>\\<Gamma> \\<turnstile> ?U <: S;\n       TVarB ?U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n       TVarB ?U \\<Colon> \\<Gamma> \\<turnstile> S' <: ?U'\\<rbrakk>\n      \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  \\<Gamma> \\<turnstile> S' <: T\n  \\<Gamma> \\<turnstile> T <: (\\<forall><:U. U')\n  \\<lbrakk>\\<Gamma> \\<turnstile> U <: S;\n   TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : ?S';\n   TVarB U \\<Colon> \\<Gamma> \\<turnstile> ?S' <: U'\\<rbrakk>\n  \\<Longrightarrow> P\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda><:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: (\\<forall><:U. U');\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: (\\<forall><:U. U');\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "from \\<open>\\<Gamma> \\<turnstile> S' <: T\\<close> and \\<open>\\<Gamma> \\<turnstile> T <: (\\<forall><:U. U')\\<close>"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> S' <: T\n  \\<Gamma> \\<turnstile> T <: (\\<forall><:U. U')", "have \"\\<Gamma> \\<turnstile> S' <: (\\<forall><:U. U')\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> S' <: T\n  \\<Gamma> \\<turnstile> T <: (\\<forall><:U. U')\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> S' <: (\\<forall><:U. U')", "by (rule subtype_trans(1))"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> S' <: (\\<forall><:U. U')\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> S T Sa s U U' P.\n       \\<lbrakk>\\<Gamma> \\<turnstile> (\\<lambda><:Sa. s) : S;\n        \\<And>U U' P.\n           \\<lbrakk>\\<Gamma> \\<turnstile> S <: (\\<forall><:U. U');\n            \\<And>S'.\n               \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n                TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n               \\<Longrightarrow> P\\<rbrakk>\n           \\<Longrightarrow> P;\n        \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> T <: (\\<forall><:U. U');\n        \\<And>S'.\n           \\<lbrakk>\\<Gamma> \\<turnstile> U <: Sa;\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S';\n            TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U'\\<rbrakk>\n           \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P", "then"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> S' <: (\\<forall><:U. U')", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> S' <: (\\<forall><:U. U')\n\ngoal (1 subgoal):\n 1. P", "by (rule T_Sub) (rule T_Sub(5))"], ["proof (state)\nthis:\n  P\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma TAbs_type':\n  assumes H: \"\\<Gamma> \\<turnstile> (\\<lambda><:S. s) : (\\<forall><:U. U')\"\n  and R: \"\\<And>S'. \\<Gamma> \\<turnstile> U <: S \\<Longrightarrow> TVarB U \\<Colon> \\<Gamma> \\<turnstile> s : S' \\<Longrightarrow>\n    TVarB U \\<Colon> \\<Gamma> \\<turnstile> S' <: U' \\<Longrightarrow> P\"\n  shows \"P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P", "using H subtype_refl' [OF H]"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> (\\<lambda><:S. s) : (\\<forall><:U. U')\n  \\<Gamma> \\<turnstile> (\\<forall><:U. U') <: (\\<forall><:U. U')\n\ngoal (1 subgoal):\n 1. P", "by (rule TAbs_type) (rule R)"], ["", "lemma T_eq: \"\\<Gamma> \\<turnstile> t : T \\<Longrightarrow> T = T' \\<Longrightarrow> \\<Gamma> \\<turnstile> t : T'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> t : T; T = T'\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma> \\<turnstile> t : T'", "by simp"], ["", "text \\<open>\nThe weakening theorem states that inserting a binding @{term B}\ndoes not affect typing:\n\\<close>"], ["", "lemma type_weaken:\n  assumes H: \"\\<Delta> @ \\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B \\<Longrightarrow>\n    \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon> \\<Gamma> \\<turnstile> \\<up> 1 \\<parallel>\\<Delta>\\<parallel> t : \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B \\<Longrightarrow>\n    \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up> 1 \\<parallel>\\<Delta>\\<parallel>\n                           t : \\<up>\\<^sub>\\<tau> 1\n                                \\<parallel>\\<Delta>\\<parallel> T", "using H"], ["proof (prove)\nusing this:\n  \\<Delta> @ \\<Gamma> \\<turnstile> t : T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B \\<Longrightarrow>\n    \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n    \\<Gamma> \\<turnstile> \\<up> 1 \\<parallel>\\<Delta>\\<parallel>\n                           t : \\<up>\\<^sub>\\<tau> 1\n                                \\<parallel>\\<Delta>\\<parallel> T", "apply (induct \"\\<Delta> @ \\<Gamma>\" t T arbitrary: \\<Delta>)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (Var i) : \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n                    \\<Delta>' @ \\<Gamma>;\n            \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n           \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n                             \\<Gamma> \\<turnstile> \\<up> 1\n              \\<parallel>\\<Delta>'\\<parallel>\n              t\\<^sub>2 : \\<up>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<lambda>:T\\<^sub>1.\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (T\\<^sub>1 \\<rightarrow>\n                             \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B \\<Longrightarrow>\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> 1 \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> 1\n      \\<parallel>\\<Delta>\\<parallel>\n      (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B \\<Longrightarrow>\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> 1 \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> 1\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (t\\<^sub>1 \\<bullet>\n           t\\<^sub>2) : \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon> \\<Delta> @ \\<Gamma> =\n                    \\<Delta>' @ \\<Gamma>;\n            \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n           \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta>' @ B \\<Colon>\n                             \\<Gamma> \\<turnstile> \\<up> 1\n              \\<parallel>\\<Delta>'\\<parallel>\n              t\\<^sub>2 : \\<up>\\<^sub>\\<tau> 1\n                           \\<parallel>\\<Delta>'\\<parallel> T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (\\<lambda><:T\\<^sub>1.\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> 1\n                            \\<parallel>\\<Delta>\\<parallel>\n                            (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B \\<Longrightarrow>\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> 1 \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> 1\n      \\<parallel>\\<Delta>\\<parallel>\n      (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n           T\\<^sub>2) : \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel>\n                         (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B \\<Longrightarrow>\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> 1 \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> 1\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e 1 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> 1\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp_all"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> (i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                          \\<Gamma> \\<turnstile> Var\n           i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n                (\\<up>\\<^sub>\\<tau> (Suc 0)\n                  (\\<parallel>\\<Delta>\\<parallel> - Suc i) U)) \\<and>\n                         (\\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                          \\<Gamma> \\<turnstile> Var\n           (Suc i) : \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U)\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (rule conjI)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               (\\<up>\\<^sub>\\<tau> (Suc 0)\n                 (\\<parallel>\\<Delta>\\<parallel> - Suc i) U)\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> Var\n          (Suc i) : \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (rule impI)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               (\\<up>\\<^sub>\\<tau> (Suc 0)\n                 (\\<parallel>\\<Delta>\\<parallel> - Suc i) U)\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> Var\n          (Suc i) : \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (rule T_Var)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB (?U18 i U T \\<Delta>)\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          (\\<up>\\<^sub>\\<tau> (Suc 0)\n                            (\\<parallel>\\<Delta>\\<parallel> - Suc i) U) =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 (?U18 i U T \\<Delta>)\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> Var\n          (Suc i) : \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (erule wfE_weaken)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB (?U18 i U T \\<Delta>)\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          (\\<up>\\<^sub>\\<tau> (Suc 0)\n                            (\\<parallel>\\<Delta>\\<parallel> - Suc i) U) =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 (?U18 i U T \\<Delta>)\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> Var\n          (Suc i) : \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply simp+"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<not> i < \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> Var\n          (Suc i) : \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (rule impI)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> Var\n          (Suc i) : \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (rule T_Var)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                          \\<Gamma>)\\<langle>Suc i\\<rangle> =\n                         \\<lfloor>VarB (?U27 i U T \\<Delta>)\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0\n                          (?U27 i U T \\<Delta>)\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (erule wfE_weaken)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                          \\<Gamma>)\\<langle>Suc i\\<rangle> =\n                         \\<lfloor>VarB (?U27 i U T \\<Delta>)\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0\n                          (?U27 i U T \\<Delta>)\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply assumption"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                          \\<Gamma>)\\<langle>Suc i\\<rangle> =\n                         \\<lfloor>VarB (?U27 i U T \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0\n                          (?U27 i U T \\<Delta>)\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (subgoal_tac \"Suc i - \\<parallel>\\<Delta>\\<parallel> = Suc (i - \\<parallel>\\<Delta>\\<parallel>)\")"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>;\n        Suc i - \\<parallel>\\<Delta>\\<parallel> =\n        Suc (i - \\<parallel>\\<Delta>\\<parallel>)\\<rbrakk>\n       \\<Longrightarrow> (\\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                          \\<Gamma>)\\<langle>Suc i\\<rangle> =\n                         \\<lfloor>VarB (?U27 i U T \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> Suc i - \\<parallel>\\<Delta>\\<parallel> =\n                         Suc (i - \\<parallel>\\<Delta>\\<parallel>)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0\n                          (?U27 i U T \\<Delta>)\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> Suc i - \\<parallel>\\<Delta>\\<parallel> =\n                         Suc (i - \\<parallel>\\<Delta>\\<parallel>)\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply arith"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ \\<Gamma>)\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<not> i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (Suc i)) 0 U\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (rule refl)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda>:\\<up>\\<^sub>\\<tau>\n                     (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : \\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1 \\<rightarrow>\n                           \\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (rule T_Abs [THEN T_eq])"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> VarB\n                          (\\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1) \\<Colon>\n                         \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          (Suc \\<parallel>\\<Delta>\\<parallel>)\n          t\\<^sub>2 : ?T\\<^sub>2103 T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel>\n                          T\\<^sub>1 \\<rightarrow>\n                         \\<down>\\<^sub>\\<tau> 1 0\n                          (?T\\<^sub>2103 T\\<^sub>1 t\\<^sub>2 T\\<^sub>2\n                            \\<Delta>) =\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel>\n                          T\\<^sub>1 \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          (Suc \\<parallel>\\<Delta>\\<parallel>)\n                          T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel>\n                          T\\<^sub>1 \\<rightarrow>\n                         \\<down>\\<^sub>\\<tau> 1 0\n                          (\\<up>\\<^sub>\\<tau> (Suc 0)\n                            (Suc \\<parallel>\\<Delta>\\<parallel>)\n                            T\\<^sub>2) =\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel>\n                          T\\<^sub>1 \\<rightarrow>\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          (Suc \\<parallel>\\<Delta>\\<parallel>)\n                          T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\n         \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 4. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (rule_tac T\\<^sub>1\\<^sub>1=\"\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1\" in T_App)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                      \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>2\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1 \\<rightarrow>\n     \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n      T\\<^sub>1\\<^sub>2;\n        \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 4. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> (\\<lambda><:\\<up>\\<^sub>\\<tau>\n                      (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n             \\<up> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n              t\\<^sub>2) : (\\<forall><:\\<up>\\<^sub>\\<tau> (Suc 0)\n  \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1.\n                               \\<up>\\<^sub>\\<tau> (Suc 0)\n                                (Suc \\<parallel>\\<Delta>\\<parallel>)\n                                T\\<^sub>2)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (rule T_TAbs)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n           T\\<^sub>1) \\<Colon>\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n                               (Suc \\<parallel>\\<Delta>\\<parallel>)\n                               t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n      (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (\\<up>\\<^sub>\\<tau> (Suc 0)\n                            \\<parallel>\\<Delta>\\<parallel>\n                            T\\<^sub>1) \\<Colon>\n                         \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          (Suc \\<parallel>\\<Delta>\\<parallel>)\n          t\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       (Suc \\<parallel>\\<Delta>\\<parallel>) T\\<^sub>2\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t\\<^sub>1 : (\\<forall><:\\<up>\\<^sub>\\<tau>\n                  (Suc 0) \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1.\n         \\<up>\\<^sub>\\<tau> (Suc 0) (Suc \\<parallel>\\<Delta>\\<parallel>)\n          T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n         \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 : \\<up>\\<^sub>\\<tau> (Suc 0)\n                       \\<parallel>\\<Delta>\\<parallel>\n                       (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (erule_tac T_TApp [THEN T_eq])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 <: \\<up>\\<^sub>\\<tau> (Suc 0)\n                        \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc 0)\n                          (Suc \\<parallel>\\<Delta>\\<parallel>)\n                          T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau>\n                                (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                                T\\<^sub>2]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (drule subtype_weaken)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B ?B111\n                                  t\\<^sub>1 T\\<^sub>1\\<^sub>1\n                                  T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @\n        ?B111 t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n         \\<Delta> \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               T\\<^sub>2 <: \\<up>\\<^sub>\\<tau> 1\n       \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          T\\<^sub>2 <: \\<up>\\<^sub>\\<tau> (Suc 0)\n                        \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc 0)\n                          (Suc \\<parallel>\\<Delta>\\<parallel>)\n                          T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau>\n                                (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                                T\\<^sub>2]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 4. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply simp+"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc 0)\n                          (Suc \\<parallel>\\<Delta>\\<parallel>)\n                          T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau>\n                                (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                                T\\<^sub>2]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (case_tac \\<Delta>)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> = []\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc 0)\n                          (Suc \\<parallel>\\<Delta>\\<parallel>)\n                          T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau>\n                                (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                                T\\<^sub>2]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta> a\n       list.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<Delta> = a \\<Colon> list\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc 0)\n                          (Suc \\<parallel>\\<Delta>\\<parallel>)\n                          T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> \\<up>\\<^sub>\\<tau>\n                                (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                                T\\<^sub>2]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc 0)\n                          \\<parallel>\\<Delta>\\<parallel>\n                          (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (simp add: liftT_substT_strange [of _ 0, simplified])+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (rule_tac S=\"\\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> S\" in T_Sub)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          t : \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> S\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          S <: \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          S <: \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply (drule subtype_weaken)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B ?B116\n                                  t S T \\<Delta>\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ \\<Gamma> \\<turnstile> t : S;\n        \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) \\<parallel>\\<Delta>\\<parallel>\n                               t : \\<up>\\<^sub>\\<tau> (Suc 0)\n                                    \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B B;\n        \\<up>\\<^sub>e 1 0 \\<Delta> @ ?B116 t S T \\<Delta> \\<Colon>\n        \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> 1\n                               \\<parallel>\\<Delta>\\<parallel>\n                               S <: \\<up>\\<^sub>\\<tau> 1\n                                     \\<parallel>\\<Delta>\\<parallel>\n                                     T\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>e (Suc 0) 0 \\<Delta> @ B \\<Colon>\n                         \\<Gamma> \\<turnstile> \\<up>\\<^sub>\\<tau> (Suc 0)\n          \\<parallel>\\<Delta>\\<parallel>\n          S <: \\<up>\\<^sub>\\<tau> (Suc 0) \\<parallel>\\<Delta>\\<parallel> T", "apply simp+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>\nWe can strengthen this result, so as to mean that concatenating a new context\n@{term \\<Delta>} to the context @{term \\<Gamma>} preserves typing:\n\\<close>"], ["", "lemma type_weaken': \\<comment> \\<open>A.5(6)\\<close>\n  \"\\<Gamma> \\<turnstile> t : T \\<Longrightarrow> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow> \\<Delta> @ \\<Gamma> \\<turnstile> \\<up> \\<parallel>\\<Delta>\\<parallel> 0 t : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> t : T;\n     \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n    \\<Longrightarrow> \\<Delta> @\n                      \\<Gamma> \\<turnstile> \\<up>\n       \\<parallel>\\<Delta>\\<parallel> 0\n       t : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 T", "apply (induct \\<Delta>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Gamma> \\<turnstile> t : T;\n     [] @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n    \\<Longrightarrow> [] @\n                      \\<Gamma> \\<turnstile> \\<up> \\<parallel>[]\\<parallel> 0\n       t : \\<up>\\<^sub>\\<tau> \\<parallel>[]\\<parallel> 0 T\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Gamma> \\<turnstile> t : T;\n                 \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n                \\<Longrightarrow> \\<Delta> @\n                                  \\<Gamma> \\<turnstile> \\<up>\n                   \\<parallel>\\<Delta>\\<parallel> 0\n                   t : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                        T;\n        \\<Gamma> \\<turnstile> t : T;\n        (a \\<Colon> \\<Delta>) @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon> \\<Delta>) @\n                         \\<Gamma> \\<turnstile> \\<up> \\<parallel>a \\<Colon>\n          \\<Delta>\\<parallel> 0\n          t : \\<up>\\<^sub>\\<tau> \\<parallel>a \\<Colon> \\<Delta>\\<parallel> 0\n               T", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<lbrakk>\\<Gamma> \\<turnstile> t : T;\n                 \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n                \\<Longrightarrow> \\<Delta> @\n                                  \\<Gamma> \\<turnstile> \\<up>\n                   \\<parallel>\\<Delta>\\<parallel> 0\n                   t : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                        T;\n        \\<Gamma> \\<turnstile> t : T;\n        (a \\<Colon> \\<Delta>) @\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> (a \\<Colon> \\<Delta>) @\n                         \\<Gamma> \\<turnstile> \\<up> \\<parallel>a \\<Colon>\n          \\<Delta>\\<parallel> 0\n          t : \\<up>\\<^sub>\\<tau> \\<parallel>a \\<Colon> \\<Delta>\\<parallel> 0\n               T", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @\n                \\<Gamma> \\<turnstile> \\<up> \\<parallel>\\<Delta>\\<parallel> 0\n t : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 T;\n        \\<Gamma> \\<turnstile> t : T;\n        a \\<Colon> \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> a \\<Colon>\n                         \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<up>\n          (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n          t : \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 T", "apply (erule well_formedE_cases)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f \\<Longrightarrow>\n                \\<Delta> @\n                \\<Gamma> \\<turnstile> \\<up> \\<parallel>\\<Delta>\\<parallel> 0\n t : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 T;\n        \\<Gamma> \\<turnstile> t : T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> a \\<Colon>\n                         \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<up>\n          (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n          t : \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 T", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Delta> @\n                \\<Gamma> \\<turnstile> \\<up> \\<parallel>\\<Delta>\\<parallel> 0\n t : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 T;\n        \\<Gamma> \\<turnstile> t : T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> a \\<Colon>\n                         \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<up>\n          (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n          t : \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 T", "apply (drule_tac B=a in type_weaken [of \"[]\", simplified])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a\n 2. \\<And>a \\<Delta>.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : T;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\\<^sub>B a;\n        \\<Delta> @ \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        a \\<Colon>\n        \\<Delta> @\n        \\<Gamma> \\<turnstile> \\<up> (Suc 0) 0\n                               (\\<up> \\<parallel>\\<Delta>\\<parallel> 0\n                                 t) : \\<up>\\<^sub>\\<tau> (Suc 0) 0\n (\\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 T)\\<rbrakk>\n       \\<Longrightarrow> a \\<Colon>\n                         \\<Delta> @\n                         \\<Gamma> \\<turnstile> \\<up>\n          (Suc \\<parallel>\\<Delta>\\<parallel>) 0\n          t : \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 T", "apply simp+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>\nThis property is proved by structural induction on the context @{term \\<Delta>},\nusing the previous result in the induction step. In the proof of the preservation\ntheorem, we will need two substitution theorems for term and type variables,\nboth of which are proved by induction on the typing derivation.\nSince term and type variables are stored in the same context, we again have to\ndecrement the free type variables in @{term \\<Delta>} and @{term T} by \\<open>1\\<close>\nin the substitution rule for term variables in order to compensate for the\ndisappearance of the variable.\n\\<close>"], ["", "theorem subst_type: \\<comment> \\<open>A.8\\<close>\n  assumes H: \"\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n    \\<down>\\<^sub>e 1 0 \\<Delta> @ \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau> 1 \\<parallel>\\<Delta>\\<parallel> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n    \\<down>\\<^sub>e 1 0 \\<Delta> @\n    \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                     1 \\<parallel>\\<Delta>\\<parallel> T", "using H"], ["proof (prove)\nusing this:\n  \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n    \\<down>\\<^sub>e 1 0 \\<Delta> @\n    \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                     1 \\<parallel>\\<Delta>\\<parallel> T", "apply (induct \"\\<Delta> @ VarB U \\<Colon> \\<Gamma>\" t T arbitrary: \\<Delta>)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> Var\n          i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                     1 \\<parallel>\\<Delta>\\<parallel> T\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> (i =\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> \\<up>\n           \\<parallel>\\<Delta>\\<parallel> 0\n           u : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0\n                Ua) \\<and>\n                         (i \\<noteq>\n                          \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                          (\\<parallel>\\<Delta>\\<parallel>\n                           < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> Var\n            (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 Ua) \\<and>\n                          (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                  < i \\<longrightarrow>\n                           \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                           \\<Gamma> \\<turnstile> Var\n            i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n                 Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>))\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule conjI)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> i =\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          u : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Ua\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 Ua) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n                Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule impI)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          u : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Ua\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 Ua) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n                Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB Ua \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        U = Ua;\n        T = \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Ua;\n        \\<Gamma> \\<turnstile> u : Ua;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          u : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Ua\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 Ua) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n                Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (drule_tac \\<Delta>=\"\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e\" in type_weaken')"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB Ua \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        U = Ua;\n        T = \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Ua;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB Ua \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        U = Ua;\n        T = \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Ua;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\n                               \\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e\\<parallel>\n                               0 u : \\<up>\\<^sub>\\<tau>\n\\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e\\<parallel> 0\nUa\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          u : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Ua\n 3. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 Ua) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n                Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule wfE_subst)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB Ua \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        U = Ua;\n        T = \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Ua;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ ?B21 i Ua T \\<Delta> \\<Colon>\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB Ua \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        U = Ua;\n        T = \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Ua;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 3. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB Ua \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        U = Ua;\n        T = \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Ua;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\n                               \\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e\\<parallel>\n                               0 u : \\<up>\\<^sub>\\<tau>\n\\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e\\<parallel> 0\nUa\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          u : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Ua\n 4. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 Ua) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n                Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply assumption"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB Ua \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        U = Ua;\n        T = \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Ua;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB Ua \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        U = Ua;\n        T = \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Ua;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\n                               \\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e\\<parallel>\n                               0 u : \\<up>\\<^sub>\\<tau>\n\\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e\\<parallel> 0\nUa\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          u : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Ua\n 3. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 Ua) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n                Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule wf_Top)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB Ua \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        U = Ua;\n        T = \\<up>\\<^sub>\\<tau> (Suc \\<parallel>\\<Delta>\\<parallel>) 0 Ua;\n        i = \\<parallel>\\<Delta>\\<parallel>;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> \\<up>\n                               \\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e\\<parallel>\n                               0 u : \\<up>\\<^sub>\\<tau>\n\\<parallel>\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e\\<parallel> 0\nUa\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> \\<up>\n          \\<parallel>\\<Delta>\\<parallel> 0\n          u : \\<up>\\<^sub>\\<tau> \\<parallel>\\<Delta>\\<parallel> 0 Ua\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 Ua) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n                Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> i \\<noteq>\n                         \\<parallel>\\<Delta>\\<parallel> \\<longrightarrow>\n                         (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 Ua) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n                Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule impI conjI)+"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 Ua\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (simp split: nat.split_asm)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 Ua\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule T_Var)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>VarB (?U44 i Ua T \\<Delta> x2)\\<rfloor>\n 3. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 Ua =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U44 i Ua T \\<Delta> x2)\n 4. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (erule wfE_subst)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 2. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>VarB (?U44 i Ua T \\<Delta> x2)\\<rfloor>\n 3. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 Ua =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U44 i Ua T \\<Delta> x2)\n 4. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule wf_Top)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>VarB (?U44 i Ua T \\<Delta> x2)\\<rfloor>\n 2. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 Ua =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U44 i Ua T \\<Delta> x2)\n 3. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (subgoal_tac \"\\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\")"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>VarB (?U44 i Ua T \\<Delta> x2)\\<rfloor>\n 2. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 3. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 Ua =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U44 i Ua T \\<Delta> x2)\n 4. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rename_tac nat)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i Ua T \\<Delta> nat.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>VarB (?U44 i Ua T \\<Delta> nat)\\<rfloor>\n 2. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 3. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 Ua =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U44 i Ua T \\<Delta> x2)\n 4. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (subgoal_tac \"i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\")"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>i Ua T \\<Delta> nat.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0;\n        i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>VarB (?U44 i Ua T \\<Delta> nat)\\<rfloor>\n 2. \\<And>i Ua T \\<Delta> nat.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\n 3. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 4. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 Ua =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U44 i Ua T \\<Delta> x2)\n 5. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 8. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 9. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 10. \\<And>t S T \\<Delta>.\n        \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n         \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n         \\<down>\\<^sub>e 1 0 \\<Delta> @\n         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n    1 \\<parallel>\\<Delta>\\<parallel> S;\n         \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n         \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n        \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                          \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                     1 \\<parallel>\\<Delta>\\<parallel> T", "apply (simp (no_asm_simp))"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i Ua T \\<Delta> nat.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\n 2. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 3. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 Ua =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0 Ua\n 4. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply arith"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 2. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 Ua =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0 Ua\n 3. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply arith"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i Ua T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua;\n        \\<Gamma> \\<turnstile> u : U; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB Ua\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 Ua =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0 Ua\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule impI)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule T_Var)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB (?U347 i Ua T \\<Delta>)\\<rfloor>\n 3. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          (?U347 i Ua T \\<Delta>)\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (erule wfE_subst)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Top\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB (?U347 i Ua T \\<Delta>)\\<rfloor>\n 3. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          (?U347 i Ua T \\<Delta>)\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule wf_Top)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB (?U347 i Ua T \\<Delta>)\\<rfloor>\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          (?U347 i Ua T \\<Delta>)\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          (Ua[\\<parallel>\\<Delta>\\<parallel> -\n                              Suc i \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (subgoal_tac \"Suc (\\<parallel>\\<Delta>\\<parallel> - Suc 0) = \\<parallel>\\<Delta>\\<parallel>\")"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        Suc (\\<parallel>\\<Delta>\\<parallel> - Suc 0) =\n        \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          Ua[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          (Ua[\\<parallel>\\<Delta>\\<parallel> -\n                              Suc i \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 2. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> Suc (\\<parallel>\\<Delta>\\<parallel> - Suc 0) =\n                         \\<parallel>\\<Delta>\\<parallel>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (simp (no_asm_simp))"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i Ua T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ VarB U \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB Ua\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 Ua; \\<Gamma> \\<turnstile> u : U;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> Suc (\\<parallel>\\<Delta>\\<parallel> - Suc 0) =\n                         \\<parallel>\\<Delta>\\<parallel>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply arith"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (T\\<^sub>1 \\<rightarrow>\n                                  \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>2[Suc\n                      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto> u]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                                    T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule T_Abs [THEN T_eq])"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>2[Suc\n                      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> VarB\n                          (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n                    \\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : ?T\\<^sub>2386\n                             T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>2[Suc\n                      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                         \\<down>\\<^sub>\\<tau> 1 0\n                          (?T\\<^sub>2386 T\\<^sub>1 t\\<^sub>2 T\\<^sub>2\n                            \\<Delta>) =\n                         T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                         T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>2[Suc\n                      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                         \\<down>\\<^sub>\\<tau> 1 0\n                          (T\\<^sub>2[Suc\n\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) =\n                         T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                         T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (simp add: substT_substT [symmetric])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              T\\<^sub>1\\<^sub>2\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 4. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n          T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 4. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule_tac T\\<^sub>1\\<^sub>1=\"T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\" in T_App)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n          T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n                           T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> \\<rightarrow>\n          T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ VarB U \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ VarB U \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n           \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta>' @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>'\\<parallel>\n                                 T\\<^sub>2;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                                 1 \\<parallel>\\<Delta>\\<parallel>\n                                 (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp+"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>2[Suc\n                      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto> u]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n  T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule T_TAbs)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>2[Suc\n                      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n                    \\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : T\\<^sub>2[Suc\n \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel>\n           (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                              1 \\<parallel>\\<Delta>\\<parallel>\n                              (T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>)\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n              T\\<^sub>1\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule T_TApp [THEN T_eq])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n              T\\<^sub>1\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : (\\<forall><:?T\\<^sub>1\\<^sub>1393\n  t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n                               ?T\\<^sub>1\\<^sub>2393 t\\<^sub>1\n                                T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2\n                                T\\<^sub>2 \\<Delta>)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n              T\\<^sub>1\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: ?T\\<^sub>1\\<^sub>1393\n                   t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n                   \\<Delta>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n              T\\<^sub>1\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> ?T\\<^sub>1\\<^sub>2393 t\\<^sub>1 T\\<^sub>1\\<^sub>1\n                          T\\<^sub>1\\<^sub>2 T\\<^sub>2\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 4. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n              T\\<^sub>1\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n              T\\<^sub>1\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> T\\<^sub>1\\<^sub>2[Suc\n      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule subst_subtype [simplified])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n              T\\<^sub>1\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @\n                         VarB\n                          (?V397 t\\<^sub>1 T\\<^sub>1\\<^sub>1\n                            T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>) \\<Colon>\n                         \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n              T\\<^sub>1\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> T\\<^sub>1\\<^sub>2[Suc\n      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>.\n              T\\<^sub>1\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>);\n        \\<Delta> @ VarB U \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> T\\<^sub>1\\<^sub>2[Suc\n      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (simp add: substT_substT [symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n                    1 \\<parallel>\\<Delta>\\<parallel> T", "apply (rule_tac S=\"S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\" in T_Sub)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> u : U \\<Longrightarrow>\n        \\<down>\\<^sub>e 1 0 \\<Delta> @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : \\<down>\\<^sub>\\<tau>\n   1 \\<parallel>\\<Delta>\\<parallel> S;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<down>\\<^sub>e 1 0 \\<Delta> @\n                         \\<Gamma> \\<turnstile> S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: \\<down>\\<^sub>\\<tau>\n           1 \\<parallel>\\<Delta>\\<parallel> T", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>", "apply (rule subst_subtype [simplified])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto> u] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>;\n        \\<Delta> @ VarB U \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> u : U\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ VarB (?V400 t S T \\<Delta>) \\<Colon>\n                         \\<Gamma> \\<turnstile> S <: T", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "theorem substT_type: \\<comment> \\<open>A.11\\<close>\n  assumes H: \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : T\"\n  shows \"\\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n    \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @ \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n    \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n    \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "using H"], ["proof (prove)\nusing this:\n  \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n    \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n    \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (induct \"\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>\" t T arbitrary: \\<Delta>)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n           \\<Longrightarrow> \\<Delta>'[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (T\\<^sub>1 \\<rightarrow>\n        \\<down>\\<^sub>\\<tau> 1 0\n         T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                        T\\<^sub>1\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\n          t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>\\<Delta>'.\n           \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                    \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> =\n                    \\<Delta>' @ TVarB Q \\<Colon> \\<Gamma>;\n            \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n           \\<Longrightarrow> \\<Delta>'[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                             \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[\\<parallel>\\<Delta>'\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1.\n             t\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1.\n           T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                           T\\<^sub>1\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau>\n          T\\<^sub>2)[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Gamma> \\<turnstile> P <: Q \\<Longrightarrow>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp_all"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> (\\<parallel>\\<Delta>\\<parallel>\n                          < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 U) \\<and>\n                         (\\<not> \\<parallel>\\<Delta>\\<parallel>\n                                 < i \\<longrightarrow>\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> Var\n           i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n                U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (rule impI conjI)+"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 U\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          (i - Suc 0) : \\<up>\\<^sub>\\<tau> i 0 U\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (rule T_Var)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>VarB (?U16 i U T \\<Delta>)\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U16 i U T \\<Delta>)\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (erule wfE_subst)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(case i - \\<parallel>\\<Delta>\\<parallel> of\n                 0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n                 | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n                \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>VarB (?U16 i U T \\<Delta>)\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U16 i U T \\<Delta>)\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(case i - \\<parallel>\\<Delta>\\<parallel> of\n                 0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n                 | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n                \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>VarB (?U16 i U T \\<Delta>)\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U16 i U T \\<Delta>)\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply assumption"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i - Suc 0\\<rangle> =\n                         \\<lfloor>VarB (?U16 i U T \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U16 i U T \\<Delta>)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (simp split: nat.split_asm)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>i -\n    Suc \\<parallel>\\<Delta>\\<parallel>\\<rangle> =\n                         \\<lfloor>VarB\n                                   (?U16 i U\n                                     (\\<up>\\<^sub>\\<tau> (Suc i) 0 U)\n                                     \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U16 i U T \\<Delta>)\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (subgoal_tac \"\\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\")"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>i -\n    Suc \\<parallel>\\<Delta>\\<parallel>\\<rangle> =\n                         \\<lfloor>VarB\n                                   (?U16 i U\n                                     (\\<up>\\<^sub>\\<tau> (Suc i) 0 U)\n                                     \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U16 i U T \\<Delta>)\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (rename_tac nat)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i U T \\<Delta> nat.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>i -\n    Suc \\<parallel>\\<Delta>\\<parallel>\\<rangle> =\n                         \\<lfloor>VarB\n                                   (?U16 i U\n                                     (\\<up>\\<^sub>\\<tau> (Suc i) 0 U)\n                                     \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U16 i U T \\<Delta>)\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (subgoal_tac \"i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\")"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>i U T \\<Delta> nat.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0;\n        i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>\\<langle>i -\n    Suc \\<parallel>\\<Delta>\\<parallel>\\<rangle> =\n                         \\<lfloor>VarB\n                                   (?U16 i U\n                                     (\\<up>\\<^sub>\\<tau> (Suc i) 0 U)\n                                     \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta> nat.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\n 3. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0\n                          (?U16 i U T \\<Delta>)\n 5. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 8. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 9. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 10. \\<And>t S T \\<Delta>.\n        \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n         \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n         \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n        \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (simp (no_asm_simp))"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>i U T \\<Delta> nat.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc nat;\n        \\<Gamma>\\<langle>nat\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\\<rbrakk>\n       \\<Longrightarrow> i - Suc \\<parallel>\\<Delta>\\<parallel> = nat\n 2. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0 U\n 4. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 8. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 9. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply arith"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta> x2.\n       \\<lbrakk>T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q; \\<parallel>\\<Delta>\\<parallel> < i;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        i - \\<parallel>\\<Delta>\\<parallel> = Suc x2;\n        \\<Gamma>\\<langle>x2\\<rangle> = \\<lfloor>VarB U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>\\<Delta>\\<parallel> \\<le> i - Suc 0\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0 U\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply arith"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (case i - \\<parallel>\\<Delta>\\<parallel> of\n         0 \\<Rightarrow> \\<lfloor>TVarB Q\\<rfloor>\n         | Suc j \\<Rightarrow> \\<Gamma>\\<langle>j\\<rangle>) =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> i 0 U =\n                         \\<up>\\<^sub>\\<tau> (Suc (i - Suc 0)) 0 U\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<not> \\<parallel>\\<Delta>\\<parallel>\n                                < i \\<longrightarrow>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (rule impI)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (case_tac \"i = \\<parallel>\\<Delta>\\<parallel>\")"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i = \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> Var\n          i : \\<up>\\<^sub>\\<tau> (Suc i) 0\n               U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (rule T_Var)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB (?U352 i U T \\<Delta>)\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 (?U352 i U T \\<Delta>)\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (erule wfE_subst)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB (?U352 i U T \\<Delta>)\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 (?U352 i U T \\<Delta>)\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (erule wf_subtypeE)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>(\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n                \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P;\n        \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f P\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB (?U352 i U T \\<Delta>)\\<rfloor>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 (?U352 i U T \\<Delta>)\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply assumption"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> (\\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                          \\<Gamma>)\\<langle>i\\<rangle> =\n                         \\<lfloor>VarB (?U352 i U T \\<Delta>)\\<rfloor>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0 (?U352 i U T \\<Delta>)\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          (U[\\<parallel>\\<Delta>\\<parallel> -\n                             Suc i \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (subgoal_tac \"i < \\<parallel>\\<Delta>\\<parallel>\")"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          (U[\\<parallel>\\<Delta>\\<parallel> -\n                             Suc i \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> i < \\<parallel>\\<Delta>\\<parallel>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (subgoal_tac \"Suc (\\<parallel>\\<Delta>\\<parallel> - Suc 0) = \\<parallel>\\<Delta>\\<parallel>\")"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        i < \\<parallel>\\<Delta>\\<parallel>;\n        Suc (\\<parallel>\\<Delta>\\<parallel> - Suc 0) =\n        \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          U[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> =\n                         \\<up>\\<^sub>\\<tau> (Suc i) 0\n                          (U[\\<parallel>\\<Delta>\\<parallel> -\n                             Suc i \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> Suc (\\<parallel>\\<Delta>\\<parallel> - Suc 0) =\n                         \\<parallel>\\<Delta>\\<parallel>\n 3. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> i < \\<parallel>\\<Delta>\\<parallel>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 7. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 8. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (simp (no_asm_simp))"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>;\n        i < \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> Suc (\\<parallel>\\<Delta>\\<parallel> - Suc 0) =\n                         \\<parallel>\\<Delta>\\<parallel>\n 2. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> i < \\<parallel>\\<Delta>\\<parallel>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 6. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 7. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply arith"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>i U T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        (\\<Delta> @ TVarB Q \\<Colon> \\<Gamma>)\\<langle>i\\<rangle> =\n        \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; \\<Gamma> \\<turnstile> P <: Q;\n        \\<not> \\<parallel>\\<Delta>\\<parallel> < i;\n        i \\<noteq> \\<parallel>\\<Delta>\\<parallel>\\<rbrakk>\n       \\<Longrightarrow> i < \\<parallel>\\<Delta>\\<parallel>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply arith"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n           T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (rule T_Abs [THEN T_eq])"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> VarB\n                          (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n                    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : ?T\\<^sub>2402\n    T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                         \\<down>\\<^sub>\\<tau> 1 0\n                          (?T\\<^sub>2402 T\\<^sub>1 t\\<^sub>2 T\\<^sub>2\n                            \\<Delta>) =\n                         T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                         T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 6. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        VarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                         \\<down>\\<^sub>\\<tau> 1 0\n                          (T\\<^sub>2[Suc\n\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) =\n                         T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                         T\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (simp add: substT_substT [symmetric])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\n         t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (rule_tac T\\<^sub>1\\<^sub>1=\"T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\" in T_App)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n  T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> \\<rightarrow>\n                       T\\<^sub>1\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 5. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp+"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n             t\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]) : (\\<forall><:T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n               T\\<^sub>2[Suc \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (rule T_TAbs)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        TVarB\n         (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n                                   \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> TVarB\n                          (T\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>) \\<Colon>\n                         \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>2[Suc\n                    \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T\\<^sub>2[Suc\n              \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] \\<bullet>\\<^sub>\\<tau>\n         T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (rule T_TApp [THEN T_eq])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:?T\\<^sub>1\\<^sub>1409\n               t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n               \\<Delta>.\n      ?T\\<^sub>1\\<^sub>2409 t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2\n       T\\<^sub>2 \\<Delta>)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: ?T\\<^sub>1\\<^sub>1409\n                 t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n                 \\<Delta>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> ?T\\<^sub>1\\<^sub>2409 t\\<^sub>1 T\\<^sub>1\\<^sub>1\n                          T\\<^sub>1\\<^sub>2 T\\<^sub>2\n                          \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> T\\<^sub>1\\<^sub>2[Suc\n      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (rule substT_subtype)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @\n                         TVarB\n                          (?Q413 t\\<^sub>1 T\\<^sub>1\\<^sub>1\n                            T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>) \\<Colon>\n                         \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> P <: ?Q413 t\\<^sub>1\n               T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> T\\<^sub>1\\<^sub>2[Suc\n      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 4. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply assumption"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> P <: Q\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> T\\<^sub>1\\<^sub>2[Suc\n      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 3. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : (\\<forall><:T\\<^sub>1\\<^sub>1[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>.\n                           T\\<^sub>1\\<^sub>2[Suc\n        \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>);\n        \\<Delta> @ TVarB Q \\<Colon>\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> T\\<^sub>1\\<^sub>2[Suc\n      \\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>]\\<^sub>\\<tau> =\n                         T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (simp add: substT_substT [symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (rule_tac S=\"S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\" in T_Sub)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n                         \\<Gamma> \\<turnstile> S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau> <: T[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>", "apply (rule substT_subtype)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Delta> @ TVarB (?Q417 t S T \\<Delta>) \\<Colon>\n                         \\<Gamma> \\<turnstile> S <: T\n 2. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> P <: ?Q417 t S T \\<Delta>", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t S T \\<Delta>.\n       \\<lbrakk>\\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> t : S;\n        \\<Delta>[0 \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>e @\n        \\<Gamma> \\<turnstile> t[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P] : S[\\<parallel>\\<Delta>\\<parallel> \\<mapsto>\\<^sub>\\<tau> P]\\<^sub>\\<tau>;\n        \\<Delta> @ TVarB Q \\<Colon> \\<Gamma> \\<turnstile> S <: T;\n        \\<Gamma> \\<turnstile> P <: Q\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> P <: Q", "apply assumption"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "subsection \\<open>Evaluation\\<close>"], ["", "text \\<open>\n\\label{sec:evaluation}\nFor the formalization of the evaluation strategy, it is useful to first define\na set of {\\it canonical values} that are not evaluated any further. The canonical\nvalues of call-by-value \\fsub{} are exactly the abstractions over term and type variables:\n\\<close>"], ["", "inductive_set\n  \"value\" :: \"trm set\"\nwhere\n  Abs: \"(\\<lambda>:T. t) \\<in> value\"\n| TAbs: \"(\\<lambda><:T. t) \\<in> value\""], ["", "text \\<open>\nThe notion of a @{term value} is now used in the defintion of the evaluation\nrelation \\mbox{\\<open>t \\<longmapsto> t'\\<close>}. There are several ways for defining this evaluation\nrelation: Aydemir et al.\\ \\cite{PoplMark} advocate the use of {\\it evaluation\ncontexts} that allow to separate the description of the ``immediate'' reduction rules,\ni.e.\\ $\\beta$-reduction, from the description of the context in which these reductions\nmay occur in. The rationale behind this approach is to keep the formalization more modular.\nWe will take a closer look at this style of presentation in section\n\\secref{sec:evaluation-ctxt}. For the rest of this section, we will use a different\napproach: both the ``immediate'' reductions and the reduction context are described\nwithin the same inductive definition, where the context is described by additional\ncongruence rules.\n\\<close>"], ["", "inductive\n  eval :: \"trm \\<Rightarrow> trm \\<Rightarrow> bool\"  (infixl \"\\<longmapsto>\" 50)\nwhere\n  E_Abs: \"v\\<^sub>2 \\<in> value \\<Longrightarrow> (\\<lambda>:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2) \\<bullet> v\\<^sub>2 \\<longmapsto> t\\<^sub>1\\<^sub>2[0 \\<mapsto> v\\<^sub>2]\"\n| E_TAbs: \"(\\<lambda><:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2) \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\"\n| E_App1: \"t \\<longmapsto> t' \\<Longrightarrow> t \\<bullet> u \\<longmapsto> t' \\<bullet> u\"\n| E_App2: \"v \\<in> value \\<Longrightarrow> t \\<longmapsto> t' \\<Longrightarrow> v \\<bullet> t \\<longmapsto> v \\<bullet> t'\"\n| E_TApp: \"t \\<longmapsto> t' \\<Longrightarrow> t \\<bullet>\\<^sub>\\<tau> T \\<longmapsto> t' \\<bullet>\\<^sub>\\<tau> T\""], ["", "text \\<open>\nHere, the rules \\<open>E_Abs\\<close> and \\<open>E_TAbs\\<close> describe the ``immediate'' reductions,\nwhereas \\<open>E_App1\\<close>, \\<open>E_App2\\<close>, and \\<open>E_TApp\\<close> are additional congruence\nrules describing reductions in a context. The most important theorems of this section\nare the {\\it preservation} theorem, stating that the reduction of a well-typed term\ndoes not change its type, and the {\\it progress} theorem, stating that reduction of\na well-typed term does not ``get stuck'' -- in other words, every well-typed, closed\nterm @{term t} is either a value, or there is a term @{term t'} to which @{term t}\ncan be reduced. The preservation theorem\nis proved by induction on the derivation of @{term \"\\<Gamma> \\<turnstile> t : T\"}, followed by a case\ndistinction on the last rule used in the derivation of @{term \"t \\<longmapsto> t'\"}.\n\\<close>"], ["", "theorem preservation: \\<comment> \\<open>A.20\\<close>\n  assumes H: \"\\<Gamma> \\<turnstile> t : T\"\n  shows \"t \\<longmapsto> t' \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<longmapsto> t' \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "using H"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t : T\n\ngoal (1 subgoal):\n 1. t \\<longmapsto> t' \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "proof (induct arbitrary: t')"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<Gamma> i U T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; Var i \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1 \\<rightarrow>\n              \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\nT\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1.\n                  T\\<^sub>2)\n 5. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 6. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "case (T_Var \\<Gamma> i U T t')"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f\n  \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>\n  T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U\n  Var i \\<longmapsto> t'\n\ngoal (6 subgoals):\n 1. \\<And>\\<Gamma> i U T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile>\\<^sub>w\\<^sub>f;\n        \\<Gamma>\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U; Var i \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1 \\<rightarrow>\n              \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\nT\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 4. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1.\n                  T\\<^sub>2)\n 5. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 6. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "from \\<open>Var i \\<longmapsto> t'\\<close>"], ["proof (chain)\npicking this:\n  Var i \\<longmapsto> t'", "show ?case"], ["proof (prove)\nusing this:\n  Var i \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : T", "by cases"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t' : T\n\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1 \\<rightarrow>\n              \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\nT\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1.\n                  T\\<^sub>2)\n 4. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 5. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1 \\<rightarrow>\n              \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\nT\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1.\n                  T\\<^sub>2)\n 4. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 5. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "case (T_Abs T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t')"], ["proof (state)\nthis:\n  VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n  t\\<^sub>2 \\<longmapsto> ?t' \\<Longrightarrow>\n  VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> ?t' : T\\<^sub>2\n  (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\n\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>VarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           VarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1 \\<rightarrow>\n              \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\nT\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 3. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1.\n                  T\\<^sub>2)\n 4. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 5. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "from \\<open>(\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<close>"], ["proof (chain)\npicking this:\n  (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'", "show ?case"], ["proof (prove)\nusing this:\n  (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : T\\<^sub>1 \\<rightarrow>\n                               \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2", "by cases"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t' : T\\<^sub>1 \\<rightarrow>\n                             \\<down>\\<^sub>\\<tau> 1 0 T\\<^sub>2\n\ngoal (4 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\nT\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1.\n                  T\\<^sub>2)\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 4. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\nT\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1.\n                  T\\<^sub>2)\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 4. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "case (T_App \\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2 t')"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                                    T\\<^sub>1\\<^sub>2\n  t\\<^sub>1 \\<longmapsto> ?t' \\<Longrightarrow>\n  \\<Gamma> \\<turnstile> ?t' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1\\<^sub>2\n  \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n  t\\<^sub>2 \\<longmapsto> ?t' \\<Longrightarrow>\n  \\<Gamma> \\<turnstile> ?t' : T\\<^sub>1\\<^sub>1\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\n\ngoal (4 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n            T\\<^sub>1\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\nT\\<^sub>1\\<^sub>2;\n        \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1.\n                  T\\<^sub>2)\n 3. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 4. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "from \\<open>t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\\<close>"], ["proof (chain)\npicking this:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'", "show ?case"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "proof cases"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda>:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2];\n        t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet> t\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 3. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "case (E_Abs T\\<^sub>1\\<^sub>1' t\\<^sub>1\\<^sub>2)"], ["proof (state)\nthis:\n  t\\<^sub>1 = (\\<lambda>:T\\<^sub>1\\<^sub>1'. t\\<^sub>1\\<^sub>2)\n  t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2]\n  t\\<^sub>2 \\<in> value\n\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda>:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2];\n        t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet> t\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 3. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "with T_App"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                                    T\\<^sub>1\\<^sub>2\n  t\\<^sub>1 \\<longmapsto> ?t' \\<Longrightarrow>\n  \\<Gamma> \\<turnstile> ?t' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1\\<^sub>2\n  \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n  t\\<^sub>2 \\<longmapsto> ?t' \\<Longrightarrow>\n  \\<Gamma> \\<turnstile> ?t' : T\\<^sub>1\\<^sub>1\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\n  t\\<^sub>1 = (\\<lambda>:T\\<^sub>1\\<^sub>1'. t\\<^sub>1\\<^sub>2)\n  t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2]\n  t\\<^sub>2 \\<in> value", "have \"\\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1\\<^sub>1'. t\\<^sub>1\\<^sub>2) : T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                                    T\\<^sub>1\\<^sub>2\n  t\\<^sub>1 \\<longmapsto> ?t' \\<Longrightarrow>\n  \\<Gamma> \\<turnstile> ?t' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1\\<^sub>2\n  \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n  t\\<^sub>2 \\<longmapsto> ?t' \\<Longrightarrow>\n  \\<Gamma> \\<turnstile> ?t' : T\\<^sub>1\\<^sub>1\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t'\n  t\\<^sub>1 = (\\<lambda>:T\\<^sub>1\\<^sub>1'. t\\<^sub>1\\<^sub>2)\n  t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2]\n  t\\<^sub>2 \\<in> value\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1\\<^sub>1'.\n                              t\\<^sub>1\\<^sub>2) : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n             T\\<^sub>1\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1\\<^sub>1'.\n                            t\\<^sub>1\\<^sub>2) : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n           T\\<^sub>1\\<^sub>2\n\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda>:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2];\n        t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet> t\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 3. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "then"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1\\<^sub>1'.\n                            t\\<^sub>1\\<^sub>2) : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n           T\\<^sub>1\\<^sub>2", "obtain S'\n      where T\\<^sub>1\\<^sub>1: \"\\<Gamma> \\<turnstile> T\\<^sub>1\\<^sub>1 <: T\\<^sub>1\\<^sub>1'\"\n      and t\\<^sub>1\\<^sub>2: \"VarB T\\<^sub>1\\<^sub>1' \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : S'\"\n      and S': \"\\<Gamma> \\<turnstile> S'[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1\\<^sub>2\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> (\\<lambda>:T\\<^sub>1\\<^sub>1'.\n                            t\\<^sub>1\\<^sub>2) : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n           T\\<^sub>1\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        \\<lbrakk>\\<Gamma> \\<turnstile> T\\<^sub>1\\<^sub>1 <: T\\<^sub>1\\<^sub>1';\n         VarB T\\<^sub>1\\<^sub>1' \\<Colon>\n         \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : S';\n         \\<Gamma> \\<turnstile> S'[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule Abs_type' [simplified]) blast"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> T\\<^sub>1\\<^sub>1 <: T\\<^sub>1\\<^sub>1'\n  VarB T\\<^sub>1\\<^sub>1' \\<Colon>\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : S'\n  \\<Gamma> \\<turnstile> S'[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1\\<^sub>2\n\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda>:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2];\n        t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet> t\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 3. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "from \\<open>\\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\\<close>"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1", "have \"\\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1'\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1'", "using T\\<^sub>1\\<^sub>1"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n  \\<Gamma> \\<turnstile> T\\<^sub>1\\<^sub>1 <: T\\<^sub>1\\<^sub>1'\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1'", "by (rule T_Sub)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1'\n\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda>:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2];\n        t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet> t\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 3. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "with t\\<^sub>1\\<^sub>2"], ["proof (chain)\npicking this:\n  VarB T\\<^sub>1\\<^sub>1' \\<Colon>\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : S'\n  \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1'", "have \"\\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2] : S'[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\""], ["proof (prove)\nusing this:\n  VarB T\\<^sub>1\\<^sub>1' \\<Colon>\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : S'\n  \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1'\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2] : S'[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>", "by (rule subst_type [where \\<Delta>=\"[]\", simplified])"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2] : S'[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda>:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2];\n        t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet> t\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 3. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "hence \"\\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2] : T\\<^sub>1\\<^sub>2\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2] : S'[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2] : T\\<^sub>1\\<^sub>2", "using S'"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2] : S'[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau>\n  \\<Gamma> \\<turnstile> S'[0 \\<mapsto>\\<^sub>\\<tau> Top]\\<^sub>\\<tau> <: T\\<^sub>1\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2] : T\\<^sub>1\\<^sub>2", "by (rule T_Sub)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2] : T\\<^sub>1\\<^sub>2\n\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda>:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2];\n        t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet> t\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 3. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "with E_Abs"], ["proof (chain)\npicking this:\n  t\\<^sub>1 = (\\<lambda>:T\\<^sub>1\\<^sub>1'. t\\<^sub>1\\<^sub>2)\n  t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2]\n  t\\<^sub>2 \\<in> value\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2] : T\\<^sub>1\\<^sub>2", "show ?thesis"], ["proof (prove)\nusing this:\n  t\\<^sub>1 = (\\<lambda>:T\\<^sub>1\\<^sub>1'. t\\<^sub>1\\<^sub>2)\n  t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2]\n  t\\<^sub>2 \\<in> value\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto> t\\<^sub>2] : T\\<^sub>1\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet> t\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet> t\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "case (E_App1 t'')"], ["proof (state)\nthis:\n  t' = t'' \\<bullet> t\\<^sub>2\n  t\\<^sub>1 \\<longmapsto> t''\n\ngoal (2 subgoals):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet> t\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "from \\<open>t\\<^sub>1 \\<longmapsto> t''\\<close>"], ["proof (chain)\npicking this:\n  t\\<^sub>1 \\<longmapsto> t''", "have \"\\<Gamma> \\<turnstile> t'' : T\\<^sub>1\\<^sub>1 \\<rightarrow> T\\<^sub>1\\<^sub>2\""], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<longmapsto> t''\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t'' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                                T\\<^sub>1\\<^sub>2", "by (rule T_App)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t'' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet> t\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "hence \"\\<Gamma> \\<turnstile> t'' \\<bullet> t\\<^sub>2 : T\\<^sub>1\\<^sub>2\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t'' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t'' \\<bullet> t\\<^sub>2 : T\\<^sub>1\\<^sub>2", "using \\<open>\\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\\<close>"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t'' : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1\\<^sub>2\n  \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t'' \\<bullet> t\\<^sub>2 : T\\<^sub>1\\<^sub>2", "by (rule typing.T_App)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t'' \\<bullet> t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet> t\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n 2. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "with E_App1"], ["proof (chain)\npicking this:\n  t' = t'' \\<bullet> t\\<^sub>2\n  t\\<^sub>1 \\<longmapsto> t''\n  \\<Gamma> \\<turnstile> t'' \\<bullet> t\\<^sub>2 : T\\<^sub>1\\<^sub>2", "show ?thesis"], ["proof (prove)\nusing this:\n  t' = t'' \\<bullet> t\\<^sub>2\n  t\\<^sub>1 \\<longmapsto> t''\n  \\<Gamma> \\<turnstile> t'' \\<bullet> t\\<^sub>2 : T\\<^sub>1\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "case (E_App2 t'')"], ["proof (state)\nthis:\n  t' = t\\<^sub>1 \\<bullet> t''\n  t\\<^sub>1 \\<in> value\n  t\\<^sub>2 \\<longmapsto> t''\n\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "from \\<open>t\\<^sub>2 \\<longmapsto> t''\\<close>"], ["proof (chain)\npicking this:\n  t\\<^sub>2 \\<longmapsto> t''", "have \"\\<Gamma> \\<turnstile> t'' : T\\<^sub>1\\<^sub>1\""], ["proof (prove)\nusing this:\n  t\\<^sub>2 \\<longmapsto> t''\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t'' : T\\<^sub>1\\<^sub>1", "by (rule T_App)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t'' : T\\<^sub>1\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "with T_App(1)"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                                    T\\<^sub>1\\<^sub>2\n  \\<Gamma> \\<turnstile> t'' : T\\<^sub>1\\<^sub>1", "have \"\\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet> t'' : T\\<^sub>1\\<^sub>2\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                                    T\\<^sub>1\\<^sub>2\n  \\<Gamma> \\<turnstile> t'' : T\\<^sub>1\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet> t'' : T\\<^sub>1\\<^sub>2", "by (rule typing.T_App)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet> t'' : T\\<^sub>1\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t\\<^sub>1 \\<bullet> t'; t\\<^sub>1 \\<in> value;\n        t\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "with E_App2"], ["proof (chain)\npicking this:\n  t' = t\\<^sub>1 \\<bullet> t''\n  t\\<^sub>1 \\<in> value\n  t\\<^sub>2 \\<longmapsto> t''\n  \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet> t'' : T\\<^sub>1\\<^sub>2", "show ?thesis"], ["proof (prove)\nusing this:\n  t' = t\\<^sub>1 \\<bullet> t''\n  t\\<^sub>1 \\<in> value\n  t\\<^sub>2 \\<longmapsto> t''\n  \\<Gamma> \\<turnstile> t\\<^sub>1 \\<bullet> t'' : T\\<^sub>1\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2", "by simp"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2\n\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1.\n                  T\\<^sub>2)\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 3. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1.\n                  T\\<^sub>2)\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 3. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "case (T_TAbs T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t')"], ["proof (state)\nthis:\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2\n  t\\<^sub>2 \\<longmapsto> ?t' \\<Longrightarrow>\n  TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> ?t' : T\\<^sub>2\n  (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\n\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 \\<Gamma> t\\<^sub>2 T\\<^sub>2 t'.\n       \\<lbrakk>TVarB T\\<^sub>1 \\<Colon>\n                \\<Gamma> \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        \\<And>t'.\n           t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n           TVarB T\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t' : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1.\n                  T\\<^sub>2)\n 2. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 3. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "from \\<open>(\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\\<close>"], ["proof (chain)\npicking this:\n  (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'", "show ?case"], ["proof (prove)\nusing this:\n  (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "by cases"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 2. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 2. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "case (T_TApp \\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 t')"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n  T\\<^sub>1\\<^sub>2)\n  t\\<^sub>1 \\<longmapsto> ?t' \\<Longrightarrow>\n  \\<Gamma> \\<turnstile> ?t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                  T\\<^sub>1\\<^sub>2)\n  \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\n\ngoal (2 subgoals):\n 1. \\<And>\\<Gamma> t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2\n       t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                T\\<^sub>1\\<^sub>2);\n        \\<And>t'.\n           t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n    T\\<^sub>1\\<^sub>2);\n        \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 2. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "from \\<open>t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\\<close>"], ["proof (chain)\npicking this:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'", "show ?case"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda><:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "case (E_TAbs T\\<^sub>1\\<^sub>1' t\\<^sub>1\\<^sub>2)"], ["proof (state)\nthis:\n  t\\<^sub>1 = (\\<lambda><:T\\<^sub>1\\<^sub>1'. t\\<^sub>1\\<^sub>2)\n  t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda><:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "with T_TApp"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n  T\\<^sub>1\\<^sub>2)\n  t\\<^sub>1 \\<longmapsto> ?t' \\<Longrightarrow>\n  \\<Gamma> \\<turnstile> ?t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                  T\\<^sub>1\\<^sub>2)\n  \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\n  t\\<^sub>1 = (\\<lambda><:T\\<^sub>1\\<^sub>1'. t\\<^sub>1\\<^sub>2)\n  t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]", "have \"\\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1\\<^sub>1'. t\\<^sub>1\\<^sub>2) : (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2)\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n  T\\<^sub>1\\<^sub>2)\n  t\\<^sub>1 \\<longmapsto> ?t' \\<Longrightarrow>\n  \\<Gamma> \\<turnstile> ?t' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                  T\\<^sub>1\\<^sub>2)\n  \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t'\n  t\\<^sub>1 = (\\<lambda><:T\\<^sub>1\\<^sub>1'. t\\<^sub>1\\<^sub>2)\n  t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1\\<^sub>1'.\n                              t\\<^sub>1\\<^sub>2) : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                 T\\<^sub>1\\<^sub>2)", "by simp"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1\\<^sub>1'.\n                            t\\<^sub>1\\<^sub>2) : (\\<forall><:T\\<^sub>1\\<^sub>1.\n               T\\<^sub>1\\<^sub>2)\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda><:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "then"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1\\<^sub>1'.\n                            t\\<^sub>1\\<^sub>2) : (\\<forall><:T\\<^sub>1\\<^sub>1.\n               T\\<^sub>1\\<^sub>2)", "obtain S'\n      where \"TVarB T\\<^sub>1\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : S'\"\n      and \"TVarB T\\<^sub>1\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> S' <: T\\<^sub>1\\<^sub>2\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> (\\<lambda><:T\\<^sub>1\\<^sub>1'.\n                            t\\<^sub>1\\<^sub>2) : (\\<forall><:T\\<^sub>1\\<^sub>1.\n               T\\<^sub>1\\<^sub>2)\n\ngoal (1 subgoal):\n 1. (\\<And>S'.\n        \\<lbrakk>TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n                 \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : S';\n         TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n         \\<Gamma> \\<turnstile> S' <: T\\<^sub>1\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule TAbs_type') blast"], ["proof (state)\nthis:\n  TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : S'\n  TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n  \\<Gamma> \\<turnstile> S' <: T\\<^sub>1\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda><:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "hence \"TVarB T\\<^sub>1\\<^sub>1 \\<Colon> \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : T\\<^sub>1\\<^sub>2\""], ["proof (prove)\nusing this:\n  TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : S'\n  TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n  \\<Gamma> \\<turnstile> S' <: T\\<^sub>1\\<^sub>2\n\ngoal (1 subgoal):\n 1. TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n    \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : T\\<^sub>1\\<^sub>2", "by (rule T_Sub)"], ["proof (state)\nthis:\n  TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : T\\<^sub>1\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda><:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "hence \"\\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2] : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\""], ["proof (prove)\nusing this:\n  TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : T\\<^sub>1\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2] : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "using T_TApp(3)"], ["proof (prove)\nusing this:\n  TVarB T\\<^sub>1\\<^sub>1 \\<Colon>\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2 : T\\<^sub>1\\<^sub>2\n  \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2] : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "by (rule substT_type [where \\<Delta>=\"[]\", simplified])"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2] : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>T\\<^sub>1\\<^sub>1 t\\<^sub>1\\<^sub>2.\n       \\<lbrakk>t\\<^sub>1 =\n                (\\<lambda><:T\\<^sub>1\\<^sub>1. t\\<^sub>1\\<^sub>2);\n        t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n 2. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "with E_TAbs"], ["proof (chain)\npicking this:\n  t\\<^sub>1 = (\\<lambda><:T\\<^sub>1\\<^sub>1'. t\\<^sub>1\\<^sub>2)\n  t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2] : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "show ?thesis"], ["proof (prove)\nusing this:\n  t\\<^sub>1 = (\\<lambda><:T\\<^sub>1\\<^sub>1'. t\\<^sub>1\\<^sub>2)\n  t' = t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\n  \\<Gamma> \\<turnstile> t\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2] : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "by simp"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "case (E_TApp t'')"], ["proof (state)\nthis:\n  t' = t'' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n  t\\<^sub>1 \\<longmapsto> t''\n\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "from \\<open>t\\<^sub>1 \\<longmapsto> t''\\<close>"], ["proof (chain)\npicking this:\n  t\\<^sub>1 \\<longmapsto> t''", "have \"\\<Gamma> \\<turnstile> t'' : (\\<forall><:T\\<^sub>1\\<^sub>1. T\\<^sub>1\\<^sub>2)\""], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<longmapsto> t''\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t'' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                    T\\<^sub>1\\<^sub>2)", "by (rule T_TApp)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t'' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                  T\\<^sub>1\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "hence \"\\<Gamma> \\<turnstile> t'' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\""], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t'' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                  T\\<^sub>1\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t'' \\<bullet>\\<^sub>\\<tau>\n                          T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "using \\<open>\\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<close>"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t'' : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                  T\\<^sub>1\\<^sub>2)\n  \\<Gamma> \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t'' \\<bullet>\\<^sub>\\<tau>\n                          T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "by (rule typing.T_TApp)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t'' \\<bullet>\\<^sub>\\<tau>\n                        T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n\ngoal (1 subgoal):\n 1. \\<And>t'.\n       \\<lbrakk>t' = t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2;\n        t\\<^sub>1 \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "with E_TApp"], ["proof (chain)\npicking this:\n  t' = t'' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n  t\\<^sub>1 \\<longmapsto> t''\n  \\<Gamma> \\<turnstile> t'' \\<bullet>\\<^sub>\\<tau>\n                        T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "show ?thesis"], ["proof (prove)\nusing this:\n  t' = t'' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n  t\\<^sub>1 \\<longmapsto> t''\n  \\<Gamma> \\<turnstile> t'' \\<bullet>\\<^sub>\\<tau>\n                        T\\<^sub>2 : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>", "by simp"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t' : T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "case (T_Sub \\<Gamma> t S T t')"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t : S\n  t \\<longmapsto> ?t' \\<Longrightarrow> \\<Gamma> \\<turnstile> ?t' : S\n  \\<Gamma> \\<turnstile> S <: T\n  t \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "from \\<open>t \\<longmapsto> t'\\<close>"], ["proof (chain)\npicking this:\n  t \\<longmapsto> t'", "have \"\\<Gamma> \\<turnstile> t' : S\""], ["proof (prove)\nusing this:\n  t \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : S", "by (rule T_Sub)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t' : S\n\ngoal (1 subgoal):\n 1. \\<And>\\<Gamma> t S T t'.\n       \\<lbrakk>\\<Gamma> \\<turnstile> t : S;\n        \\<And>t'.\n           t \\<longmapsto> t' \\<Longrightarrow>\n           \\<Gamma> \\<turnstile> t' : S;\n        \\<Gamma> \\<turnstile> S <: T; t \\<longmapsto> t'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma> \\<turnstile> t' : T", "then"], ["proof (chain)\npicking this:\n  \\<Gamma> \\<turnstile> t' : S", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t' : S\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : T", "using \\<open>\\<Gamma> \\<turnstile> S <: T\\<close>"], ["proof (prove)\nusing this:\n  \\<Gamma> \\<turnstile> t' : S\n  \\<Gamma> \\<turnstile> S <: T\n\ngoal (1 subgoal):\n 1. \\<Gamma> \\<turnstile> t' : T", "by (rule typing.T_Sub)"], ["proof (state)\nthis:\n  \\<Gamma> \\<turnstile> t' : T\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nThe progress theorem is also proved by induction on the derivation of\n@{term \"[] \\<turnstile> t : T\"}. In the induction steps, we need the following two lemmas\nabout {\\it canonical forms}\nstating that closed values of types @{term \"T\\<^sub>1 \\<rightarrow> T\\<^sub>2\"} and @{term \"\\<forall><:T\\<^sub>1. T\\<^sub>2\"}\nmust be abstractions over term and type variables, respectively.\n\\<close>"], ["", "lemma Fun_canonical: \\<comment> \\<open>A.14(1)\\<close>\n  assumes ty: \"[] \\<turnstile> v : T\\<^sub>1 \\<rightarrow> T\\<^sub>2\"\n  shows \"v \\<in> value \\<Longrightarrow> \\<exists>t S. v = (\\<lambda>:S. t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> value \\<Longrightarrow> \\<exists>t S. v = (\\<lambda>:S. t)", "using ty"], ["proof (prove)\nusing this:\n  [] \\<turnstile> v : T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n\ngoal (1 subgoal):\n 1. v \\<in> value \\<Longrightarrow> \\<exists>t S. v = (\\<lambda>:S. t)", "proof (induct \"[]::env\" v \"T\\<^sub>1 \\<rightarrow> T\\<^sub>2\" arbitrary: T\\<^sub>1 T\\<^sub>2)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[VarB T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            (\\<lambda>:T\\<^sub>1. t\\<^sub>2) =\n                            (\\<lambda>:S. t)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 t\\<^sub>2 T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda>:S. t);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>T\\<^sub>1\\<^sub>1 = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t\\<^sub>2 \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>t S. t\\<^sub>2 = (\\<lambda>:S. t);\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet> t\\<^sub>2 = (\\<lambda>:S. t)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2';\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda>:S. t)\n 5. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta);\n        [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)", "case T_Abs"], ["proof (state)\nthis:\n  [VarB T\\<^sub>1_] \\<turnstile> t\\<^sub>2_ : T\\<^sub>2_\n  (\\<lambda>:T\\<^sub>1_. t\\<^sub>2_) \\<in> value\n\ngoal (5 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[VarB T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            (\\<lambda>:T\\<^sub>1. t\\<^sub>2) =\n                            (\\<lambda>:S. t)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 t\\<^sub>2 T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda>:S. t);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>T\\<^sub>1\\<^sub>1 = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t\\<^sub>2 \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>t S. t\\<^sub>2 = (\\<lambda>:S. t);\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet> t\\<^sub>2 = (\\<lambda>:S. t)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2';\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda>:S. t)\n 5. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta);\n        [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t S. (\\<lambda>:T\\<^sub>1_. t\\<^sub>2_) = (\\<lambda>:S. t)", "by iprover"], ["proof (state)\nthis:\n  \\<exists>t S. (\\<lambda>:T\\<^sub>1_. t\\<^sub>2_) = (\\<lambda>:S. t)\n\ngoal (4 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 t\\<^sub>2 T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda>:S. t);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>T\\<^sub>1\\<^sub>1 = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t\\<^sub>2 \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>t S. t\\<^sub>2 = (\\<lambda>:S. t);\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet> t\\<^sub>2 = (\\<lambda>:S. t)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2';\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda>:S. t)\n 4. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta);\n        [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 t\\<^sub>2 T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda>:S. t);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>T\\<^sub>1\\<^sub>1 = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t\\<^sub>2 \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>t S. t\\<^sub>2 = (\\<lambda>:S. t);\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet> t\\<^sub>2 = (\\<lambda>:S. t)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2';\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda>:S. t)\n 4. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta);\n        [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)", "case (T_App t\\<^sub>1 T\\<^sub>1\\<^sub>1 t\\<^sub>2 T\\<^sub>1 T\\<^sub>2)"], ["proof (state)\nthis:\n  [] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n  t\\<^sub>1 \\<in> value \\<Longrightarrow>\n  \\<exists>t S. t\\<^sub>1 = (\\<lambda>:S. t)\n  [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n  \\<lbrakk>T\\<^sub>1\\<^sub>1 = ?T\\<^sub>1 \\<rightarrow> ?T\\<^sub>2;\n   t\\<^sub>2 \\<in> value\\<rbrakk>\n  \\<Longrightarrow> \\<exists>t S. t\\<^sub>2 = (\\<lambda>:S. t)\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\n\ngoal (4 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 t\\<^sub>2 T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda>:S. t);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>T\\<^sub>1\\<^sub>1 = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t\\<^sub>2 \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>t S. t\\<^sub>2 = (\\<lambda>:S. t);\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet> t\\<^sub>2 = (\\<lambda>:S. t)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2';\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda>:S. t)\n 4. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta);\n        [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)", "from \\<open>t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\\<close>"], ["proof (chain)\npicking this:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value", "show ?case"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\n\ngoal (1 subgoal):\n 1. \\<exists>t S. t\\<^sub>1 \\<bullet> t\\<^sub>2 = (\\<lambda>:S. t)", "by cases"], ["proof (state)\nthis:\n  \\<exists>t S. t\\<^sub>1 \\<bullet> t\\<^sub>2 = (\\<lambda>:S. t)\n\ngoal (3 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2';\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda>:S. t)\n 3. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta);\n        [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2';\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda>:S. t)\n 3. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta);\n        [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)", "case (T_TApp t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1 T\\<^sub>2')"], ["proof (state)\nthis:\n  [] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                  T\\<^sub>1\\<^sub>2)\n  [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n  T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n  T\\<^sub>1 \\<rightarrow> T\\<^sub>2'\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\n\ngoal (3 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2';\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda>:S. t)\n 3. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta);\n        [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)", "from \\<open>t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<close>"], ["proof (chain)\npicking this:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value", "show ?case"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\n\ngoal (1 subgoal):\n 1. \\<exists>t S.\n       t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 = (\\<lambda>:S. t)", "by cases"], ["proof (state)\nthis:\n  \\<exists>t S.\n     t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 = (\\<lambda>:S. t)\n\ngoal (2 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)\n 2. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta);\n        [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)\n 2. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta);\n        [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)", "case (T_Sub t S T\\<^sub>1 T\\<^sub>2)"], ["proof (state)\nthis:\n  [] \\<turnstile> t : S\n  \\<lbrakk>S = ?T\\<^sub>1 \\<rightarrow> ?T\\<^sub>2; t \\<in> value\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)\n  [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n  t \\<in> value\n\ngoal (2 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)\n 2. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta);\n        [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)", "from \\<open>[] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\\<close>"], ["proof (chain)\npicking this:\n  [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2", "obtain S\\<^sub>1 S\\<^sub>2 where S: \"S = S\\<^sub>1 \\<rightarrow> S\\<^sub>2\""], ["proof (prove)\nusing this:\n  [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>S\\<^sub>1 S\\<^sub>2.\n        S = S\\<^sub>1 \\<rightarrow> S\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by cases (auto simp add: T_Sub)"], ["proof (state)\nthis:\n  S = S\\<^sub>1 \\<rightarrow> S\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)\n 2. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta);\n        [] \\<turnstile> S <: T\\<^sub>1 \\<rightarrow> T\\<^sub>2;\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda>:S. ta)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>ta S. t = (\\<lambda>:S. ta)", "by (rule T_Sub S)+"], ["proof (state)\nthis:\n  \\<exists>ta S. t = (\\<lambda>:S. ta)\n\ngoal (1 subgoal):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T\\<^sub>1 \\<rightarrow> T\\<^sub>2 = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda>:S. t)", "qed simp"], ["", "lemma TyAll_canonical: \\<comment> \\<open>A.14(3)\\<close>\n  assumes ty: \"[] \\<turnstile> v : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\"\n  shows \"v \\<in> value \\<Longrightarrow> \\<exists>t S. v = (\\<lambda><:S. t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> value \\<Longrightarrow> \\<exists>t S. v = (\\<lambda><:S. t)", "using ty"], ["proof (prove)\nusing this:\n  [] \\<turnstile> v : (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n\ngoal (1 subgoal):\n 1. v \\<in> value \\<Longrightarrow> \\<exists>t S. v = (\\<lambda><:S. t)", "proof (induct \"[]::env\" v \"\\<forall><:T\\<^sub>1. T\\<^sub>2\" arbitrary: T\\<^sub>1 T\\<^sub>2)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 t\\<^sub>2 T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>T\\<^sub>1\\<^sub>1 = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t\\<^sub>2 \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>t S. t\\<^sub>2 = (\\<lambda><:S. t);\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet> t\\<^sub>2 =\n                            (\\<lambda><:S. t)\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[TVarB T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            (\\<lambda><:T\\<^sub>1. t\\<^sub>2) =\n                            (\\<lambda><:S. t)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda><:S. t);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2');\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda><:S. t)\n 5. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta);\n        [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)", "case (T_App t\\<^sub>1 T\\<^sub>1\\<^sub>1 t\\<^sub>2 T\\<^sub>1 T\\<^sub>2)"], ["proof (state)\nthis:\n  [] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n  [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n  \\<lbrakk>T\\<^sub>1\\<^sub>1 = (\\<forall><:?T\\<^sub>1. ?T\\<^sub>2);\n   t\\<^sub>2 \\<in> value\\<rbrakk>\n  \\<Longrightarrow> \\<exists>t S. t\\<^sub>2 = (\\<lambda><:S. t)\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\n\ngoal (5 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 t\\<^sub>2 T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>T\\<^sub>1\\<^sub>1 = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t\\<^sub>2 \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>t S. t\\<^sub>2 = (\\<lambda><:S. t);\n        t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet> t\\<^sub>2 =\n                            (\\<lambda><:S. t)\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[TVarB T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            (\\<lambda><:T\\<^sub>1. t\\<^sub>2) =\n                            (\\<lambda><:S. t)\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda><:S. t);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2');\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda><:S. t)\n 5. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta);\n        [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)", "from \\<open>t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\\<close>"], ["proof (chain)\npicking this:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value", "show ?case"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value\n\ngoal (1 subgoal):\n 1. \\<exists>t S. t\\<^sub>1 \\<bullet> t\\<^sub>2 = (\\<lambda><:S. t)", "by cases"], ["proof (state)\nthis:\n  \\<exists>t S. t\\<^sub>1 \\<bullet> t\\<^sub>2 = (\\<lambda><:S. t)\n\ngoal (4 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[TVarB T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            (\\<lambda><:T\\<^sub>1. t\\<^sub>2) =\n                            (\\<lambda><:S. t)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda><:S. t);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2');\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda><:S. t)\n 4. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta);\n        [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[TVarB T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            (\\<lambda><:T\\<^sub>1. t\\<^sub>2) =\n                            (\\<lambda><:S. t)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda><:S. t);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2');\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda><:S. t)\n 4. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta);\n        [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)", "case T_TAbs"], ["proof (state)\nthis:\n  [TVarB T\\<^sub>1_] \\<turnstile> t\\<^sub>2_ : T\\<^sub>2_\n  (\\<lambda><:T\\<^sub>1_. t\\<^sub>2_) \\<in> value\n\ngoal (4 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[TVarB T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2;\n        (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            (\\<lambda><:T\\<^sub>1. t\\<^sub>2) =\n                            (\\<lambda><:S. t)\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda><:S. t);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2');\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda><:S. t)\n 4. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta);\n        [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>t S. (\\<lambda><:T\\<^sub>1_. t\\<^sub>2_) = (\\<lambda><:S. t)", "by iprover"], ["proof (state)\nthis:\n  \\<exists>t S. (\\<lambda><:T\\<^sub>1_. t\\<^sub>2_) = (\\<lambda><:S. t)\n\ngoal (3 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda><:S. t);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2');\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda><:S. t)\n 3. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta);\n        [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda><:S. t);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2');\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda><:S. t)\n 3. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta);\n        [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)", "case (T_TApp t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1 T\\<^sub>2')"], ["proof (state)\nthis:\n  [] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                  T\\<^sub>1\\<^sub>2)\n  t\\<^sub>1 \\<in> value \\<Longrightarrow>\n  \\<exists>t S. t\\<^sub>1 = (\\<lambda><:S. t)\n  [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n  T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n  (\\<forall><:T\\<^sub>1. T\\<^sub>2')\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\n\ngoal (3 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2 T\\<^sub>1\n       T\\<^sub>2'.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<Longrightarrow>\n        \\<exists>t S. t\\<^sub>1 = (\\<lambda><:S. t);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1;\n        T\\<^sub>1\\<^sub>2[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\\<^sub>\\<tau> =\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2');\n        t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S.\n                            t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 =\n                            (\\<lambda><:S. t)\n 3. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta);\n        [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)", "from \\<open>t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\\<close>"], ["proof (chain)\npicking this:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value", "show ?case"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value\n\ngoal (1 subgoal):\n 1. \\<exists>t S.\n       t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 = (\\<lambda><:S. t)", "by cases"], ["proof (state)\nthis:\n  \\<exists>t S.\n     t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 = (\\<lambda><:S. t)\n\ngoal (2 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)\n 2. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta);\n        [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)\n 2. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta);\n        [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)", "case (T_Sub t S T\\<^sub>1 T\\<^sub>2)"], ["proof (state)\nthis:\n  [] \\<turnstile> t : S\n  \\<lbrakk>S = (\\<forall><:?T\\<^sub>1. ?T\\<^sub>2); t \\<in> value\\<rbrakk>\n  \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)\n  [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n  t \\<in> value\n\ngoal (2 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)\n 2. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta);\n        [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)", "from \\<open>[] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)\\<close>"], ["proof (chain)\npicking this:\n  [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)", "obtain S\\<^sub>1 S\\<^sub>2 where S: \"S = (\\<forall><:S\\<^sub>1. S\\<^sub>2)\""], ["proof (prove)\nusing this:\n  [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2)\n\ngoal (1 subgoal):\n 1. (\\<And>S\\<^sub>1 S\\<^sub>2.\n        S = (\\<forall><:S\\<^sub>1. S\\<^sub>2) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by cases (auto simp add: T_Sub)"], ["proof (state)\nthis:\n  S = (\\<forall><:S\\<^sub>1. S\\<^sub>2)\n\ngoal (2 subgoals):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)\n 2. \\<And>t S T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        \\<And>T\\<^sub>1 T\\<^sub>2.\n           \\<lbrakk>S = (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n            t \\<in> value\\<rbrakk>\n           \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta);\n        [] \\<turnstile> S <: (\\<forall><:T\\<^sub>1. T\\<^sub>2);\n        t \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>ta S. t = (\\<lambda><:S. ta)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>ta S. t = (\\<lambda><:S. ta)", "by (rule T_Sub S)+"], ["proof (state)\nthis:\n  \\<exists>ta S. t = (\\<lambda><:S. ta)\n\ngoal (1 subgoal):\n 1. \\<And>i U T\\<^sub>1 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        (\\<forall><:T\\<^sub>1. T\\<^sub>2) = \\<up>\\<^sub>\\<tau> (Suc i) 0 U;\n        Var i \\<in> value\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t S. Var i = (\\<lambda><:S. t)", "qed simp"], ["", "theorem progress:\n  assumes ty: \"[] \\<turnstile> t : T\"\n  shows \"t \\<in> value \\<or> (\\<exists>t'. t \\<longmapsto> t')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> value \\<or> (\\<exists>t'. t \\<longmapsto> t')", "using ty"], ["proof (prove)\nusing this:\n  [] \\<turnstile> t : T\n\ngoal (1 subgoal):\n 1. t \\<in> value \\<or> (\\<exists>t'. t \\<longmapsto> t')", "proof (induct \"[]::env\" t T)"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>i U T.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U\\<rbrakk>\n       \\<Longrightarrow> Var i \\<in> value \\<or>\n                         Ex ((\\<longmapsto>) (Var i))\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [VarB T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda>:T\\<^sub>1. t\\<^sub>2))\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [TVarB\n         T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1. t\\<^sub>2))\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 6. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "case T_Var"], ["proof (state)\nthis:\n  [] \\<turnstile>\\<^sub>w\\<^sub>f\n  []\\<langle>i_\\<rangle> = \\<lfloor>VarB U_\\<rfloor>\n  T_ = \\<up>\\<^sub>\\<tau> (Suc i_) 0 U_\n\ngoal (6 subgoals):\n 1. \\<And>i U T.\n       \\<lbrakk>[] \\<turnstile>\\<^sub>w\\<^sub>f;\n        []\\<langle>i\\<rangle> = \\<lfloor>VarB U\\<rfloor>;\n        T = \\<up>\\<^sub>\\<tau> (Suc i) 0 U\\<rbrakk>\n       \\<Longrightarrow> Var i \\<in> value \\<or>\n                         Ex ((\\<longmapsto>) (Var i))\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [VarB T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda>:T\\<^sub>1. t\\<^sub>2))\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 4. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [TVarB\n         T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1. t\\<^sub>2))\n 5. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 6. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "thus ?case"], ["proof (prove)\nusing this:\n  [] \\<turnstile>\\<^sub>w\\<^sub>f\n  []\\<langle>i_\\<rangle> = \\<lfloor>VarB U_\\<rfloor>\n  T_ = \\<up>\\<^sub>\\<tau> (Suc i_) 0 U_\n\ngoal (1 subgoal):\n 1. Var i_ \\<in> value \\<or> Ex ((\\<longmapsto>) (Var i_))", "by simp"], ["proof (state)\nthis:\n  Var i_ \\<in> value \\<or> Ex ((\\<longmapsto>) (Var i_))\n\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [VarB T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda>:T\\<^sub>1. t\\<^sub>2))\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [TVarB\n         T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1. t\\<^sub>2))\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 5. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [VarB T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda>:T\\<^sub>1. t\\<^sub>2))\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [TVarB\n         T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1. t\\<^sub>2))\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 5. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "case T_Abs"], ["proof (state)\nthis:\n  [VarB T\\<^sub>1_] \\<turnstile> t\\<^sub>2_ : T\\<^sub>2_\n\ngoal (5 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [VarB T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda>:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda>:T\\<^sub>1. t\\<^sub>2))\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 3. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [TVarB\n         T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1. t\\<^sub>2))\n 4. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 5. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "from value.Abs"], ["proof (chain)\npicking this:\n  (\\<lambda>:?T. ?t) \\<in> value", "show ?case"], ["proof (prove)\nusing this:\n  (\\<lambda>:?T. ?t) \\<in> value\n\ngoal (1 subgoal):\n 1. (\\<lambda>:T\\<^sub>1_. t\\<^sub>2_) \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (\\<lambda>:T\\<^sub>1_. t\\<^sub>2_))", ".."], ["proof (state)\nthis:\n  (\\<lambda>:T\\<^sub>1_. t\\<^sub>2_) \\<in> value \\<or>\n  Ex ((\\<longmapsto>) (\\<lambda>:T\\<^sub>1_. t\\<^sub>2_))\n\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [TVarB\n         T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1. t\\<^sub>2))\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 4. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [TVarB\n         T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1. t\\<^sub>2))\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 4. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "case (T_App t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2)"], ["proof (state)\nthis:\n  [] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1\\<^sub>2\n  t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1)\n  [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n  t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\n\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [TVarB\n         T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1. t\\<^sub>2))\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 4. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "hence \"t\\<^sub>1 \\<in> value \\<or> (\\<exists>t'. t\\<^sub>1 \\<longmapsto> t')\""], ["proof (prove)\nusing this:\n  [] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1\\<^sub>2\n  t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1)\n  [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n  t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<in> value \\<or> (\\<exists>t'. t\\<^sub>1 \\<longmapsto> t')", "by simp"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<in> value \\<or> (\\<exists>t'. t\\<^sub>1 \\<longmapsto> t')\n\ngoal (4 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 t\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n      T\\<^sub>1\\<^sub>2;\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1;\n        t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 2. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [TVarB\n         T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1. t\\<^sub>2))\n 3. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 4. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "thus ?case"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<in> value \\<or> (\\<exists>t'. t\\<^sub>1 \\<longmapsto> t')\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. t\\<^sub>1 \\<in> value \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 2. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "assume t\\<^sub>1_val: \"t\\<^sub>1 \\<in> value\""], ["proof (state)\nthis:\n  t\\<^sub>1 \\<in> value\n\ngoal (2 subgoals):\n 1. t\\<^sub>1 \\<in> value \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 2. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "with T_App"], ["proof (chain)\npicking this:\n  [] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1\\<^sub>2\n  t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1)\n  [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n  t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\n  t\\<^sub>1 \\<in> value", "obtain t S where t\\<^sub>1: \"t\\<^sub>1 = (\\<lambda>:S. t)\""], ["proof (prove)\nusing this:\n  [] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1\\<^sub>2\n  t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1)\n  [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n  t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\n  t\\<^sub>1 \\<in> value\n\ngoal (1 subgoal):\n 1. (\\<And>S t.\n        t\\<^sub>1 = (\\<lambda>:S. t) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto dest!: Fun_canonical)"], ["proof (state)\nthis:\n  t\\<^sub>1 = (\\<lambda>:S. t)\n\ngoal (2 subgoals):\n 1. t\\<^sub>1 \\<in> value \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 2. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "from T_App"], ["proof (chain)\npicking this:\n  [] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1\\<^sub>2\n  t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1)\n  [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n  t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)", "have \"t\\<^sub>2 \\<in> value \\<or> (\\<exists>t'. t\\<^sub>2 \\<longmapsto> t')\""], ["proof (prove)\nusing this:\n  [] \\<turnstile> t\\<^sub>1 : T\\<^sub>1\\<^sub>1 \\<rightarrow>\n                              T\\<^sub>1\\<^sub>2\n  t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1)\n  [] \\<turnstile> t\\<^sub>2 : T\\<^sub>1\\<^sub>1\n  t\\<^sub>2 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>2)\n\ngoal (1 subgoal):\n 1. t\\<^sub>2 \\<in> value \\<or> (\\<exists>t'. t\\<^sub>2 \\<longmapsto> t')", "by simp"], ["proof (state)\nthis:\n  t\\<^sub>2 \\<in> value \\<or> (\\<exists>t'. t\\<^sub>2 \\<longmapsto> t')\n\ngoal (2 subgoals):\n 1. t\\<^sub>1 \\<in> value \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 2. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "thus ?thesis"], ["proof (prove)\nusing this:\n  t\\<^sub>2 \\<in> value \\<or> (\\<exists>t'. t\\<^sub>2 \\<longmapsto> t')\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. t\\<^sub>2 \\<in> value \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 2. \\<exists>t'. t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "assume \"t\\<^sub>2 \\<in> value\""], ["proof (state)\nthis:\n  t\\<^sub>2 \\<in> value\n\ngoal (2 subgoals):\n 1. t\\<^sub>2 \\<in> value \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 2. \\<exists>t'. t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "with t\\<^sub>1"], ["proof (chain)\npicking this:\n  t\\<^sub>1 = (\\<lambda>:S. t)\n  t\\<^sub>2 \\<in> value", "have \"t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t[0 \\<mapsto> t\\<^sub>2]\""], ["proof (prove)\nusing this:\n  t\\<^sub>1 = (\\<lambda>:S. t)\n  t\\<^sub>2 \\<in> value\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t[0 \\<mapsto> t\\<^sub>2]", "by simp (rule eval.intros)"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t[0 \\<mapsto> t\\<^sub>2]\n\ngoal (2 subgoals):\n 1. t\\<^sub>2 \\<in> value \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n 2. \\<exists>t'. t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "thus ?thesis"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t[0 \\<mapsto> t\\<^sub>2]\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "by iprover"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n  Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "assume \"\\<exists>t'. t\\<^sub>2 \\<longmapsto> t'\""], ["proof (state)\nthis:\n  \\<exists>t'. t\\<^sub>2 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "then"], ["proof (chain)\npicking this:\n  \\<exists>t'. t\\<^sub>2 \\<longmapsto> t'", "obtain t' where \"t\\<^sub>2 \\<longmapsto> t'\""], ["proof (prove)\nusing this:\n  \\<exists>t'. t\\<^sub>2 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by iprover"], ["proof (state)\nthis:\n  t\\<^sub>2 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "with t\\<^sub>1_val"], ["proof (chain)\npicking this:\n  t\\<^sub>1 \\<in> value\n  t\\<^sub>2 \\<longmapsto> t'", "have \"t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t\\<^sub>1 \\<bullet> t'\""], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<in> value\n  t\\<^sub>2 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t\\<^sub>1 \\<bullet> t'", "by (rule eval.intros)"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t\\<^sub>1 \\<bullet> t'\n\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>2 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "thus ?thesis"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t\\<^sub>1 \\<bullet> t'\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "by iprover"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n  Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n  Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "assume \"\\<exists>t'. t\\<^sub>1 \\<longmapsto> t'\""], ["proof (state)\nthis:\n  \\<exists>t'. t\\<^sub>1 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "then"], ["proof (chain)\npicking this:\n  \\<exists>t'. t\\<^sub>1 \\<longmapsto> t'", "obtain t' where \"t\\<^sub>1 \\<longmapsto> t'\""], ["proof (prove)\nusing this:\n  \\<exists>t'. t\\<^sub>1 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  t\\<^sub>1 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "hence \"t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t' \\<bullet> t\\<^sub>2\""], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t' \\<bullet> t\\<^sub>2", "by (rule eval.intros)"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t' \\<bullet> t\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "thus ?thesis"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<longmapsto> t' \\<bullet> t\\<^sub>2\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))", "by iprover"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n  Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet> t\\<^sub>2 \\<in> value \\<or>\n  Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet> t\\<^sub>2))\n\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [TVarB\n         T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1. t\\<^sub>2))\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 3. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [TVarB\n         T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1. t\\<^sub>2))\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 3. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "case T_TAbs"], ["proof (state)\nthis:\n  [TVarB T\\<^sub>1_] \\<turnstile> t\\<^sub>2_ : T\\<^sub>2_\n\ngoal (3 subgoals):\n 1. \\<And>T\\<^sub>1 t\\<^sub>2 T\\<^sub>2.\n       [TVarB\n         T\\<^sub>1] \\<turnstile> t\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n       (\\<lambda><:T\\<^sub>1. t\\<^sub>2) \\<in> value \\<or>\n       Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1. t\\<^sub>2))\n 2. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 3. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "from value.TAbs"], ["proof (chain)\npicking this:\n  (\\<lambda><:?T. ?t) \\<in> value", "show ?case"], ["proof (prove)\nusing this:\n  (\\<lambda><:?T. ?t) \\<in> value\n\ngoal (1 subgoal):\n 1. (\\<lambda><:T\\<^sub>1_. t\\<^sub>2_) \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1_. t\\<^sub>2_))", ".."], ["proof (state)\nthis:\n  (\\<lambda><:T\\<^sub>1_. t\\<^sub>2_) \\<in> value \\<or>\n  Ex ((\\<longmapsto>) (\\<lambda><:T\\<^sub>1_. t\\<^sub>2_))\n\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 2. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 2. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "case (T_TApp t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2)"], ["proof (state)\nthis:\n  [] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                  T\\<^sub>1\\<^sub>2)\n  t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1)\n  [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 2. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "hence \"t\\<^sub>1 \\<in> value \\<or> (\\<exists>t'. t\\<^sub>1 \\<longmapsto> t')\""], ["proof (prove)\nusing this:\n  [] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                  T\\<^sub>1\\<^sub>2)\n  t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1)\n  [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<in> value \\<or> (\\<exists>t'. t\\<^sub>1 \\<longmapsto> t')", "by simp"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<in> value \\<or> (\\<exists>t'. t\\<^sub>1 \\<longmapsto> t')\n\ngoal (2 subgoals):\n 1. \\<And>t\\<^sub>1 T\\<^sub>1\\<^sub>1 T\\<^sub>1\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>[] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n          T\\<^sub>1\\<^sub>2);\n        t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1);\n        [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n                         \\<in> value \\<or>\n                         Ex ((\\<longmapsto>)\n                              (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 2. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "thus ?case"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<in> value \\<or> (\\<exists>t'. t\\<^sub>1 \\<longmapsto> t')\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. t\\<^sub>1 \\<in> value \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 2. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))", "assume \"t\\<^sub>1 \\<in> value\""], ["proof (state)\nthis:\n  t\\<^sub>1 \\<in> value\n\ngoal (2 subgoals):\n 1. t\\<^sub>1 \\<in> value \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 2. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))", "with T_TApp"], ["proof (chain)\npicking this:\n  [] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                  T\\<^sub>1\\<^sub>2)\n  t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1)\n  [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n  t\\<^sub>1 \\<in> value", "obtain t S where \"t\\<^sub>1 = (\\<lambda><:S. t)\""], ["proof (prove)\nusing this:\n  [] \\<turnstile> t\\<^sub>1 : (\\<forall><:T\\<^sub>1\\<^sub>1.\n                                  T\\<^sub>1\\<^sub>2)\n  t\\<^sub>1 \\<in> value \\<or> Ex ((\\<longmapsto>) t\\<^sub>1)\n  [] \\<turnstile> T\\<^sub>2 <: T\\<^sub>1\\<^sub>1\n  t\\<^sub>1 \\<in> value\n\ngoal (1 subgoal):\n 1. (\\<And>S t.\n        t\\<^sub>1 = (\\<lambda><:S. t) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto dest!: TyAll_canonical)"], ["proof (state)\nthis:\n  t\\<^sub>1 = (\\<lambda><:S. t)\n\ngoal (2 subgoals):\n 1. t\\<^sub>1 \\<in> value \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 2. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))", "hence \"t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\""], ["proof (prove)\nusing this:\n  t\\<^sub>1 = (\\<lambda><:S. t)\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto>\n    t[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]", "by simp (rule eval.intros)"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto>\n  t[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\n\ngoal (2 subgoals):\n 1. t\\<^sub>1 \\<in> value \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n 2. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))", "thus ?thesis"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto>\n  t[0 \\<mapsto>\\<^sub>\\<tau> T\\<^sub>2]\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))", "by iprover"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n  Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))", "assume \"\\<exists>t'. t\\<^sub>1 \\<longmapsto> t'\""], ["proof (state)\nthis:\n  \\<exists>t'. t\\<^sub>1 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))", "then"], ["proof (chain)\npicking this:\n  \\<exists>t'. t\\<^sub>1 \\<longmapsto> t'", "obtain t' where \"t\\<^sub>1 \\<longmapsto> t'\""], ["proof (prove)\nusing this:\n  \\<exists>t'. t\\<^sub>1 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  t\\<^sub>1 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))", "hence \"t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto> t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\""], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<longmapsto> t'\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto>\n    t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2", "by (rule eval.intros)"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto>\n  t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>t'. t\\<^sub>1 \\<longmapsto> t' \\<Longrightarrow>\n    t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))", "thus ?thesis"], ["proof (prove)\nusing this:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<longmapsto>\n  t' \\<bullet>\\<^sub>\\<tau> T\\<^sub>2\n\ngoal (1 subgoal):\n 1. t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n    Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))", "by iprover"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n  Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2 \\<in> value \\<or>\n  Ex ((\\<longmapsto>) (t\\<^sub>1 \\<bullet>\\<^sub>\\<tau> T\\<^sub>2))\n\ngoal (1 subgoal):\n 1. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "case (T_Sub t S T)"], ["proof (state)\nthis:\n  [] \\<turnstile> t : S\n  t \\<in> value \\<or> Ex ((\\<longmapsto>) t)\n  [] \\<turnstile> S <: T\n\ngoal (1 subgoal):\n 1. \\<And>t S T.\n       \\<lbrakk>[] \\<turnstile> t : S;\n        t \\<in> value \\<or> Ex ((\\<longmapsto>) t);\n        [] \\<turnstile> S <: T\\<rbrakk>\n       \\<Longrightarrow> t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> value \\<or> Ex ((\\<longmapsto>) t)", "by (rule T_Sub)"], ["proof (state)\nthis:\n  t \\<in> value \\<or> Ex ((\\<longmapsto>) t)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}