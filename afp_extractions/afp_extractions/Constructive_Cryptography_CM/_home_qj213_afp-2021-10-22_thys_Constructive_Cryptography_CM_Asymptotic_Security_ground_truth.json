{"file_name": "/home/qj213/afp-2021-10-22/thys/Constructive_Cryptography_CM/Asymptotic_Security.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Constructive_Cryptography_CM", "problem_names": ["lemma constructive_security_obsf'D:\n  \"constructive_security_obsf (real_resource \\<eta>) (ideal_resource \\<eta>) (sim \\<eta>) (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>)\n    (advantage (\\<A> \\<eta>) (obsf_resource (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>)) (obsf_resource (real_resource \\<eta>)))\"", "lemma constructive_security_obsf'I:\n  assumes \"\\<And>\\<eta>. constructive_security_obsf (real_resource \\<eta>) (ideal_resource \\<eta>) (sim \\<eta>) (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) (adv \\<eta>)\"\n    and \"(\\<And>\\<eta>. exception_\\<I> (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>) \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow> negligible adv\"\n  shows \"constructive_security_obsf' real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common \\<A>\"", "lemma constructive_security_obsf'_into_constructive_security:\n  assumes \"\\<And>\\<A> :: security \\<Rightarrow> ('a + 'b, 'c + 'd) distinguisher_obsf. \n   \\<lbrakk>  \\<And>\\<eta>. interaction_bounded_by (\\<lambda>_. True) (\\<A> \\<eta>) (bound \\<eta>);\n      \\<And>\\<eta>. lossless \\<Longrightarrow> plossless_gpv (exception_\\<I> (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)) (\\<A> \\<eta>) \\<rbrakk>\n   \\<Longrightarrow> constructive_security_obsf' real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common \\<A>\"\n    and correct: \"\\<exists>cnv. \\<forall>\\<D>. (\\<forall>\\<eta>. \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \\<turnstile>g \\<D> \\<eta> \\<surd>) \\<longrightarrow>\n               (\\<forall>\\<eta>. interaction_any_bounded_by (\\<D> \\<eta>) (bound \\<eta>)) \\<longrightarrow>\n               (\\<forall>\\<eta>. lossless \\<longrightarrow> plossless_gpv (\\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>) (\\<D> \\<eta>)) \\<longrightarrow>\n               (\\<forall>\\<eta>. wiring (\\<I>_ideal \\<eta>) (\\<I>_real \\<eta>) (cnv \\<eta>) (w \\<eta>)) \\<and>\n               Negligible.negligible (\\<lambda>\\<eta>. advantage (\\<D> \\<eta>) (ideal_resource \\<eta>) (cnv \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> real_resource \\<eta>))\"\n  shows \"constructive_security real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common bound lossless w\"", "theorem constructive_security_obsf'_composability:\n  fixes real\n  assumes \"constructive_security_obsf' middle ideal sim_inner \\<I>_middle \\<I>_inner \\<I>_common (\\<lambda>\\<eta>. absorb (\\<A> \\<eta>) (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\"\n  assumes \"constructive_security_obsf' real middle sim_outer \\<I>_real \\<I>_middle \\<I>_common \\<A>\"\n  shows \"constructive_security_obsf' real ideal (\\<lambda>\\<eta>. sim_outer \\<eta> \\<odot> sim_inner \\<eta>) \\<I>_real \\<I>_inner \\<I>_common \\<A>\"", "theorem constructive_security_obsf'_lifting: (* TODO: generalize! *)\n  assumes sec: \"constructive_security_obsf' real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common (\\<lambda>\\<eta>. absorb (\\<A> \\<eta>) (obsf_converter (1\\<^sub>C |\\<^sub>= conv \\<eta>)))\"\n  assumes WT_conv [WT_intro]: \"\\<And>\\<eta>. \\<I>_common' \\<eta>, \\<I>_common \\<eta> \\<turnstile>\\<^sub>C conv \\<eta> \\<surd>\"\n    and pfinite [pfinite_intro]: \"\\<And>\\<eta>. pfinite_converter (\\<I>_common' \\<eta>) (\\<I>_common \\<eta>) (conv \\<eta>)\"\n  shows \"constructive_security_obsf'\n     (\\<lambda>\\<eta>. 1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> real_resource \\<eta>) (\\<lambda>\\<eta>. 1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> ideal_resource \\<eta>) sim\n     \\<I>_real \\<I>_ideal \\<I>_common' \\<A>\"", "theorem constructive_security_obsf'_trivial:\n  fixes res\n  assumes [WT_intro]: \"\\<And>\\<eta>. \\<I> \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \\<turnstile>res res \\<eta> \\<surd>\"\n  shows \"constructive_security_obsf' res res (\\<lambda>_. 1\\<^sub>C) \\<I> \\<I> \\<I>_common \\<A>\"", "theorem parallel_constructive_security_obsf':\n  assumes \"constructive_security_obsf' real1 ideal1 sim1 \\<I>_real1 \\<I>_inner1 \\<I>_common1 (\\<lambda>\\<eta>. absorb (\\<A> \\<eta>) (obsf_converter (parallel_wiring \\<odot> parallel_converter 1\\<^sub>C (converter_of_resource (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\"\n    (is \"constructive_security_obsf' _ _ _ _ _ _ ?\\<A>1\")\n  assumes \"constructive_security_obsf' real2 ideal2 sim2 \\<I>_real2 \\<I>_inner2 \\<I>_common2 (\\<lambda>\\<eta>. absorb (\\<A> \\<eta>) (obsf_converter (parallel_wiring \\<odot> parallel_converter (converter_of_resource (real1 \\<eta>)) 1\\<^sub>C)))\"\n    (is \"constructive_security_obsf' _ _ _ _ _ _ ?\\<A>2\")\n  shows \"constructive_security_obsf' (\\<lambda>\\<eta>. parallel_wiring \\<rhd> real1 \\<eta> \\<parallel> real2 \\<eta>) (\\<lambda>\\<eta>. parallel_wiring \\<rhd> ideal1 \\<eta> \\<parallel> ideal2 \\<eta>) (\\<lambda>\\<eta>. sim1 \\<eta> |\\<^sub>= sim2 \\<eta>) \n    (\\<lambda>\\<eta>. \\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>) (\\<lambda>\\<eta>. \\<I>_inner1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<eta>) (\\<lambda>\\<eta>. \\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>) \\<A>\""], "translations": [["", "lemma constructive_security_obsf'D:\n  \"constructive_security_obsf (real_resource \\<eta>) (ideal_resource \\<eta>) (sim \\<eta>) (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>)\n    (advantage (\\<A> \\<eta>) (obsf_resource (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>)) (obsf_resource (real_resource \\<eta>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf (real_resource \\<eta>)\n     (ideal_resource \\<eta>) (sim \\<eta>) (\\<I>_real \\<eta>)\n     (\\<I>_ideal \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>)\n     (advantage (\\<A> \\<eta>)\n       (obsf_resource\n         (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n       (obsf_resource (real_resource \\<eta>)))", "by(rule constructive_security_obsf_refl)"], ["", "end"], ["", "lemma constructive_security_obsf'I:\n  assumes \"\\<And>\\<eta>. constructive_security_obsf (real_resource \\<eta>) (ideal_resource \\<eta>) (sim \\<eta>) (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) (adv \\<eta>)\"\n    and \"(\\<And>\\<eta>. exception_\\<I> (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>) \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow> negligible adv\"\n  shows \"constructive_security_obsf' real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common \\<A>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf' real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common \\<A>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf' real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common \\<A>", "interpret constructive_security_obsf \n    \"real_resource \\<eta>\"\n    \"ideal_resource \\<eta>\"\n    \"sim \\<eta>\" \n    \"\\<I>_real \\<eta>\"\n    \"\\<I>_ideal \\<eta>\"\n    \"\\<I>_common \\<eta>\"\n    \"\\<A> \\<eta>\"\n    \"adv \\<eta>\"\n    for \\<eta>"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf (real_resource \\<eta>)\n     (ideal_resource \\<eta>) (sim \\<eta>) (\\<I>_real \\<eta>)\n     (\\<I>_ideal \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) (adv \\<eta>)", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf' real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common \\<A>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf' real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common \\<A>", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<eta>.\n       \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \n       \\<turnstile>res real_resource \\<eta> \\<surd>\n 2. \\<And>\\<eta>.\n       \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \n       \\<turnstile>res ideal_resource \\<eta> \\<surd>\n 3. \\<And>\\<eta>.\n       \\<I>_real \\<eta>, \\<I>_ideal \\<eta> \\<turnstile>\\<^sub>C\n       sim \\<eta> \\<surd>\n 4. \\<And>\\<eta>.\n       pfinite_converter (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>) (sim \\<eta>)\n 5. \\<And>\\<eta>. 0 \\<le> 0\n 6. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage (\\<A> \\<eta>)\n          (obsf_resource\n            (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n          (obsf_resource (real_resource \\<eta>)))", "show \"negligible (\\<lambda>\\<eta>. advantage (\\<A> \\<eta>) (obsf_resource (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>)) (obsf_resource (real_resource \\<eta>)))\"\n      if \"\\<And>\\<eta>. exception_\\<I> (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>) \\<turnstile>g \\<A> \\<eta> \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage (\\<A> \\<eta>)\n          (obsf_resource\n            (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n          (obsf_resource (real_resource \\<eta>)))", "using assms(2)[OF that]"], ["proof (prove)\nusing this:\n  Negligible.negligible adv\n\ngoal (1 subgoal):\n 1. Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage (\\<A> \\<eta>)\n          (obsf_resource\n            (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n          (obsf_resource (real_resource \\<eta>)))", "by(rule negligible_mono)(auto intro!: eventuallyI landau_o.big_mono simp add: advantage_nonneg adv_nonneg adv[OF that])"], ["proof (state)\nthis:\n  (\\<And>\\<eta>.\n      exception_\\<I>\n       (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n      \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage (\\<A> \\<eta>)\n        (obsf_resource\n          (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n        (obsf_resource (real_resource \\<eta>)))\n\ngoal (5 subgoals):\n 1. \\<And>\\<eta>.\n       \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \n       \\<turnstile>res real_resource \\<eta> \\<surd>\n 2. \\<And>\\<eta>.\n       \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \n       \\<turnstile>res ideal_resource \\<eta> \\<surd>\n 3. \\<And>\\<eta>.\n       \\<I>_real \\<eta>, \\<I>_ideal \\<eta> \\<turnstile>\\<^sub>C\n       sim \\<eta> \\<surd>\n 4. \\<And>\\<eta>.\n       pfinite_converter (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>) (sim \\<eta>)\n 5. \\<And>\\<eta>. 0 \\<le> 0", "qed(rule WT_intro pfinite_intro order_refl)+"], ["proof (state)\nthis:\n  constructive_security_obsf' real_resource ideal_resource sim \\<I>_real\n   \\<I>_ideal \\<I>_common \\<A>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma constructive_security_obsf'_into_constructive_security:\n  assumes \"\\<And>\\<A> :: security \\<Rightarrow> ('a + 'b, 'c + 'd) distinguisher_obsf. \n   \\<lbrakk>  \\<And>\\<eta>. interaction_bounded_by (\\<lambda>_. True) (\\<A> \\<eta>) (bound \\<eta>);\n      \\<And>\\<eta>. lossless \\<Longrightarrow> plossless_gpv (exception_\\<I> (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)) (\\<A> \\<eta>) \\<rbrakk>\n   \\<Longrightarrow> constructive_security_obsf' real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common \\<A>\"\n    and correct: \"\\<exists>cnv. \\<forall>\\<D>. (\\<forall>\\<eta>. \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \\<turnstile>g \\<D> \\<eta> \\<surd>) \\<longrightarrow>\n               (\\<forall>\\<eta>. interaction_any_bounded_by (\\<D> \\<eta>) (bound \\<eta>)) \\<longrightarrow>\n               (\\<forall>\\<eta>. lossless \\<longrightarrow> plossless_gpv (\\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>) (\\<D> \\<eta>)) \\<longrightarrow>\n               (\\<forall>\\<eta>. wiring (\\<I>_ideal \\<eta>) (\\<I>_real \\<eta>) (cnv \\<eta>) (w \\<eta>)) \\<and>\n               Negligible.negligible (\\<lambda>\\<eta>. advantage (\\<D> \\<eta>) (ideal_resource \\<eta>) (cnv \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> real_resource \\<eta>))\"\n  shows \"constructive_security real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common bound lossless w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common bound lossless w", "proof"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<eta>.\n       \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \n       \\<turnstile>res real_resource \\<eta> \\<surd>\n 2. \\<And>\\<eta>.\n       \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \n       \\<turnstile>res ideal_resource \\<eta> \\<surd>\n 3. \\<And>\\<eta>.\n       \\<I>_real \\<eta>, \\<I>_ideal \\<eta> \\<turnstile>\\<^sub>C\n       sim \\<eta> \\<surd>\n 4. \\<And>\\<A>.\n       \\<lbrakk>\\<And>\\<eta>.\n                   \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n                   \\<turnstile>g \\<A> \\<eta> \\<surd>;\n        \\<And>\\<eta>.\n           interaction_any_bounded_by (\\<A> \\<eta>) (bound \\<eta>);\n        \\<And>\\<eta>.\n           lossless \\<Longrightarrow>\n           plossless_gpv\n            (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n            (\\<A> \\<eta>)\\<rbrakk>\n       \\<Longrightarrow> Negligible.negligible\n                          (\\<lambda>\\<eta>.\n                              advantage (\\<A> \\<eta>)\n                               (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                                ideal_resource \\<eta>)\n                               (real_resource \\<eta>))\n 5. \\<exists>cnv.\n       \\<forall>\\<D>.\n          (\\<forall>\\<eta>.\n              \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n              \\<turnstile>g \\<D> \\<eta> \\<surd>) \\<longrightarrow>\n          (\\<forall>\\<eta>.\n              interaction_any_bounded_by (\\<D> \\<eta>)\n               (bound \\<eta>)) \\<longrightarrow>\n          (\\<forall>\\<eta>.\n              lossless \\<longrightarrow>\n              plossless_gpv\n               (\\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n               (\\<D> \\<eta>)) \\<longrightarrow>\n          (\\<forall>\\<eta>.\n              wiring (\\<I>_ideal \\<eta>) (\\<I>_real \\<eta>) (cnv \\<eta>)\n               (w \\<eta>)) \\<and>\n          Negligible.negligible\n           (\\<lambda>\\<eta>.\n               advantage (\\<D> \\<eta>) (ideal_resource \\<eta>)\n                (cnv \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                 real_resource \\<eta>))", "interpret constructive_security_obsf' real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common \\<open>\\<lambda>_. Done undefined\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf' real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common (\\<lambda>_. Done undefined)", "by(rule assms) simp_all"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<eta>.\n       \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \n       \\<turnstile>res real_resource \\<eta> \\<surd>\n 2. \\<And>\\<eta>.\n       \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \n       \\<turnstile>res ideal_resource \\<eta> \\<surd>\n 3. \\<And>\\<eta>.\n       \\<I>_real \\<eta>, \\<I>_ideal \\<eta> \\<turnstile>\\<^sub>C\n       sim \\<eta> \\<surd>\n 4. \\<And>\\<A>.\n       \\<lbrakk>\\<And>\\<eta>.\n                   \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n                   \\<turnstile>g \\<A> \\<eta> \\<surd>;\n        \\<And>\\<eta>.\n           interaction_any_bounded_by (\\<A> \\<eta>) (bound \\<eta>);\n        \\<And>\\<eta>.\n           lossless \\<Longrightarrow>\n           plossless_gpv\n            (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n            (\\<A> \\<eta>)\\<rbrakk>\n       \\<Longrightarrow> Negligible.negligible\n                          (\\<lambda>\\<eta>.\n                              advantage (\\<A> \\<eta>)\n                               (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                                ideal_resource \\<eta>)\n                               (real_resource \\<eta>))\n 5. \\<exists>cnv.\n       \\<forall>\\<D>.\n          (\\<forall>\\<eta>.\n              \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n              \\<turnstile>g \\<D> \\<eta> \\<surd>) \\<longrightarrow>\n          (\\<forall>\\<eta>.\n              interaction_any_bounded_by (\\<D> \\<eta>)\n               (bound \\<eta>)) \\<longrightarrow>\n          (\\<forall>\\<eta>.\n              lossless \\<longrightarrow>\n              plossless_gpv\n               (\\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n               (\\<D> \\<eta>)) \\<longrightarrow>\n          (\\<forall>\\<eta>.\n              wiring (\\<I>_ideal \\<eta>) (\\<I>_real \\<eta>) (cnv \\<eta>)\n               (w \\<eta>)) \\<and>\n          Negligible.negligible\n           (\\<lambda>\\<eta>.\n               advantage (\\<D> \\<eta>) (ideal_resource \\<eta>)\n                (cnv \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                 real_resource \\<eta>))", "show \"\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \\<turnstile>res real_resource \\<eta> \\<surd>\" \n    and \"\\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \\<turnstile>res ideal_resource \\<eta> \\<surd>\"\n    and \"\\<I>_real \\<eta>, \\<I>_ideal \\<eta> \\<turnstile>\\<^sub>C sim \\<eta> \\<surd>\" for \\<eta>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \n    \\<turnstile>res real_resource \\<eta> \\<surd> &&&\n    \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \n    \\<turnstile>res ideal_resource \\<eta> \\<surd> &&&\n    \\<I>_real \\<eta>, \\<I>_ideal \\<eta> \\<turnstile>\\<^sub>C\n    sim \\<eta> \\<surd>", "by(rule WT_intro)+"], ["proof (state)\nthis:\n  \\<I>_real ?\\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common ?\\<eta> \n  \\<turnstile>res real_resource ?\\<eta> \\<surd>\n  \\<I>_ideal ?\\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common ?\\<eta> \n  \\<turnstile>res ideal_resource ?\\<eta> \\<surd>\n  \\<I>_real ?\\<eta>, \\<I>_ideal ?\\<eta> \\<turnstile>\\<^sub>C\n  sim ?\\<eta> \\<surd>\n\ngoal (2 subgoals):\n 1. \\<And>\\<A>.\n       \\<lbrakk>\\<And>\\<eta>.\n                   \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n                   \\<turnstile>g \\<A> \\<eta> \\<surd>;\n        \\<And>\\<eta>.\n           interaction_any_bounded_by (\\<A> \\<eta>) (bound \\<eta>);\n        \\<And>\\<eta>.\n           lossless \\<Longrightarrow>\n           plossless_gpv\n            (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n            (\\<A> \\<eta>)\\<rbrakk>\n       \\<Longrightarrow> Negligible.negligible\n                          (\\<lambda>\\<eta>.\n                              advantage (\\<A> \\<eta>)\n                               (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                                ideal_resource \\<eta>)\n                               (real_resource \\<eta>))\n 2. \\<exists>cnv.\n       \\<forall>\\<D>.\n          (\\<forall>\\<eta>.\n              \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n              \\<turnstile>g \\<D> \\<eta> \\<surd>) \\<longrightarrow>\n          (\\<forall>\\<eta>.\n              interaction_any_bounded_by (\\<D> \\<eta>)\n               (bound \\<eta>)) \\<longrightarrow>\n          (\\<forall>\\<eta>.\n              lossless \\<longrightarrow>\n              plossless_gpv\n               (\\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n               (\\<D> \\<eta>)) \\<longrightarrow>\n          (\\<forall>\\<eta>.\n              wiring (\\<I>_ideal \\<eta>) (\\<I>_real \\<eta>) (cnv \\<eta>)\n               (w \\<eta>)) \\<and>\n          Negligible.negligible\n           (\\<lambda>\\<eta>.\n               advantage (\\<D> \\<eta>) (ideal_resource \\<eta>)\n                (cnv \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                 real_resource \\<eta>))", "show \"\\<exists>cnv. \\<forall>\\<D>. (\\<forall>\\<eta>. \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \\<turnstile>g \\<D> \\<eta> \\<surd>) \\<longrightarrow>\n               (\\<forall>\\<eta>. interaction_any_bounded_by (\\<D> \\<eta>) (bound \\<eta>)) \\<longrightarrow>\n               (\\<forall>\\<eta>. lossless \\<longrightarrow> plossless_gpv (\\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>) (\\<D> \\<eta>)) \\<longrightarrow>\n               (\\<forall>\\<eta>. wiring (\\<I>_ideal \\<eta>) (\\<I>_real \\<eta>) (cnv \\<eta>) (w \\<eta>)) \\<and>\n               Negligible.negligible (\\<lambda>\\<eta>. advantage (\\<D> \\<eta>) (ideal_resource \\<eta>) (cnv \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> real_resource \\<eta>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>cnv.\n       \\<forall>\\<D>.\n          (\\<forall>\\<eta>.\n              \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n              \\<turnstile>g \\<D> \\<eta> \\<surd>) \\<longrightarrow>\n          (\\<forall>\\<eta>.\n              interaction_any_bounded_by (\\<D> \\<eta>)\n               (bound \\<eta>)) \\<longrightarrow>\n          (\\<forall>\\<eta>.\n              lossless \\<longrightarrow>\n              plossless_gpv\n               (\\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n               (\\<D> \\<eta>)) \\<longrightarrow>\n          (\\<forall>\\<eta>.\n              wiring (\\<I>_ideal \\<eta>) (\\<I>_real \\<eta>) (cnv \\<eta>)\n               (w \\<eta>)) \\<and>\n          Negligible.negligible\n           (\\<lambda>\\<eta>.\n               advantage (\\<D> \\<eta>) (ideal_resource \\<eta>)\n                (cnv \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                 real_resource \\<eta>))", "by fact"], ["proof (state)\nthis:\n  \\<exists>cnv.\n     \\<forall>\\<D>.\n        (\\<forall>\\<eta>.\n            \\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n            \\<turnstile>g \\<D> \\<eta> \\<surd>) \\<longrightarrow>\n        (\\<forall>\\<eta>.\n            interaction_any_bounded_by (\\<D> \\<eta>)\n             (bound \\<eta>)) \\<longrightarrow>\n        (\\<forall>\\<eta>.\n            lossless \\<longrightarrow>\n            plossless_gpv\n             (\\<I>_ideal \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n             (\\<D> \\<eta>)) \\<longrightarrow>\n        (\\<forall>\\<eta>.\n            wiring (\\<I>_ideal \\<eta>) (\\<I>_real \\<eta>) (cnv \\<eta>)\n             (w \\<eta>)) \\<and>\n        Negligible.negligible\n         (\\<lambda>\\<eta>.\n             advantage (\\<D> \\<eta>) (ideal_resource \\<eta>)\n              (cnv \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> real_resource \\<eta>))\n\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<lbrakk>\\<And>\\<eta>.\n                   \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n                   \\<turnstile>g \\<A> \\<eta> \\<surd>;\n        \\<And>\\<eta>.\n           interaction_any_bounded_by (\\<A> \\<eta>) (bound \\<eta>);\n        \\<And>\\<eta>.\n           lossless \\<Longrightarrow>\n           plossless_gpv\n            (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n            (\\<A> \\<eta>)\\<rbrakk>\n       \\<Longrightarrow> Negligible.negligible\n                          (\\<lambda>\\<eta>.\n                              advantage (\\<A> \\<eta>)\n                               (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                                ideal_resource \\<eta>)\n                               (real_resource \\<eta>))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<lbrakk>\\<And>\\<eta>.\n                   \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n                   \\<turnstile>g \\<A> \\<eta> \\<surd>;\n        \\<And>\\<eta>.\n           interaction_any_bounded_by (\\<A> \\<eta>) (bound \\<eta>);\n        \\<And>\\<eta>.\n           lossless \\<Longrightarrow>\n           plossless_gpv\n            (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n            (\\<A> \\<eta>)\\<rbrakk>\n       \\<Longrightarrow> Negligible.negligible\n                          (\\<lambda>\\<eta>.\n                              advantage (\\<A> \\<eta>)\n                               (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                                ideal_resource \\<eta>)\n                               (real_resource \\<eta>))", "fix \\<A> :: \"security \\<Rightarrow> ('a + 'b, 'c + 'd) distinguisher\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<lbrakk>\\<And>\\<eta>.\n                   \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n                   \\<turnstile>g \\<A> \\<eta> \\<surd>;\n        \\<And>\\<eta>.\n           interaction_any_bounded_by (\\<A> \\<eta>) (bound \\<eta>);\n        \\<And>\\<eta>.\n           lossless \\<Longrightarrow>\n           plossless_gpv\n            (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n            (\\<A> \\<eta>)\\<rbrakk>\n       \\<Longrightarrow> Negligible.negligible\n                          (\\<lambda>\\<eta>.\n                              advantage (\\<A> \\<eta>)\n                               (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                                ideal_resource \\<eta>)\n                               (real_resource \\<eta>))", "assume WT_adv [WT_intro]: \"\\<And>\\<eta>. \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \\<turnstile>g \\<A> \\<eta> \\<surd>\"\n    and bound [interaction_bound]: \"\\<And>\\<eta>. interaction_any_bounded_by (\\<A> \\<eta>) (bound \\<eta>)\"\n    and lossless: \"\\<And>\\<eta>. lossless \\<Longrightarrow> plossless_gpv (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>) (\\<A> \\<eta>)\""], ["proof (state)\nthis:\n  \\<I>_real ?\\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common ?\\<eta>\n  \\<turnstile>g \\<A> ?\\<eta> \\<surd>\n  interaction_any_bounded_by (\\<A> ?\\<eta>) (bound ?\\<eta>)\n  lossless \\<Longrightarrow>\n  plossless_gpv (\\<I>_real ?\\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common ?\\<eta>)\n   (\\<A> ?\\<eta>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<lbrakk>\\<And>\\<eta>.\n                   \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n                   \\<turnstile>g \\<A> \\<eta> \\<surd>;\n        \\<And>\\<eta>.\n           interaction_any_bounded_by (\\<A> \\<eta>) (bound \\<eta>);\n        \\<And>\\<eta>.\n           lossless \\<Longrightarrow>\n           plossless_gpv\n            (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n            (\\<A> \\<eta>)\\<rbrakk>\n       \\<Longrightarrow> Negligible.negligible\n                          (\\<lambda>\\<eta>.\n                              advantage (\\<A> \\<eta>)\n                               (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                                ideal_resource \\<eta>)\n                               (real_resource \\<eta>))", "let ?\\<A> = \"\\<lambda>\\<eta>. obsf_distinguisher (\\<A> \\<eta>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<lbrakk>\\<And>\\<eta>.\n                   \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n                   \\<turnstile>g \\<A> \\<eta> \\<surd>;\n        \\<And>\\<eta>.\n           interaction_any_bounded_by (\\<A> \\<eta>) (bound \\<eta>);\n        \\<And>\\<eta>.\n           lossless \\<Longrightarrow>\n           plossless_gpv\n            (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n            (\\<A> \\<eta>)\\<rbrakk>\n       \\<Longrightarrow> Negligible.negligible\n                          (\\<lambda>\\<eta>.\n                              advantage (\\<A> \\<eta>)\n                               (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                                ideal_resource \\<eta>)\n                               (real_resource \\<eta>))", "interpret constructive_security_obsf' real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common ?\\<A>"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf' real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common\n     (\\<lambda>\\<eta>. obsf_distinguisher (\\<A> \\<eta>))", "proof(rule assms)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       interaction_any_bounded_by (obsf_distinguisher (\\<A> \\<eta>))\n        (bound \\<eta>)\n 2. \\<And>\\<eta>.\n       lossless \\<Longrightarrow>\n       plossless_gpv\n        (exception_\\<I>\n          (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>))\n        (obsf_distinguisher (\\<A> \\<eta>))", "show \"interaction_any_bounded_by (?\\<A> \\<eta>) (bound \\<eta>)\" for \\<eta>"], ["proof (prove)\ngoal (1 subgoal):\n 1. interaction_any_bounded_by (obsf_distinguisher (\\<A> \\<eta>))\n     (bound \\<eta>)", "by(rule interaction_bound)+"], ["proof (state)\nthis:\n  interaction_any_bounded_by (obsf_distinguisher (\\<A> ?\\<eta>))\n   (bound ?\\<eta>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<eta>.\n       lossless \\<Longrightarrow>\n       plossless_gpv\n        (exception_\\<I>\n          (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>))\n        (obsf_distinguisher (\\<A> \\<eta>))", "show \"plossless_gpv (exception_\\<I> (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)) (?\\<A> \\<eta>)\" if lossless for \\<eta>"], ["proof (prove)\ngoal (1 subgoal):\n 1. plossless_gpv\n     (exception_\\<I>\n       (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>))\n     (obsf_distinguisher (\\<A> \\<eta>))", "using WT_adv[of \\<eta>] lossless that"], ["proof (prove)\nusing this:\n  \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n  \\<turnstile>g \\<A> \\<eta> \\<surd>\n  lossless \\<Longrightarrow>\n  plossless_gpv (\\<I>_real ?\\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common ?\\<eta>)\n   (\\<A> ?\\<eta>)\n  lossless\n\ngoal (1 subgoal):\n 1. plossless_gpv\n     (exception_\\<I>\n       (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>))\n     (obsf_distinguisher (\\<A> \\<eta>))", "by(simp)"], ["proof (state)\nthis:\n  lossless \\<Longrightarrow>\n  plossless_gpv\n   (exception_\\<I>\n     (\\<I>_real ?\\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common ?\\<eta>))\n   (obsf_distinguisher (\\<A> ?\\<eta>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<lbrakk>\\<And>\\<eta>.\n                   \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n                   \\<turnstile>g \\<A> \\<eta> \\<surd>;\n        \\<And>\\<eta>.\n           interaction_any_bounded_by (\\<A> \\<eta>) (bound \\<eta>);\n        \\<And>\\<eta>.\n           lossless \\<Longrightarrow>\n           plossless_gpv\n            (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n            (\\<A> \\<eta>)\\<rbrakk>\n       \\<Longrightarrow> Negligible.negligible\n                          (\\<lambda>\\<eta>.\n                              advantage (\\<A> \\<eta>)\n                               (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                                ideal_resource \\<eta>)\n                               (real_resource \\<eta>))", "have \"negligible (\\<lambda>\\<eta>. advantage (?\\<A> \\<eta>) (obsf_resource (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>)) (obsf_resource (real_resource \\<eta>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage (obsf_distinguisher (\\<A> \\<eta>))\n          (obsf_resource\n            (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n          (obsf_resource (real_resource \\<eta>)))", "by(rule adv)(rule WT_intro)+"], ["proof (state)\nthis:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage (obsf_distinguisher (\\<A> \\<eta>))\n        (obsf_resource\n          (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n        (obsf_resource (real_resource \\<eta>)))\n\ngoal (1 subgoal):\n 1. \\<And>\\<A>.\n       \\<lbrakk>\\<And>\\<eta>.\n                   \\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>\n                   \\<turnstile>g \\<A> \\<eta> \\<surd>;\n        \\<And>\\<eta>.\n           interaction_any_bounded_by (\\<A> \\<eta>) (bound \\<eta>);\n        \\<And>\\<eta>.\n           lossless \\<Longrightarrow>\n           plossless_gpv\n            (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n            (\\<A> \\<eta>)\\<rbrakk>\n       \\<Longrightarrow> Negligible.negligible\n                          (\\<lambda>\\<eta>.\n                              advantage (\\<A> \\<eta>)\n                               (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd>\n                                ideal_resource \\<eta>)\n                               (real_resource \\<eta>))", "then"], ["proof (chain)\npicking this:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage (obsf_distinguisher (\\<A> \\<eta>))\n        (obsf_resource\n          (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n        (obsf_resource (real_resource \\<eta>)))", "show \"negligible (\\<lambda>\\<eta>. advantage (\\<A> \\<eta>) (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>) (real_resource \\<eta>))\""], ["proof (prove)\nusing this:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage (obsf_distinguisher (\\<A> \\<eta>))\n        (obsf_resource\n          (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n        (obsf_resource (real_resource \\<eta>)))\n\ngoal (1 subgoal):\n 1. Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage (\\<A> \\<eta>)\n          (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>)\n          (real_resource \\<eta>))", "unfolding advantage_obsf_distinguisher"], ["proof (prove)\nusing this:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage (\\<A> \\<eta>)\n        (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>)\n        (real_resource \\<eta>))\n\ngoal (1 subgoal):\n 1. Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage (\\<A> \\<eta>)\n          (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>)\n          (real_resource \\<eta>))", "."], ["proof (state)\nthis:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage (\\<A> \\<eta>)\n        (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>)\n        (real_resource \\<eta>))\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Composition theorems\\<close>"], ["", "theorem constructive_security_obsf'_composability:\n  fixes real\n  assumes \"constructive_security_obsf' middle ideal sim_inner \\<I>_middle \\<I>_inner \\<I>_common (\\<lambda>\\<eta>. absorb (\\<A> \\<eta>) (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\"\n  assumes \"constructive_security_obsf' real middle sim_outer \\<I>_real \\<I>_middle \\<I>_common \\<A>\"\n  shows \"constructive_security_obsf' real ideal (\\<lambda>\\<eta>. sim_outer \\<eta> \\<odot> sim_inner \\<eta>) \\<I>_real \\<I>_inner \\<I>_common \\<A>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf' real ideal\n     (\\<lambda>\\<eta>. sim_outer \\<eta> \\<odot> sim_inner \\<eta>) \\<I>_real\n     \\<I>_inner \\<I>_common \\<A>", "proof(rule constructive_security_obsf'I)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf (real \\<eta>) (ideal \\<eta>)\n        (sim_outer \\<eta> \\<odot> sim_inner \\<eta>) (\\<I>_real \\<eta>)\n        (\\<I>_inner \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "let ?\\<A> = \"\\<lambda>\\<eta>. absorb (\\<A> \\<eta>) (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C))\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf (real \\<eta>) (ideal \\<eta>)\n        (sim_outer \\<eta> \\<odot> sim_inner \\<eta>) (\\<I>_real \\<eta>)\n        (\\<I>_inner \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "interpret inner: constructive_security_obsf' middle ideal sim_inner \\<I>_middle \\<I>_inner \\<I>_common ?\\<A>"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf' middle ideal sim_inner \\<I>_middle\n     \\<I>_inner \\<I>_common\n     (\\<lambda>\\<eta>.\n         absorb (\\<A> \\<eta>)\n          (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))", "by fact"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf (real \\<eta>) (ideal \\<eta>)\n        (sim_outer \\<eta> \\<odot> sim_inner \\<eta>) (\\<I>_real \\<eta>)\n        (\\<I>_inner \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "interpret outer: constructive_security_obsf' real middle sim_outer \\<I>_real \\<I>_middle \\<I>_common \\<A>"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf' real middle sim_outer \\<I>_real \\<I>_middle\n     \\<I>_common \\<A>", "by fact"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf (real \\<eta>) (ideal \\<eta>)\n        (sim_outer \\<eta> \\<odot> sim_inner \\<eta>) (\\<I>_real \\<eta>)\n        (\\<I>_inner \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "let ?adv1 = \"\\<lambda>\\<eta>. advantage (?\\<A> \\<eta>) (obsf_resource (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>)) (obsf_resource (middle \\<eta>))\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf (real \\<eta>) (ideal \\<eta>)\n        (sim_outer \\<eta> \\<odot> sim_inner \\<eta>) (\\<I>_real \\<eta>)\n        (\\<I>_inner \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "let ?adv2 = \"\\<lambda>\\<eta>. advantage (\\<A> \\<eta>) (obsf_resource (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>)) (obsf_resource (real \\<eta>))\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf (real \\<eta>) (ideal \\<eta>)\n        (sim_outer \\<eta> \\<odot> sim_inner \\<eta>) (\\<I>_real \\<eta>)\n        (\\<I>_inner \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "let ?adv = \"\\<lambda>\\<eta>. ?adv1 \\<eta> + ?adv2 \\<eta>\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf (real \\<eta>) (ideal \\<eta>)\n        (sim_outer \\<eta> \\<odot> sim_inner \\<eta>) (\\<I>_real \\<eta>)\n        (\\<I>_inner \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "show \"constructive_security_obsf (real \\<eta>) (ideal \\<eta>) (sim_outer \\<eta> \\<odot> sim_inner \\<eta>) (\\<I>_real \\<eta>) (\\<I>_inner \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\" for \\<eta>"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf (real \\<eta>) (ideal \\<eta>)\n     (sim_outer \\<eta> \\<odot> sim_inner \\<eta>) (\\<I>_real \\<eta>)\n     (\\<I>_inner \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>)\n     (advantage\n       (absorb (\\<A> \\<eta>)\n         (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n       (obsf_resource\n         (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n       (obsf_resource (middle \\<eta>)) +\n      advantage (\\<A> \\<eta>)\n       (obsf_resource\n         (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n       (obsf_resource (real \\<eta>)))", "using inner.constructive_security_obsf'D outer.constructive_security_obsf'D"], ["proof (prove)\nusing this:\n  constructive_security_obsf (middle ?\\<eta>) (ideal ?\\<eta>)\n   (sim_inner ?\\<eta>) (\\<I>_middle ?\\<eta>) (\\<I>_inner ?\\<eta>)\n   (\\<I>_common ?\\<eta>)\n   (absorb (\\<A> ?\\<eta>)\n     (obsf_converter (sim_outer ?\\<eta> |\\<^sub>= 1\\<^sub>C)))\n   (advantage\n     (absorb (\\<A> ?\\<eta>)\n       (obsf_converter (sim_outer ?\\<eta> |\\<^sub>= 1\\<^sub>C)))\n     (obsf_resource\n       (sim_inner ?\\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal ?\\<eta>))\n     (obsf_resource (middle ?\\<eta>)))\n  constructive_security_obsf (real ?\\<eta>) (middle ?\\<eta>)\n   (sim_outer ?\\<eta>) (\\<I>_real ?\\<eta>) (\\<I>_middle ?\\<eta>)\n   (\\<I>_common ?\\<eta>) (\\<A> ?\\<eta>)\n   (advantage (\\<A> ?\\<eta>)\n     (obsf_resource\n       (sim_outer ?\\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle ?\\<eta>))\n     (obsf_resource (real ?\\<eta>)))\n\ngoal (1 subgoal):\n 1. constructive_security_obsf (real \\<eta>) (ideal \\<eta>)\n     (sim_outer \\<eta> \\<odot> sim_inner \\<eta>) (\\<I>_real \\<eta>)\n     (\\<I>_inner \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>)\n     (advantage\n       (absorb (\\<A> \\<eta>)\n         (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n       (obsf_resource\n         (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n       (obsf_resource (middle \\<eta>)) +\n      advantage (\\<A> \\<eta>)\n       (obsf_resource\n         (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n       (obsf_resource (real \\<eta>)))", "by(rule constructive_security_obsf_composability)"], ["proof (state)\nthis:\n  constructive_security_obsf (real ?\\<eta>) (ideal ?\\<eta>)\n   (sim_outer ?\\<eta> \\<odot> sim_inner ?\\<eta>) (\\<I>_real ?\\<eta>)\n   (\\<I>_inner ?\\<eta>) (\\<I>_common ?\\<eta>) (\\<A> ?\\<eta>)\n   (advantage\n     (absorb (\\<A> ?\\<eta>)\n       (obsf_converter (sim_outer ?\\<eta> |\\<^sub>= 1\\<^sub>C)))\n     (obsf_resource\n       (sim_inner ?\\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal ?\\<eta>))\n     (obsf_resource (middle ?\\<eta>)) +\n    advantage (\\<A> ?\\<eta>)\n     (obsf_resource\n       (sim_outer ?\\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle ?\\<eta>))\n     (obsf_resource (real ?\\<eta>)))\n\ngoal (1 subgoal):\n 1. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n          (obsf_resource\n            (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n          (obsf_resource (middle \\<eta>)) +\n         advantage (\\<A> \\<eta>)\n          (obsf_resource\n            (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n          (obsf_resource (real \\<eta>)))", "assume [WT_intro]: \"exception_\\<I> (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>) \\<turnstile>g \\<A> \\<eta> \\<surd>\" for \\<eta>"], ["proof (state)\nthis:\n  exception_\\<I> (\\<I>_real ?\\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common ?\\<eta>)\n  \\<turnstile>g \\<A> ?\\<eta> \\<surd>\n\ngoal (1 subgoal):\n 1. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n          (obsf_resource\n            (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n          (obsf_resource (middle \\<eta>)) +\n         advantage (\\<A> \\<eta>)\n          (obsf_resource\n            (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n          (obsf_resource (real \\<eta>)))", "have \"negligible ?adv1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n          (obsf_resource\n            (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n          (obsf_resource (middle \\<eta>)))", "by(rule inner.adv)(rule WT_intro)+"], ["proof (state)\nthis:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n        (obsf_resource\n          (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n        (obsf_resource (middle \\<eta>)))\n\ngoal (1 subgoal):\n 1. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n          (obsf_resource\n            (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n          (obsf_resource (middle \\<eta>)) +\n         advantage (\\<A> \\<eta>)\n          (obsf_resource\n            (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n          (obsf_resource (real \\<eta>)))", "also"], ["proof (state)\nthis:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n        (obsf_resource\n          (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n        (obsf_resource (middle \\<eta>)))\n\ngoal (1 subgoal):\n 1. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n          (obsf_resource\n            (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n          (obsf_resource (middle \\<eta>)) +\n         advantage (\\<A> \\<eta>)\n          (obsf_resource\n            (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n          (obsf_resource (real \\<eta>)))", "have \"negligible ?adv2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage (\\<A> \\<eta>)\n          (obsf_resource\n            (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n          (obsf_resource (real \\<eta>)))", "by(rule outer.adv)(rule WT_intro)+"], ["proof (state)\nthis:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage (\\<A> \\<eta>)\n        (obsf_resource\n          (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n        (obsf_resource (real \\<eta>)))\n\ngoal (1 subgoal):\n 1. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n          (obsf_resource\n            (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n          (obsf_resource (middle \\<eta>)) +\n         advantage (\\<A> \\<eta>)\n          (obsf_resource\n            (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n          (obsf_resource (real \\<eta>)))", "finally (negligible_plus)"], ["proof (chain)\npicking this:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n        (obsf_resource\n          (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n        (obsf_resource (middle \\<eta>)) +\n       advantage (\\<A> \\<eta>)\n        (obsf_resource\n          (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n        (obsf_resource (real \\<eta>)))", "show \"negligible ?adv\""], ["proof (prove)\nusing this:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n        (obsf_resource\n          (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n        (obsf_resource (middle \\<eta>)) +\n       advantage (\\<A> \\<eta>)\n        (obsf_resource\n          (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n        (obsf_resource (real \\<eta>)))\n\ngoal (1 subgoal):\n 1. Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n          (obsf_resource\n            (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n          (obsf_resource (middle \\<eta>)) +\n         advantage (\\<A> \\<eta>)\n          (obsf_resource\n            (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n          (obsf_resource (real \\<eta>)))", "."], ["proof (state)\nthis:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C)))\n        (obsf_resource\n          (sim_inner \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<eta>))\n        (obsf_resource (middle \\<eta>)) +\n       advantage (\\<A> \\<eta>)\n        (obsf_resource\n          (sim_outer \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> middle \\<eta>))\n        (obsf_resource (real \\<eta>)))\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem constructive_security_obsf'_lifting: (* TODO: generalize! *)\n  assumes sec: \"constructive_security_obsf' real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common (\\<lambda>\\<eta>. absorb (\\<A> \\<eta>) (obsf_converter (1\\<^sub>C |\\<^sub>= conv \\<eta>)))\"\n  assumes WT_conv [WT_intro]: \"\\<And>\\<eta>. \\<I>_common' \\<eta>, \\<I>_common \\<eta> \\<turnstile>\\<^sub>C conv \\<eta> \\<surd>\"\n    and pfinite [pfinite_intro]: \"\\<And>\\<eta>. pfinite_converter (\\<I>_common' \\<eta>) (\\<I>_common \\<eta>) (conv \\<eta>)\"\n  shows \"constructive_security_obsf'\n     (\\<lambda>\\<eta>. 1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> real_resource \\<eta>) (\\<lambda>\\<eta>. 1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> ideal_resource \\<eta>) sim\n     \\<I>_real \\<I>_ideal \\<I>_common' \\<A>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf'\n     (\\<lambda>\\<eta>.\n         1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> real_resource \\<eta>)\n     (\\<lambda>\\<eta>.\n         1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> ideal_resource \\<eta>)\n     sim \\<I>_real \\<I>_ideal \\<I>_common' \\<A>", "proof(rule constructive_security_obsf'I)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf\n        (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> real_resource \\<eta>)\n        (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> ideal_resource \\<eta>)\n        (sim \\<eta>) (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>)\n        (\\<I>_common' \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common' \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "let ?\\<A> = \"\\<lambda>\\<eta>. absorb (\\<A> \\<eta>) (obsf_converter (1\\<^sub>C |\\<^sub>= conv \\<eta>))\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf\n        (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> real_resource \\<eta>)\n        (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> ideal_resource \\<eta>)\n        (sim \\<eta>) (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>)\n        (\\<I>_common' \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common' \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "interpret constructive_security_obsf' real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common ?\\<A>"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf' real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common\n     (\\<lambda>\\<eta>.\n         absorb (\\<A> \\<eta>)\n          (obsf_converter (1\\<^sub>C |\\<^sub>= conv \\<eta>)))", "by fact"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf\n        (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> real_resource \\<eta>)\n        (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> ideal_resource \\<eta>)\n        (sim \\<eta>) (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>)\n        (\\<I>_common' \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common' \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "let ?adv = \"\\<lambda>\\<eta>. advantage (?\\<A> \\<eta>) (obsf_resource (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>)) (obsf_resource (real_resource \\<eta>))\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf\n        (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> real_resource \\<eta>)\n        (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> ideal_resource \\<eta>)\n        (sim \\<eta>) (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>)\n        (\\<I>_common' \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common' \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "fix \\<eta> :: security"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf\n        (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> real_resource \\<eta>)\n        (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> ideal_resource \\<eta>)\n        (sim \\<eta>) (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>)\n        (\\<I>_common' \\<eta>) (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common' \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "show \"constructive_security_obsf (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> real_resource \\<eta>) (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> ideal_resource \\<eta>) (sim \\<eta>)\n     (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>) (\\<I>_common' \\<eta>) (\\<A> \\<eta>)\n     (?adv \\<eta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> real_resource \\<eta>)\n     (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> ideal_resource \\<eta>)\n     (sim \\<eta>) (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>)\n     (\\<I>_common' \\<eta>) (\\<A> \\<eta>)\n     (advantage\n       (absorb (\\<A> \\<eta>)\n         (obsf_converter (1\\<^sub>C |\\<^sub>= conv \\<eta>)))\n       (obsf_resource\n         (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n       (obsf_resource (real_resource \\<eta>)))", "using constructive_security_obsf.constructive_security_aux_obsf[OF constructive_security_obsf'D]\n     constructive_security_obsf.constructive_security_sim_obsf[OF constructive_security_obsf'D]"], ["proof (prove)\nusing this:\n  constructive_security_aux_obsf (real_resource ?\\<eta>1)\n   (ideal_resource ?\\<eta>1) (sim ?\\<eta>1) (\\<I>_real ?\\<eta>1)\n   (\\<I>_ideal ?\\<eta>1) (\\<I>_common ?\\<eta>1)\n   (advantage\n     (absorb (\\<A> ?\\<eta>1)\n       (obsf_converter (1\\<^sub>C |\\<^sub>= conv ?\\<eta>1)))\n     (obsf_resource\n       (sim ?\\<eta>1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource ?\\<eta>1))\n     (obsf_resource (real_resource ?\\<eta>1)))\n  constructive_security_sim_obsf (real_resource ?\\<eta>1)\n   (ideal_resource ?\\<eta>1) (sim ?\\<eta>1) (\\<I>_real ?\\<eta>1)\n   (\\<I>_common ?\\<eta>1)\n   (absorb (\\<A> ?\\<eta>1)\n     (obsf_converter (1\\<^sub>C |\\<^sub>= conv ?\\<eta>1)))\n   (advantage\n     (absorb (\\<A> ?\\<eta>1)\n       (obsf_converter (1\\<^sub>C |\\<^sub>= conv ?\\<eta>1)))\n     (obsf_resource\n       (sim ?\\<eta>1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource ?\\<eta>1))\n     (obsf_resource (real_resource ?\\<eta>1)))\n\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> real_resource \\<eta>)\n     (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> ideal_resource \\<eta>)\n     (sim \\<eta>) (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>)\n     (\\<I>_common' \\<eta>) (\\<A> \\<eta>)\n     (advantage\n       (absorb (\\<A> \\<eta>)\n         (obsf_converter (1\\<^sub>C |\\<^sub>= conv \\<eta>)))\n       (obsf_resource\n         (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n       (obsf_resource (real_resource \\<eta>)))", "by(rule constructive_security_obsf_lifting_usr)(rule WT_intro pfinite_intro)+"], ["proof (state)\nthis:\n  constructive_security_obsf\n   (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> real_resource \\<eta>)\n   (1\\<^sub>C |\\<^sub>= conv \\<eta> \\<rhd> ideal_resource \\<eta>)\n   (sim \\<eta>) (\\<I>_real \\<eta>) (\\<I>_ideal \\<eta>) (\\<I>_common' \\<eta>)\n   (\\<A> \\<eta>)\n   (advantage\n     (absorb (\\<A> \\<eta>)\n       (obsf_converter (1\\<^sub>C |\\<^sub>= conv \\<eta>)))\n     (obsf_resource\n       (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n     (obsf_resource (real_resource \\<eta>)))\n\ngoal (1 subgoal):\n 1. (\\<And>\\<eta>.\n        exception_\\<I>\n         (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common' \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter (1\\<^sub>C |\\<^sub>= conv \\<eta>)))\n          (obsf_resource\n            (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n          (obsf_resource (real_resource \\<eta>)))", "show \"negligible ?adv\" if [WT_intro]: \"\\<And>\\<eta>. exception_\\<I> (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common' \\<eta>) \\<turnstile>g \\<A> \\<eta> \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter (1\\<^sub>C |\\<^sub>= conv \\<eta>)))\n          (obsf_resource\n            (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n          (obsf_resource (real_resource \\<eta>)))", "by(rule adv)(rule WT_intro)+"], ["proof (state)\nthis:\n  (\\<And>\\<eta>.\n      exception_\\<I>\n       (\\<I>_real \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common' \\<eta>)\n      \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter (1\\<^sub>C |\\<^sub>= conv \\<eta>)))\n        (obsf_resource\n          (sim \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<eta>))\n        (obsf_resource (real_resource \\<eta>)))\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem constructive_security_obsf'_trivial:\n  fixes res\n  assumes [WT_intro]: \"\\<And>\\<eta>. \\<I> \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta> \\<turnstile>res res \\<eta> \\<surd>\"\n  shows \"constructive_security_obsf' res res (\\<lambda>_. 1\\<^sub>C) \\<I> \\<I> \\<I>_common \\<A>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf' res res (\\<lambda>_. 1\\<^sub>C) \\<I> \\<I>\n     \\<I>_common \\<A>", "proof(rule constructive_security_obsf'I)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf (res \\<eta>) (res \\<eta>) 1\\<^sub>C\n        (\\<I> \\<eta>) (\\<I> \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>)\n        (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I> (\\<I> \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "show \"constructive_security_obsf (res \\<eta>) (res \\<eta>) 1\\<^sub>C (\\<I> \\<eta>) (\\<I> \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) 0\" for \\<eta>"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf (res \\<eta>) (res \\<eta>) 1\\<^sub>C\n     (\\<I> \\<eta>) (\\<I> \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) 0", "using assms"], ["proof (prove)\nusing this:\n  \\<I> ?\\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common ?\\<eta> \n  \\<turnstile>res res ?\\<eta> \\<surd>\n\ngoal (1 subgoal):\n 1. constructive_security_obsf (res \\<eta>) (res \\<eta>) 1\\<^sub>C\n     (\\<I> \\<eta>) (\\<I> \\<eta>) (\\<I>_common \\<eta>) (\\<A> \\<eta>) 0", "by(rule constructive_security_obsf_trivial)"], ["proof (state)\nthis:\n  constructive_security_obsf (res ?\\<eta>) (res ?\\<eta>) 1\\<^sub>C\n   (\\<I> ?\\<eta>) (\\<I> ?\\<eta>) (\\<I>_common ?\\<eta>) (\\<A> ?\\<eta>) 0\n\ngoal (1 subgoal):\n 1. (\\<And>\\<eta>.\n        exception_\\<I> (\\<I> \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<eta>)\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible (\\<lambda>\\<eta>. 0)", "qed simp"], ["", "theorem parallel_constructive_security_obsf':\n  assumes \"constructive_security_obsf' real1 ideal1 sim1 \\<I>_real1 \\<I>_inner1 \\<I>_common1 (\\<lambda>\\<eta>. absorb (\\<A> \\<eta>) (obsf_converter (parallel_wiring \\<odot> parallel_converter 1\\<^sub>C (converter_of_resource (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\"\n    (is \"constructive_security_obsf' _ _ _ _ _ _ ?\\<A>1\")\n  assumes \"constructive_security_obsf' real2 ideal2 sim2 \\<I>_real2 \\<I>_inner2 \\<I>_common2 (\\<lambda>\\<eta>. absorb (\\<A> \\<eta>) (obsf_converter (parallel_wiring \\<odot> parallel_converter (converter_of_resource (real1 \\<eta>)) 1\\<^sub>C)))\"\n    (is \"constructive_security_obsf' _ _ _ _ _ _ ?\\<A>2\")\n  shows \"constructive_security_obsf' (\\<lambda>\\<eta>. parallel_wiring \\<rhd> real1 \\<eta> \\<parallel> real2 \\<eta>) (\\<lambda>\\<eta>. parallel_wiring \\<rhd> ideal1 \\<eta> \\<parallel> ideal2 \\<eta>) (\\<lambda>\\<eta>. sim1 \\<eta> |\\<^sub>= sim2 \\<eta>) \n    (\\<lambda>\\<eta>. \\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>) (\\<lambda>\\<eta>. \\<I>_inner1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<eta>) (\\<lambda>\\<eta>. \\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>) \\<A>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf'\n     (\\<lambda>\\<eta>.\n         parallel_wiring \\<rhd> real1 \\<eta> \\<parallel> real2 \\<eta>)\n     (\\<lambda>\\<eta>.\n         parallel_wiring \\<rhd> ideal1 \\<eta> \\<parallel> ideal2 \\<eta>)\n     (\\<lambda>\\<eta>. sim1 \\<eta> |\\<^sub>= sim2 \\<eta>)\n     (\\<lambda>\\<eta>.\n         \\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>)\n     (\\<lambda>\\<eta>.\n         \\<I>_inner1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<eta>)\n     (\\<lambda>\\<eta>.\n         \\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>)\n     \\<A>", "proof(rule constructive_security_obsf'I)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf\n        (parallel_wiring \\<rhd> real1 \\<eta> \\<parallel> real2 \\<eta>)\n        (parallel_wiring \\<rhd> ideal1 \\<eta> \\<parallel> ideal2 \\<eta>)\n        (sim1 \\<eta> |\\<^sub>= sim2 \\<eta>)\n        (\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>)\n        (\\<I>_inner1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<eta>)\n        (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>)\n        (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         ((\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I>\n           \\<I>_real2 \\<eta>) \\<oplus>\\<^sub>\\<I>\n          (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>))\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "interpret sec1: constructive_security_obsf' real1 ideal1 sim1 \\<I>_real1 \\<I>_inner1 \\<I>_common1 ?\\<A>1"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf' real1 ideal1 sim1 \\<I>_real1 \\<I>_inner1\n     \\<I>_common1\n     (\\<lambda>\\<eta>.\n         absorb (\\<A> \\<eta>)\n          (obsf_converter\n            (parallel_wiring \\<odot>\n             (1\\<^sub>C |\\<^sub>\\<propto>\n              converter_of_resource\n               (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))", "by fact"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf\n        (parallel_wiring \\<rhd> real1 \\<eta> \\<parallel> real2 \\<eta>)\n        (parallel_wiring \\<rhd> ideal1 \\<eta> \\<parallel> ideal2 \\<eta>)\n        (sim1 \\<eta> |\\<^sub>= sim2 \\<eta>)\n        (\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>)\n        (\\<I>_inner1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<eta>)\n        (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>)\n        (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         ((\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I>\n           \\<I>_real2 \\<eta>) \\<oplus>\\<^sub>\\<I>\n          (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>))\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "interpret sec2: constructive_security_obsf' real2 ideal2 sim2 \\<I>_real2 \\<I>_inner2 \\<I>_common2 ?\\<A>2"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf' real2 ideal2 sim2 \\<I>_real2 \\<I>_inner2\n     \\<I>_common2\n     (\\<lambda>\\<eta>.\n         absorb (\\<A> \\<eta>)\n          (obsf_converter\n            (parallel_wiring \\<odot>\n             (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n              1\\<^sub>C))))", "by fact"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf\n        (parallel_wiring \\<rhd> real1 \\<eta> \\<parallel> real2 \\<eta>)\n        (parallel_wiring \\<rhd> ideal1 \\<eta> \\<parallel> ideal2 \\<eta>)\n        (sim1 \\<eta> |\\<^sub>= sim2 \\<eta>)\n        (\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>)\n        (\\<I>_inner1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<eta>)\n        (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>)\n        (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         ((\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I>\n           \\<I>_real2 \\<eta>) \\<oplus>\\<^sub>\\<I>\n          (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>))\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "let ?adv1 = \"\\<lambda>\\<eta>. advantage (?\\<A>1 \\<eta>) (obsf_resource (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>)) (obsf_resource (real1 \\<eta>))\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf\n        (parallel_wiring \\<rhd> real1 \\<eta> \\<parallel> real2 \\<eta>)\n        (parallel_wiring \\<rhd> ideal1 \\<eta> \\<parallel> ideal2 \\<eta>)\n        (sim1 \\<eta> |\\<^sub>= sim2 \\<eta>)\n        (\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>)\n        (\\<I>_inner1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<eta>)\n        (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>)\n        (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         ((\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I>\n           \\<I>_real2 \\<eta>) \\<oplus>\\<^sub>\\<I>\n          (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>))\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "let ?adv2 = \"\\<lambda>\\<eta>. advantage (?\\<A>2 \\<eta>) (obsf_resource (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)) (obsf_resource (real2 \\<eta>))\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf\n        (parallel_wiring \\<rhd> real1 \\<eta> \\<parallel> real2 \\<eta>)\n        (parallel_wiring \\<rhd> ideal1 \\<eta> \\<parallel> ideal2 \\<eta>)\n        (sim1 \\<eta> |\\<^sub>= sim2 \\<eta>)\n        (\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>)\n        (\\<I>_inner1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<eta>)\n        (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>)\n        (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         ((\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I>\n           \\<I>_real2 \\<eta>) \\<oplus>\\<^sub>\\<I>\n          (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>))\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "let ?adv = \"\\<lambda>\\<eta>. ?adv1 \\<eta> + ?adv2 \\<eta>\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<eta>.\n       constructive_security_obsf\n        (parallel_wiring \\<rhd> real1 \\<eta> \\<parallel> real2 \\<eta>)\n        (parallel_wiring \\<rhd> ideal1 \\<eta> \\<parallel> ideal2 \\<eta>)\n        (sim1 \\<eta> |\\<^sub>= sim2 \\<eta>)\n        (\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>)\n        (\\<I>_inner1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<eta>)\n        (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>)\n        (\\<A> \\<eta>) (?adv \\<eta>)\n 2. (\\<And>\\<eta>.\n        exception_\\<I>\n         ((\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I>\n           \\<I>_real2 \\<eta>) \\<oplus>\\<^sub>\\<I>\n          (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>))\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible ?adv", "show \"constructive_security_obsf (parallel_wiring \\<rhd> real1 \\<eta> \\<parallel> real2 \\<eta>) (parallel_wiring \\<rhd> ideal1 \\<eta> \\<parallel> ideal2 \\<eta>)\n     (sim1 \\<eta> |\\<^sub>= sim2 \\<eta>) (\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>) (\\<I>_inner1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<eta>) (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>) (\\<A> \\<eta>)\n     (?adv \\<eta>)\" for \\<eta>"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (parallel_wiring \\<rhd> real1 \\<eta> \\<parallel> real2 \\<eta>)\n     (parallel_wiring \\<rhd> ideal1 \\<eta> \\<parallel> ideal2 \\<eta>)\n     (sim1 \\<eta> |\\<^sub>= sim2 \\<eta>)\n     (\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>)\n     (\\<I>_inner1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<eta>)\n     (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>)\n     (\\<A> \\<eta>)\n     (advantage\n       (absorb (\\<A> \\<eta>)\n         (obsf_converter\n           (parallel_wiring \\<odot>\n            (1\\<^sub>C |\\<^sub>\\<propto>\n             converter_of_resource\n              (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n       (obsf_resource\n         (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n       (obsf_resource (real1 \\<eta>)) +\n      advantage\n       (absorb (\\<A> \\<eta>)\n         (obsf_converter\n           (parallel_wiring \\<odot>\n            (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n             1\\<^sub>C))))\n       (obsf_resource\n         (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n       (obsf_resource (real2 \\<eta>)))", "using sec1.constructive_security_obsf'D sec2.constructive_security_obsf'D"], ["proof (prove)\nusing this:\n  constructive_security_obsf (real1 ?\\<eta>) (ideal1 ?\\<eta>) (sim1 ?\\<eta>)\n   (\\<I>_real1 ?\\<eta>) (\\<I>_inner1 ?\\<eta>) (\\<I>_common1 ?\\<eta>)\n   (absorb (\\<A> ?\\<eta>)\n     (obsf_converter\n       (parallel_wiring \\<odot>\n        (1\\<^sub>C |\\<^sub>\\<propto>\n         converter_of_resource\n          (sim2 ?\\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 ?\\<eta>)))))\n   (advantage\n     (absorb (\\<A> ?\\<eta>)\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 ?\\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 ?\\<eta>)))))\n     (obsf_resource\n       (sim1 ?\\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 ?\\<eta>))\n     (obsf_resource (real1 ?\\<eta>)))\n  constructive_security_obsf (real2 ?\\<eta>) (ideal2 ?\\<eta>) (sim2 ?\\<eta>)\n   (\\<I>_real2 ?\\<eta>) (\\<I>_inner2 ?\\<eta>) (\\<I>_common2 ?\\<eta>)\n   (absorb (\\<A> ?\\<eta>)\n     (obsf_converter\n       (parallel_wiring \\<odot>\n        (converter_of_resource (real1 ?\\<eta>) |\\<^sub>\\<propto>\n         1\\<^sub>C))))\n   (advantage\n     (absorb (\\<A> ?\\<eta>)\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (converter_of_resource (real1 ?\\<eta>) |\\<^sub>\\<propto>\n           1\\<^sub>C))))\n     (obsf_resource\n       (sim2 ?\\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 ?\\<eta>))\n     (obsf_resource (real2 ?\\<eta>)))\n\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (parallel_wiring \\<rhd> real1 \\<eta> \\<parallel> real2 \\<eta>)\n     (parallel_wiring \\<rhd> ideal1 \\<eta> \\<parallel> ideal2 \\<eta>)\n     (sim1 \\<eta> |\\<^sub>= sim2 \\<eta>)\n     (\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>)\n     (\\<I>_inner1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<eta>)\n     (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>)\n     (\\<A> \\<eta>)\n     (advantage\n       (absorb (\\<A> \\<eta>)\n         (obsf_converter\n           (parallel_wiring \\<odot>\n            (1\\<^sub>C |\\<^sub>\\<propto>\n             converter_of_resource\n              (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n       (obsf_resource\n         (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n       (obsf_resource (real1 \\<eta>)) +\n      advantage\n       (absorb (\\<A> \\<eta>)\n         (obsf_converter\n           (parallel_wiring \\<odot>\n            (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n             1\\<^sub>C))))\n       (obsf_resource\n         (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n       (obsf_resource (real2 \\<eta>)))", "by(rule parallel_constructive_security_obsf)"], ["proof (state)\nthis:\n  constructive_security_obsf\n   (parallel_wiring \\<rhd> real1 ?\\<eta> \\<parallel> real2 ?\\<eta>)\n   (parallel_wiring \\<rhd> ideal1 ?\\<eta> \\<parallel> ideal2 ?\\<eta>)\n   (sim1 ?\\<eta> |\\<^sub>= sim2 ?\\<eta>)\n   (\\<I>_real1 ?\\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 ?\\<eta>)\n   (\\<I>_inner1 ?\\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_inner2 ?\\<eta>)\n   (\\<I>_common1 ?\\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 ?\\<eta>)\n   (\\<A> ?\\<eta>)\n   (advantage\n     (absorb (\\<A> ?\\<eta>)\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 ?\\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 ?\\<eta>)))))\n     (obsf_resource\n       (sim1 ?\\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 ?\\<eta>))\n     (obsf_resource (real1 ?\\<eta>)) +\n    advantage\n     (absorb (\\<A> ?\\<eta>)\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (converter_of_resource (real1 ?\\<eta>) |\\<^sub>\\<propto>\n           1\\<^sub>C))))\n     (obsf_resource\n       (sim2 ?\\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 ?\\<eta>))\n     (obsf_resource (real2 ?\\<eta>)))\n\ngoal (1 subgoal):\n 1. (\\<And>\\<eta>.\n        exception_\\<I>\n         ((\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I>\n           \\<I>_real2 \\<eta>) \\<oplus>\\<^sub>\\<I>\n          (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>))\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (1\\<^sub>C |\\<^sub>\\<propto>\n                converter_of_resource\n                 (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n          (obsf_resource\n            (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n          (obsf_resource (real1 \\<eta>)) +\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n                1\\<^sub>C))))\n          (obsf_resource\n            (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n          (obsf_resource (real2 \\<eta>)))", "assume [WT_intro]: \"exception_\\<I> ((\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<eta>) \\<oplus>\\<^sub>\\<I> (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>)) \\<turnstile>g \\<A> \\<eta> \\<surd>\" for \\<eta>"], ["proof (state)\nthis:\n  exception_\\<I>\n   ((\\<I>_real1 ?\\<eta> \\<oplus>\\<^sub>\\<I>\n     \\<I>_real2 ?\\<eta>) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 ?\\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 ?\\<eta>))\n  \\<turnstile>g \\<A> ?\\<eta> \\<surd>\n\ngoal (1 subgoal):\n 1. (\\<And>\\<eta>.\n        exception_\\<I>\n         ((\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I>\n           \\<I>_real2 \\<eta>) \\<oplus>\\<^sub>\\<I>\n          (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>))\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (1\\<^sub>C |\\<^sub>\\<propto>\n                converter_of_resource\n                 (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n          (obsf_resource\n            (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n          (obsf_resource (real1 \\<eta>)) +\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n                1\\<^sub>C))))\n          (obsf_resource\n            (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n          (obsf_resource (real2 \\<eta>)))", "have \"negligible ?adv1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (1\\<^sub>C |\\<^sub>\\<propto>\n                converter_of_resource\n                 (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n          (obsf_resource\n            (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n          (obsf_resource (real1 \\<eta>)))", "by(rule sec1.adv)(rule WT_intro)+"], ["proof (state)\nthis:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter\n            (parallel_wiring \\<odot>\n             (1\\<^sub>C |\\<^sub>\\<propto>\n              converter_of_resource\n               (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n        (obsf_resource\n          (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n        (obsf_resource (real1 \\<eta>)))\n\ngoal (1 subgoal):\n 1. (\\<And>\\<eta>.\n        exception_\\<I>\n         ((\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I>\n           \\<I>_real2 \\<eta>) \\<oplus>\\<^sub>\\<I>\n          (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>))\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (1\\<^sub>C |\\<^sub>\\<propto>\n                converter_of_resource\n                 (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n          (obsf_resource\n            (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n          (obsf_resource (real1 \\<eta>)) +\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n                1\\<^sub>C))))\n          (obsf_resource\n            (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n          (obsf_resource (real2 \\<eta>)))", "also"], ["proof (state)\nthis:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter\n            (parallel_wiring \\<odot>\n             (1\\<^sub>C |\\<^sub>\\<propto>\n              converter_of_resource\n               (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n        (obsf_resource\n          (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n        (obsf_resource (real1 \\<eta>)))\n\ngoal (1 subgoal):\n 1. (\\<And>\\<eta>.\n        exception_\\<I>\n         ((\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I>\n           \\<I>_real2 \\<eta>) \\<oplus>\\<^sub>\\<I>\n          (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>))\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (1\\<^sub>C |\\<^sub>\\<propto>\n                converter_of_resource\n                 (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n          (obsf_resource\n            (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n          (obsf_resource (real1 \\<eta>)) +\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n                1\\<^sub>C))))\n          (obsf_resource\n            (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n          (obsf_resource (real2 \\<eta>)))", "have \"negligible ?adv2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n                1\\<^sub>C))))\n          (obsf_resource\n            (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n          (obsf_resource (real2 \\<eta>)))", "by(rule sec2.adv)(rule WT_intro)+"], ["proof (state)\nthis:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter\n            (parallel_wiring \\<odot>\n             (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n              1\\<^sub>C))))\n        (obsf_resource\n          (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n        (obsf_resource (real2 \\<eta>)))\n\ngoal (1 subgoal):\n 1. (\\<And>\\<eta>.\n        exception_\\<I>\n         ((\\<I>_real1 \\<eta> \\<oplus>\\<^sub>\\<I>\n           \\<I>_real2 \\<eta>) \\<oplus>\\<^sub>\\<I>\n          (\\<I>_common1 \\<eta> \\<oplus>\\<^sub>\\<I> \\<I>_common2 \\<eta>))\n        \\<turnstile>g \\<A> \\<eta> \\<surd>) \\<Longrightarrow>\n    Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (1\\<^sub>C |\\<^sub>\\<propto>\n                converter_of_resource\n                 (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n          (obsf_resource\n            (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n          (obsf_resource (real1 \\<eta>)) +\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n                1\\<^sub>C))))\n          (obsf_resource\n            (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n          (obsf_resource (real2 \\<eta>)))", "finally (negligible_plus)"], ["proof (chain)\npicking this:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter\n            (parallel_wiring \\<odot>\n             (1\\<^sub>C |\\<^sub>\\<propto>\n              converter_of_resource\n               (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n        (obsf_resource\n          (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n        (obsf_resource (real1 \\<eta>)) +\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter\n            (parallel_wiring \\<odot>\n             (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n              1\\<^sub>C))))\n        (obsf_resource\n          (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n        (obsf_resource (real2 \\<eta>)))", "show \"negligible ?adv\""], ["proof (prove)\nusing this:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter\n            (parallel_wiring \\<odot>\n             (1\\<^sub>C |\\<^sub>\\<propto>\n              converter_of_resource\n               (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n        (obsf_resource\n          (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n        (obsf_resource (real1 \\<eta>)) +\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter\n            (parallel_wiring \\<odot>\n             (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n              1\\<^sub>C))))\n        (obsf_resource\n          (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n        (obsf_resource (real2 \\<eta>)))\n\ngoal (1 subgoal):\n 1. Negligible.negligible\n     (\\<lambda>\\<eta>.\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (1\\<^sub>C |\\<^sub>\\<propto>\n                converter_of_resource\n                 (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n          (obsf_resource\n            (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n          (obsf_resource (real1 \\<eta>)) +\n         advantage\n          (absorb (\\<A> \\<eta>)\n            (obsf_converter\n              (parallel_wiring \\<odot>\n               (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n                1\\<^sub>C))))\n          (obsf_resource\n            (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n          (obsf_resource (real2 \\<eta>)))", "."], ["proof (state)\nthis:\n  Negligible.negligible\n   (\\<lambda>\\<eta>.\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter\n            (parallel_wiring \\<odot>\n             (1\\<^sub>C |\\<^sub>\\<propto>\n              converter_of_resource\n               (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>)))))\n        (obsf_resource\n          (sim1 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<eta>))\n        (obsf_resource (real1 \\<eta>)) +\n       advantage\n        (absorb (\\<A> \\<eta>)\n          (obsf_converter\n            (parallel_wiring \\<odot>\n             (converter_of_resource (real1 \\<eta>) |\\<^sub>\\<propto>\n              1\\<^sub>C))))\n        (obsf_resource\n          (sim2 \\<eta> |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<eta>))\n        (obsf_resource (real2 \\<eta>)))\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}