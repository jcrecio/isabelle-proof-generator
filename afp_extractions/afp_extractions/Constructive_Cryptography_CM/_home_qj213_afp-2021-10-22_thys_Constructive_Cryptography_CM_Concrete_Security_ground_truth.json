{"file_name": "/home/qj213/afp-2021-10-22/thys/Constructive_Cryptography_CM/Concrete_Security.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Constructive_Cryptography_CM", "problem_names": ["lemma constructive_security_aux_obsf: \"constructive_security_aux_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common adv\"", "lemma constructive_security_sim_obsf: \"constructive_security_sim_obsf real_resource ideal_resource sim \\<I>_real \\<I>_common \\<A> adv\"", "lemma constructive_security_obsf_refl:\n  \"constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common \\<A>\n    (advantage \\<A> (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) (obsf_resource (real_resource)))\"", "lemma constructive_security_obsf_absorb_cong:\n  assumes sec: \"constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common (absorb \\<A> cnv) adv\"\n    and [WT_intro]: \"exception_\\<I> \\<I>, exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \\<turnstile>\\<^sub>C cnv \\<surd>\" \"exception_\\<I> \\<I>, exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \\<turnstile>\\<^sub>C cnv' \\<surd>\" \"exception_\\<I> \\<I> \\<turnstile>g \\<A> \\<surd>\"\n    and cong: \"exception_\\<I> \\<I>, exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \\<turnstile>\\<^sub>C cnv \\<sim> cnv'\"\n  shows \"constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common (absorb \\<A> cnv') adv\"", "lemma constructive_security_obsf_sim_cong:\n  assumes sec: \"constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common \\<A> adv\"\n    and cong: \"\\<I>_real, \\<I>_ideal \\<turnstile>\\<^sub>C sim \\<sim> sim'\"\n    and pfinite [pfinite_intro]: \"pfinite_converter \\<I>_real \\<I>_ideal sim'\" (* This could probably be derived from cong and sec.pfinite_sim *)\n  shows \"constructive_security_obsf real_resource ideal_resource sim' \\<I>_real \\<I>_ideal \\<I>_common \\<A> adv\"", "lemma constructive_security_obsfI_core_rest [locale_witness]:\n  assumes \"constructive_security_aux_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest) adv\"\n    and adv: \"\\<lbrakk> exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest)) \\<turnstile>g \\<A> \\<surd> \\<rbrakk>\n      \\<Longrightarrow> advantage \\<A> (obsf_resource (sim |\\<^sub>= (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<rhd> ideal_resource)) (obsf_resource (real_resource)) \\<le> adv\"\n  shows \"constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest) \\<A> adv\"", "theorem constructive_security_obsf_composability:\n  fixes real\n  assumes \"constructive_security_obsf middle ideal sim_inner \\<I>_middle \\<I>_inner \\<I>_common (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C))) adv1\"\n  assumes \"constructive_security_obsf real middle sim_outer \\<I>_real \\<I>_middle \\<I>_common \\<A> adv2\"\n  shows \"constructive_security_obsf real ideal (sim_outer \\<odot> sim_inner) \\<I>_real \\<I>_inner \\<I>_common \\<A> (adv1 + adv2)\"", "theorem constructive_security_obsf_lifting:\n  assumes sec: \"constructive_security_aux_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common adv\"\n    and sec2: \"exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>g \\<A> \\<surd> \n    \\<Longrightarrow> constructive_security_sim_obsf real_resource ideal_resource sim \\<I>_real \\<I>_common (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr))) adv\"\n    (is \"_ \\<Longrightarrow> constructive_security_sim_obsf _ _ _ _ _ ?\\<A> _\")\n  assumes WT_usr [WT_intro]: \"\\<I>_common', \\<I>_common \\<turnstile>\\<^sub>C w_usr \\<surd>\"\n    and pfinite [pfinite_intro]: \"pfinite_converter \\<I>_common' \\<I>_common w_usr\"\n    and WT_adv_real [WT_intro]: \"\\<I>_real', \\<I>_real \\<turnstile>\\<^sub>C w_adv_real \\<surd>\"\n    and WT_w_adv_ideal [WT_intro]: \"\\<I>_ideal', \\<I>_ideal \\<turnstile>\\<^sub>C w_adv_ideal \\<surd>\"\n    and WT_adv_ideal_inv [WT_intro]: \"\\<I>_ideal, \\<I>_ideal' \\<turnstile>\\<^sub>C w_adv_ideal_inv \\<surd>\"\n    and ideal_inverse: \"\\<I>_ideal, \\<I>_ideal \\<turnstile>\\<^sub>C w_adv_ideal_inv \\<odot> w_adv_ideal \\<sim> 1\\<^sub>C\"\n    and pfinite_real [pfinite_intro]: \"pfinite_converter \\<I>_real' \\<I>_real w_adv_real\"\n    and pfinite_ideal [pfinite_intro]: \"pfinite_converter \\<I>_ideal \\<I>_ideal' w_adv_ideal_inv\"\n  shows \"constructive_security_obsf (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource) (w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource) (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<I>_real' \\<I>_ideal' \\<I>_common' \\<A> adv\"\n    (is \"constructive_security_obsf ?real ?ideal ?sim ?\\<I>_real ?\\<I>_ideal _ _ _\")", "theorem constructive_security_obsf_lifting_usr:\n  assumes sec: \"constructive_security_aux_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common adv\"\n    and sec2: \"exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>g \\<A> \\<surd> \n    \\<Longrightarrow> constructive_security_sim_obsf real_resource ideal_resource sim \\<I>_real \\<I>_common (absorb \\<A> (obsf_converter (1\\<^sub>C |\\<^sub>= conv))) adv\"\n    and WT_conv [WT_intro]: \"\\<I>_common', \\<I>_common \\<turnstile>\\<^sub>C conv \\<surd>\"\n    and pfinite [pfinite_intro]: \"pfinite_converter \\<I>_common' \\<I>_common conv\"\n  shows \"constructive_security_obsf (1\\<^sub>C |\\<^sub>= conv \\<rhd> real_resource) (1\\<^sub>C |\\<^sub>= conv \\<rhd> ideal_resource) sim \\<I>_real \\<I>_ideal \\<I>_common' \\<A> adv\"", "theorem constructive_security_obsf_lifting2:\n  assumes sec: \"constructive_security_aux_obsf real_resource ideal_resource sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) \\<I>_common adv\"\n    and sec2: \"exception_\\<I> ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>g \\<A> \\<surd> \n    \\<Longrightarrow> constructive_security_sim_obsf real_resource ideal_resource sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<I>_common (absorb \\<A> (obsf_converter ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv))) adv\"\n  assumes WT_conv [WT_intro]: \"\\<I>_common', \\<I>_common \\<turnstile>\\<^sub>C conv \\<surd>\"\n    and pfinite [pfinite_intro]: \"pfinite_converter \\<I>_common' \\<I>_common conv\"\n  shows \"constructive_security_obsf ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> real_resource) ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> ideal_resource) sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) \\<I>_common' \\<A> adv\"\n    (is \"constructive_security_obsf ?real ?ideal _ ?\\<I>_real ?\\<I>_ideal _ _ _\")", "theorem constructive_security_obsf_trivial:\n  fixes res\n  assumes [WT_intro]: \"\\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res res \\<surd>\"\n  shows \"constructive_security_obsf res res 1\\<^sub>C \\<I> \\<I> \\<I>_common \\<A> 0\"", "lemma parallel_constructive_security_aux_obsf [locale_witness]:\n  assumes \"constructive_security_aux_obsf real1 ideal1 sim1 \\<I>_real1 \\<I>_inner1 \\<I>_common1 adv1\"\n  assumes \"constructive_security_aux_obsf real2 ideal2 sim2 \\<I>_real2 \\<I>_inner2 \\<I>_common2 adv2\"\n  shows \"constructive_security_aux_obsf (parallel_wiring \\<rhd> real1 \\<parallel> real2) (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2) (sim1 |\\<^sub>= sim2) \n    (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)\n    (adv1 + adv2)\"", "theorem parallel_constructive_security_obsf:\n  assumes \"constructive_security_obsf real1 ideal1 sim1 \\<I>_real1 \\<I>_inner1 \\<I>_common1 (absorb \\<A> (obsf_converter (parallel_wiring \\<odot> parallel_converter 1\\<^sub>C (converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))))) adv1\"\n    (is \"constructive_security_obsf _ _ _ _ _ _ ?\\<A>1 _\")\n  assumes \"constructive_security_obsf real2 ideal2 sim2 \\<I>_real2 \\<I>_inner2 \\<I>_common2 (absorb \\<A> (obsf_converter (parallel_wiring \\<odot> parallel_converter (converter_of_resource real1) 1\\<^sub>C))) adv2\"\n    (is \"constructive_security_obsf _ _ _ _ _ _ ?\\<A>2 _\")\n  shows \"constructive_security_obsf (parallel_wiring \\<rhd> real1 \\<parallel> real2) (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2) (sim1 |\\<^sub>= sim2) \n    (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)\n    \\<A> (adv1 + adv2)\"", "theorem parallel_constructive_security_obsf_fuse:\n  assumes 1: \"constructive_security_obsf real1 ideal1 sim1 (\\<I>_real1_core \\<oplus>\\<^sub>\\<I> \\<I>_real1_rest) (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal1_rest) (\\<I>_common1_core \\<oplus>\\<^sub>\\<I> \\<I>_common1_rest) (absorb \\<A> (obsf_converter (fused_wiring \\<odot> parallel_converter 1\\<^sub>C (converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))))) adv1\"\n    (is \"constructive_security_obsf _ _ _ ?\\<I>_real1 ?\\<I>_ideal1 ?\\<I>_common1 ?\\<A>1 _\")\n  assumes 2: \"constructive_security_obsf real2 ideal2 sim2 (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest) (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest) (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest) (absorb \\<A> (obsf_converter (fused_wiring \\<odot> parallel_converter (converter_of_resource real1) 1\\<^sub>C))) adv2\"\n    (is \"constructive_security_obsf _ _ _ ?\\<I>_real2 ?\\<I>_ideal2 ?\\<I>_common2 ?\\<A>2 _\")\n  shows \"constructive_security_obsf (fused_wiring \\<rhd> real1 \\<parallel> real2) (fused_wiring \\<rhd> ideal1 \\<parallel> ideal2) \n    (parallel_wiring \\<odot> (sim1 |\\<^sub>= sim2) \\<odot> parallel_wiring)\n    ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_core) \\<oplus>\\<^sub>\\<I> (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)) \n    ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I> (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n    ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_core) \\<oplus>\\<^sub>\\<I> (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n    \\<A> (adv1 + adv2)\""], "translations": [["", "lemma constructive_security_aux_obsf: \"constructive_security_aux_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common adv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_aux_obsf real_resource ideal_resource sim\n     \\<I>_real \\<I>_ideal \\<I>_common adv", ".."], ["", "lemma constructive_security_sim_obsf: \"constructive_security_sim_obsf real_resource ideal_resource sim \\<I>_real \\<I>_common \\<A> adv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_sim_obsf real_resource ideal_resource sim\n     \\<I>_real \\<I>_common \\<A> adv", ".."], ["", "end"], ["", "context constructive_security_aux_obsf begin"], ["", "lemma constructive_security_obsf_refl:\n  \"constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common \\<A>\n    (advantage \\<A> (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) (obsf_resource (real_resource)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common \\<A>\n     (advantage \\<A>\n       (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n       (obsf_resource real_resource))", "by unfold_locales(simp_all add: advantage_def WT_intro pfinite_intro)"], ["", "end"], ["", "lemma constructive_security_obsf_absorb_cong:\n  assumes sec: \"constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common (absorb \\<A> cnv) adv\"\n    and [WT_intro]: \"exception_\\<I> \\<I>, exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \\<turnstile>\\<^sub>C cnv \\<surd>\" \"exception_\\<I> \\<I>, exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \\<turnstile>\\<^sub>C cnv' \\<surd>\" \"exception_\\<I> \\<I> \\<turnstile>g \\<A> \\<surd>\"\n    and cong: \"exception_\\<I> \\<I>, exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \\<turnstile>\\<^sub>C cnv \\<sim> cnv'\"\n  shows \"constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common (absorb \\<A> cnv') adv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common (absorb \\<A> cnv') adv", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common (absorb \\<A> cnv') adv", "interpret constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common \"absorb \\<A> cnv\" adv"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common (absorb \\<A> cnv) adv", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common (absorb \\<A> cnv') adv", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common (absorb \\<A> cnv') adv", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g absorb \\<A> cnv' \\<surd> \\<Longrightarrow>\n    advantage (absorb \\<A> cnv')\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "have \"connect_obsf \\<A> (cnv' \\<rhd> obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) = connect_obsf \\<A> (cnv \\<rhd> obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\"\n      \"connect_obsf \\<A> (cnv' \\<rhd> obsf_resource real_resource) = connect_obsf \\<A> (cnv \\<rhd> obsf_resource real_resource)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf \\<A>\n     (cnv' \\<rhd>\n      obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n    connect_obsf \\<A>\n     (cnv \\<rhd>\n      obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) &&&\n    connect_obsf \\<A> (cnv' \\<rhd> obsf_resource real_resource) =\n    connect_obsf \\<A> (cnv \\<rhd> obsf_resource real_resource)", "by(rule connect_eq_resource_cong eq_\\<I>_attach_on' WT_intro cong[symmetric] order_refl)+"], ["proof (state)\nthis:\n  connect_obsf \\<A>\n   (cnv' \\<rhd>\n    obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (cnv \\<rhd>\n    obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n  connect_obsf \\<A> (cnv' \\<rhd> obsf_resource real_resource) =\n  connect_obsf \\<A> (cnv \\<rhd> obsf_resource real_resource)\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g absorb \\<A> cnv' \\<surd> \\<Longrightarrow>\n    advantage (absorb \\<A> cnv')\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "then"], ["proof (chain)\npicking this:\n  connect_obsf \\<A>\n   (cnv' \\<rhd>\n    obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (cnv \\<rhd>\n    obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n  connect_obsf \\<A> (cnv' \\<rhd> obsf_resource real_resource) =\n  connect_obsf \\<A> (cnv \\<rhd> obsf_resource real_resource)", "have \"advantage (absorb \\<A> cnv') (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) (obsf_resource real_resource) =\n          advantage (absorb \\<A> cnv) (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) (obsf_resource real_resource)\""], ["proof (prove)\nusing this:\n  connect_obsf \\<A>\n   (cnv' \\<rhd>\n    obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (cnv \\<rhd>\n    obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n  connect_obsf \\<A> (cnv' \\<rhd> obsf_resource real_resource) =\n  connect_obsf \\<A> (cnv \\<rhd> obsf_resource real_resource)\n\ngoal (1 subgoal):\n 1. advantage (absorb \\<A> cnv')\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource) =\n    advantage (absorb \\<A> cnv)\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)", "unfolding advantage_def distinguish_attach[symmetric]"], ["proof (prove)\nusing this:\n  connect_obsf \\<A>\n   (cnv' \\<rhd>\n    obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (cnv \\<rhd>\n    obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n  connect_obsf \\<A> (cnv' \\<rhd> obsf_resource real_resource) =\n  connect_obsf \\<A> (cnv \\<rhd> obsf_resource real_resource)\n\ngoal (1 subgoal):\n 1. \\<bar>spmf\n           (connect_obsf \\<A>\n             (cnv' \\<rhd>\n              obsf_resource\n               (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)))\n           True -\n          spmf (connect_obsf \\<A> (cnv' \\<rhd> obsf_resource real_resource))\n           True\\<bar> =\n    \\<bar>spmf\n           (connect_obsf \\<A>\n             (cnv \\<rhd>\n              obsf_resource\n               (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)))\n           True -\n          spmf (connect_obsf \\<A> (cnv \\<rhd> obsf_resource real_resource))\n           True\\<bar>", "by simp"], ["proof (state)\nthis:\n  advantage (absorb \\<A> cnv')\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource) =\n  advantage (absorb \\<A> cnv)\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g absorb \\<A> cnv' \\<surd> \\<Longrightarrow>\n    advantage (absorb \\<A> cnv')\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "also"], ["proof (state)\nthis:\n  advantage (absorb \\<A> cnv')\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource) =\n  advantage (absorb \\<A> cnv)\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g absorb \\<A> cnv' \\<surd> \\<Longrightarrow>\n    advantage (absorb \\<A> cnv')\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "have \"\\<dots> \\<le> adv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. advantage (absorb \\<A> cnv)\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "by(rule adv)(rule WT_intro)+"], ["proof (state)\nthis:\n  advantage (absorb \\<A> cnv)\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n  \\<le> adv\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g absorb \\<A> cnv' \\<surd> \\<Longrightarrow>\n    advantage (absorb \\<A> cnv')\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "finally"], ["proof (chain)\npicking this:\n  advantage (absorb \\<A> cnv')\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n  \\<le> adv", "show \"advantage (absorb \\<A> cnv') (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) (obsf_resource real_resource) \\<le> adv\""], ["proof (prove)\nusing this:\n  advantage (absorb \\<A> cnv')\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n  \\<le> adv\n\ngoal (1 subgoal):\n 1. advantage (absorb \\<A> cnv')\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "."], ["proof (state)\nthis:\n  advantage (absorb \\<A> cnv')\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n  \\<le> adv\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n   \\<I>_ideal \\<I>_common (absorb \\<A> cnv') adv\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma constructive_security_obsf_sim_cong:\n  assumes sec: \"constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common \\<A> adv\"\n    and cong: \"\\<I>_real, \\<I>_ideal \\<turnstile>\\<^sub>C sim \\<sim> sim'\"\n    and pfinite [pfinite_intro]: \"pfinite_converter \\<I>_real \\<I>_ideal sim'\" (* This could probably be derived from cong and sec.pfinite_sim *)\n  shows \"constructive_security_obsf real_resource ideal_resource sim' \\<I>_real \\<I>_ideal \\<I>_common \\<A> adv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim' \\<I>_real\n     \\<I>_ideal \\<I>_common \\<A> adv", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common \n    \\<turnstile>res real_resource \\<surd>\n 2. \\<I>_ideal \\<oplus>\\<^sub>\\<I> \\<I>_common \n    \\<turnstile>res ideal_resource \\<surd>\n 3. \\<I>_real, \\<I>_ideal \\<turnstile>\\<^sub>C sim' \\<surd>\n 4. pfinite_converter \\<I>_real \\<I>_ideal sim'\n 5. 0 \\<le> adv\n 6. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "interpret constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common \\<A> adv"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common \\<A> adv", "by fact"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common \n    \\<turnstile>res real_resource \\<surd>\n 2. \\<I>_ideal \\<oplus>\\<^sub>\\<I> \\<I>_common \n    \\<turnstile>res ideal_resource \\<surd>\n 3. \\<I>_real, \\<I>_ideal \\<turnstile>\\<^sub>C sim' \\<surd>\n 4. pfinite_converter \\<I>_real \\<I>_ideal sim'\n 5. 0 \\<le> adv\n 6. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "show \"\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res real_resource \\<surd>\" \"\\<I>_ideal \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res ideal_resource \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common \n    \\<turnstile>res real_resource \\<surd> &&&\n    \\<I>_ideal \\<oplus>\\<^sub>\\<I> \\<I>_common \n    \\<turnstile>res ideal_resource \\<surd>", "by(rule WT_intro)+"], ["proof (state)\nthis:\n  \\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common \n  \\<turnstile>res real_resource \\<surd>\n  \\<I>_ideal \\<oplus>\\<^sub>\\<I> \\<I>_common \n  \\<turnstile>res ideal_resource \\<surd>\n\ngoal (4 subgoals):\n 1. \\<I>_real, \\<I>_ideal \\<turnstile>\\<^sub>C sim' \\<surd>\n 2. pfinite_converter \\<I>_real \\<I>_ideal sim'\n 3. 0 \\<le> adv\n 4. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "from cong"], ["proof (chain)\npicking this:\n  \\<I>_real,\\<I>_ideal \\<turnstile>\\<^sub>C sim \\<sim> sim'", "show [WT_intro]: \"\\<I>_real, \\<I>_ideal \\<turnstile>\\<^sub>C sim' \\<surd>\""], ["proof (prove)\nusing this:\n  \\<I>_real,\\<I>_ideal \\<turnstile>\\<^sub>C sim \\<sim> sim'\n\ngoal (1 subgoal):\n 1. \\<I>_real, \\<I>_ideal \\<turnstile>\\<^sub>C sim' \\<surd>", "by(rule eq_\\<I>_converterD_WT1)(rule WT_intro)"], ["proof (state)\nthis:\n  \\<I>_real, \\<I>_ideal \\<turnstile>\\<^sub>C sim' \\<surd>\n\ngoal (3 subgoals):\n 1. pfinite_converter \\<I>_real \\<I>_ideal sim'\n 2. 0 \\<le> adv\n 3. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "show \"pfinite_converter \\<I>_real \\<I>_ideal sim'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pfinite_converter \\<I>_real \\<I>_ideal sim'", "by fact"], ["proof (state)\nthis:\n  pfinite_converter \\<I>_real \\<I>_ideal sim'\n\ngoal (2 subgoals):\n 1. 0 \\<le> adv\n 2. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "show \"0 \\<le> adv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> adv", "by(rule adv_nonneg)"], ["proof (state)\nthis:\n  0 \\<le> adv\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "assume WT [WT_intro]: \"exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \\<turnstile>g \\<A> \\<surd>\""], ["proof (state)\nthis:\n  exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n  \\<turnstile>g \\<A> \\<surd>\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "have \"connect_obsf \\<A> (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) = connect_obsf \\<A> (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf \\<A>\n     (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n    connect_obsf \\<A>\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))", "by(rule connect_eq_resource_cong WT_intro obsf_resource_eq_\\<I>_cong eq_\\<I>_attach_on' parallel_converter2_eq_\\<I>_cong cong[symmetric] eq_\\<I>_converter_reflI | simp)+"], ["proof (state)\nthis:\n  connect_obsf \\<A>\n   (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "with adv[OF WT]"], ["proof (chain)\npicking this:\n  advantage \\<A>\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n  \\<le> adv\n  connect_obsf \\<A>\n   (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))", "show \"advantage \\<A> (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) (obsf_resource real_resource) \\<le> adv\""], ["proof (prove)\nusing this:\n  advantage \\<A>\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n  \\<le> adv\n  connect_obsf \\<A>\n   (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n\ngoal (1 subgoal):\n 1. advantage \\<A>\n     (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "unfolding advantage_def"], ["proof (prove)\nusing this:\n  \\<bar>spmf\n         (connect_obsf \\<A>\n           (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)))\n         True -\n        spmf (connect_obsf \\<A> (obsf_resource real_resource)) True\\<bar>\n  \\<le> adv\n  connect_obsf \\<A>\n   (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n\ngoal (1 subgoal):\n 1. \\<bar>spmf\n           (connect_obsf \\<A>\n             (obsf_resource\n               (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)))\n           True -\n          spmf (connect_obsf \\<A> (obsf_resource real_resource)) True\\<bar>\n    \\<le> adv", "by simp"], ["proof (state)\nthis:\n  advantage \\<A>\n   (obsf_resource (sim' |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n  \\<le> adv\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma constructive_security_obsfI_core_rest [locale_witness]:\n  assumes \"constructive_security_aux_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest) adv\"\n    and adv: \"\\<lbrakk> exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest)) \\<turnstile>g \\<A> \\<surd> \\<rbrakk>\n      \\<Longrightarrow> advantage \\<A> (obsf_resource (sim |\\<^sub>= (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<rhd> ideal_resource)) (obsf_resource (real_resource)) \\<le> adv\"\n  shows \"constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest) \\<A> adv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest) \\<A>\n     adv", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest) \\<A>\n     adv", "interpret constructive_security_aux_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \"\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_aux_obsf real_resource ideal_resource sim\n     \\<I>_real \\<I>_ideal\n     (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest) adv", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest) \\<A>\n     adv", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest) \\<A>\n     adv", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. exception_\\<I>\n     (\\<I>_real \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "assume A [WT_intro]: \"exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest)) \\<turnstile>g \\<A> \\<surd>\""], ["proof (state)\nthis:\n  exception_\\<I>\n   (\\<I>_real \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest))\n  \\<turnstile>g \\<A> \\<surd>\n\ngoal (1 subgoal):\n 1. exception_\\<I>\n     (\\<I>_real \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "hence outs: \"outs_gpv (exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest))) \\<A> \\<subseteq> outs_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest))\""], ["proof (prove)\nusing this:\n  exception_\\<I>\n   (\\<I>_real \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest))\n  \\<turnstile>g \\<A> \\<surd>\n\ngoal (1 subgoal):\n 1. outs_gpv\n     (exception_\\<I>\n       (\\<I>_real \\<oplus>\\<^sub>\\<I>\n        (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest)))\n     \\<A>\n    \\<subseteq> outs_\\<I>\n                 (\\<I>_real \\<oplus>\\<^sub>\\<I>\n                  (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest))", "unfolding WT_gpv_iff_outs_gpv"], ["proof (prove)\nusing this:\n  outs_gpv\n   (exception_\\<I>\n     (\\<I>_real \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest)))\n   \\<A>\n  \\<subseteq> outs_\\<I>\n               (exception_\\<I>\n                 (\\<I>_real \\<oplus>\\<^sub>\\<I>\n                  (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest)))\n\ngoal (1 subgoal):\n 1. outs_gpv\n     (exception_\\<I>\n       (\\<I>_real \\<oplus>\\<^sub>\\<I>\n        (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest)))\n     \\<A>\n    \\<subseteq> outs_\\<I>\n                 (\\<I>_real \\<oplus>\\<^sub>\\<I>\n                  (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest))", "by simp"], ["proof (state)\nthis:\n  outs_gpv\n   (exception_\\<I>\n     (\\<I>_real \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest)))\n   \\<A>\n  \\<subseteq> outs_\\<I>\n               (\\<I>_real \\<oplus>\\<^sub>\\<I>\n                (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest))\n\ngoal (1 subgoal):\n 1. exception_\\<I>\n     (\\<I>_real \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "have \"connect_obsf \\<A> (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) = connect_obsf \\<A> (obsf_resource (sim |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf \\<A>\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n    connect_obsf \\<A>\n     (obsf_resource\n       (sim |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))", "by(rule connect_cong_trace trace_eq_obsf_resourceI eq_resource_on_imp_trace_eq eq_\\<I>_attach_on')+\n        (rule WT_intro parallel_converter2_eq_\\<I>_cong eq_\\<I>_converter_reflI parallel_converter2_id_id[symmetric] order_refl outs)+"], ["proof (state)\nthis:\n  connect_obsf \\<A>\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (obsf_resource\n     (sim |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n\ngoal (1 subgoal):\n 1. exception_\\<I>\n     (\\<I>_real \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "then"], ["proof (chain)\npicking this:\n  connect_obsf \\<A>\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (obsf_resource\n     (sim |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))", "show \"advantage \\<A> (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) (obsf_resource real_resource) \\<le> adv\""], ["proof (prove)\nusing this:\n  connect_obsf \\<A>\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (obsf_resource\n     (sim |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n\ngoal (1 subgoal):\n 1. advantage \\<A>\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "using adv[OF A]"], ["proof (prove)\nusing this:\n  connect_obsf \\<A>\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (obsf_resource\n     (sim |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n  advantage \\<A>\n   (obsf_resource\n     (sim |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n  \\<le> adv\n\ngoal (1 subgoal):\n 1. advantage \\<A>\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "by(simp add: advantage_def)"], ["proof (state)\nthis:\n  advantage \\<A>\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n  \\<le> adv\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n   \\<I>_ideal (\\<I>_common_core \\<oplus>\\<^sub>\\<I> \\<I>_common_rest) \\<A>\n   adv\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Composition theorems\\<close>"], ["", "theorem constructive_security_obsf_composability:\n  fixes real\n  assumes \"constructive_security_obsf middle ideal sim_inner \\<I>_middle \\<I>_inner \\<I>_common (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C))) adv1\"\n  assumes \"constructive_security_obsf real middle sim_outer \\<I>_real \\<I>_middle \\<I>_common \\<A> adv2\"\n  shows \"constructive_security_obsf real ideal (sim_outer \\<odot> sim_inner) \\<I>_real \\<I>_inner \\<I>_common \\<A> (adv1 + adv2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real ideal (sim_outer \\<odot> sim_inner)\n     \\<I>_real \\<I>_inner \\<I>_common \\<A> (adv1 + adv2)", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res real \\<surd>\n 2. \\<I>_inner \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res ideal \\<surd>\n 3. \\<I>_real, \\<I>_inner \\<turnstile>\\<^sub>C\n    sim_outer \\<odot> sim_inner \\<surd>\n 4. pfinite_converter \\<I>_real \\<I>_inner (sim_outer \\<odot> sim_inner)\n 5. 0 \\<le> adv1 + adv2\n 6. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "let ?\\<A> = \"absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C))\""], ["proof (state)\ngoal (6 subgoals):\n 1. \\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res real \\<surd>\n 2. \\<I>_inner \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res ideal \\<surd>\n 3. \\<I>_real, \\<I>_inner \\<turnstile>\\<^sub>C\n    sim_outer \\<odot> sim_inner \\<surd>\n 4. pfinite_converter \\<I>_real \\<I>_inner (sim_outer \\<odot> sim_inner)\n 5. 0 \\<le> adv1 + adv2\n 6. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "interpret inner: constructive_security_obsf middle ideal sim_inner \\<I>_middle \\<I>_inner \\<I>_common ?\\<A> adv1"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf middle ideal sim_inner \\<I>_middle \\<I>_inner\n     \\<I>_common\n     (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C))) adv1", "by fact"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res real \\<surd>\n 2. \\<I>_inner \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res ideal \\<surd>\n 3. \\<I>_real, \\<I>_inner \\<turnstile>\\<^sub>C\n    sim_outer \\<odot> sim_inner \\<surd>\n 4. pfinite_converter \\<I>_real \\<I>_inner (sim_outer \\<odot> sim_inner)\n 5. 0 \\<le> adv1 + adv2\n 6. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "interpret outer: constructive_security_obsf real middle sim_outer \\<I>_real \\<I>_middle \\<I>_common \\<A> adv2"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real middle sim_outer \\<I>_real \\<I>_middle\n     \\<I>_common \\<A> adv2", "by fact"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res real \\<surd>\n 2. \\<I>_inner \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res ideal \\<surd>\n 3. \\<I>_real, \\<I>_inner \\<turnstile>\\<^sub>C\n    sim_outer \\<odot> sim_inner \\<surd>\n 4. pfinite_converter \\<I>_real \\<I>_inner (sim_outer \\<odot> sim_inner)\n 5. 0 \\<le> adv1 + adv2\n 6. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "show \"\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res real \\<surd>\"\n    and \"\\<I>_inner \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res ideal \\<surd>\"\n    and \"\\<I>_real, \\<I>_inner \\<turnstile>\\<^sub>C sim_outer \\<odot> sim_inner \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common \n    \\<turnstile>res real \\<surd> &&&\n    \\<I>_inner \\<oplus>\\<^sub>\\<I> \\<I>_common \n    \\<turnstile>res ideal \\<surd> &&&\n    \\<I>_real, \\<I>_inner \\<turnstile>\\<^sub>C\n    sim_outer \\<odot> sim_inner \\<surd>", "by(rule WT_intro)+"], ["proof (state)\nthis:\n  \\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res real \\<surd>\n  \\<I>_inner \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res ideal \\<surd>\n  \\<I>_real, \\<I>_inner \\<turnstile>\\<^sub>C\n  sim_outer \\<odot> sim_inner \\<surd>\n\ngoal (3 subgoals):\n 1. pfinite_converter \\<I>_real \\<I>_inner (sim_outer \\<odot> sim_inner)\n 2. 0 \\<le> adv1 + adv2\n 3. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "show \"pfinite_converter \\<I>_real \\<I>_inner (sim_outer \\<odot> sim_inner)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pfinite_converter \\<I>_real \\<I>_inner (sim_outer \\<odot> sim_inner)", "by(rule pfinite_intro WT_intro)+"], ["proof (state)\nthis:\n  pfinite_converter \\<I>_real \\<I>_inner (sim_outer \\<odot> sim_inner)\n\ngoal (2 subgoals):\n 1. 0 \\<le> adv1 + adv2\n 2. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "show \"0 \\<le> adv1 + adv2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> adv1 + adv2", "using inner.adv_nonneg outer.adv_nonneg"], ["proof (prove)\nusing this:\n  0 \\<le> adv1\n  0 \\<le> adv2\n\ngoal (1 subgoal):\n 1. 0 \\<le> adv1 + adv2", "by simp"], ["proof (state)\nthis:\n  0 \\<le> adv1 + adv2\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "assume WT_adv[WT_intro]: \"exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \\<turnstile>g \\<A> \\<surd>\""], ["proof (state)\nthis:\n  exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n  \\<turnstile>g \\<A> \\<surd>\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "have eq1: \"connect_obsf (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C))) (obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal)) = \n      connect_obsf \\<A> (obsf_resource (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf\n     (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C)))\n     (obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal)) =\n    connect_obsf \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))", "unfolding distinguish_attach[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf \\<A>\n     (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n      obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal)) =\n    connect_obsf \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))", "apply(rule connect_eq_resource_cong)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ?\\<I> \\<turnstile>g \\<A> \\<surd>\n 2. outs_\\<I> ?\\<I> \\<turnstile>\\<^sub>R\n    obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n    obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal) \\<sim>\n    obsf_resource\n     (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal)\n 3. ?\\<I> \n    \\<turnstile>res obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n                    obsf_resource\n                     (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal) \\<surd>", "apply(rule WT_intro)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (exception_\\<I>\n       (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)) \\<turnstile>\\<^sub>R\n    obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n    obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal) \\<sim>\n    obsf_resource\n     (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal)\n 2. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \n    \\<turnstile>res obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n                    obsf_resource\n                     (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal) \\<surd>", "apply(simp del: outs_plus_\\<I> add: parallel_converter2_comp1_out attach_compose)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \\<turnstile>\\<^sub>R\n    obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n    obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal) \\<sim>\n    obsf_resource\n     (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd>\n      sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal)\n 2. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \n    \\<turnstile>res obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n                    obsf_resource\n                     (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal) \\<surd>", "apply(rule obsf_attach)"], ["proof (prove)\ngoal (4 subgoals):\n 1. pfinite_converter (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) ?\\<I>'4\n     (sim_outer |\\<^sub>= 1\\<^sub>C)\n 2. \\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common, ?\\<I>'4 \\<turnstile>\\<^sub>C\n    sim_outer |\\<^sub>= 1\\<^sub>C \\<surd>\n 3. ?\\<I>'4 \n    \\<turnstile>res sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal \\<surd>\n 4. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \n    \\<turnstile>res obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n                    obsf_resource\n                     (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal) \\<surd>", "apply(rule pfinite_intro WT_intro)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  connect_obsf\n   (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C)))\n   (obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal)) =\n  connect_obsf \\<A>\n   (obsf_resource\n     (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "have eq2: \"connect_obsf (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C))) (obsf_resource middle) =\n      connect_obsf \\<A> (obsf_resource (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd> middle))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf\n     (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C)))\n     (obsf_resource middle) =\n    connect_obsf \\<A>\n     (obsf_resource (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd> middle))", "unfolding distinguish_attach[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf \\<A>\n     (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n      obsf_resource middle) =\n    connect_obsf \\<A>\n     (obsf_resource (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd> middle))", "apply(rule connect_eq_resource_cong)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ?\\<I> \\<turnstile>g \\<A> \\<surd>\n 2. outs_\\<I> ?\\<I> \\<turnstile>\\<^sub>R\n    obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n    obsf_resource middle \\<sim>\n    obsf_resource (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd> middle)\n 3. ?\\<I> \n    \\<turnstile>res obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n                    obsf_resource middle \\<surd>", "apply(rule WT_intro)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (exception_\\<I>\n       (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)) \\<turnstile>\\<^sub>R\n    obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n    obsf_resource middle \\<sim>\n    obsf_resource (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd> middle)\n 2. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \n    \\<turnstile>res obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n                    obsf_resource middle \\<surd>", "apply(simp del: outs_plus_\\<I> add: parallel_converter2_comp1_out attach_compose)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \\<turnstile>\\<^sub>R\n    obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n    obsf_resource middle \\<sim>\n    obsf_resource (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd> middle)\n 2. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \n    \\<turnstile>res obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n                    obsf_resource middle \\<surd>", "apply(rule obsf_attach)"], ["proof (prove)\ngoal (4 subgoals):\n 1. pfinite_converter (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) ?\\<I>'4\n     (sim_outer |\\<^sub>= 1\\<^sub>C)\n 2. \\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common, ?\\<I>'4 \\<turnstile>\\<^sub>C\n    sim_outer |\\<^sub>= 1\\<^sub>C \\<surd>\n 3. ?\\<I>'4 \\<turnstile>res middle \\<surd>\n 4. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common) \n    \\<turnstile>res obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C) \\<rhd>\n                    obsf_resource middle \\<surd>", "apply(rule pfinite_intro WT_intro)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  connect_obsf\n   (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C)))\n   (obsf_resource middle) =\n  connect_obsf \\<A>\n   (obsf_resource (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd> middle))\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "have \"advantage ?\\<A> (obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal)) (obsf_resource middle) \\<le> adv1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. advantage (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C)))\n     (obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource middle)\n    \\<le> adv1", "by(rule inner.adv)(rule WT_intro)+"], ["proof (state)\nthis:\n  advantage (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C)))\n   (obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n   (obsf_resource middle)\n  \\<le> adv1\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "moreover"], ["proof (state)\nthis:\n  advantage (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C)))\n   (obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n   (obsf_resource middle)\n  \\<le> adv1\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "have \"advantage \\<A> (obsf_resource (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd> middle)) (obsf_resource real) \\<le> adv2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. advantage \\<A>\n     (obsf_resource (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd> middle))\n     (obsf_resource real)\n    \\<le> adv2", "by(rule outer.adv)(rule WT_intro)+"], ["proof (state)\nthis:\n  advantage \\<A>\n   (obsf_resource (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd> middle))\n   (obsf_resource real)\n  \\<le> adv2\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "ultimately"], ["proof (chain)\npicking this:\n  advantage (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C)))\n   (obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n   (obsf_resource middle)\n  \\<le> adv1\n  advantage \\<A>\n   (obsf_resource (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd> middle))\n   (obsf_resource real)\n  \\<le> adv2", "show \"advantage \\<A> (obsf_resource (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal)) (obsf_resource real) \\<le> adv1 + adv2\""], ["proof (prove)\nusing this:\n  advantage (absorb \\<A> (obsf_converter (sim_outer |\\<^sub>= 1\\<^sub>C)))\n   (obsf_resource (sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n   (obsf_resource middle)\n  \\<le> adv1\n  advantage \\<A>\n   (obsf_resource (sim_outer |\\<^sub>= 1\\<^sub>C \\<rhd> middle))\n   (obsf_resource real)\n  \\<le> adv2\n\ngoal (1 subgoal):\n 1. advantage \\<A>\n     (obsf_resource\n       (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n     (obsf_resource real)\n    \\<le> adv1 + adv2", "by(auto simp add: advantage_def eq1 eq2 abs_diff_triangle_ineq2)"], ["proof (state)\nthis:\n  advantage \\<A>\n   (obsf_resource\n     (sim_outer \\<odot> sim_inner |\\<^sub>= 1\\<^sub>C \\<rhd> ideal))\n   (obsf_resource real)\n  \\<le> adv1 + adv2\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem constructive_security_obsf_lifting:\n  assumes sec: \"constructive_security_aux_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common adv\"\n    and sec2: \"exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>g \\<A> \\<surd> \n    \\<Longrightarrow> constructive_security_sim_obsf real_resource ideal_resource sim \\<I>_real \\<I>_common (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr))) adv\"\n    (is \"_ \\<Longrightarrow> constructive_security_sim_obsf _ _ _ _ _ ?\\<A> _\")\n  assumes WT_usr [WT_intro]: \"\\<I>_common', \\<I>_common \\<turnstile>\\<^sub>C w_usr \\<surd>\"\n    and pfinite [pfinite_intro]: \"pfinite_converter \\<I>_common' \\<I>_common w_usr\"\n    and WT_adv_real [WT_intro]: \"\\<I>_real', \\<I>_real \\<turnstile>\\<^sub>C w_adv_real \\<surd>\"\n    and WT_w_adv_ideal [WT_intro]: \"\\<I>_ideal', \\<I>_ideal \\<turnstile>\\<^sub>C w_adv_ideal \\<surd>\"\n    and WT_adv_ideal_inv [WT_intro]: \"\\<I>_ideal, \\<I>_ideal' \\<turnstile>\\<^sub>C w_adv_ideal_inv \\<surd>\"\n    and ideal_inverse: \"\\<I>_ideal, \\<I>_ideal \\<turnstile>\\<^sub>C w_adv_ideal_inv \\<odot> w_adv_ideal \\<sim> 1\\<^sub>C\"\n    and pfinite_real [pfinite_intro]: \"pfinite_converter \\<I>_real' \\<I>_real w_adv_real\"\n    and pfinite_ideal [pfinite_intro]: \"pfinite_converter \\<I>_ideal \\<I>_ideal' w_adv_ideal_inv\"\n  shows \"constructive_security_obsf (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource) (w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource) (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<I>_real' \\<I>_ideal' \\<I>_common' \\<A> adv\"\n    (is \"constructive_security_obsf ?real ?ideal ?sim ?\\<I>_real ?\\<I>_ideal _ _ _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource)\n     (w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource)\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<I>_real' \\<I>_ideal'\n     \\<I>_common' \\<A> adv", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common' \n    \\<turnstile>res w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource \\<surd>\n 2. \\<I>_ideal' \\<oplus>\\<^sub>\\<I> \\<I>_common' \n    \\<turnstile>res w_adv_ideal |\\<^sub>= w_usr \\<rhd>\n                    ideal_resource \\<surd>\n 3. \\<I>_real', \\<I>_ideal' \\<turnstile>\\<^sub>C\n    w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv \\<surd>\n 4. pfinite_converter \\<I>_real' \\<I>_ideal'\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv)\n 5. 0 \\<le> adv\n 6. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n    \\<le> adv", "interpret constructive_security_aux_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_aux_obsf real_resource ideal_resource sim\n     \\<I>_real \\<I>_ideal \\<I>_common adv", "by fact"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common' \n    \\<turnstile>res w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource \\<surd>\n 2. \\<I>_ideal' \\<oplus>\\<^sub>\\<I> \\<I>_common' \n    \\<turnstile>res w_adv_ideal |\\<^sub>= w_usr \\<rhd>\n                    ideal_resource \\<surd>\n 3. \\<I>_real', \\<I>_ideal' \\<turnstile>\\<^sub>C\n    w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv \\<surd>\n 4. pfinite_converter \\<I>_real' \\<I>_ideal'\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv)\n 5. 0 \\<le> adv\n 6. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n    \\<le> adv", "show \"\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common' \\<turnstile>res ?real \\<surd>\"\n    and \"\\<I>_ideal' \\<oplus>\\<^sub>\\<I> \\<I>_common' \\<turnstile>res ?ideal \\<surd>\"\n    and \"\\<I>_real', \\<I>_ideal' \\<turnstile>\\<^sub>C ?sim \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common' \n    \\<turnstile>res w_adv_real |\\<^sub>= w_usr \\<rhd>\n                    real_resource \\<surd> &&&\n    \\<I>_ideal' \\<oplus>\\<^sub>\\<I> \\<I>_common' \n    \\<turnstile>res w_adv_ideal |\\<^sub>= w_usr \\<rhd>\n                    ideal_resource \\<surd> &&&\n    \\<I>_real', \\<I>_ideal' \\<turnstile>\\<^sub>C\n    w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv \\<surd>", "by(rule WT_intro)+"], ["proof (state)\nthis:\n  \\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common' \n  \\<turnstile>res w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource \\<surd>\n  \\<I>_ideal' \\<oplus>\\<^sub>\\<I> \\<I>_common' \n  \\<turnstile>res w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource \\<surd>\n  \\<I>_real', \\<I>_ideal' \\<turnstile>\\<^sub>C\n  w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv \\<surd>\n\ngoal (3 subgoals):\n 1. pfinite_converter \\<I>_real' \\<I>_ideal'\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv)\n 2. 0 \\<le> adv\n 3. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n    \\<le> adv", "show \"pfinite_converter \\<I>_real' \\<I>_ideal' ?sim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pfinite_converter \\<I>_real' \\<I>_ideal'\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv)", "by(rule pfinite_intro WT_intro)+"], ["proof (state)\nthis:\n  pfinite_converter \\<I>_real' \\<I>_ideal'\n   (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv)\n\ngoal (2 subgoals):\n 1. 0 \\<le> adv\n 2. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n    \\<le> adv", "show \"0 \\<le> adv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> adv", "by(rule adv_nonneg)"], ["proof (state)\nthis:\n  0 \\<le> adv\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n    \\<le> adv", "assume WT_adv [WT_intro]: \"exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>g \\<A> \\<surd>\""], ["proof (state)\nthis:\n  exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n  \\<turnstile>g \\<A> \\<surd>\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n    \\<le> adv", "then"], ["proof (chain)\npicking this:\n  exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n  \\<turnstile>g \\<A> \\<surd>", "interpret constructive_security_sim_obsf real_resource ideal_resource sim \\<I>_real \\<I>_common ?\\<A> adv"], ["proof (prove)\nusing this:\n  exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n  \\<turnstile>g \\<A> \\<surd>\n\ngoal (1 subgoal):\n 1. constructive_security_sim_obsf real_resource ideal_resource sim\n     \\<I>_real \\<I>_common\n     (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr))) adv", "by(rule sec2)"], ["proof (state)\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n    \\<le> adv", "have *: \"advantage ?\\<A> (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) (obsf_resource real_resource) \\<le> adv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. advantage (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n     (obsf_resource real_resource)\n    \\<le> adv", "by(rule adv)(rule WT_intro)+"], ["proof (state)\nthis:\n  advantage (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n  \\<le> adv\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n    \\<le> adv", "have ideal: \"connect_obsf ?\\<A> (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n    connect_obsf \\<A> (obsf_resource (?sim |\\<^sub>= 1\\<^sub>C \\<rhd> ?ideal))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n     (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n    connect_obsf \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))", "unfolding distinguish_attach[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf \\<A>\n     (obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n      obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n    connect_obsf \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))", "apply(rule connect_eq_resource_cong)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ?\\<I> \\<turnstile>g \\<A> \\<surd>\n 2. outs_\\<I> ?\\<I> \\<turnstile>\\<^sub>R\n    obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n    obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<sim>\n    obsf_resource\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n      1\\<^sub>C \\<rhd>\n      w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource)\n 3. ?\\<I> \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule WT_intro)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (exception_\\<I>\n       (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')) \\<turnstile>\\<^sub>R\n    obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n    obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<sim>\n    obsf_resource\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n      1\\<^sub>C \\<rhd>\n      w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource)\n 2. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(simp del: outs_plus_\\<I>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>\\<^sub>R\n    obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n    obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<sim>\n    obsf_resource\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n      1\\<^sub>C \\<rhd>\n      w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource)\n 2. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule eq_resource_on_trans[OF obsf_attach])"], ["proof (prove)\ngoal (5 subgoals):\n 1. pfinite_converter (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') ?\\<I>'5\n     (w_adv_real |\\<^sub>= w_usr)\n 2. \\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common',\n    ?\\<I>'5 \\<turnstile>\\<^sub>C w_adv_real |\\<^sub>= w_usr \\<surd>\n 3. ?\\<I>'5 \n    \\<turnstile>res sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<surd>\n 4. outs_\\<I>\n     (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>\\<^sub>R\n    obsf_resource\n     (w_adv_real |\\<^sub>= w_usr \\<rhd>\n      sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<sim>\n    obsf_resource\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n      1\\<^sub>C \\<rhd>\n      w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource)\n 5. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule pfinite_intro WT_intro)+"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>\\<^sub>R\n    obsf_resource\n     (w_adv_real |\\<^sub>= w_usr \\<rhd>\n      sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<sim>\n    obsf_resource\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n      1\\<^sub>C \\<rhd>\n      w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource)\n 2. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule obsf_resource_eq_\\<I>_cong)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>\\<^sub>R\n    w_adv_real |\\<^sub>= w_usr \\<rhd>\n    sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource \\<sim>\n    w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n    1\\<^sub>C \\<rhd>\n    w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource\n 2. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(fold attach_compose)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>\\<^sub>R\n    (w_adv_real |\\<^sub>= w_usr) \\<odot> (sim |\\<^sub>= 1\\<^sub>C) \\<rhd>\n    ideal_resource \\<sim>\n    (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n     1\\<^sub>C) \\<odot>\n    (w_adv_ideal |\\<^sub>= w_usr) \\<rhd>\n    ideal_resource\n 2. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(unfold comp_converter_parallel2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>\\<^sub>R\n    w_adv_real \\<odot> sim |\\<^sub>= w_usr \\<odot> 1\\<^sub>C \\<rhd>\n    ideal_resource \\<sim>\n    (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<odot>\n    w_adv_ideal |\\<^sub>=\n    1\\<^sub>C \\<odot> w_usr \\<rhd>\n    ideal_resource\n 2. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule eq_\\<I>_attach_on')"], ["proof (prove)\ngoal (4 subgoals):\n 1. ?\\<I>'25 \\<turnstile>res ideal_resource \\<surd>\n 2. ?\\<I>25,?\\<I>'25 \\<turnstile>\\<^sub>C\n    w_adv_real \\<odot> sim |\\<^sub>= w_usr \\<odot> 1\\<^sub>C \\<sim>\n    (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<odot>\n    w_adv_ideal |\\<^sub>=\n    1\\<^sub>C \\<odot> w_usr\n 3. outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<subseteq> outs_\\<I> ?\\<I>25\n 4. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule WT_intro)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ?\\<I>25,\\<I>_ideal \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>\\<^sub>C\n    w_adv_real \\<odot> sim |\\<^sub>= w_usr \\<odot> 1\\<^sub>C \\<sim>\n    (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<odot>\n    w_adv_ideal |\\<^sub>=\n    1\\<^sub>C \\<odot> w_usr\n 2. outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<subseteq> outs_\\<I> ?\\<I>25\n 3. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule parallel_converter2_eq_\\<I>_cong)"], ["proof (prove)\ngoal (4 subgoals):\n 1. ?\\<I>1.29,\\<I>_ideal \\<turnstile>\\<^sub>C w_adv_real \\<odot> sim \\<sim>\n    (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<odot> w_adv_ideal\n 2. ?\\<I>2.29,\\<I>_common \\<turnstile>\\<^sub>C\n    w_usr \\<odot> 1\\<^sub>C \\<sim> 1\\<^sub>C \\<odot> w_usr\n 3. outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<subseteq> outs_\\<I> (?\\<I>1.29 \\<oplus>\\<^sub>\\<I> ?\\<I>2.29)\n 4. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(unfold comp_converter_assoc)"], ["proof (prove)\ngoal (4 subgoals):\n 1. ?\\<I>1.29,\\<I>_ideal \\<turnstile>\\<^sub>C w_adv_real \\<odot> sim \\<sim>\n    w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv \\<odot> w_adv_ideal\n 2. ?\\<I>2.29,\\<I>_common \\<turnstile>\\<^sub>C\n    w_usr \\<odot> 1\\<^sub>C \\<sim> 1\\<^sub>C \\<odot> w_usr\n 3. outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<subseteq> outs_\\<I> (?\\<I>1.29 \\<oplus>\\<^sub>\\<I> ?\\<I>2.29)\n 4. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule eq_\\<I>_comp_cong)"], ["proof (prove)\ngoal (5 subgoals):\n 1. ?\\<I>1.29,?\\<I>2.32 \\<turnstile>\\<^sub>C w_adv_real \\<sim> w_adv_real\n 2. ?\\<I>2.32,\\<I>_ideal \\<turnstile>\\<^sub>C sim \\<sim>\n    sim \\<odot> w_adv_ideal_inv \\<odot> w_adv_ideal\n 3. ?\\<I>2.29,\\<I>_common \\<turnstile>\\<^sub>C\n    w_usr \\<odot> 1\\<^sub>C \\<sim> 1\\<^sub>C \\<odot> w_usr\n 4. outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<subseteq> outs_\\<I> (?\\<I>1.29 \\<oplus>\\<^sub>\\<I> ?\\<I>2.29)\n 5. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule eq_\\<I>_converter_reflI; rule WT_intro)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<I>_real,\\<I>_ideal \\<turnstile>\\<^sub>C sim \\<sim>\n    sim \\<odot> w_adv_ideal_inv \\<odot> w_adv_ideal\n 2. ?\\<I>2.29,\\<I>_common \\<turnstile>\\<^sub>C\n    w_usr \\<odot> 1\\<^sub>C \\<sim> 1\\<^sub>C \\<odot> w_usr\n 3. outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<subseteq> outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> ?\\<I>2.29)\n 4. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule eq_\\<I>_converter_trans[rotated])"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<I>_real,\\<I>_ideal \\<turnstile>\\<^sub>C ?conv'41 \\<sim>\n    sim \\<odot> w_adv_ideal_inv \\<odot> w_adv_ideal\n 2. \\<I>_real,\\<I>_ideal \\<turnstile>\\<^sub>C sim \\<sim> ?conv'41\n 3. ?\\<I>2.29,\\<I>_common \\<turnstile>\\<^sub>C\n    w_usr \\<odot> 1\\<^sub>C \\<sim> 1\\<^sub>C \\<odot> w_usr\n 4. outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<subseteq> outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> ?\\<I>2.29)\n 5. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule eq_\\<I>_comp_cong)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<I>_real,?\\<I>2.44 \\<turnstile>\\<^sub>C ?conv1.44 \\<sim> sim\n 2. ?\\<I>2.44,\\<I>_ideal \\<turnstile>\\<^sub>C ?conv2.44 \\<sim>\n    w_adv_ideal_inv \\<odot> w_adv_ideal\n 3. \\<I>_real,\\<I>_ideal \\<turnstile>\\<^sub>C sim \\<sim>\n    ?conv1.44 \\<odot> ?conv2.44\n 4. ?\\<I>2.29,\\<I>_common \\<turnstile>\\<^sub>C\n    w_usr \\<odot> 1\\<^sub>C \\<sim> 1\\<^sub>C \\<odot> w_usr\n 5. outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<subseteq> outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> ?\\<I>2.29)\n 6. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule eq_\\<I>_converter_reflI; rule WT_intro)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<I>_ideal,\\<I>_ideal \\<turnstile>\\<^sub>C ?conv2.44 \\<sim>\n    w_adv_ideal_inv \\<odot> w_adv_ideal\n 2. \\<I>_real,\\<I>_ideal \\<turnstile>\\<^sub>C sim \\<sim>\n    sim \\<odot> ?conv2.44\n 3. ?\\<I>2.29,\\<I>_common \\<turnstile>\\<^sub>C\n    w_usr \\<odot> 1\\<^sub>C \\<sim> 1\\<^sub>C \\<odot> w_usr\n 4. outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<subseteq> outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> ?\\<I>2.29)\n 5. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule ideal_inverse[symmetric])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<I>_real,\\<I>_ideal \\<turnstile>\\<^sub>C sim \\<sim>\n    sim \\<odot> 1\\<^sub>C\n 2. ?\\<I>2.29,\\<I>_common \\<turnstile>\\<^sub>C\n    w_usr \\<odot> 1\\<^sub>C \\<sim> 1\\<^sub>C \\<odot> w_usr\n 3. outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<subseteq> outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> ?\\<I>2.29)\n 4. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(unfold comp_converter_id_right comp_converter_id_left)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<I>_real,\\<I>_ideal \\<turnstile>\\<^sub>C sim \\<sim> sim\n 2. ?\\<I>2.29,\\<I>_common \\<turnstile>\\<^sub>C w_usr \\<sim> w_usr\n 3. outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<subseteq> outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> ?\\<I>2.29)\n 4. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule eq_\\<I>_converter_reflI; rule WT_intro)+"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<subseteq> outs_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n 2. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource\n                     (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource) \\<surd>", "apply(rule WT_intro)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  connect_obsf (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)) =\n  connect_obsf \\<A>\n   (obsf_resource\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n      1\\<^sub>C \\<rhd>\n      w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n    \\<le> adv", "have real: \"connect_obsf ?\\<A> (obsf_resource real_resource) = connect_obsf \\<A> (obsf_resource ?real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n     (obsf_resource real_resource) =\n    connect_obsf \\<A>\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))", "unfolding distinguish_attach[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf \\<A>\n     (obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n      obsf_resource real_resource) =\n    connect_obsf \\<A>\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))", "apply(rule connect_eq_resource_cong)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ?\\<I> \\<turnstile>g \\<A> \\<surd>\n 2. outs_\\<I> ?\\<I> \\<turnstile>\\<^sub>R\n    obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n    obsf_resource real_resource \\<sim>\n    obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource)\n 3. ?\\<I> \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource real_resource \\<surd>", "apply(rule WT_intro)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (exception_\\<I>\n       (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')) \\<turnstile>\\<^sub>R\n    obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n    obsf_resource real_resource \\<sim>\n    obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource)\n 2. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource real_resource \\<surd>", "apply(simp del: outs_plus_\\<I>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>\\<^sub>R\n    obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n    obsf_resource real_resource \\<sim>\n    obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource)\n 2. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource real_resource \\<surd>", "apply(rule obsf_attach)"], ["proof (prove)\ngoal (4 subgoals):\n 1. pfinite_converter (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') ?\\<I>'4\n     (w_adv_real |\\<^sub>= w_usr)\n 2. \\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common',\n    ?\\<I>'4 \\<turnstile>\\<^sub>C w_adv_real |\\<^sub>= w_usr \\<surd>\n 3. ?\\<I>'4 \\<turnstile>res real_resource \\<surd>\n 4. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common') \n    \\<turnstile>res obsf_converter (w_adv_real |\\<^sub>= w_usr) \\<rhd>\n                    obsf_resource real_resource \\<surd>", "apply(rule pfinite_intro WT_intro)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  connect_obsf (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n   (obsf_resource real_resource) =\n  connect_obsf \\<A>\n   (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n\ngoal (1 subgoal):\n 1. exception_\\<I> (\\<I>_real' \\<oplus>\\<^sub>\\<I> \\<I>_common')\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n    \\<le> adv", "show \"advantage \\<A> (obsf_resource ((?sim |\\<^sub>= 1\\<^sub>C) \\<rhd> ?ideal)) (obsf_resource ?real) \\<le> adv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. advantage \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n    \\<le> adv", "using *"], ["proof (prove)\nusing this:\n  advantage (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n   (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource))\n   (obsf_resource real_resource)\n  \\<le> adv\n\ngoal (1 subgoal):\n 1. advantage \\<A>\n     (obsf_resource\n       (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n        1\\<^sub>C \\<rhd>\n        w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n     (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n    \\<le> adv", "unfolding advantage_def ideal[symmetric] real[symmetric]"], ["proof (prove)\nusing this:\n  \\<bar>spmf\n         (connect_obsf\n           (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n           (obsf_resource (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)))\n         True -\n        spmf\n         (connect_obsf\n           (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n           (obsf_resource real_resource))\n         True\\<bar>\n  \\<le> adv\n\ngoal (1 subgoal):\n 1. \\<bar>spmf\n           (connect_obsf\n             (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n             (obsf_resource\n               (sim |\\<^sub>= 1\\<^sub>C \\<rhd> ideal_resource)))\n           True -\n          spmf\n           (connect_obsf\n             (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n             (obsf_resource real_resource))\n           True\\<bar>\n    \\<le> adv", "."], ["proof (state)\nthis:\n  advantage \\<A>\n   (obsf_resource\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv |\\<^sub>=\n      1\\<^sub>C \\<rhd>\n      w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource))\n   (obsf_resource (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource))\n  \\<le> adv\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary constructive_security_obsf_lifting_:\n  assumes sec: \"constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr))) adv\"\n  assumes WT_usr [WT_intro]: \"\\<I>_common', \\<I>_common \\<turnstile>\\<^sub>C w_usr \\<surd>\"\n    and pfinite [pfinite_intro]: \"pfinite_converter \\<I>_common' \\<I>_common w_usr\"\n    and WT_adv_real [WT_intro]: \"\\<I>_real', \\<I>_real \\<turnstile>\\<^sub>C w_adv_real \\<surd>\"\n    and WT_w_adv_ideal [WT_intro]: \"\\<I>_ideal', \\<I>_ideal \\<turnstile>\\<^sub>C w_adv_ideal \\<surd>\"\n    and WT_adv_ideal_inv [WT_intro]: \"\\<I>_ideal, \\<I>_ideal' \\<turnstile>\\<^sub>C w_adv_ideal_inv \\<surd>\"\n    and ideal_inverse: \"\\<I>_ideal, \\<I>_ideal \\<turnstile>\\<^sub>C w_adv_ideal_inv \\<odot> w_adv_ideal \\<sim> 1\\<^sub>C\"\n    and pfinite_real [pfinite_intro]: \"pfinite_converter \\<I>_real' \\<I>_real w_adv_real\"\n    and pfinite_ideal [pfinite_intro]: \"pfinite_converter \\<I>_ideal \\<I>_ideal' w_adv_ideal_inv\"\n  shows \"constructive_security_obsf (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource) (w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource) (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<I>_real' \\<I>_ideal' \\<I>_common' \\<A> adv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource)\n     (w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource)\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<I>_real' \\<I>_ideal'\n     \\<I>_common' \\<A> adv", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource)\n     (w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource)\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<I>_real' \\<I>_ideal'\n     \\<I>_common' \\<A> adv", "interpret constructive_security_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common \"absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr))\" adv"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real_resource ideal_resource sim \\<I>_real\n     \\<I>_ideal \\<I>_common\n     (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr))) adv", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource)\n     (w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource)\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<I>_real' \\<I>_ideal'\n     \\<I>_common' \\<A> adv", "from constructive_security_aux_obsf constructive_security_sim_obsf assms(2-)"], ["proof (chain)\npicking this:\n  constructive_security_aux_obsf real_resource ideal_resource sim \\<I>_real\n   \\<I>_ideal \\<I>_common adv\n  constructive_security_sim_obsf real_resource ideal_resource sim \\<I>_real\n   \\<I>_common (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n   adv\n  \\<I>_common', \\<I>_common \\<turnstile>\\<^sub>C w_usr \\<surd>\n  pfinite_converter \\<I>_common' \\<I>_common w_usr\n  \\<I>_real', \\<I>_real \\<turnstile>\\<^sub>C w_adv_real \\<surd>\n  \\<I>_ideal', \\<I>_ideal \\<turnstile>\\<^sub>C w_adv_ideal \\<surd>\n  \\<I>_ideal, \\<I>_ideal' \\<turnstile>\\<^sub>C w_adv_ideal_inv \\<surd>\n  \\<I>_ideal,\\<I>_ideal \\<turnstile>\\<^sub>C\n  w_adv_ideal_inv \\<odot> w_adv_ideal \\<sim> 1\\<^sub>C\n  pfinite_converter \\<I>_real' \\<I>_real w_adv_real\n  pfinite_converter \\<I>_ideal \\<I>_ideal' w_adv_ideal_inv", "show ?thesis"], ["proof (prove)\nusing this:\n  constructive_security_aux_obsf real_resource ideal_resource sim \\<I>_real\n   \\<I>_ideal \\<I>_common adv\n  constructive_security_sim_obsf real_resource ideal_resource sim \\<I>_real\n   \\<I>_common (absorb \\<A> (obsf_converter (w_adv_real |\\<^sub>= w_usr)))\n   adv\n  \\<I>_common', \\<I>_common \\<turnstile>\\<^sub>C w_usr \\<surd>\n  pfinite_converter \\<I>_common' \\<I>_common w_usr\n  \\<I>_real', \\<I>_real \\<turnstile>\\<^sub>C w_adv_real \\<surd>\n  \\<I>_ideal', \\<I>_ideal \\<turnstile>\\<^sub>C w_adv_ideal \\<surd>\n  \\<I>_ideal, \\<I>_ideal' \\<turnstile>\\<^sub>C w_adv_ideal_inv \\<surd>\n  \\<I>_ideal,\\<I>_ideal \\<turnstile>\\<^sub>C\n  w_adv_ideal_inv \\<odot> w_adv_ideal \\<sim> 1\\<^sub>C\n  pfinite_converter \\<I>_real' \\<I>_real w_adv_real\n  pfinite_converter \\<I>_ideal \\<I>_ideal' w_adv_ideal_inv\n\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource)\n     (w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource)\n     (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<I>_real' \\<I>_ideal'\n     \\<I>_common' \\<A> adv", "by(rule constructive_security_obsf_lifting)"], ["proof (state)\nthis:\n  constructive_security_obsf\n   (w_adv_real |\\<^sub>= w_usr \\<rhd> real_resource)\n   (w_adv_ideal |\\<^sub>= w_usr \\<rhd> ideal_resource)\n   (w_adv_real \\<odot> sim \\<odot> w_adv_ideal_inv) \\<I>_real' \\<I>_ideal'\n   \\<I>_common' \\<A> adv\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem constructive_security_obsf_lifting_usr:\n  assumes sec: \"constructive_security_aux_obsf real_resource ideal_resource sim \\<I>_real \\<I>_ideal \\<I>_common adv\"\n    and sec2: \"exception_\\<I> (\\<I>_real \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>g \\<A> \\<surd> \n    \\<Longrightarrow> constructive_security_sim_obsf real_resource ideal_resource sim \\<I>_real \\<I>_common (absorb \\<A> (obsf_converter (1\\<^sub>C |\\<^sub>= conv))) adv\"\n    and WT_conv [WT_intro]: \"\\<I>_common', \\<I>_common \\<turnstile>\\<^sub>C conv \\<surd>\"\n    and pfinite [pfinite_intro]: \"pfinite_converter \\<I>_common' \\<I>_common conv\"\n  shows \"constructive_security_obsf (1\\<^sub>C |\\<^sub>= conv \\<rhd> real_resource) (1\\<^sub>C |\\<^sub>= conv \\<rhd> ideal_resource) sim \\<I>_real \\<I>_ideal \\<I>_common' \\<A> adv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (1\\<^sub>C |\\<^sub>= conv \\<rhd> real_resource)\n     (1\\<^sub>C |\\<^sub>= conv \\<rhd> ideal_resource) sim \\<I>_real\n     \\<I>_ideal \\<I>_common' \\<A> adv", "by(rule constructive_security_obsf_lifting[OF sec sec2, where ?w_adv_ideal=\"1\\<^sub>C\" and ?w_adv_ideal_inv=\"1\\<^sub>C\", simplified comp_converter_id_left comp_converter_id_right])\n    (rule WT_intro pfinite_intro id_converter_eq_self order_refl | assumption)+"], ["", "theorem constructive_security_obsf_lifting2:\n  assumes sec: \"constructive_security_aux_obsf real_resource ideal_resource sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) \\<I>_common adv\"\n    and sec2: \"exception_\\<I> ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I> \\<I>_common') \\<turnstile>g \\<A> \\<surd> \n    \\<Longrightarrow> constructive_security_sim_obsf real_resource ideal_resource sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<I>_common (absorb \\<A> (obsf_converter ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv))) adv\"\n  assumes WT_conv [WT_intro]: \"\\<I>_common', \\<I>_common \\<turnstile>\\<^sub>C conv \\<surd>\"\n    and pfinite [pfinite_intro]: \"pfinite_converter \\<I>_common' \\<I>_common conv\"\n  shows \"constructive_security_obsf ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> real_resource) ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> ideal_resource) sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) \\<I>_common' \\<A> adv\"\n    (is \"constructive_security_obsf ?real ?ideal _ ?\\<I>_real ?\\<I>_ideal _ _ _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> real_resource)\n     ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> ideal_resource)\n     sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) \\<I>_common' \\<A> adv", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> real_resource)\n     ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> ideal_resource)\n     sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) \\<I>_common' \\<A> adv", "interpret constructive_security_aux_obsf real_resource ideal_resource sim \"\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2\" \"\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2\" \\<I>_common adv"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_aux_obsf real_resource ideal_resource sim\n     (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) \\<I>_common adv", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> real_resource)\n     ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> ideal_resource)\n     sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) \\<I>_common' \\<A> adv", "have sim [unfolded comp_converter_id_left]: \"\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2,\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2 \\<turnstile>\\<^sub>C (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<odot> sim \\<sim> 1\\<^sub>C \\<odot> sim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<I>_real1 \\<oplus>\\<^sub>\\<I>\n    \\<I>_real2,\\<I>_ideal1 \\<oplus>\\<^sub>\\<I>\n               \\<I>_ideal2 \\<turnstile>\\<^sub>C\n    (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<odot> sim \\<sim> 1\\<^sub>C \\<odot> sim", "by(rule eq_\\<I>_comp_cong)(rule parallel_converter2_id_id eq_\\<I>_converter_reflI WT_intro)+"], ["proof (state)\nthis:\n  \\<I>_real1 \\<oplus>\\<^sub>\\<I>\n  \\<I>_real2,\\<I>_ideal1 \\<oplus>\\<^sub>\\<I>\n             \\<I>_ideal2 \\<turnstile>\\<^sub>C\n  (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<odot> sim \\<sim> sim\n\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> real_resource)\n     ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> ideal_resource)\n     sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) \\<I>_common' \\<A> adv", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> real_resource)\n     ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> ideal_resource)\n     sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) \\<I>_common' \\<A> adv", "apply(rule constructive_security_obsf_sim_cong)"], ["proof (prove)\ngoal (3 subgoals):\n 1. constructive_security_obsf\n     ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> real_resource)\n     ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> ideal_resource)\n     ?sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) \\<I>_common' \\<A> adv\n 2. \\<I>_real1 \\<oplus>\\<^sub>\\<I>\n    \\<I>_real2,\\<I>_ideal1 \\<oplus>\\<^sub>\\<I>\n               \\<I>_ideal2 \\<turnstile>\\<^sub>C\n    ?sim \\<sim> sim\n 3. pfinite_converter (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) sim", "apply(rule constructive_security_obsf_lifting[OF sec sec2, where ?w_adv_ideal=\"1\\<^sub>C |\\<^sub>= 1\\<^sub>C\" and ?w_adv_ideal_inv=\"1\\<^sub>C\", unfolded comp_converter_id_left comp_converter_id_right])"], ["proof (prove)\ngoal (11 subgoals):\n 1. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      \\<I>_common')\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      \\<I>_common')\n    \\<turnstile>g \\<A> \\<surd>\n 2. \\<I>_common', \\<I>_common \\<turnstile>\\<^sub>C conv \\<surd>\n 3. pfinite_converter \\<I>_common' \\<I>_common conv\n 4. \\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2,\n    \\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2 \\<turnstile>\\<^sub>C\n    1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<surd>\n 5. \\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2,\n    \\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2 \\<turnstile>\\<^sub>C\n    1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<surd>\n 6. \\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2,\n    \\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2 \\<turnstile>\\<^sub>C\n    1\\<^sub>C \\<surd>\n 7. \\<I>_ideal1 \\<oplus>\\<^sub>\\<I>\n    \\<I>_ideal2,\\<I>_ideal1 \\<oplus>\\<^sub>\\<I>\n                \\<I>_ideal2 \\<turnstile>\\<^sub>C\n    1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<sim> 1\\<^sub>C\n 8. pfinite_converter (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (1\\<^sub>C |\\<^sub>= 1\\<^sub>C)\n 9. pfinite_converter (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2)\n     (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) 1\\<^sub>C\n 10. \\<I>_real1 \\<oplus>\\<^sub>\\<I>\n     \\<I>_real2,\\<I>_ideal1 \\<oplus>\\<^sub>\\<I>\n                \\<I>_ideal2 \\<turnstile>\\<^sub>C\n     (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<odot> sim \\<sim> sim\nA total of 11 subgoals...", "apply(assumption|rule WT_intro sim pfinite_intro parallel_converter2_id_id)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  constructive_security_obsf\n   ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> real_resource)\n   ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= conv \\<rhd> ideal_resource)\n   sim (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n   (\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> \\<I>_ideal2) \\<I>_common' \\<A> adv\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem constructive_security_obsf_trivial:\n  fixes res\n  assumes [WT_intro]: \"\\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res res \\<surd>\"\n  shows \"constructive_security_obsf res res 1\\<^sub>C \\<I> \\<I> \\<I>_common \\<A> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf res res 1\\<^sub>C \\<I> \\<I> \\<I>_common \\<A>\n     0", "proof"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res res \\<surd>\n 2. \\<I>, \\<I> \\<turnstile>\\<^sub>C 1\\<^sub>C \\<surd>\n 3. pfinite_converter \\<I> \\<I> 1\\<^sub>C\n 4. 0 \\<le> 0\n 5. exception_\\<I> (\\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res))\n     (obsf_resource res)\n    \\<le> 0", "show \"\\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res res \\<surd>\" and \"\\<I>, \\<I> \\<turnstile>\\<^sub>C 1\\<^sub>C \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res res \\<surd> &&&\n    \\<I>, \\<I> \\<turnstile>\\<^sub>C 1\\<^sub>C \\<surd>", "by(rule WT_intro)+"], ["proof (state)\nthis:\n  \\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common \\<turnstile>res res \\<surd>\n  \\<I>, \\<I> \\<turnstile>\\<^sub>C 1\\<^sub>C \\<surd>\n\ngoal (3 subgoals):\n 1. pfinite_converter \\<I> \\<I> 1\\<^sub>C\n 2. 0 \\<le> 0\n 3. exception_\\<I> (\\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res))\n     (obsf_resource res)\n    \\<le> 0", "show \"pfinite_converter \\<I> \\<I> 1\\<^sub>C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pfinite_converter \\<I> \\<I> 1\\<^sub>C", "by(rule pfinite_intro)"], ["proof (state)\nthis:\n  pfinite_converter \\<I> \\<I> 1\\<^sub>C\n\ngoal (2 subgoals):\n 1. 0 \\<le> 0\n 2. exception_\\<I> (\\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res))\n     (obsf_resource res)\n    \\<le> 0", "assume WT [WT_intro]: \"exception_\\<I> (\\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common) \\<turnstile>g \\<A> \\<surd>\""], ["proof (state)\nthis:\n  exception_\\<I> (\\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common)\n  \\<turnstile>g \\<A> \\<surd>\n\ngoal (2 subgoals):\n 1. 0 \\<le> 0\n 2. exception_\\<I> (\\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res))\n     (obsf_resource res)\n    \\<le> 0", "have \"connect_obsf \\<A> (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res)) = connect_obsf \\<A> (obsf_resource (1\\<^sub>C \\<rhd> res))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf \\<A>\n     (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res)) =\n    connect_obsf \\<A> (obsf_resource (1\\<^sub>C \\<rhd> res))", "by(rule connect_eq_resource_cong[OF WT])(fastforce intro: WT_intro eq_\\<I>_attach_on' obsf_resource_eq_\\<I>_cong parallel_converter2_id_id)+"], ["proof (state)\nthis:\n  connect_obsf \\<A>\n   (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res)) =\n  connect_obsf \\<A> (obsf_resource (1\\<^sub>C \\<rhd> res))\n\ngoal (2 subgoals):\n 1. 0 \\<le> 0\n 2. exception_\\<I> (\\<I> \\<oplus>\\<^sub>\\<I> \\<I>_common)\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res))\n     (obsf_resource res)\n    \\<le> 0", "then"], ["proof (chain)\npicking this:\n  connect_obsf \\<A>\n   (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res)) =\n  connect_obsf \\<A> (obsf_resource (1\\<^sub>C \\<rhd> res))", "show \"advantage \\<A> (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res)) (obsf_resource res) \\<le> 0\""], ["proof (prove)\nusing this:\n  connect_obsf \\<A>\n   (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res)) =\n  connect_obsf \\<A> (obsf_resource (1\\<^sub>C \\<rhd> res))\n\ngoal (1 subgoal):\n 1. advantage \\<A>\n     (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res))\n     (obsf_resource res)\n    \\<le> 0", "unfolding advantage_def"], ["proof (prove)\nusing this:\n  connect_obsf \\<A>\n   (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res)) =\n  connect_obsf \\<A> (obsf_resource (1\\<^sub>C \\<rhd> res))\n\ngoal (1 subgoal):\n 1. \\<bar>spmf\n           (connect_obsf \\<A>\n             (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res)))\n           True -\n          spmf (connect_obsf \\<A> (obsf_resource res)) True\\<bar>\n    \\<le> 0", "by simp"], ["proof (state)\nthis:\n  advantage \\<A> (obsf_resource (1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd> res))\n   (obsf_resource res)\n  \\<le> 0\n\ngoal (1 subgoal):\n 1. 0 \\<le> 0", "qed simp"], ["", "lemma parallel_constructive_security_aux_obsf [locale_witness]:\n  assumes \"constructive_security_aux_obsf real1 ideal1 sim1 \\<I>_real1 \\<I>_inner1 \\<I>_common1 adv1\"\n  assumes \"constructive_security_aux_obsf real2 ideal2 sim2 \\<I>_real2 \\<I>_inner2 \\<I>_common2 adv2\"\n  shows \"constructive_security_aux_obsf (parallel_wiring \\<rhd> real1 \\<parallel> real2) (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2) (sim1 |\\<^sub>= sim2) \n    (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)\n    (adv1 + adv2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_aux_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2) (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2)\n     (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) (adv1 + adv2)", "proof"], ["proof (state)\ngoal (5 subgoals):\n 1. (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \n    \\<turnstile>res parallel_wiring \\<rhd> real1 \\<parallel> real2 \\<surd>\n 2. (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \n    \\<turnstile>res parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2 \\<surd>\n 3. \\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2,\n    \\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<turnstile>\\<^sub>C\n    sim1 |\\<^sub>= sim2 \\<surd>\n 4. pfinite_converter (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) (sim1 |\\<^sub>= sim2)\n 5. 0 \\<le> adv1 + adv2", "interpret sec1: constructive_security_aux_obsf real1 ideal1 sim1 \\<I>_real1 \\<I>_inner1 \\<I>_common1 adv1"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_aux_obsf real1 ideal1 sim1 \\<I>_real1 \\<I>_inner1\n     \\<I>_common1 adv1", "by fact"], ["proof (state)\ngoal (5 subgoals):\n 1. (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \n    \\<turnstile>res parallel_wiring \\<rhd> real1 \\<parallel> real2 \\<surd>\n 2. (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \n    \\<turnstile>res parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2 \\<surd>\n 3. \\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2,\n    \\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<turnstile>\\<^sub>C\n    sim1 |\\<^sub>= sim2 \\<surd>\n 4. pfinite_converter (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) (sim1 |\\<^sub>= sim2)\n 5. 0 \\<le> adv1 + adv2", "interpret sec2: constructive_security_aux_obsf real2 ideal2 sim2 \\<I>_real2 \\<I>_inner2 \\<I>_common2 adv2"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_aux_obsf real2 ideal2 sim2 \\<I>_real2 \\<I>_inner2\n     \\<I>_common2 adv2", "by fact"], ["proof (state)\ngoal (5 subgoals):\n 1. (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \n    \\<turnstile>res parallel_wiring \\<rhd> real1 \\<parallel> real2 \\<surd>\n 2. (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \n    \\<turnstile>res parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2 \\<surd>\n 3. \\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2,\n    \\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<turnstile>\\<^sub>C\n    sim1 |\\<^sub>= sim2 \\<surd>\n 4. pfinite_converter (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) (sim1 |\\<^sub>= sim2)\n 5. 0 \\<le> adv1 + adv2", "show \"(\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I> (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \\<turnstile>res parallel_wiring \\<rhd> real1 \\<parallel> real2 \\<surd>\"\n    and \"(\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) \\<oplus>\\<^sub>\\<I> (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \\<turnstile>res parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2 \\<surd>\"\n    and \"\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2, \\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<turnstile>\\<^sub>C sim1 |\\<^sub>= sim2 \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \n    \\<turnstile>res parallel_wiring \\<rhd>\n                    real1 \\<parallel> real2 \\<surd> &&&\n    (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \n    \\<turnstile>res parallel_wiring \\<rhd>\n                    ideal1 \\<parallel> ideal2 \\<surd> &&&\n    \\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2,\n    \\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<turnstile>\\<^sub>C\n    sim1 |\\<^sub>= sim2 \\<surd>", "by(rule WT_intro)+"], ["proof (state)\nthis:\n  (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n  (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \n  \\<turnstile>res parallel_wiring \\<rhd> real1 \\<parallel> real2 \\<surd>\n  (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) \\<oplus>\\<^sub>\\<I>\n  (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \n  \\<turnstile>res parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2 \\<surd>\n  \\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2,\n  \\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2 \\<turnstile>\\<^sub>C\n  sim1 |\\<^sub>= sim2 \\<surd>\n\ngoal (2 subgoals):\n 1. pfinite_converter (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) (sim1 |\\<^sub>= sim2)\n 2. 0 \\<le> adv1 + adv2", "show \"pfinite_converter (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) (sim1 |\\<^sub>= sim2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pfinite_converter (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) (sim1 |\\<^sub>= sim2)", "by(rule pfinite_intro)+"], ["proof (state)\nthis:\n  pfinite_converter (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n   (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) (sim1 |\\<^sub>= sim2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> adv1 + adv2", "show \"0 \\<le> adv1 + adv2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> adv1 + adv2", "using sec1.adv_nonneg sec2.adv_nonneg"], ["proof (prove)\nusing this:\n  0 \\<le> adv1\n  0 \\<le> adv2\n\ngoal (1 subgoal):\n 1. 0 \\<le> adv1 + adv2", "by simp"], ["proof (state)\nthis:\n  0 \\<le> adv1 + adv2\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem parallel_constructive_security_obsf:\n  assumes \"constructive_security_obsf real1 ideal1 sim1 \\<I>_real1 \\<I>_inner1 \\<I>_common1 (absorb \\<A> (obsf_converter (parallel_wiring \\<odot> parallel_converter 1\\<^sub>C (converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))))) adv1\"\n    (is \"constructive_security_obsf _ _ _ _ _ _ ?\\<A>1 _\")\n  assumes \"constructive_security_obsf real2 ideal2 sim2 \\<I>_real2 \\<I>_inner2 \\<I>_common2 (absorb \\<A> (obsf_converter (parallel_wiring \\<odot> parallel_converter (converter_of_resource real1) 1\\<^sub>C))) adv2\"\n    (is \"constructive_security_obsf _ _ _ _ _ _ ?\\<A>2 _\")\n  shows \"constructive_security_obsf (parallel_wiring \\<rhd> real1 \\<parallel> real2) (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2) (sim1 |\\<^sub>= sim2) \n    (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2) (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)\n    \\<A> (adv1 + adv2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2) (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2)\n     (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \\<A> (adv1 + adv2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2) (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2)\n     (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \\<A> (adv1 + adv2)", "interpret sec1: constructive_security_obsf real1 ideal1 sim1 \\<I>_real1 \\<I>_inner1 \\<I>_common1 ?\\<A>1 adv1"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real1 ideal1 sim1 \\<I>_real1 \\<I>_inner1\n     \\<I>_common1\n     (absorb \\<A>\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n     adv1", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2) (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2)\n     (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \\<A> (adv1 + adv2)", "interpret sec2: constructive_security_obsf real2 ideal2 sim2 \\<I>_real2 \\<I>_inner2 \\<I>_common2 ?\\<A>2 adv2"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real2 ideal2 sim2 \\<I>_real2 \\<I>_inner2\n     \\<I>_common2\n     (absorb \\<A>\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n     adv2", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2) (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2)\n     (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \\<A> (adv1 + adv2)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2) (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n     (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2)\n     (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \\<A> (adv1 + adv2)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n    \\<le> adv1 + adv2", "assume WT [WT_intro]: \"exception_\\<I> ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I> (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>g \\<A> \\<surd>\""], ["proof (state)\nthis:\n  exception_\\<I>\n   ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n  \\<turnstile>g \\<A> \\<surd>\n\ngoal (1 subgoal):\n 1. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n    \\<le> adv1 + adv2", "have **: \"outs_\\<I> ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I> (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<odot> parallel_wiring \\<rhd> real1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot> (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd> sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n     1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<odot>\n    parallel_wiring \\<rhd>\n    real1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot>\n    (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd>\n    sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2", "unfolding comp_parallel_wiring"], ["proof (prove)\ngoal (1 subgoal):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    parallel_wiring \\<odot>\n    ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>=\n     sim2 |\\<^sub>= 1\\<^sub>C) \\<rhd>\n    real1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot>\n    (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd>\n    sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2", "by(rule eq_resource_on_trans, rule eq_\\<I>_attach_on[where conv'=\"parallel_wiring \\<odot> (1\\<^sub>C |\\<^sub>= sim2 |\\<^sub>= 1\\<^sub>C)\"]\n          , (rule WT_intro)+, rule eq_\\<I>_comp_cong, rule eq_\\<I>_converter_mono)\n        (auto simp add: le_\\<I>_def attach_compose attach_parallel2 attach_converter_of_resource_conv_parallel_resource\n          intro: WT_intro parallel_converter2_eq_\\<I>_cong parallel_converter2_id_id eq_\\<I>_converter_reflI)"], ["proof (state)\nthis:\n  outs_\\<I>\n   ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n  ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n   1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<odot>\n  parallel_wiring \\<rhd>\n  real1 \\<parallel> ideal2 \\<sim>\n  parallel_wiring \\<odot>\n  (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd>\n  sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2\n\ngoal (1 subgoal):\n 1. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n    \\<le> adv1 + adv2", "have ideal2:\n      \"connect_obsf ?\\<A>2 (obsf_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) =\n     connect_obsf \\<A> (obsf_resource ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>= (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<rhd> parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf\n     (absorb \\<A>\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n     (obsf_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) =\n    connect_obsf \\<A>\n     (obsf_resource\n       ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n        1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> real1 \\<parallel> ideal2))", "unfolding distinguish_attach[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf \\<A>\n     (obsf_converter\n       (parallel_wiring \\<odot>\n        (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<rhd>\n      obsf_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) =\n    connect_obsf \\<A>\n     (obsf_resource\n       ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n        1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> real1 \\<parallel> ideal2))", "apply(rule connect_eq_resource_cong)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ?\\<I> \\<turnstile>g \\<A> \\<surd>\n 2. outs_\\<I> ?\\<I> \\<turnstile>\\<^sub>R\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<rhd>\n    obsf_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<sim>\n    obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2)\n 3. ?\\<I> \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource\n                     (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<surd>", "apply(rule WT_intro)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (exception_\\<I>\n       ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n        (\\<I>_common1 \\<oplus>\\<^sub>\\<I>\n         \\<I>_common2))) \\<turnstile>\\<^sub>R\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<rhd>\n    obsf_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<sim>\n    obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2)\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource\n                     (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<surd>", "apply(simp del: outs_plus_\\<I>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<rhd>\n    obsf_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<sim>\n    obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2)\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource\n                     (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<surd>", "apply(rule eq_resource_on_trans[OF obsf_attach])"], ["proof (prove)\ngoal (5 subgoals):\n 1. pfinite_converter\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n     ?\\<I>'5\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))\n 2. (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2),\n    ?\\<I>'5 \\<turnstile>\\<^sub>C\n    parallel_wiring \\<odot>\n    (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<surd>\n 3. ?\\<I>'5 \\<turnstile>res sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<surd>\n 4. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    obsf_resource\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd>\n      sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<sim>\n    obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2)\n 5. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource\n                     (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<surd>", "apply(rule pfinite_intro WT_intro)+"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    obsf_resource\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd>\n      sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<sim>\n    obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2)\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource\n                     (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<surd>", "apply(rule obsf_resource_eq_\\<I>_cong)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    parallel_wiring \\<odot>\n    (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd>\n    sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 \\<sim>\n    (1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n    1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n    parallel_wiring \\<rhd> real1 \\<parallel> ideal2\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource\n                     (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<surd>", "apply(rule eq_resource_on_sym)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    (1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n    1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n    parallel_wiring \\<rhd> real1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot>\n    (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd>\n    sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource\n                     (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<surd>", "apply(subst attach_compose[symmetric])"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n     1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<odot>\n    parallel_wiring \\<rhd>\n    real1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot>\n    (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd>\n    sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource\n                     (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<surd>", "apply(rule **)"], ["proof (prove)\ngoal (1 subgoal):\n 1. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource\n                     (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2) \\<surd>", "apply(rule WT_intro)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  connect_obsf\n   (absorb \\<A>\n     (obsf_converter\n       (parallel_wiring \\<odot>\n        (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n   (obsf_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) =\n  connect_obsf \\<A>\n   (obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\n\ngoal (1 subgoal):\n 1. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n    \\<le> adv1 + adv2", "have real2: \"connect_obsf ?\\<A>2 (obsf_resource real2) = connect_obsf \\<A> (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf\n     (absorb \\<A>\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n     (obsf_resource real2) =\n    connect_obsf \\<A>\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))", "unfolding distinguish_attach[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf \\<A>\n     (obsf_converter\n       (parallel_wiring \\<odot>\n        (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<rhd>\n      obsf_resource real2) =\n    connect_obsf \\<A>\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))", "apply(rule connect_eq_resource_cong)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ?\\<I> \\<turnstile>g \\<A> \\<surd>\n 2. outs_\\<I> ?\\<I> \\<turnstile>\\<^sub>R\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<rhd>\n    obsf_resource real2 \\<sim>\n    obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n 3. ?\\<I> \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource real2 \\<surd>", "apply(rule WT_intro)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (exception_\\<I>\n       ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n        (\\<I>_common1 \\<oplus>\\<^sub>\\<I>\n         \\<I>_common2))) \\<turnstile>\\<^sub>R\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<rhd>\n    obsf_resource real2 \\<sim>\n    obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource real2 \\<surd>", "apply(simp del: outs_plus_\\<I>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<rhd>\n    obsf_resource real2 \\<sim>\n    obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource real2 \\<surd>", "apply(rule eq_resource_on_trans[OF obsf_attach])"], ["proof (prove)\ngoal (5 subgoals):\n 1. pfinite_converter\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n     ?\\<I>'5\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))\n 2. (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2),\n    ?\\<I>'5 \\<turnstile>\\<^sub>C\n    parallel_wiring \\<odot>\n    (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<surd>\n 3. ?\\<I>'5 \\<turnstile>res real2 \\<surd>\n 4. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    obsf_resource\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd>\n      real2) \\<sim>\n    obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n 5. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource real2 \\<surd>", "apply(rule pfinite_intro WT_intro)+"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    obsf_resource\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd>\n      real2) \\<sim>\n    obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource real2 \\<surd>", "apply(rule obsf_resource_eq_\\<I>_cong)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    parallel_wiring \\<odot>\n    (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd>\n    real2 \\<sim>\n    parallel_wiring \\<rhd> real1 \\<parallel> real2\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource real2 \\<surd>", "apply(rule eq_resource_on_sym)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    parallel_wiring \\<rhd> real1 \\<parallel> real2 \\<sim>\n    parallel_wiring \\<odot>\n    (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<rhd>\n    real2\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (converter_of_resource real1 |\\<^sub>\\<propto>\n                       1\\<^sub>C)) \\<rhd>\n                    obsf_resource real2 \\<surd>", "by(simp add: attach_compose attach_converter_of_resource_conv_parallel_resource)(rule WT_intro)+"], ["proof (state)\nthis:\n  connect_obsf\n   (absorb \\<A>\n     (obsf_converter\n       (parallel_wiring \\<odot>\n        (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n   (obsf_resource real2) =\n  connect_obsf \\<A>\n   (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n\ngoal (1 subgoal):\n 1. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n    \\<le> adv1 + adv2", "have adv2: \"advantage \\<A>\n     (obsf_resource ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>= (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<rhd> parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2)) \\<le> adv2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. advantage \\<A>\n     (obsf_resource\n       ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n        1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n    \\<le> adv2", "unfolding advantage_def ideal2[symmetric] real2[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>spmf\n           (connect_obsf\n             (absorb \\<A>\n               (obsf_converter\n                 (parallel_wiring \\<odot>\n                  (converter_of_resource real1 |\\<^sub>\\<propto>\n                   1\\<^sub>C))))\n             (obsf_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))\n           True -\n          spmf\n           (connect_obsf\n             (absorb \\<A>\n               (obsf_converter\n                 (parallel_wiring \\<odot>\n                  (converter_of_resource real1 |\\<^sub>\\<propto>\n                   1\\<^sub>C))))\n             (obsf_resource real2))\n           True\\<bar>\n    \\<le> adv2", "by(rule sec2.adv[unfolded advantage_def])(rule WT_intro)+"], ["proof (state)\nthis:\n  advantage \\<A>\n   (obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\n   (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n  \\<le> adv2\n\ngoal (1 subgoal):\n 1. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n    \\<le> adv1 + adv2", "have ideal1: \n      \"connect_obsf ?\\<A>1 (obsf_resource (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1)) = \n     connect_obsf \\<A> (obsf_resource ((sim1 |\\<^sub>= sim2) |\\<^sub>= (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<rhd> parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf\n     (absorb \\<A>\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n     (obsf_resource (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1)) =\n    connect_obsf \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. connect_obsf\n     (absorb \\<A>\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n     (obsf_resource (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1)) =\n    connect_obsf \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))", "have *:\"((outs_\\<I> \\<I>_real1 <+> outs_\\<I> \\<I>_real2) <+> outs_\\<I> \\<I>_common1 <+> outs_\\<I> \\<I>_common2) \\<turnstile>\\<^sub>R\n    (sim1 |\\<^sub>= sim2) |\\<^sub>= (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<rhd> parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot> (1\\<^sub>C |\\<^sub>\\<propto> converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd> sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((outs_\\<I> \\<I>_real1 <+> outs_\\<I> \\<I>_real2) <+>\n     outs_\\<I> \\<I>_common1 <+> outs_\\<I> \\<I>_common2) \\<turnstile>\\<^sub>R\n    (sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n    parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot>\n    (1\\<^sub>C |\\<^sub>\\<propto>\n     converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n    sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1", "by(auto simp add: le_\\<I>_def comp_parallel_wiring' attach_compose attach_parallel2 attach_converter_of_resource_conv_parallel_resource2 intro: WT_intro)"], ["proof (state)\nthis:\n  ((outs_\\<I> \\<I>_real1 <+> outs_\\<I> \\<I>_real2) <+>\n   outs_\\<I> \\<I>_common1 <+> outs_\\<I> \\<I>_common2) \\<turnstile>\\<^sub>R\n  (sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n  parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2 \\<sim>\n  parallel_wiring \\<odot>\n  (1\\<^sub>C |\\<^sub>\\<propto>\n   converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n  sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1\n\ngoal (1 subgoal):\n 1. connect_obsf\n     (absorb \\<A>\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n     (obsf_resource (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1)) =\n    connect_obsf \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf\n     (absorb \\<A>\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n     (obsf_resource (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1)) =\n    connect_obsf \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))", "unfolding distinguish_attach[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf \\<A>\n     (obsf_converter\n       (parallel_wiring \\<odot>\n        (1\\<^sub>C |\\<^sub>\\<propto>\n         converter_of_resource\n          (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n      obsf_resource (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1)) =\n    connect_obsf \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))", "apply(rule connect_eq_resource_cong)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ?\\<I> \\<turnstile>g \\<A> \\<surd>\n 2. outs_\\<I> ?\\<I> \\<turnstile>\\<^sub>R\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n    obsf_resource (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1) \\<sim>\n    obsf_resource\n     ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n 3. ?\\<I> \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource\n                     (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1) \\<surd>", "apply(rule WT_intro)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (exception_\\<I>\n       ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n        (\\<I>_common1 \\<oplus>\\<^sub>\\<I>\n         \\<I>_common2))) \\<turnstile>\\<^sub>R\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n    obsf_resource (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1) \\<sim>\n    obsf_resource\n     ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource\n                     (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1) \\<surd>", "apply(simp del: outs_plus_\\<I>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n    obsf_resource (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1) \\<sim>\n    obsf_resource\n     ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource\n                     (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1) \\<surd>", "apply(rule eq_resource_on_trans[OF obsf_attach])"], ["proof (prove)\ngoal (5 subgoals):\n 1. pfinite_converter\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n     ?\\<I>'5\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))\n 2. (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2),\n    ?\\<I>'5 \\<turnstile>\\<^sub>C\n    parallel_wiring \\<odot>\n    (1\\<^sub>C |\\<^sub>\\<propto>\n     converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<surd>\n 3. ?\\<I>'5 \\<turnstile>res sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<surd>\n 4. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    obsf_resource\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n      sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1) \\<sim>\n    obsf_resource\n     ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n 5. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource\n                     (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1) \\<surd>", "apply(rule pfinite_intro WT_intro)+"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    obsf_resource\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n      sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1) \\<sim>\n    obsf_resource\n     ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource\n                     (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1) \\<surd>", "apply(rule obsf_resource_eq_\\<I>_cong)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    parallel_wiring \\<odot>\n    (1\\<^sub>C |\\<^sub>\\<propto>\n     converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n    sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1 \\<sim>\n    (sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n    parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource\n                     (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1) \\<surd>", "apply(rule eq_resource_on_sym)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    (sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n    parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot>\n    (1\\<^sub>C |\\<^sub>\\<propto>\n     converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n    sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource\n                     (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1) \\<surd>", "by(simp add: *, (rule WT_intro)+)"], ["proof (state)\nthis:\n  connect_obsf\n   (absorb \\<A>\n     (obsf_converter\n       (parallel_wiring \\<odot>\n        (1\\<^sub>C |\\<^sub>\\<propto>\n         converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n   (obsf_resource (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1)) =\n  connect_obsf \\<A>\n   (obsf_resource\n     ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  connect_obsf\n   (absorb \\<A>\n     (obsf_converter\n       (parallel_wiring \\<odot>\n        (1\\<^sub>C |\\<^sub>\\<propto>\n         converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n   (obsf_resource (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1)) =\n  connect_obsf \\<A>\n   (obsf_resource\n     ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n\ngoal (1 subgoal):\n 1. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n    \\<le> adv1 + adv2", "have real1: \"connect_obsf ?\\<A>1 (obsf_resource real1) = connect_obsf \\<A> (obsf_resource ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>= (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<rhd> parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf\n     (absorb \\<A>\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n     (obsf_resource real1) =\n    connect_obsf \\<A>\n     (obsf_resource\n       ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n        1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> real1 \\<parallel> ideal2))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. connect_obsf\n     (absorb \\<A>\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n     (obsf_resource real1) =\n    connect_obsf \\<A>\n     (obsf_resource\n       ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n        1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> real1 \\<parallel> ideal2))", "have *: \"outs_\\<I> ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I> (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    parallel_wiring \\<odot> ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>= sim2 |\\<^sub>= 1\\<^sub>C) \\<rhd> real1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot> (1\\<^sub>C |\\<^sub>\\<propto> converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2 )) \\<rhd> real1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    parallel_wiring \\<odot>\n    ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>=\n     sim2 |\\<^sub>= 1\\<^sub>C) \\<rhd>\n    real1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot>\n    (1\\<^sub>C |\\<^sub>\\<propto>\n     converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n    real1", "by(rule eq_resource_on_trans, rule eq_\\<I>_attach_on[where conv'=\"parallel_wiring \\<odot> (1\\<^sub>C |\\<^sub>= sim2 |\\<^sub>= 1\\<^sub>C)\"]\n            , (rule WT_intro)+, rule eq_\\<I>_comp_cong, rule eq_\\<I>_converter_mono)\n          (auto simp add: le_\\<I>_def attach_compose attach_converter_of_resource_conv_parallel_resource2 attach_parallel2 \n            intro: WT_intro parallel_converter2_eq_\\<I>_cong parallel_converter2_id_id eq_\\<I>_converter_reflI)"], ["proof (state)\nthis:\n  outs_\\<I>\n   ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n  parallel_wiring \\<odot>\n  ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>=\n   sim2 |\\<^sub>= 1\\<^sub>C) \\<rhd>\n  real1 \\<parallel> ideal2 \\<sim>\n  parallel_wiring \\<odot>\n  (1\\<^sub>C |\\<^sub>\\<propto>\n   converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n  real1\n\ngoal (1 subgoal):\n 1. connect_obsf\n     (absorb \\<A>\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n     (obsf_resource real1) =\n    connect_obsf \\<A>\n     (obsf_resource\n       ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n        1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> real1 \\<parallel> ideal2))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf\n     (absorb \\<A>\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n     (obsf_resource real1) =\n    connect_obsf \\<A>\n     (obsf_resource\n       ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n        1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> real1 \\<parallel> ideal2))", "unfolding distinguish_attach[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. connect_obsf \\<A>\n     (obsf_converter\n       (parallel_wiring \\<odot>\n        (1\\<^sub>C |\\<^sub>\\<propto>\n         converter_of_resource\n          (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n      obsf_resource real1) =\n    connect_obsf \\<A>\n     (obsf_resource\n       ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n        1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> real1 \\<parallel> ideal2))", "apply(rule connect_eq_resource_cong)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ?\\<I> \\<turnstile>g \\<A> \\<surd>\n 2. outs_\\<I> ?\\<I> \\<turnstile>\\<^sub>R\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n    obsf_resource real1 \\<sim>\n    obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2)\n 3. ?\\<I> \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource real1 \\<surd>", "apply(rule WT_intro)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     (exception_\\<I>\n       ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n        (\\<I>_common1 \\<oplus>\\<^sub>\\<I>\n         \\<I>_common2))) \\<turnstile>\\<^sub>R\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n    obsf_resource real1 \\<sim>\n    obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2)\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource real1 \\<surd>", "apply(simp del: outs_plus_\\<I>)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n    obsf_resource real1 \\<sim>\n    obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2)\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource real1 \\<surd>", "apply(rule eq_resource_on_trans[OF obsf_attach])"], ["proof (prove)\ngoal (5 subgoals):\n 1. pfinite_converter\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n     ?\\<I>'5\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))\n 2. (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2),\n    ?\\<I>'5 \\<turnstile>\\<^sub>C\n    parallel_wiring \\<odot>\n    (1\\<^sub>C |\\<^sub>\\<propto>\n     converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<surd>\n 3. ?\\<I>'5 \\<turnstile>res real1 \\<surd>\n 4. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    obsf_resource\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n      real1) \\<sim>\n    obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2)\n 5. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource real1 \\<surd>", "apply(rule pfinite_intro WT_intro)+"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    obsf_resource\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n      real1) \\<sim>\n    obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2)\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource real1 \\<surd>", "apply(rule obsf_resource_eq_\\<I>_cong)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    parallel_wiring \\<odot>\n    (1\\<^sub>C |\\<^sub>\\<propto>\n     converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n    real1 \\<sim>\n    (1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n    1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n    parallel_wiring \\<rhd> real1 \\<parallel> ideal2\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource real1 \\<surd>", "apply(rule eq_resource_on_sym)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    (1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n    1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n    parallel_wiring \\<rhd> real1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot>\n    (1\\<^sub>C |\\<^sub>\\<propto>\n     converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n    real1\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource real1 \\<surd>", "apply(fold attach_compose)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n     1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<odot>\n    parallel_wiring \\<rhd>\n    real1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot>\n    (1\\<^sub>C |\\<^sub>\\<propto>\n     converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n    real1\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource real1 \\<surd>", "apply(subst comp_parallel_wiring)"], ["proof (prove)\ngoal (2 subgoals):\n 1. outs_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \\<turnstile>\\<^sub>R\n    parallel_wiring \\<odot>\n    ((1\\<^sub>C |\\<^sub>= 1\\<^sub>C) |\\<^sub>=\n     sim2 |\\<^sub>= 1\\<^sub>C) \\<rhd>\n    real1 \\<parallel> ideal2 \\<sim>\n    parallel_wiring \\<odot>\n    (1\\<^sub>C |\\<^sub>\\<propto>\n     converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<rhd>\n    real1\n 2. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource real1 \\<surd>", "apply(rule *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2)) \n    \\<turnstile>res obsf_converter\n                     (parallel_wiring \\<odot>\n                      (1\\<^sub>C |\\<^sub>\\<propto>\n                       converter_of_resource\n                        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<rhd>\n                    obsf_resource real1 \\<surd>", "apply(rule WT_intro)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  connect_obsf\n   (absorb \\<A>\n     (obsf_converter\n       (parallel_wiring \\<odot>\n        (1\\<^sub>C |\\<^sub>\\<propto>\n         converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n   (obsf_resource real1) =\n  connect_obsf \\<A>\n   (obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  connect_obsf\n   (absorb \\<A>\n     (obsf_converter\n       (parallel_wiring \\<odot>\n        (1\\<^sub>C |\\<^sub>\\<propto>\n         converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n   (obsf_resource real1) =\n  connect_obsf \\<A>\n   (obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\n\ngoal (1 subgoal):\n 1. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n    \\<le> adv1 + adv2", "have adv1: \"advantage \\<A> \n     (obsf_resource ((sim1 |\\<^sub>= sim2) |\\<^sub>= (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<rhd> parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n     (obsf_resource ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>= (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<rhd> parallel_wiring \\<rhd> real1 \\<parallel> ideal2)) \\<le> adv1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. advantage \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n     (obsf_resource\n       ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n        1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\n    \\<le> adv1", "unfolding advantage_def ideal1[symmetric] real1[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>spmf\n           (connect_obsf\n             (absorb \\<A>\n               (obsf_converter\n                 (parallel_wiring \\<odot>\n                  (1\\<^sub>C |\\<^sub>\\<propto>\n                   converter_of_resource\n                    (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n             (obsf_resource (sim1 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal1)))\n           True -\n          spmf\n           (connect_obsf\n             (absorb \\<A>\n               (obsf_converter\n                 (parallel_wiring \\<odot>\n                  (1\\<^sub>C |\\<^sub>\\<propto>\n                   converter_of_resource\n                    (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n             (obsf_resource real1))\n           True\\<bar>\n    \\<le> adv1", "by(rule sec1.adv[unfolded advantage_def])(rule WT_intro)+"], ["proof (state)\nthis:\n  advantage \\<A>\n   (obsf_resource\n     ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n   (obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\n  \\<le> adv1\n\ngoal (1 subgoal):\n 1. exception_\\<I>\n     ((\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    advantage \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n    \\<le> adv1 + adv2", "from adv1 adv2"], ["proof (chain)\npicking this:\n  advantage \\<A>\n   (obsf_resource\n     ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n   (obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\n  \\<le> adv1\n  advantage \\<A>\n   (obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\n   (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n  \\<le> adv2", "show \"advantage \\<A> (obsf_resource ((sim1 |\\<^sub>= sim2) |\\<^sub>= (1\\<^sub>C |\\<^sub>= 1\\<^sub>C) \\<rhd> parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n         (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2)) \\<le> adv1 + adv2\""], ["proof (prove)\nusing this:\n  advantage \\<A>\n   (obsf_resource\n     ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n   (obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\n  \\<le> adv1\n  advantage \\<A>\n   (obsf_resource\n     ((1\\<^sub>C |\\<^sub>= sim2) |\\<^sub>=\n      1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> ideal2))\n   (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n  \\<le> adv2\n\ngoal (1 subgoal):\n 1. advantage \\<A>\n     (obsf_resource\n       ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n        parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n     (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n    \\<le> adv1 + adv2", "by(auto simp add: advantage_def)"], ["proof (state)\nthis:\n  advantage \\<A>\n   (obsf_resource\n     ((sim1 |\\<^sub>= sim2) |\\<^sub>= 1\\<^sub>C |\\<^sub>= 1\\<^sub>C \\<rhd>\n      parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2))\n   (obsf_resource (parallel_wiring \\<rhd> real1 \\<parallel> real2))\n  \\<le> adv1 + adv2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  constructive_security_obsf\n   (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n   (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2) (sim1 |\\<^sub>= sim2)\n   (\\<I>_real1 \\<oplus>\\<^sub>\\<I> \\<I>_real2)\n   (\\<I>_inner1 \\<oplus>\\<^sub>\\<I> \\<I>_inner2)\n   (\\<I>_common1 \\<oplus>\\<^sub>\\<I> \\<I>_common2) \\<A> (adv1 + adv2)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem parallel_constructive_security_obsf_fuse:\n  assumes 1: \"constructive_security_obsf real1 ideal1 sim1 (\\<I>_real1_core \\<oplus>\\<^sub>\\<I> \\<I>_real1_rest) (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal1_rest) (\\<I>_common1_core \\<oplus>\\<^sub>\\<I> \\<I>_common1_rest) (absorb \\<A> (obsf_converter (fused_wiring \\<odot> parallel_converter 1\\<^sub>C (converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))))) adv1\"\n    (is \"constructive_security_obsf _ _ _ ?\\<I>_real1 ?\\<I>_ideal1 ?\\<I>_common1 ?\\<A>1 _\")\n  assumes 2: \"constructive_security_obsf real2 ideal2 sim2 (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest) (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest) (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest) (absorb \\<A> (obsf_converter (fused_wiring \\<odot> parallel_converter (converter_of_resource real1) 1\\<^sub>C))) adv2\"\n    (is \"constructive_security_obsf _ _ _ ?\\<I>_real2 ?\\<I>_ideal2 ?\\<I>_common2 ?\\<A>2 _\")\n  shows \"constructive_security_obsf (fused_wiring \\<rhd> real1 \\<parallel> real2) (fused_wiring \\<rhd> ideal1 \\<parallel> ideal2) \n    (parallel_wiring \\<odot> (sim1 |\\<^sub>= sim2) \\<odot> parallel_wiring)\n    ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_core) \\<oplus>\\<^sub>\\<I> (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)) \n    ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I> (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n    ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_core) \\<oplus>\\<^sub>\\<I> (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n    \\<A> (adv1 + adv2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf (fused_wiring \\<rhd> real1 \\<parallel> real2)\n     (fused_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (parallel_wiring \\<odot> (sim1 |\\<^sub>= sim2) \\<odot> parallel_wiring)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     \\<A> (adv1 + adv2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf (fused_wiring \\<rhd> real1 \\<parallel> real2)\n     (fused_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (parallel_wiring \\<odot> (sim1 |\\<^sub>= sim2) \\<odot> parallel_wiring)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     \\<A> (adv1 + adv2)", "interpret sec1: constructive_security_obsf real1 ideal1 sim1 ?\\<I>_real1 ?\\<I>_ideal1 ?\\<I>_common1 ?\\<A>1 adv1"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real1 ideal1 sim1\n     (\\<I>_real1_core \\<oplus>\\<^sub>\\<I> \\<I>_real1_rest)\n     (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal1_rest)\n     (\\<I>_common1_core \\<oplus>\\<^sub>\\<I> \\<I>_common1_rest)\n     (absorb \\<A>\n       (obsf_converter\n         (fused_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n     adv1", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf (fused_wiring \\<rhd> real1 \\<parallel> real2)\n     (fused_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (parallel_wiring \\<odot> (sim1 |\\<^sub>= sim2) \\<odot> parallel_wiring)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     \\<A> (adv1 + adv2)", "interpret sec2: constructive_security_obsf real2 ideal2 sim2 ?\\<I>_real2 ?\\<I>_ideal2 ?\\<I>_common2 ?\\<A>2 adv2"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real2 ideal2 sim2\n     (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)\n     (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest)\n     (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)\n     (absorb \\<A>\n       (obsf_converter\n         (fused_wiring \\<odot>\n          (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n     adv2", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_obsf (fused_wiring \\<rhd> real1 \\<parallel> real2)\n     (fused_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (parallel_wiring \\<odot> (sim1 |\\<^sub>= sim2) \\<odot> parallel_wiring)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     \\<A> (adv1 + adv2)", "have aux1: \"constructive_security_aux_obsf real1 ideal1 sim1 ?\\<I>_real1 ?\\<I>_ideal1 ?\\<I>_common1 adv1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_aux_obsf real1 ideal1 sim1\n     (\\<I>_real1_core \\<oplus>\\<^sub>\\<I> \\<I>_real1_rest)\n     (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal1_rest)\n     (\\<I>_common1_core \\<oplus>\\<^sub>\\<I> \\<I>_common1_rest) adv1", ".."], ["proof (state)\nthis:\n  constructive_security_aux_obsf real1 ideal1 sim1\n   (\\<I>_real1_core \\<oplus>\\<^sub>\\<I> \\<I>_real1_rest)\n   (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal1_rest)\n   (\\<I>_common1_core \\<oplus>\\<^sub>\\<I> \\<I>_common1_rest) adv1\n\ngoal (1 subgoal):\n 1. constructive_security_obsf (fused_wiring \\<rhd> real1 \\<parallel> real2)\n     (fused_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (parallel_wiring \\<odot> (sim1 |\\<^sub>= sim2) \\<odot> parallel_wiring)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     \\<A> (adv1 + adv2)", "have aux2: \"constructive_security_aux_obsf real2 ideal2 sim2 ?\\<I>_real2 ?\\<I>_ideal2 ?\\<I>_common2 adv2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_aux_obsf real2 ideal2 sim2\n     (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)\n     (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest)\n     (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest) adv2", ".."], ["proof (state)\nthis:\n  constructive_security_aux_obsf real2 ideal2 sim2\n   (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)\n   (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest)\n   (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest) adv2\n\ngoal (1 subgoal):\n 1. constructive_security_obsf (fused_wiring \\<rhd> real1 \\<parallel> real2)\n     (fused_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (parallel_wiring \\<odot> (sim1 |\\<^sub>= sim2) \\<odot> parallel_wiring)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     \\<A> (adv1 + adv2)", "have sim: \"constructive_security_sim_obsf (parallel_wiring \\<rhd> real1 \\<parallel> real2) (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2) (sim1 |\\<^sub>= sim2)\n      (?\\<I>_real1 \\<oplus>\\<^sub>\\<I> ?\\<I>_real2) (?\\<I>_common1 \\<oplus>\\<^sub>\\<I> ?\\<I>_common2)\n      (absorb \\<A> (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring)))\n      (adv1 + adv2)\"\n    if [WT_intro]: \"exception_\\<I> (((\\<I>_real1_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_core) \\<oplus>\\<^sub>\\<I> (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I> ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_core) \\<oplus>\\<^sub>\\<I> (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))) \\<turnstile>g \\<A> \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_sim_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring)))\n     (adv1 + adv2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_sim_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring)))\n     (adv1 + adv2)", "interpret constructive_security_obsf \n      \"parallel_wiring \\<rhd> real1 \\<parallel> real2\"\n      \"parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2\"\n      \"sim1 |\\<^sub>= sim2\"\n      \"?\\<I>_real1 \\<oplus>\\<^sub>\\<I> ?\\<I>_real2\" \"?\\<I>_ideal1 \\<oplus>\\<^sub>\\<I> ?\\<I>_ideal2\" \"?\\<I>_common1 \\<oplus>\\<^sub>\\<I> ?\\<I>_common2\"\n      \"absorb \\<A> (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring))\"\n      \"adv1 + adv2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring)))\n     (adv1 + adv2)", "apply(rule parallel_constructive_security_obsf)"], ["proof (prove)\ngoal (2 subgoals):\n 1. constructive_security_obsf real1 ideal1 sim1\n     (\\<I>_real1_core \\<oplus>\\<^sub>\\<I> \\<I>_real1_rest)\n     (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal1_rest)\n     (\\<I>_common1_core \\<oplus>\\<^sub>\\<I> \\<I>_common1_rest)\n     (absorb\n       (absorb \\<A>\n         (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring)))\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n     adv1\n 2. constructive_security_obsf real2 ideal2 sim2\n     (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)\n     (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest)\n     (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)\n     (absorb\n       (absorb \\<A>\n         (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring)))\n       (obsf_converter\n         (parallel_wiring \\<odot>\n          (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n     adv2", "apply(fold absorb_comp_converter)"], ["proof (prove)\ngoal (2 subgoals):\n 1. constructive_security_obsf real1 ideal1 sim1\n     (\\<I>_real1_core \\<oplus>\\<^sub>\\<I> \\<I>_real1_rest)\n     (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal1_rest)\n     (\\<I>_common1_core \\<oplus>\\<^sub>\\<I> \\<I>_common1_rest)\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n        obsf_converter\n         (parallel_wiring \\<odot>\n          (1\\<^sub>C |\\<^sub>\\<propto>\n           converter_of_resource\n            (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))))\n     adv1\n 2. constructive_security_obsf real2 ideal2 sim2\n     (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)\n     (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest)\n     (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n        obsf_converter\n         (parallel_wiring \\<odot>\n          (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n     adv2", "apply(rule constructive_security_obsf_absorb_cong[OF 1])"], ["proof (prove)\ngoal (5 subgoals):\n 1. exception_\\<I> ?\\<I>4,\n    exception_\\<I>\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common1_rest)) \\<turnstile>\\<^sub>C\n    obsf_converter\n     (fused_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<surd>\n 2. exception_\\<I> ?\\<I>4,\n    exception_\\<I>\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common1_rest)) \\<turnstile>\\<^sub>C\n    obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<surd>\n 3. exception_\\<I> ?\\<I>4 \\<turnstile>g \\<A> \\<surd>\n 4. exception_\\<I>\n     ?\\<I>4,exception_\\<I>\n             ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n               \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n              (\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n               \\<I>_common1_rest)) \\<turnstile>\\<^sub>C\n    obsf_converter\n     (fused_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<sim>\n    obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))\n 5. constructive_security_obsf real2 ideal2 sim2\n     (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)\n     (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest)\n     (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n        obsf_converter\n         (parallel_wiring \\<odot>\n          (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n     adv2", "apply(rule WT_intro)+"], ["proof (prove)\ngoal (2 subgoals):\n 1. exception_\\<I>\n     (((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I>\n      ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_rest))),exception_\\<I>\n                              ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n                                \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n                               (\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n                                \\<I>_common1_rest)) \\<turnstile>\\<^sub>C\n    obsf_converter\n     (fused_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<sim>\n    obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))\n 2. constructive_security_obsf real2 ideal2 sim2\n     (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)\n     (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest)\n     (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n        obsf_converter\n         (parallel_wiring \\<odot>\n          (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n     adv2", "apply(unfold fused_wiring_def comp_converter_assoc)"], ["proof (prove)\ngoal (2 subgoals):\n 1. exception_\\<I>\n     (((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I>\n      ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_rest))),exception_\\<I>\n                              ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n                                \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n                               (\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n                                \\<I>_common1_rest)) \\<turnstile>\\<^sub>C\n    obsf_converter\n     ((parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n      parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource\n        (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2))) \\<sim>\n    obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (1\\<^sub>C |\\<^sub>\\<propto>\n       converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)))\n 2. constructive_security_obsf real2 ideal2 sim2\n     (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)\n     (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest)\n     (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n        obsf_converter\n         (parallel_wiring \\<odot>\n          (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n     adv2", "apply(rule obsf_comp_converter)"], ["proof (prove)\ngoal (4 subgoals):\n 1. ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n      \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n     (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I>\n      \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I>\n    ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n      \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n     (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)),\n    ?\\<I>'57 \\<turnstile>\\<^sub>C\n    parallel_wiring |\\<^sub>= parallel_wiring \\<surd>\n 2. ?\\<I>'57,\n    (\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_common1_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<odot>\n    (1\\<^sub>C |\\<^sub>\\<propto>\n     converter_of_resource (sim2 |\\<^sub>= 1\\<^sub>C \\<rhd> ideal2)) \\<surd>\n 3. pfinite_converter\n     (((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I>\n      ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)))\n     ?\\<I>'57 (parallel_wiring |\\<^sub>= parallel_wiring)\n 4. constructive_security_obsf real2 ideal2 sim2\n     (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)\n     (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest)\n     (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n        obsf_converter\n         (parallel_wiring \\<odot>\n          (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n     adv2", "apply(rule WT_intro pfinite_intro)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf real2 ideal2 sim2\n     (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest)\n     (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest)\n     (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n        obsf_converter\n         (parallel_wiring \\<odot>\n          (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))))\n     adv2", "apply(rule constructive_security_obsf_absorb_cong[OF 2])"], ["proof (prove)\ngoal (4 subgoals):\n 1. exception_\\<I> ?\\<I>88,\n    exception_\\<I>\n     ((\\<I>_real2_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common2_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_rest)) \\<turnstile>\\<^sub>C\n    obsf_converter\n     (fused_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<surd>\n 2. exception_\\<I> ?\\<I>88,\n    exception_\\<I>\n     ((\\<I>_real2_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common2_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_rest)) \\<turnstile>\\<^sub>C\n    obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<surd>\n 3. exception_\\<I> ?\\<I>88 \\<turnstile>g \\<A> \\<surd>\n 4. exception_\\<I>\n     ?\\<I>88,exception_\\<I>\n              ((\\<I>_real2_core \\<oplus>\\<^sub>\\<I>\n                \\<I>_real2_rest) \\<oplus>\\<^sub>\\<I>\n               (\\<I>_common2_core \\<oplus>\\<^sub>\\<I>\n                \\<I>_common2_rest)) \\<turnstile>\\<^sub>C\n    obsf_converter\n     (fused_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<sim>\n    obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))", "apply(rule WT_intro)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. exception_\\<I>\n     (((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I>\n      ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_rest))),exception_\\<I>\n                              ((\\<I>_real2_core \\<oplus>\\<^sub>\\<I>\n                                \\<I>_real2_rest) \\<oplus>\\<^sub>\\<I>\n                               (\\<I>_common2_core \\<oplus>\\<^sub>\\<I>\n                                \\<I>_common2_rest)) \\<turnstile>\\<^sub>C\n    obsf_converter\n     (fused_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<sim>\n    obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))", "apply(subst fused_wiring_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. exception_\\<I>\n     (((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I>\n      ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_rest))),exception_\\<I>\n                              ((\\<I>_real2_core \\<oplus>\\<^sub>\\<I>\n                                \\<I>_real2_rest) \\<oplus>\\<^sub>\\<I>\n                               (\\<I>_common2_core \\<oplus>\\<^sub>\\<I>\n                                \\<I>_common2_rest)) \\<turnstile>\\<^sub>C\n    obsf_converter\n     (((parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n       parallel_wiring) \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<sim>\n    obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))", "apply(unfold comp_converter_assoc)"], ["proof (prove)\ngoal (1 subgoal):\n 1. exception_\\<I>\n     (((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I>\n      ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_rest))),exception_\\<I>\n                              ((\\<I>_real2_core \\<oplus>\\<^sub>\\<I>\n                                \\<I>_real2_rest) \\<oplus>\\<^sub>\\<I>\n                               (\\<I>_common2_core \\<oplus>\\<^sub>\\<I>\n                                \\<I>_common2_rest)) \\<turnstile>\\<^sub>C\n    obsf_converter\n     ((parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n      parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C)) \\<sim>\n    obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring) \\<odot>\n    obsf_converter\n     (parallel_wiring \\<odot>\n      (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C))", "apply(rule obsf_comp_converter)"], ["proof (prove)\ngoal (3 subgoals):\n 1. ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n      \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n     (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I>\n      \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I>\n    ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n      \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n     (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)),\n    ?\\<I>'127 \\<turnstile>\\<^sub>C\n    parallel_wiring |\\<^sub>= parallel_wiring \\<surd>\n 2. ?\\<I>'127,\n    (\\<I>_real2_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_real2_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common2_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_common2_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<odot>\n    (converter_of_resource real1 |\\<^sub>\\<propto> 1\\<^sub>C) \\<surd>\n 3. pfinite_converter\n     (((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I>\n      ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)))\n     ?\\<I>'127 (parallel_wiring |\\<^sub>= parallel_wiring)", "apply(rule WT_intro pfinite_intro wiring_intro parallel_wiring_inverse)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\ngoal (1 subgoal):\n 1. constructive_security_sim_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring)))\n     (adv1 + adv2)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_sim_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring)))\n     (adv1 + adv2)", ".."], ["proof (state)\nthis:\n  constructive_security_sim_obsf\n   (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n   (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2) (sim1 |\\<^sub>= sim2)\n   ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n   ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_common1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n   (absorb \\<A>\n     (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring)))\n   (adv1 + adv2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  exception_\\<I>\n   (((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n      \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n     (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I>\n      \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I>\n    ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n      \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n     (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)))\n  \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n  constructive_security_sim_obsf\n   (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n   (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2) (sim1 |\\<^sub>= sim2)\n   ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n   ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_common1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n   (absorb \\<A>\n     (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring)))\n   (adv1 + adv2)\n\ngoal (1 subgoal):\n 1. constructive_security_obsf (fused_wiring \\<rhd> real1 \\<parallel> real2)\n     (fused_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (parallel_wiring \\<odot> (sim1 |\\<^sub>= sim2) \\<odot> parallel_wiring)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     \\<A> (adv1 + adv2)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf (fused_wiring \\<rhd> real1 \\<parallel> real2)\n     (fused_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (parallel_wiring \\<odot> (sim1 |\\<^sub>= sim2) \\<odot> parallel_wiring)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     \\<A> (adv1 + adv2)", "unfolding fused_wiring_def attach_compose"], ["proof (prove)\ngoal (1 subgoal):\n 1. constructive_security_obsf\n     (parallel_wiring |\\<^sub>= parallel_wiring \\<rhd>\n      parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring |\\<^sub>= parallel_wiring \\<rhd>\n      parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (parallel_wiring \\<odot> (sim1 |\\<^sub>= sim2) \\<odot> parallel_wiring)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     \\<A> (adv1 + adv2)", "apply(rule constructive_security_obsf_lifting[where w_adv_ideal_inv=parallel_wiring])"], ["proof (prove)\ngoal (10 subgoals):\n 1. constructive_security_aux_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2) ?\\<I>_real ?\\<I>_ideal ?\\<I>_common (adv1 + adv2)\n 2. exception_\\<I>\n     (((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I>\n      ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    constructive_security_sim_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2) ?\\<I>_real ?\\<I>_common\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring)))\n     (adv1 + adv2)\n 3. (\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest),\n    ?\\<I>_common \\<turnstile>\\<^sub>C parallel_wiring \\<surd>\n 4. pfinite_converter\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     ?\\<I>_common parallel_wiring\n 5. (\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest),\n    ?\\<I>_real \\<turnstile>\\<^sub>C parallel_wiring \\<surd>\n 6. (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest),\n    ?\\<I>_ideal \\<turnstile>\\<^sub>C parallel_wiring \\<surd>\n 7. ?\\<I>_ideal,\n    (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<surd>\n 8. ?\\<I>_ideal,?\\<I>_ideal \\<turnstile>\\<^sub>C\n    parallel_wiring \\<odot> parallel_wiring \\<sim> 1\\<^sub>C\n 9. pfinite_converter\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ?\\<I>_real parallel_wiring\n 10. pfinite_converter ?\\<I>_ideal\n      ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n      parallel_wiring", "apply(rule parallel_constructive_security_aux_obsf[OF aux1 aux2])"], ["proof (prove)\ngoal (9 subgoals):\n 1. exception_\\<I>\n     (((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I>\n        \\<I>_real2_rest)) \\<oplus>\\<^sub>\\<I>\n      ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n        \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n       (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest)))\n    \\<turnstile>g \\<A> \\<surd> \\<Longrightarrow>\n    constructive_security_sim_obsf\n     (parallel_wiring \\<rhd> real1 \\<parallel> real2)\n     (parallel_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n     (sim1 |\\<^sub>= sim2)\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     (absorb \\<A>\n       (obsf_converter (parallel_wiring |\\<^sub>= parallel_wiring)))\n     (adv1 + adv2)\n 2. (\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest),\n    (\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_common1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common2_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_common2_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<surd>\n 3. pfinite_converter\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     parallel_wiring\n 4. (\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest),\n    (\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_real2_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_real2_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<surd>\n 5. (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest),\n    (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<surd>\n 6. (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest),\n    (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<surd>\n 7. (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_rest),(\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n                        \\<I>_ideal1_rest) \\<oplus>\\<^sub>\\<I>\n                       (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I>\n                        \\<I>_ideal2_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<odot> parallel_wiring \\<sim> 1\\<^sub>C\n 8. pfinite_converter\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     parallel_wiring\n 9. pfinite_converter\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     parallel_wiring", "apply(erule sim)"], ["proof (prove)\ngoal (8 subgoals):\n 1. (\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest),\n    (\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_common1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common2_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_common2_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<surd>\n 2. pfinite_converter\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_common1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_common2_core \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n     parallel_wiring\n 3. (\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest),\n    (\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_real2_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_real2_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<surd>\n 4. (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest),\n    (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<surd>\n 5. (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest),\n    (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<surd>\n 6. (\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal1_rest) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_rest),(\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n                        \\<I>_ideal1_rest) \\<oplus>\\<^sub>\\<I>\n                       (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I>\n                        \\<I>_ideal2_rest) \\<turnstile>\\<^sub>C\n    parallel_wiring \\<odot> parallel_wiring \\<sim> 1\\<^sub>C\n 7. pfinite_converter\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_real1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_real2_core \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n     parallel_wiring\n 8. pfinite_converter\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal1_rest) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal2_core \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n       \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n      (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n     parallel_wiring", "apply(rule WT_intro pfinite_intro parallel_wiring_inverse)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  constructive_security_obsf (fused_wiring \\<rhd> real1 \\<parallel> real2)\n   (fused_wiring \\<rhd> ideal1 \\<parallel> ideal2)\n   (parallel_wiring \\<odot> (sim1 |\\<^sub>= sim2) \\<odot> parallel_wiring)\n   ((\\<I>_real1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_real2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_real1_rest \\<oplus>\\<^sub>\\<I> \\<I>_real2_rest))\n   ((\\<I>_ideal1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_ideal2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_ideal1_rest \\<oplus>\\<^sub>\\<I> \\<I>_ideal2_rest))\n   ((\\<I>_common1_core \\<oplus>\\<^sub>\\<I>\n     \\<I>_common2_core) \\<oplus>\\<^sub>\\<I>\n    (\\<I>_common1_rest \\<oplus>\\<^sub>\\<I> \\<I>_common2_rest))\n   \\<A> (adv1 + adv2)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}