{"file_name": "/home/qj213/afp-2021-10-22/thys/Smith_Normal_Form/Cauchy_Binet_HOL_Analysis.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Smith_Normal_Form", "problem_names": ["lemma HMA_submatrix[transfer_rule]: \"(HMA_M ===> HMA_M) (\\<lambda>A. submatrix A I J)\n  ((\\<lambda>A. submatrix_hma A I J):: 'a^ 'nc ^ 'nr \\<Rightarrow> 'a ^ 'nc2 ^ 'nr2)\"", "lemma Cauchy_Binet_HOL_Analysis:\n  fixes A::\"'a::comm_ring_1^'m^'n\" and B::\"'a^'n^'m\"\n  shows \"Determinants.det (A**B) = (\\<Sum>I\\<in>{I. I\\<subseteq>{0..<ncols A} \\<and> card I=nrows A}.\n         Determinants.det ((submatrix_hma A UNIV I)::'a^'n^'n) *\n         Determinants.det ((submatrix_hma B I UNIV)::'a^'n^'n))\""], "translations": [["", "lemma HMA_submatrix[transfer_rule]: \"(HMA_M ===> HMA_M) (\\<lambda>A. submatrix A I J)\n  ((\\<lambda>A. submatrix_hma A I J):: 'a^ 'nc ^ 'nr \\<Rightarrow> 'a ^ 'nc2 ^ 'nr2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (HMA_M ===> HMA_M) (\\<lambda>A. submatrix A I J)\n     (\\<lambda>A. submatrix_hma A I J)", "proof (intro rel_funI, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       HMA_M x y \\<Longrightarrow>\n       HMA_M (submatrix x I J) (submatrix_hma y I J)", "case (1 A B)"], ["proof (state)\nthis:\n  HMA_M A B\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       HMA_M x y \\<Longrightarrow>\n       HMA_M (submatrix x I J) (submatrix_hma y I J)", "note relAB[transfer_rule] = this"], ["proof (state)\nthis:\n  HMA_M A B\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       HMA_M x y \\<Longrightarrow>\n       HMA_M (submatrix x I J) (submatrix_hma y I J)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. HMA_M (submatrix A I J) (submatrix_hma B I J)", "unfolding  HMA_M_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. submatrix A I J = from_hma\\<^sub>m (submatrix_hma B I J)", "proof (rule eq_matI, auto)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)\n 2. dim_row (submatrix A I J) = CARD('nr2)\n 3. dim_col (submatrix A I J) = CARD('nc2)", "show \"dim_row (submatrix A I J) = CARD('nr2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row (submatrix A I J) = CARD('nr2)", "unfolding submatrix_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_row\n     (Matrix.mat (card {i. i < dim_row A \\<and> i \\<in> I})\n       (card {j. j < dim_col A \\<and> j \\<in> J})\n       (\\<lambda>(i, j). A $$ (pick I i, pick J j))) =\n    CARD('nr2)", "using I dim_row_transfer_rule relAB"], ["proof (prove)\nusing this:\n  card {i. i < CARD('nr) \\<and> i \\<in> I} = CARD('nr2)\n  HMA_M ?A ?A' \\<Longrightarrow> dim_row ?A = CARD(?'nr)\n  HMA_M A B\n\ngoal (1 subgoal):\n 1. dim_row\n     (Matrix.mat (card {i. i < dim_row A \\<and> i \\<in> I})\n       (card {j. j < dim_col A \\<and> j \\<in> J})\n       (\\<lambda>(i, j). A $$ (pick I i, pick J j))) =\n    CARD('nr2)", "by force"], ["proof (state)\nthis:\n  dim_row (submatrix A I J) = CARD('nr2)\n\ngoal (2 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)\n 2. dim_col (submatrix A I J) = CARD('nc2)", "show \"dim_col (submatrix A I J) = CARD('nc2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col (submatrix A I J) = CARD('nc2)", "unfolding submatrix_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_col\n     (Matrix.mat (card {i. i < dim_row A \\<and> i \\<in> I})\n       (card {j. j < dim_col A \\<and> j \\<in> J})\n       (\\<lambda>(i, j). A $$ (pick I i, pick J j))) =\n    CARD('nc2)", "using J dim_col_transfer_rule relAB"], ["proof (prove)\nusing this:\n  card {i. i < CARD('nc) \\<and> i \\<in> J} = CARD('nc2)\n  HMA_M ?A ?A' \\<Longrightarrow> dim_col ?A = CARD(?'nc)\n  HMA_M A B\n\ngoal (1 subgoal):\n 1. dim_col\n     (Matrix.mat (card {i. i < dim_row A \\<and> i \\<in> I})\n       (card {j. j < dim_col A \\<and> j \\<in> J})\n       (\\<lambda>(i, j). A $$ (pick I i, pick J j))) =\n    CARD('nc2)", "by force"], ["proof (state)\nthis:\n  dim_col (submatrix A I J) = CARD('nc2)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "let ?B=\"(submatrix_hma B I J)::'a ^ 'nc2 ^ 'nr2\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "assume i: \"i < CARD('nr2)\" and\n           j: \"j < CARD('nc2)\""], ["proof (state)\nthis:\n  i < CARD('nr2)\n  j < CARD('nc2)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "have i2: \"i < card {i. i < dim_row A \\<and> i \\<in> I}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < card {i. i < dim_row A \\<and> i \\<in> I}", "using I dim_row_transfer_rule i relAB"], ["proof (prove)\nusing this:\n  card {i. i < CARD('nr) \\<and> i \\<in> I} = CARD('nr2)\n  HMA_M ?A ?A' \\<Longrightarrow> dim_row ?A = CARD(?'nr)\n  i < CARD('nr2)\n  HMA_M A B\n\ngoal (1 subgoal):\n 1. i < card {i. i < dim_row A \\<and> i \\<in> I}", "by fastforce"], ["proof (state)\nthis:\n  i < card {i. i < dim_row A \\<and> i \\<in> I}\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "have j2: \"j < card {j. j < dim_col A \\<and> j \\<in> J}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. j < card {j. j < dim_col A \\<and> j \\<in> J}", "using J dim_col_transfer_rule j relAB"], ["proof (prove)\nusing this:\n  card {i. i < CARD('nc) \\<and> i \\<in> J} = CARD('nc2)\n  HMA_M ?A ?A' \\<Longrightarrow> dim_col ?A = CARD(?'nc)\n  j < CARD('nc2)\n  HMA_M A B\n\ngoal (1 subgoal):\n 1. j < card {j. j < dim_col A \\<and> j \\<in> J}", "by fastforce"], ["proof (state)\nthis:\n  j < card {j. j < dim_col A \\<and> j \\<in> J}\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "let ?i = \"(from_nat (pick I i))::'nr\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "let ?j = \"(from_nat (pick J j))::'nc\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "let ?i' = \"Bij_Nat.to_nat ((Bij_Nat.from_nat i)::'nr2)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "let ?j' = \"Bij_Nat.to_nat ((Bij_Nat.from_nat j)::'nc2)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "have i': \"?i' = i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Bij_Nat.to_nat (Bij_Nat.from_nat i) = i", "by (rule to_nat_from_nat_id[OF i])"], ["proof (state)\nthis:\n  Bij_Nat.to_nat (Bij_Nat.from_nat i) = i\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "have j': \"?j' = j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Bij_Nat.to_nat (Bij_Nat.from_nat j) = j", "by (rule to_nat_from_nat_id[OF j])"], ["proof (state)\nthis:\n  Bij_Nat.to_nat (Bij_Nat.from_nat j) = j\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "let ?f = \"(\\<lambda>(i, j).\n         B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat ((Bij_Nat.from_nat i)::'nr2))) $h\n         Bij_Nat.from_nat (pick J (Bij_Nat.to_nat ((Bij_Nat.from_nat j)::'nc2))))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "have [transfer_rule]: \"HMA_I (pick I i) ?i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HMA_I (pick I i) (Bij_Nat.from_nat (pick I i))", "by (simp add: Bij_Nat.to_nat_from_nat_id I i pick_le HMA_I_def)"], ["proof (state)\nthis:\n  HMA_I (pick I i) (Bij_Nat.from_nat (pick I i))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "have [transfer_rule]: \"HMA_I (pick J j) ?j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HMA_I (pick J j) (Bij_Nat.from_nat (pick J j))", "by (simp add: Bij_Nat.to_nat_from_nat_id J j pick_le HMA_I_def)"], ["proof (state)\nthis:\n  HMA_I (pick J j) (Bij_Nat.from_nat (pick J j))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "have \"submatrix A I J $$ (i, j) = A $$ (pick I i, pick J j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. submatrix A I J $$ (i, j) = A $$ (pick I i, pick J j)", "by (rule submatrix_index[OF i2 j2])"], ["proof (state)\nthis:\n  submatrix A I J $$ (i, j) = A $$ (pick I i, pick J j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "also"], ["proof (state)\nthis:\n  submatrix A I J $$ (i, j) = A $$ (pick I i, pick J j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "have \"... = index_hma B ?i ?j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A $$ (pick I i, pick J j) =\n    index_hma B (Bij_Nat.from_nat (pick I i)) (Bij_Nat.from_nat (pick J j))", "by (transfer, simp)"], ["proof (state)\nthis:\n  A $$ (pick I i, pick J j) =\n  index_hma B (Bij_Nat.from_nat (pick I i)) (Bij_Nat.from_nat (pick J j))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "also"], ["proof (state)\nthis:\n  A $$ (pick I i, pick J j) =\n  index_hma B (Bij_Nat.from_nat (pick I i)) (Bij_Nat.from_nat (pick J j))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "have \"... =  B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat ((Bij_Nat.from_nat i)::'nr2))) $h\n         Bij_Nat.from_nat (pick J (Bij_Nat.to_nat ((Bij_Nat.from_nat j)::'nc2)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. index_hma B (Bij_Nat.from_nat (pick I i))\n     (Bij_Nat.from_nat (pick J j)) =\n    B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n    Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j)))", "unfolding i' j' index_hma_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. B $h Bij_Nat.from_nat (pick I i) $h Bij_Nat.from_nat (pick J j) =\n    B $h Bij_Nat.from_nat (pick I i) $h Bij_Nat.from_nat (pick J j)", "by auto"], ["proof (state)\nthis:\n  index_hma B (Bij_Nat.from_nat (pick I i)) (Bij_Nat.from_nat (pick J j)) =\n  B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n  Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j)))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "also"], ["proof (state)\nthis:\n  index_hma B (Bij_Nat.from_nat (pick I i)) (Bij_Nat.from_nat (pick J j)) =\n  B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n  Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j)))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "have \"... = ?f (i,j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n    Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j))) =\n    (case (i, j) of\n     (i, j) \\<Rightarrow>\n       B $h\n       Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n       Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j))))", "by auto"], ["proof (state)\nthis:\n  B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n  Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j))) =\n  (case (i, j) of\n   (i, j) \\<Rightarrow>\n     B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n     Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j))))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "also"], ["proof (state)\nthis:\n  B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n  Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j))) =\n  (case (i, j) of\n   (i, j) \\<Rightarrow>\n     B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n     Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j))))\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "have \"... = Matrix.mat CARD('nr2) CARD('nc2) ?f $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case (i, j) of\n     (i, j) \\<Rightarrow>\n       B $h\n       Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n       Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j)))) =\n    Matrix.mat CARD('nr2) CARD('nc2)\n     (\\<lambda>(i, j).\n         B $h\n         Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n         Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j)))) $$\n    (i, j)", "by (rule index_mat[symmetric, OF i j])"], ["proof (state)\nthis:\n  (case (i, j) of\n   (i, j) \\<Rightarrow>\n     B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n     Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j)))) =\n  Matrix.mat CARD('nr2) CARD('nc2)\n   (\\<lambda>(i, j).\n       B $h\n       Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n       Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j)))) $$\n  (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "also"], ["proof (state)\nthis:\n  (case (i, j) of\n   (i, j) \\<Rightarrow>\n     B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n     Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j)))) =\n  Matrix.mat CARD('nr2) CARD('nc2)\n   (\\<lambda>(i, j).\n       B $h\n       Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n       Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j)))) $$\n  (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "have \"... = from_hma\\<^sub>m ?B $$ (i, j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Matrix.mat CARD('nr2) CARD('nc2)\n     (\\<lambda>(i, j).\n         B $h\n         Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n         Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j)))) $$\n    (i, j) =\n    from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "unfolding from_hma\\<^sub>m_def submatrix_hma_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Matrix.mat CARD('nr2) CARD('nc2)\n     (\\<lambda>(i, j).\n         B $h\n         Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n         Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j)))) $$\n    (i, j) =\n    Matrix.mat CARD('nr2) CARD('nc2)\n     (\\<lambda>(i, j).\n         (\\<chi>a b.\n             B $h Bij_Nat.from_nat (pick I (Bij_Nat.to_nat a)) $h\n             Bij_Nat.from_nat (pick J (Bij_Nat.to_nat b))) $h\n         Bij_Nat.from_nat i $h\n         Bij_Nat.from_nat j) $$\n    (i, j)", "by auto"], ["proof (state)\nthis:\n  Matrix.mat CARD('nr2) CARD('nc2)\n   (\\<lambda>(i, j).\n       B $h\n       Bij_Nat.from_nat (pick I (Bij_Nat.to_nat (Bij_Nat.from_nat i))) $h\n       Bij_Nat.from_nat (pick J (Bij_Nat.to_nat (Bij_Nat.from_nat j)))) $$\n  (i, j) =\n  from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < CARD('nr2); j < CARD('nc2)\\<rbrakk>\n       \\<Longrightarrow> submatrix A I J $$ (i, j) =\n                         from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "finally"], ["proof (chain)\npicking this:\n  submatrix A I J $$ (i, j) =\n  from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "show \"submatrix A I J $$ (i, j) = from_hma\\<^sub>m ?B $$ (i, j)\""], ["proof (prove)\nusing this:\n  submatrix A I J $$ (i, j) =\n  from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)\n\ngoal (1 subgoal):\n 1. submatrix A I J $$ (i, j) =\n    from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)", "."], ["proof (state)\nthis:\n  submatrix A I J $$ (i, j) =\n  from_hma\\<^sub>m (submatrix_hma B I J) $$ (i, j)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  HMA_M (submatrix A I J) (submatrix_hma B I J)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"], ["", "subsection \\<open>Transferring the proof from JNF to HOL Analysis\\<close>"], ["", "lemma Cauchy_Binet_HOL_Analysis:\n  fixes A::\"'a::comm_ring_1^'m^'n\" and B::\"'a^'n^'m\"\n  shows \"Determinants.det (A**B) = (\\<Sum>I\\<in>{I. I\\<subseteq>{0..<ncols A} \\<and> card I=nrows A}.\n         Determinants.det ((submatrix_hma A UNIV I)::'a^'n^'n) *\n         Determinants.det ((submatrix_hma B I UNIV)::'a^'n^'n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Determinants.det (A ** B) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Determinants.det (A ** B) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV))", "let ?A = \"(from_hma\\<^sub>m A)\""], ["proof (state)\ngoal (1 subgoal):\n 1. Determinants.det (A ** B) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV))", "let ?B = \"(from_hma\\<^sub>m B)\""], ["proof (state)\ngoal (1 subgoal):\n 1. Determinants.det (A ** B) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV))", "have relA[transfer_rule]: \"HMA_M ?A A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HMA_M (from_hma\\<^sub>m A) A", "unfolding HMA_M_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. from_hma\\<^sub>m A = from_hma\\<^sub>m A", "by simp"], ["proof (state)\nthis:\n  HMA_M (from_hma\\<^sub>m A) A\n\ngoal (1 subgoal):\n 1. Determinants.det (A ** B) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV))", "have relB[transfer_rule]: \"HMA_M ?B B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HMA_M (from_hma\\<^sub>m B) B", "unfolding HMA_M_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. from_hma\\<^sub>m B = from_hma\\<^sub>m B", "by simp"], ["proof (state)\nthis:\n  HMA_M (from_hma\\<^sub>m B) B\n\ngoal (1 subgoal):\n 1. Determinants.det (A ** B) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV))", "have \"(\\<Sum>I\\<in>{I. I\\<subseteq>{0..<ncols A} \\<and> card I = nrows A}.\n         Determinants.det ((submatrix_hma A UNIV I)::'a^'n^'n) *\n         Determinants.det ((submatrix_hma B I UNIV)::'a^'n^'n)) =\n          (\\<Sum>I\\<in>{I. I\\<subseteq>{0..<ncols A} \\<and> card I=nrows A}. det (submatrix ?A UNIV I)\n        * det (submatrix ?B I UNIV))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV)) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV I) *\n       Determinant.det (submatrix (from_hma\\<^sub>m B) I UNIV))", "proof (rule sum.cong)"], ["proof (state)\ngoal (2 subgoals):\n 1. {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A} =\n    {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n 2. \\<And>x.\n       x \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and>\n                   card I = nrows A} \\<Longrightarrow>\n       Determinants.det (submatrix_hma A UNIV x) *\n       Determinants.det (submatrix_hma B x UNIV) =\n       Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV x) *\n       Determinant.det (submatrix (from_hma\\<^sub>m B) x UNIV)", "fix I"], ["proof (state)\ngoal (2 subgoals):\n 1. {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A} =\n    {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n 2. \\<And>x.\n       x \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and>\n                   card I = nrows A} \\<Longrightarrow>\n       Determinants.det (submatrix_hma A UNIV x) *\n       Determinants.det (submatrix_hma B x UNIV) =\n       Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV x) *\n       Determinant.det (submatrix (from_hma\\<^sub>m B) x UNIV)", "assume I: \"I \\<in>{I. I\\<subseteq>{0..<ncols A} \\<and> card I=nrows A}\""], ["proof (state)\nthis:\n  I \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n\ngoal (2 subgoals):\n 1. {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A} =\n    {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n 2. \\<And>x.\n       x \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and>\n                   card I = nrows A} \\<Longrightarrow>\n       Determinants.det (submatrix_hma A UNIV x) *\n       Determinants.det (submatrix_hma B x UNIV) =\n       Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV x) *\n       Determinant.det (submatrix (from_hma\\<^sub>m B) x UNIV)", "let ?sub_A= \"((submatrix_hma A UNIV I)::'a^'n^'n)\""], ["proof (state)\ngoal (2 subgoals):\n 1. {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A} =\n    {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n 2. \\<And>x.\n       x \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and>\n                   card I = nrows A} \\<Longrightarrow>\n       Determinants.det (submatrix_hma A UNIV x) *\n       Determinants.det (submatrix_hma B x UNIV) =\n       Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV x) *\n       Determinant.det (submatrix (from_hma\\<^sub>m B) x UNIV)", "let ?sub_B= \"((submatrix_hma B I UNIV)::'a^'n^'n)\""], ["proof (state)\ngoal (2 subgoals):\n 1. {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A} =\n    {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n 2. \\<And>x.\n       x \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and>\n                   card I = nrows A} \\<Longrightarrow>\n       Determinants.det (submatrix_hma A UNIV x) *\n       Determinants.det (submatrix_hma B x UNIV) =\n       Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV x) *\n       Determinant.det (submatrix (from_hma\\<^sub>m B) x UNIV)", "have c1: \"card {i. i < CARD('n) \\<and> i \\<in> UNIV} = CARD('n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card {i. i < CARD('n) \\<and> i \\<in> UNIV} = CARD('n)", "using I"], ["proof (prove)\nusing this:\n  I \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n\ngoal (1 subgoal):\n 1. card {i. i < CARD('n) \\<and> i \\<in> UNIV} = CARD('n)", "by auto"], ["proof (state)\nthis:\n  card {i. i < CARD('n) \\<and> i \\<in> UNIV} = CARD('n)\n\ngoal (2 subgoals):\n 1. {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A} =\n    {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n 2. \\<And>x.\n       x \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and>\n                   card I = nrows A} \\<Longrightarrow>\n       Determinants.det (submatrix_hma A UNIV x) *\n       Determinants.det (submatrix_hma B x UNIV) =\n       Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV x) *\n       Determinant.det (submatrix (from_hma\\<^sub>m B) x UNIV)", "have c2: \"card {i. i < CARD('m) \\<and> i \\<in> I} = CARD('n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card {i. i < CARD('m) \\<and> i \\<in> I} = CARD('n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card {i. i < CARD('m) \\<and> i \\<in> I} = CARD('n)", "have \"I = {i. i < CARD('m) \\<and> i \\<in> I}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. I = {i. i < CARD('m) \\<and> i \\<in> I}", "using I"], ["proof (prove)\nusing this:\n  I \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n\ngoal (1 subgoal):\n 1. I = {i. i < CARD('m) \\<and> i \\<in> I}", "unfolding nrows_def ncols_def"], ["proof (prove)\nusing this:\n  I \\<in> {I. I \\<subseteq> {0..<CARD('m)} \\<and> card I = CARD('n)}\n\ngoal (1 subgoal):\n 1. I = {i. i < CARD('m) \\<and> i \\<in> I}", "by auto"], ["proof (state)\nthis:\n  I = {i. i < CARD('m) \\<and> i \\<in> I}\n\ngoal (1 subgoal):\n 1. card {i. i < CARD('m) \\<and> i \\<in> I} = CARD('n)", "thus ?thesis"], ["proof (prove)\nusing this:\n  I = {i. i < CARD('m) \\<and> i \\<in> I}\n\ngoal (1 subgoal):\n 1. card {i. i < CARD('m) \\<and> i \\<in> I} = CARD('n)", "using I nrows_def"], ["proof (prove)\nusing this:\n  I = {i. i < CARD('m) \\<and> i \\<in> I}\n  I \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n  nrows ?A = CARD(?'rows)\n\ngoal (1 subgoal):\n 1. card {i. i < CARD('m) \\<and> i \\<in> I} = CARD('n)", "by auto"], ["proof (state)\nthis:\n  card {i. i < CARD('m) \\<and> i \\<in> I} = CARD('n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  card {i. i < CARD('m) \\<and> i \\<in> I} = CARD('n)\n\ngoal (2 subgoals):\n 1. {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A} =\n    {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n 2. \\<And>x.\n       x \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and>\n                   card I = nrows A} \\<Longrightarrow>\n       Determinants.det (submatrix_hma A UNIV x) *\n       Determinants.det (submatrix_hma B x UNIV) =\n       Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV x) *\n       Determinant.det (submatrix (from_hma\\<^sub>m B) x UNIV)", "have [transfer_rule]: \"HMA_M (submatrix ?A UNIV I) ?sub_A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HMA_M (submatrix (from_hma\\<^sub>m A) UNIV I) (submatrix_hma A UNIV I)", "using HMA_submatrix[OF c1 c2] relA"], ["proof (prove)\nusing this:\n  rel_fun HMA_M HMA_M (\\<lambda>A. submatrix A UNIV I)\n   (\\<lambda>A. submatrix_hma A UNIV I)\n  HMA_M (from_hma\\<^sub>m A) A\n\ngoal (1 subgoal):\n 1. HMA_M (submatrix (from_hma\\<^sub>m A) UNIV I) (submatrix_hma A UNIV I)", "unfolding rel_fun_def"], ["proof (prove)\nusing this:\n  \\<forall>x y.\n     HMA_M x y \\<longrightarrow>\n     HMA_M (submatrix x UNIV I) (submatrix_hma y UNIV I)\n  HMA_M (from_hma\\<^sub>m A) A\n\ngoal (1 subgoal):\n 1. HMA_M (submatrix (from_hma\\<^sub>m A) UNIV I) (submatrix_hma A UNIV I)", "by auto"], ["proof (state)\nthis:\n  HMA_M (submatrix (from_hma\\<^sub>m A) UNIV I) (submatrix_hma A UNIV I)\n\ngoal (2 subgoals):\n 1. {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A} =\n    {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n 2. \\<And>x.\n       x \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and>\n                   card I = nrows A} \\<Longrightarrow>\n       Determinants.det (submatrix_hma A UNIV x) *\n       Determinants.det (submatrix_hma B x UNIV) =\n       Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV x) *\n       Determinant.det (submatrix (from_hma\\<^sub>m B) x UNIV)", "have [transfer_rule]: \"HMA_M (submatrix ?B I UNIV) ?sub_B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. HMA_M (submatrix (from_hma\\<^sub>m B) I UNIV) (submatrix_hma B I UNIV)", "using HMA_submatrix[OF c2 c1] relB"], ["proof (prove)\nusing this:\n  rel_fun HMA_M HMA_M (\\<lambda>A. submatrix A I UNIV)\n   (\\<lambda>A. submatrix_hma A I UNIV)\n  HMA_M (from_hma\\<^sub>m B) B\n\ngoal (1 subgoal):\n 1. HMA_M (submatrix (from_hma\\<^sub>m B) I UNIV) (submatrix_hma B I UNIV)", "unfolding rel_fun_def"], ["proof (prove)\nusing this:\n  \\<forall>x y.\n     HMA_M x y \\<longrightarrow>\n     HMA_M (submatrix x I UNIV) (submatrix_hma y I UNIV)\n  HMA_M (from_hma\\<^sub>m B) B\n\ngoal (1 subgoal):\n 1. HMA_M (submatrix (from_hma\\<^sub>m B) I UNIV) (submatrix_hma B I UNIV)", "by auto"], ["proof (state)\nthis:\n  HMA_M (submatrix (from_hma\\<^sub>m B) I UNIV) (submatrix_hma B I UNIV)\n\ngoal (2 subgoals):\n 1. {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A} =\n    {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}\n 2. \\<And>x.\n       x \\<in> {I. I \\<subseteq> {0..<ncols A} \\<and>\n                   card I = nrows A} \\<Longrightarrow>\n       Determinants.det (submatrix_hma A UNIV x) *\n       Determinants.det (submatrix_hma B x UNIV) =\n       Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV x) *\n       Determinant.det (submatrix (from_hma\\<^sub>m B) x UNIV)", "show \"Determinants.det ?sub_A * Determinants.det ?sub_B\n      = det (submatrix ?A UNIV I) * det (submatrix ?B I UNIV)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Determinants.det (submatrix_hma A UNIV I) *\n    Determinants.det (submatrix_hma B I UNIV) =\n    Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV I) *\n    Determinant.det (submatrix (from_hma\\<^sub>m B) I UNIV)", "by (transfer', auto)"], ["proof (state)\nthis:\n  Determinants.det (submatrix_hma A UNIV I) *\n  Determinants.det (submatrix_hma B I UNIV) =\n  Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV I) *\n  Determinant.det (submatrix (from_hma\\<^sub>m B) I UNIV)\n\ngoal (1 subgoal):\n 1. {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A} =\n    {I. I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A}", "qed (auto)"], ["proof (state)\nthis:\n  (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n     Determinants.det (submatrix_hma A UNIV I) *\n     Determinants.det (submatrix_hma B I UNIV)) =\n  (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n     Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV I) *\n     Determinant.det (submatrix (from_hma\\<^sub>m B) I UNIV))\n\ngoal (1 subgoal):\n 1. Determinants.det (A ** B) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV))", "also"], ["proof (state)\nthis:\n  (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n     Determinants.det (submatrix_hma A UNIV I) *\n     Determinants.det (submatrix_hma B I UNIV)) =\n  (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n     Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV I) *\n     Determinant.det (submatrix (from_hma\\<^sub>m B) I UNIV))\n\ngoal (1 subgoal):\n 1. Determinants.det (A ** B) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV))", "have \"... = det (?A*?B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV I) *\n       Determinant.det (submatrix (from_hma\\<^sub>m B) I UNIV)) =\n    Determinant.det (from_hma\\<^sub>m A * from_hma\\<^sub>m B)", "by (rule Cauchy_Binet[symmetric], unfold nrows_def ncols_def, auto)"], ["proof (state)\nthis:\n  (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n     Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV I) *\n     Determinant.det (submatrix (from_hma\\<^sub>m B) I UNIV)) =\n  Determinant.det (from_hma\\<^sub>m A * from_hma\\<^sub>m B)\n\ngoal (1 subgoal):\n 1. Determinants.det (A ** B) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV))", "also"], ["proof (state)\nthis:\n  (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n     Determinant.det (submatrix (from_hma\\<^sub>m A) UNIV I) *\n     Determinant.det (submatrix (from_hma\\<^sub>m B) I UNIV)) =\n  Determinant.det (from_hma\\<^sub>m A * from_hma\\<^sub>m B)\n\ngoal (1 subgoal):\n 1. Determinants.det (A ** B) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV))", "have \"... = Determinants.det (A**B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Determinant.det (from_hma\\<^sub>m A * from_hma\\<^sub>m B) =\n    Determinants.det (A ** B)", "by (transfer', auto)"], ["proof (state)\nthis:\n  Determinant.det (from_hma\\<^sub>m A * from_hma\\<^sub>m B) =\n  Determinants.det (A ** B)\n\ngoal (1 subgoal):\n 1. Determinants.det (A ** B) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV))", "finally"], ["proof (chain)\npicking this:\n  (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n     Determinants.det (submatrix_hma A UNIV I) *\n     Determinants.det (submatrix_hma B I UNIV)) =\n  Determinants.det (A ** B)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n     Determinants.det (submatrix_hma A UNIV I) *\n     Determinants.det (submatrix_hma B I UNIV)) =\n  Determinants.det (A ** B)\n\ngoal (1 subgoal):\n 1. Determinants.det (A ** B) =\n    (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n       Determinants.det (submatrix_hma A UNIV I) *\n       Determinants.det (submatrix_hma B I UNIV))", ".."], ["proof (state)\nthis:\n  Determinants.det (A ** B) =\n  (\\<Sum>I | I \\<subseteq> {0..<ncols A} \\<and> card I = nrows A.\n     Determinants.det (submatrix_hma A UNIV I) *\n     Determinants.det (submatrix_hma B I UNIV))\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}