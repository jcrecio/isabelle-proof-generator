{"file_name": "/home/qj213/afp-2021-10-22/thys/Optimal_BST/Quadrilateral_Inequality.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Optimal_BST", "problem_names": ["lemmas Args_min_simps = Args_min_on_def is_arg_min_on_def", "lemma is_arg_min_on_antimono: fixes f :: \"_ \\<Rightarrow> _::order\"\nshows \"\\<lbrakk> is_arg_min_on f S x; f y \\<le> f x; y \\<in> S \\<rbrakk> \\<Longrightarrow> is_arg_min_on f S y\"", "lemma ex_is_arg_min_on_if_finite: fixes f :: \"'a \\<Rightarrow> 'b :: linorder\"\nshows \"\\<lbrakk> finite S; S \\<noteq> {} \\<rbrakk> \\<Longrightarrow> \\<exists>x. is_arg_min_on f S x\"", "lemma c_def_rec:\n  \"i < j \\<Longrightarrow> c i j = Min ((\\<lambda>k. c i (k-1) + c k j + w i j) ` {i+1..j})\"", "lemma mins_subset: \"mins i j \\<subseteq> {i+1..j}\"", "lemma mins_nonempty: \"i < j \\<Longrightarrow> mins i j \\<noteq> {}\"", "lemma finite_mins: \"finite(mins i j)\"", "lemma is_arg_min_on_Min:\nassumes \"finite A\" \"is_arg_min_on f A a\" shows \"Min (f ` A) = f a\"", "lemma c_k_with_K: \"i < j \\<Longrightarrow> c i j = c_k i j (K i j)\"", "lemma K_subset: assumes \"i \\<le> j\" shows \"K i j \\<in> {i..j}\"", "lemma lemma_2:\n  \"\\<lbrakk> l = nat (j'- i);  i \\<le> i';  i' \\<le> j;  j \\<le> j' \\<rbrakk>\n   \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\"", "lemma lemma_3_1: assumes \"i \\<le> j\" shows \"K i j \\<le> K i (j+1)\"", "lemma lemma_3_2: assumes \"i \\<le> j\" shows \"K i (j+1) \\<le> K (i+1) (j+1)\"", "lemma lemma_3: assumes \"i \\<le> j\" \n  shows \"K i j \\<le> K i (j+1)\" \"K i (j+1) \\<le> K (i+1) (j+1)\""], "translations": [["", "lemmas Args_min_simps = Args_min_on_def is_arg_min_on_def"], ["", "lemma is_arg_min_on_antimono: fixes f :: \"_ \\<Rightarrow> _::order\"\nshows \"\\<lbrakk> is_arg_min_on f S x; f y \\<le> f x; y \\<in> S \\<rbrakk> \\<Longrightarrow> is_arg_min_on f S y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>is_arg_min_on f S x; f y \\<le> f x; y \\<in> S\\<rbrakk>\n    \\<Longrightarrow> is_arg_min_on f S y", "by (metis antisym is_arg_min_on_def)"], ["", "lemma ex_is_arg_min_on_if_finite: fixes f :: \"'a \\<Rightarrow> 'b :: linorder\"\nshows \"\\<lbrakk> finite S; S \\<noteq> {} \\<rbrakk> \\<Longrightarrow> \\<exists>x. is_arg_min_on f S x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite S; S \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x. is_arg_min_on f S x", "unfolding is_arg_min_on_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite S; S \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         x \\<in> S \\<and> (\\<forall>y\\<in>S. f x \\<le> f y)", "using ex_min_if_finite[of \"f ` S\"]"], ["proof (prove)\nusing this:\n  \\<lbrakk>finite (f ` S); f ` S \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>m\\<in>f ` S.\n                       \\<not> (\\<exists>x\\<in>f ` S. x < m)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>finite S; S \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         x \\<in> S \\<and> (\\<forall>y\\<in>S. f x \\<le> f y)", "by fastforce"], ["", "locale QI =\n  fixes c_k :: \"int \\<Rightarrow> int \\<Rightarrow> int \\<Rightarrow> nat\"\n  fixes c :: \"int \\<Rightarrow> int \\<Rightarrow> nat\"\n  and w :: \"int \\<Rightarrow> int \\<Rightarrow> nat\"\n  assumes QI_w: \"\\<lbrakk>i \\<le> i'; i' < j; j \\<le> j'\\<rbrakk> \\<Longrightarrow>\n    w i j + w i' j'\\<le> w i' j + w i j'\"\n  assumes monotone_w: \"\\<lbrakk>i \\<le> i'; i' < j; j \\<le> j'\\<rbrakk> \\<Longrightarrow> w i' j \\<le> w i j'\"\n  assumes c_def: \"i < j \\<Longrightarrow> c i j = Min ((c_k i j) ` {i+1..j})\"\n  assumes c_k_def: \"\\<lbrakk> i < j;  k \\<in> {i+1..j} \\<rbrakk> \\<Longrightarrow>\n    c_k i j k = w i j + c i (k-1) + c k j\"\nbegin"], ["", "abbreviation \"mins i j \\<equiv> Args_min_on (c_k i j) {i+1..j}\""], ["", "definition \"K i j \\<equiv> (if i = j then i else Max (mins i j))\""], ["", "lemma c_def_rec:\n  \"i < j \\<Longrightarrow> c i j = Min ((\\<lambda>k. c i (k-1) + c k j + w i j) ` {i+1..j})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < j \\<Longrightarrow>\n    c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)", "using c_def c_k_def"], ["proof (prove)\nusing this:\n  ?i < ?j \\<Longrightarrow> c ?i ?j = Min (c_k ?i ?j ` {?i + 1..?j})\n  \\<lbrakk>?i < ?j; ?k \\<in> {?i + 1..?j}\\<rbrakk>\n  \\<Longrightarrow> c_k ?i ?j ?k = w ?i ?j + c ?i (?k - 1) + c ?k ?j\n\ngoal (1 subgoal):\n 1. i < j \\<Longrightarrow>\n    c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)", "by (auto simp: algebra_simps image_def)"], ["", "lemma mins_subset: \"mins i j \\<subseteq> {i+1..j}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mins i j \\<subseteq> {i + 1..j}", "by (auto simp: Args_min_simps)"], ["", "lemma mins_nonempty: \"i < j \\<Longrightarrow> mins i j \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < j \\<Longrightarrow> mins i j \\<noteq> {}", "using ex_is_arg_min_on_if_finite[OF finite_atLeastAtMost_int, of \"i+1\" j \"c_k i j\"]"], ["proof (prove)\nusing this:\n  {i + 1..j} \\<noteq> {} \\<Longrightarrow>\n  \\<exists>x. is_arg_min_on (c_k i j) {i + 1..j} x\n\ngoal (1 subgoal):\n 1. i < j \\<Longrightarrow> mins i j \\<noteq> {}", "by(auto simp: Args_min_simps)"], ["", "lemma finite_mins: \"finite(mins i j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (mins i j)", "by(simp add: finite_subset[OF mins_subset])"], ["", "lemma is_arg_min_on_Min:\nassumes \"finite A\" \"is_arg_min_on f A a\" shows \"Min (f ` A) = f a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Min (f ` A) = f a", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Min (f ` A) = f a", "from assms(2)"], ["proof (chain)\npicking this:\n  is_arg_min_on f A a", "have \"f ` A \\<noteq> {}\""], ["proof (prove)\nusing this:\n  is_arg_min_on f A a\n\ngoal (1 subgoal):\n 1. f ` A \\<noteq> {}", "by (fastforce simp: is_arg_min_on_def)"], ["proof (state)\nthis:\n  f ` A \\<noteq> {}\n\ngoal (1 subgoal):\n 1. Min (f ` A) = f a", "thus ?thesis"], ["proof (prove)\nusing this:\n  f ` A \\<noteq> {}\n\ngoal (1 subgoal):\n 1. Min (f ` A) = f a", "using assms"], ["proof (prove)\nusing this:\n  f ` A \\<noteq> {}\n  finite A\n  is_arg_min_on f A a\n\ngoal (1 subgoal):\n 1. Min (f ` A) = f a", "by (simp add: antisym is_arg_min_on_def)"], ["proof (state)\nthis:\n  Min (f ` A) = f a\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma c_k_with_K: \"i < j \\<Longrightarrow> c i j = c_k i j (K i j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < j \\<Longrightarrow> c i j = c_k i j (K i j)", "using Max_in[of \"mins i j\"] finite_mins[of i j] mins_nonempty[of i j]\n  is_arg_min_on_Min[of \"{i+1..j}\" \"c_k i j\"]"], ["proof (prove)\nusing this:\n  \\<lbrakk>finite (mins i j); mins i j \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> Max (mins i j) \\<in> mins i j\n  finite (mins i j)\n  i < j \\<Longrightarrow> mins i j \\<noteq> {}\n  \\<lbrakk>finite {i + 1..j}; is_arg_min_on (c_k i j) {i + 1..j} ?a\\<rbrakk>\n  \\<Longrightarrow> Min (c_k i j ` {i + 1..j}) = c_k i j ?a\n\ngoal (1 subgoal):\n 1. i < j \\<Longrightarrow> c i j = c_k i j (K i j)", "by (auto simp: Args_min_simps c_def K_def)"], ["", "lemma K_subset: assumes \"i \\<le> j\" shows \"K i j \\<in> {i..j}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i j \\<in> {i..j}", "using mins_subset K_def"], ["proof (prove)\nusing this:\n  mins ?i ?j \\<subseteq> {?i + 1..?j}\n  K ?i ?j \\<equiv> if ?i = ?j then ?i else Max (mins ?i ?j)\n\ngoal (1 subgoal):\n 1. K i j \\<in> {i..j}", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>i j. mins i j \\<subseteq> {i + 1..j};\n     \\<And>i j. K i j \\<equiv> if i = j then i else Max (mins i j);\n     ?P4\\<rbrakk>\n    \\<Longrightarrow> K i j \\<in> {i..j}\n 2. \\<lbrakk>\\<And>i j. mins i j \\<subseteq> {i + 1..j};\n     \\<And>i j. K i j \\<equiv> if i = j then i else Max (mins i j);\n     \\<not> ?P4\\<rbrakk>\n    \\<Longrightarrow> K i j \\<in> {i..j}", "assume \"i = j\""], ["proof (state)\nthis:\n  i = j\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>i j. mins i j \\<subseteq> {i + 1..j};\n     \\<And>i j. K i j \\<equiv> if i = j then i else Max (mins i j);\n     ?P4\\<rbrakk>\n    \\<Longrightarrow> K i j \\<in> {i..j}\n 2. \\<lbrakk>\\<And>i j. mins i j \\<subseteq> {i + 1..j};\n     \\<And>i j. K i j \\<equiv> if i = j then i else Max (mins i j);\n     \\<not> ?P4\\<rbrakk>\n    \\<Longrightarrow> K i j \\<in> {i..j}", "thus ?thesis"], ["proof (prove)\nusing this:\n  i = j\n\ngoal (1 subgoal):\n 1. K i j \\<in> {i..j}", "using K_def"], ["proof (prove)\nusing this:\n  i = j\n  K ?i ?j \\<equiv> if ?i = ?j then ?i else Max (mins ?i ?j)\n\ngoal (1 subgoal):\n 1. K i j \\<in> {i..j}", "by auto"], ["proof (state)\nthis:\n  K i j \\<in> {i..j}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>i j. mins i j \\<subseteq> {i + 1..j};\n     \\<And>i j. K i j \\<equiv> if i = j then i else Max (mins i j);\n     i \\<noteq> j\\<rbrakk>\n    \\<Longrightarrow> K i j \\<in> {i..j}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>i j. mins i j \\<subseteq> {i + 1..j};\n     \\<And>i j. K i j \\<equiv> if i = j then i else Max (mins i j);\n     i \\<noteq> j\\<rbrakk>\n    \\<Longrightarrow> K i j \\<in> {i..j}", "assume \"\\<not>i = j\""], ["proof (state)\nthis:\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>i j. mins i j \\<subseteq> {i + 1..j};\n     \\<And>i j. K i j \\<equiv> if i = j then i else Max (mins i j);\n     i \\<noteq> j\\<rbrakk>\n    \\<Longrightarrow> K i j \\<in> {i..j}", "hence \"K i j \\<in> {i+1..j}\""], ["proof (prove)\nusing this:\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. K i j \\<in> {i + 1..j}", "using mins_subset K_def \\<open>i \\<le> j\\<close>"], ["proof (prove)\nusing this:\n  i \\<noteq> j\n  mins ?i ?j \\<subseteq> {?i + 1..?j}\n  K ?i ?j \\<equiv> if ?i = ?j then ?i else Max (mins ?i ?j)\n  i \\<le> j\n\ngoal (1 subgoal):\n 1. K i j \\<in> {i + 1..j}", "by (metis Max_in finite_mins less_le mins_nonempty subsetCE)"], ["proof (state)\nthis:\n  K i j \\<in> {i + 1..j}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>i j. mins i j \\<subseteq> {i + 1..j};\n     \\<And>i j. K i j \\<equiv> if i = j then i else Max (mins i j);\n     i \\<noteq> j\\<rbrakk>\n    \\<Longrightarrow> K i j \\<in> {i..j}", "thus ?thesis"], ["proof (prove)\nusing this:\n  K i j \\<in> {i + 1..j}\n\ngoal (1 subgoal):\n 1. K i j \\<in> {i..j}", "by auto"], ["proof (state)\nthis:\n  K i j \\<in> {i..j}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lemma_2:\n  \"\\<lbrakk> l = nat (j'- i);  i \\<le> i';  i' \\<le> j;  j \\<le> j' \\<rbrakk>\n   \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>l = nat (j' - i); i \\<le> i'; i' \\<le> j; j \\<le> j'\\<rbrakk>\n    \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "proof(induction l arbitrary: i i' j j' rule:less_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x i i' j j'.\n       \\<lbrakk>\\<And>y i i' j j'.\n                   \\<lbrakk>y < x; y = nat (j' - i); i \\<le> i'; i' \\<le> j;\n                    j \\<le> j'\\<rbrakk>\n                   \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j;\n        x = nat (j' - i); i \\<le> i'; i' \\<le> j; j \\<le> j'\\<rbrakk>\n       \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "case (less l)"], ["proof (state)\nthis:\n  \\<lbrakk>?y < l; ?y = nat (?j' - ?i); ?i \\<le> ?i'; ?i' \\<le> ?j;\n   ?j \\<le> ?j'\\<rbrakk>\n  \\<Longrightarrow> c ?i ?j + c ?i' ?j' \\<le> c ?i ?j' + c ?i' ?j\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n\ngoal (1 subgoal):\n 1. \\<And>x i i' j j'.\n       \\<lbrakk>\\<And>y i i' j j'.\n                   \\<lbrakk>y < x; y = nat (j' - i); i \\<le> i'; i' \\<le> j;\n                    j \\<le> j'\\<rbrakk>\n                   \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j;\n        x = nat (j' - i); i \\<le> i'; i' \\<le> j; j \\<le> j'\\<rbrakk>\n       \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "assume \"l \\<le> 1\""], ["proof (state)\nthis:\n  l \\<le> 1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "hence \"i = i' \\<or> j = j'\""], ["proof (prove)\nusing this:\n  l \\<le> 1\n\ngoal (1 subgoal):\n 1. i = i' \\<or> j = j'", "using less.prems"], ["proof (prove)\nusing this:\n  l \\<le> 1\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n\ngoal (1 subgoal):\n 1. i = i' \\<or> j = j'", "by linarith"], ["proof (state)\nthis:\n  i = i' \\<or> j = j'\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "thus ?case"], ["proof (prove)\nusing this:\n  i = i' \\<or> j = j'\n\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "by auto"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal (1 subgoal):\n 1. \\<not> l \\<le> 1 \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> l \\<le> 1 \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "assume \"\\<not> l \\<le> 1\""], ["proof (state)\nthis:\n  \\<not> l \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<not> l \\<le> 1 \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "assume \"i \\<ge> i'\""], ["proof (state)\nthis:\n  i' \\<le> i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "thus ?thesis"], ["proof (prove)\nusing this:\n  i' \\<le> i\n\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "using less.prems"], ["proof (prove)\nusing this:\n  i' \\<le> i\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "by auto"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal (1 subgoal):\n 1. \\<not> i' \\<le> i \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> i' \\<le> i \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "assume \"\\<not>i \\<ge> i'\""], ["proof (state)\nthis:\n  \\<not> i' \\<le> i\n\ngoal (1 subgoal):\n 1. \\<not> i' \\<le> i \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "hence \"i < i'\""], ["proof (prove)\nusing this:\n  \\<not> i' \\<le> i\n\ngoal (1 subgoal):\n 1. i < i'", "by simp"], ["proof (state)\nthis:\n  i < i'\n\ngoal (1 subgoal):\n 1. \\<not> i' \\<le> i \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "assume \"j \\<ge> j'\""], ["proof (state)\nthis:\n  j' \\<le> j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "thus ?thesis"], ["proof (prove)\nusing this:\n  j' \\<le> j\n\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "using less.prems"], ["proof (prove)\nusing this:\n  j' \\<le> j\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "by auto"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal (1 subgoal):\n 1. \\<not> j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "assume \"\\<not> j \\<ge> j'\""], ["proof (state)\nthis:\n  \\<not> j' \\<le> j\n\ngoal (1 subgoal):\n 1. \\<not> j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "(*-----------------------case 1: i' = j --------------------------------------------------*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "assume \"i' = j\""], ["proof (state)\nthis:\n  i' = j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "let ?k = \"K i j'\""], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"?k \\<in> {i+1..j'}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i j' \\<in> {i + 1..j'}", "unfolding K_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i = j' then i else Max (mins i j')) \\<in> {i + 1..j'}", "using mins_subset Max_in[OF finite_mins mins_nonempty] less.prems \\<open>\\<not> i' \\<le> i\\<close>"], ["proof (prove)\nusing this:\n  mins ?i ?j \\<subseteq> {?i + 1..?j}\n  ?i1 < ?j1 \\<Longrightarrow> Max (mins ?i1 ?j1) \\<in> mins ?i1 ?j1\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n  \\<not> i' \\<le> i\n\ngoal (1 subgoal):\n 1. (if i = j' then i else Max (mins i j')) \\<in> {i + 1..j'}", "by (smt subsetCE)"], ["proof (state)\nthis:\n  K i j' \\<in> {i + 1..j'}\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "(*---------------------case 1.1: i' = j \\<and> k \\<le> j ----------------------------------------*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "assume \"?k \\<le> j\""], ["proof (state)\nthis:\n  K i j' \\<le> j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have a: \"c i j \\<le> w i j + c i (?k-1) + c ?k j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "have \"c i j = Min ((\\<lambda>k. c i (k-1) + c k j + w i j) ` {i+1..j})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)", "using c_def_rec \\<open>\\<not> i' \\<le> i\\<close> \\<open>i' = j\\<close>"], ["proof (prove)\nusing this:\n  ?i < ?j \\<Longrightarrow>\n  c ?i ?j = (MIN k\\<in>{?i + 1..?j}. c ?i (k - 1) + c k ?j + w ?i ?j)\n  \\<not> i' \\<le> i\n  i' = j\n\ngoal (1 subgoal):\n 1. c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)", "by auto"], ["proof (state)\nthis:\n  c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "also"], ["proof (state)\nthis:\n  c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "have \"... \\<le> c i (?k-1) + c ?k j + w i j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n    \\<le> c i (K i j' - 1) + c (K i j') j + w i j", "using \\<open>?k\\<in>{i+1..j'}\\<close> \\<open>?k \\<le> j\\<close>"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i + 1..j'}\n  K i j' \\<le> j\n\ngoal (1 subgoal):\n 1. (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n    \\<le> c i (K i j' - 1) + c (K i j') j + w i j", "by simp"], ["proof (state)\nthis:\n  (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n  \\<le> c i (K i j' - 1) + c (K i j') j + w i j\n\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "finally"], ["proof (chain)\npicking this:\n  c i j \\<le> c i (K i j' - 1) + c (K i j') j + w i j", "show ?thesis"], ["proof (prove)\nusing this:\n  c i j \\<le> c i (K i j' - 1) + c (K i j') j + w i j\n\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "by simp"], ["proof (state)\nthis:\n  c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"nat (j' - ?k) < l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nat (j' - K i j') < l", "using \\<open>?k\\<in>{i+1..j'}\\<close> less.prems"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i + 1..j'}\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n\ngoal (1 subgoal):\n 1. nat (j' - K i j') < l", "by simp"], ["proof (state)\nthis:\n  nat (j' - K i j') < l\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "hence b: \"c ?k j + c j j' \\<le> c ?k j' + c j j\""], ["proof (prove)\nusing this:\n  nat (j' - K i j') < l\n\ngoal (1 subgoal):\n 1. c (K i j') j + c j j' \\<le> c (K i j') j' + c j j", "using \\<open>?k \\<le> j\\<close> less.prems\n                less.IH [where i = ?k and i' = j and j = j and j' = j', OF _ refl]"], ["proof (prove)\nusing this:\n  nat (j' - K i j') < l\n  K i j' \\<le> j\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n  \\<lbrakk>nat (j' - K i j') < l; K i j' \\<le> j; j \\<le> j;\n   j \\<le> j'\\<rbrakk>\n  \\<Longrightarrow> c (K i j') j + c j j' \\<le> c (K i j') j' + c j j\n\ngoal (1 subgoal):\n 1. c (K i j') j + c j j' \\<le> c (K i j') j' + c j j", "by auto"], ["proof (state)\nthis:\n  c (K i j') j + c j j' \\<le> c (K i j') j' + c j j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"c i j + c i' j' = c i j + c j j'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c i' j' = c i j + c j j'", "by (simp add: \\<open>i' = j\\<close>)"], ["proof (state)\nthis:\n  c i j + c i' j' = c i j + c j j'\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "also"], ["proof (state)\nthis:\n  c i j + c i' j' = c i j + c j j'\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"...\\<le> w i j + c i (?k-1) + c ?k j + c j j'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c j j' \\<le> w i j + c i (K i j' - 1) + c (K i j') j + c j j'", "using a"], ["proof (prove)\nusing this:\n  c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j\n\ngoal (1 subgoal):\n 1. c i j + c j j' \\<le> w i j + c i (K i j' - 1) + c (K i j') j + c j j'", "by auto"], ["proof (state)\nthis:\n  c i j + c j j' \\<le> w i j + c i (K i j' - 1) + c (K i j') j + c j j'\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "also"], ["proof (state)\nthis:\n  c i j + c j j' \\<le> w i j + c i (K i j' - 1) + c (K i j') j + c j j'\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"... \\<le> w i j'+ c i (?k-1) + c ?k j + c j j'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w i j + c i (K i j' - 1) + c (K i j') j + c j j'\n    \\<le> w i j' + c i (K i j' - 1) + c (K i j') j + c j j'", "using less.prems monotone_w \\<open>i < i'\\<close>"], ["proof (prove)\nusing this:\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n  \\<lbrakk>?i \\<le> ?i'; ?i' < ?j; ?j \\<le> ?j'\\<rbrakk>\n  \\<Longrightarrow> w ?i' ?j \\<le> w ?i ?j'\n  i < i'\n\ngoal (1 subgoal):\n 1. w i j + c i (K i j' - 1) + c (K i j') j + c j j'\n    \\<le> w i j' + c i (K i j' - 1) + c (K i j') j + c j j'", "by simp"], ["proof (state)\nthis:\n  w i j + c i (K i j' - 1) + c (K i j') j + c j j'\n  \\<le> w i j' + c i (K i j' - 1) + c (K i j') j + c j j'\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "also"], ["proof (state)\nthis:\n  w i j + c i (K i j' - 1) + c (K i j') j + c j j'\n  \\<le> w i j' + c i (K i j' - 1) + c (K i j') j + c j j'\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"... \\<le> w i j'+ c i (?k-1) + c ?k j' + c j j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w i j' + c i (K i j' - 1) + c (K i j') j + c j j'\n    \\<le> w i j' + c i (K i j' - 1) + c (K i j') j' + c j j", "using b"], ["proof (prove)\nusing this:\n  c (K i j') j + c j j' \\<le> c (K i j') j' + c j j\n\ngoal (1 subgoal):\n 1. w i j' + c i (K i j' - 1) + c (K i j') j + c j j'\n    \\<le> w i j' + c i (K i j' - 1) + c (K i j') j' + c j j", "by auto"], ["proof (state)\nthis:\n  w i j' + c i (K i j' - 1) + c (K i j') j + c j j'\n  \\<le> w i j' + c i (K i j' - 1) + c (K i j') j' + c j j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "also"], ["proof (state)\nthis:\n  w i j' + c i (K i j' - 1) + c (K i j') j + c j j'\n  \\<le> w i j' + c i (K i j' - 1) + c (K i j') j' + c j j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"... = c i j' + c j j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w i j' + c i (K i j' - 1) + c (K i j') j' + c j j = c i j' + c j j", "using \\<open>?k\\<in>{i+1..j'}\\<close>"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i + 1..j'}\n\ngoal (1 subgoal):\n 1. w i j' + c i (K i j' - 1) + c (K i j') j' + c j j = c i j' + c j j", "by(simp add: c_k_def c_k_with_K)"], ["proof (state)\nthis:\n  w i j' + c i (K i j' - 1) + c (K i j') j' + c j j = c i j' + c j j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "finally"], ["proof (chain)\npicking this:\n  c i j + c i' j' \\<le> c i j' + c j j", "show ?thesis"], ["proof (prove)\nusing this:\n  c i j + c i' j' \\<le> c i j' + c j j\n\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "by(simp add: \\<open>i' = j\\<close>)"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "(*---------------------case 1.2: i' = j \\<and> k \\<ge> j ----------------------------------------*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "assume \"\\<not> ?k \\<le> j\""], ["proof (state)\nthis:\n  \\<not> K i j' \\<le> j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "hence \"?k \\<in> {j+1..j'}\""], ["proof (prove)\nusing this:\n  \\<not> K i j' \\<le> j\n\ngoal (1 subgoal):\n 1. K i j' \\<in> {j + 1..j'}", "using \\<open>?k \\<in> {i+1..j'}\\<close>"], ["proof (prove)\nusing this:\n  \\<not> K i j' \\<le> j\n  K i j' \\<in> {i + 1..j'}\n\ngoal (1 subgoal):\n 1. K i j' \\<in> {j + 1..j'}", "by auto"], ["proof (state)\nthis:\n  K i j' \\<in> {j + 1..j'}\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have a: \"c j j' \\<le> w j j' + c j (?k-1) + c ?k j'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j'", "have \"c j j' = Min ((\\<lambda>k. c j (k-1) + c k j' + w j j') ` {j+1..j'})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c j j' = (MIN k\\<in>{j + 1..j'}. c j (k - 1) + c k j' + w j j')", "using c_def_rec \\<open>\\<not> j' \\<le> j\\<close>"], ["proof (prove)\nusing this:\n  ?i < ?j \\<Longrightarrow>\n  c ?i ?j = (MIN k\\<in>{?i + 1..?j}. c ?i (k - 1) + c k ?j + w ?i ?j)\n  \\<not> j' \\<le> j\n\ngoal (1 subgoal):\n 1. c j j' = (MIN k\\<in>{j + 1..j'}. c j (k - 1) + c k j' + w j j')", "by auto"], ["proof (state)\nthis:\n  c j j' = (MIN k\\<in>{j + 1..j'}. c j (k - 1) + c k j' + w j j')\n\ngoal (1 subgoal):\n 1. c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j'", "also"], ["proof (state)\nthis:\n  c j j' = (MIN k\\<in>{j + 1..j'}. c j (k - 1) + c k j' + w j j')\n\ngoal (1 subgoal):\n 1. c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j'", "have \"... \\<le> c j (?k-1) + c ?k j' + w j j'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (MIN k\\<in>{j + 1..j'}. c j (k - 1) + c k j' + w j j')\n    \\<le> c j (K i j' - 1) + c (K i j') j' + w j j'", "using \\<open>?k \\<in> {j+1..j'}\\<close>"], ["proof (prove)\nusing this:\n  K i j' \\<in> {j + 1..j'}\n\ngoal (1 subgoal):\n 1. (MIN k\\<in>{j + 1..j'}. c j (k - 1) + c k j' + w j j')\n    \\<le> c j (K i j' - 1) + c (K i j') j' + w j j'", "by simp"], ["proof (state)\nthis:\n  (MIN k\\<in>{j + 1..j'}. c j (k - 1) + c k j' + w j j')\n  \\<le> c j (K i j' - 1) + c (K i j') j' + w j j'\n\ngoal (1 subgoal):\n 1. c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j'", "finally"], ["proof (chain)\npicking this:\n  c j j' \\<le> c j (K i j' - 1) + c (K i j') j' + w j j'", "show \"c j j' \\<le> w j j' + c j (?k-1) + c ?k j'\""], ["proof (prove)\nusing this:\n  c j j' \\<le> c j (K i j' - 1) + c (K i j') j' + w j j'\n\ngoal (1 subgoal):\n 1. c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j'", "by simp"], ["proof (state)\nthis:\n  c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j'\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have \"nat ((?k-1) -i) < l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nat (K i j' - 1 - i) < l", "using \\<open>?k \\<in> {i+1..j'}\\<close> less.prems"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i + 1..j'}\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n\ngoal (1 subgoal):\n 1. nat (K i j' - 1 - i) < l", "by simp"], ["proof (state)\nthis:\n  nat (K i j' - 1 - i) < l\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "hence b: \"c i j + c j (?k-1) \\<le> c i (?k-1) + c j j\""], ["proof (prove)\nusing this:\n  nat (K i j' - 1 - i) < l\n\ngoal (1 subgoal):\n 1. c i j + c j (K i j' - 1) \\<le> c i (K i j' - 1) + c j j", "using less.prems \\<open>\\<not> ?k \\<le> j\\<close>\n                less.IH[where i=i and i'=j and j=j and j'=\"(?k-1)\", OF _ refl]"], ["proof (prove)\nusing this:\n  nat (K i j' - 1 - i) < l\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n  \\<not> K i j' \\<le> j\n  \\<lbrakk>nat (K i j' - 1 - i) < l; i \\<le> j; j \\<le> j;\n   j \\<le> K i j' - 1\\<rbrakk>\n  \\<Longrightarrow> c i j + c j (K i j' - 1) \\<le> c i (K i j' - 1) + c j j\n\ngoal (1 subgoal):\n 1. c i j + c j (K i j' - 1) \\<le> c i (K i j' - 1) + c j j", "by auto"], ["proof (state)\nthis:\n  c i j + c j (K i j' - 1) \\<le> c i (K i j' - 1) + c j j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have \"c i j + c i' j' = c i j + c j j'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c i' j' = c i j + c j j'", "by(simp add: \\<open>i' = j\\<close>)"], ["proof (state)\nthis:\n  c i j + c i' j' = c i j + c j j'\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "also"], ["proof (state)\nthis:\n  c i j + c i' j' = c i j + c j j'\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have \"... \\<le> w j j' + c j (?k-1) + c ?k j' + c i j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j' + c i j", "using a"], ["proof (prove)\nusing this:\n  c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j'\n\ngoal (1 subgoal):\n 1. c i j + c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j' + c i j", "by simp"], ["proof (state)\nthis:\n  c i j + c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j' + c i j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "also"], ["proof (state)\nthis:\n  c i j + c j j' \\<le> w j j' + c j (K i j' - 1) + c (K i j') j' + c i j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have \"... \\<le> w i j'+ c j (?k-1) + c ?k j' + c i j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w j j' + c j (K i j' - 1) + c (K i j') j' + c i j\n    \\<le> w i j' + c j (K i j' - 1) + c (K i j') j' + c i j", "using less.prems monotone_w \\<open>?k \\<in> {j+1..j'}\\<close>"], ["proof (prove)\nusing this:\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n  \\<lbrakk>?i \\<le> ?i'; ?i' < ?j; ?j \\<le> ?j'\\<rbrakk>\n  \\<Longrightarrow> w ?i' ?j \\<le> w ?i ?j'\n  K i j' \\<in> {j + 1..j'}\n\ngoal (1 subgoal):\n 1. w j j' + c j (K i j' - 1) + c (K i j') j' + c i j\n    \\<le> w i j' + c j (K i j' - 1) + c (K i j') j' + c i j", "by simp"], ["proof (state)\nthis:\n  w j j' + c j (K i j' - 1) + c (K i j') j' + c i j\n  \\<le> w i j' + c j (K i j' - 1) + c (K i j') j' + c i j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "also"], ["proof (state)\nthis:\n  w j j' + c j (K i j' - 1) + c (K i j') j' + c i j\n  \\<le> w i j' + c j (K i j' - 1) + c (K i j') j' + c i j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have \"... \\<le> w i j'+ c i (?k-1) + c ?k j' + c j j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w i j' + c j (K i j' - 1) + c (K i j') j' + c i j\n    \\<le> w i j' + c i (K i j' - 1) + c (K i j') j' + c j j", "using b"], ["proof (prove)\nusing this:\n  c i j + c j (K i j' - 1) \\<le> c i (K i j' - 1) + c j j\n\ngoal (1 subgoal):\n 1. w i j' + c j (K i j' - 1) + c (K i j') j' + c i j\n    \\<le> w i j' + c i (K i j' - 1) + c (K i j') j' + c j j", "by simp"], ["proof (state)\nthis:\n  w i j' + c j (K i j' - 1) + c (K i j') j' + c i j\n  \\<le> w i j' + c i (K i j' - 1) + c (K i j') j' + c j j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "also"], ["proof (state)\nthis:\n  w i j' + c j (K i j' - 1) + c (K i j') j' + c i j\n  \\<le> w i j' + c i (K i j' - 1) + c (K i j') j' + c j j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have \"... \\<le> c i j' + c j j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w i j' + c i (K i j' - 1) + c (K i j') j' + c j j \\<le> c i j' + c j j", "using \\<open>?k\\<in>{i+1..j'}\\<close>"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i + 1..j'}\n\ngoal (1 subgoal):\n 1. w i j' + c i (K i j' - 1) + c (K i j') j' + c j j \\<le> c i j' + c j j", "by (simp add: c_k_def c_k_with_K)"], ["proof (state)\nthis:\n  w i j' + c i (K i j' - 1) + c (K i j') j' + c j j \\<le> c i j' + c j j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "finally"], ["proof (chain)\npicking this:\n  c i j + c i' j' \\<le> c i j' + c j j", "show ?thesis"], ["proof (prove)\nusing this:\n  c i j + c i' j' \\<le> c i j' + c j j\n\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "by(simp add: \\<open>i' = j\\<close>)"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal (1 subgoal):\n 1. i' \\<noteq> j \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. i' \\<noteq> j \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "(*---------------------case 2 i' \\<noteq> j ---------------------------------------------------*)"], ["proof (state)\ngoal (1 subgoal):\n 1. i' \\<noteq> j \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "assume \"i' \\<noteq> j\""], ["proof (state)\nthis:\n  i' \\<noteq> j\n\ngoal (1 subgoal):\n 1. i' \\<noteq> j \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "let ?y = \"K i' j\""], ["proof (state)\ngoal (1 subgoal):\n 1. i' \\<noteq> j \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "let ?z = \"K i j'\""], ["proof (state)\ngoal (1 subgoal):\n 1. i' \\<noteq> j \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"?y \\<in> {i'+1..j}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i' j \\<in> {i' + 1..j}", "using mins_subset less.prems \\<open>i' \\<noteq> j\\<close> Max_in[OF finite_mins mins_nonempty]"], ["proof (prove)\nusing this:\n  mins ?i ?j \\<subseteq> {?i + 1..?j}\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n  i' \\<noteq> j\n  ?i1 < ?j1 \\<Longrightarrow> Max (mins ?i1 ?j1) \\<in> mins ?i1 ?j1\n\ngoal (1 subgoal):\n 1. K i' j \\<in> {i' + 1..j}", "unfolding K_def"], ["proof (prove)\nusing this:\n  mins ?i ?j \\<subseteq> {?i + 1..?j}\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n  i' \\<noteq> j\n  ?i1 < ?j1 \\<Longrightarrow> Max (mins ?i1 ?j1) \\<in> mins ?i1 ?j1\n\ngoal (1 subgoal):\n 1. (if i' = j then i' else Max (mins i' j)) \\<in> {i' + 1..j}", "by (metis le_less subsetCE)"], ["proof (state)\nthis:\n  K i' j \\<in> {i' + 1..j}\n\ngoal (1 subgoal):\n 1. i' \\<noteq> j \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"?z \\<in> {i+1..j'}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i j' \\<in> {i + 1..j'}", "using mins_subset less.prems \\<open>i' \\<noteq> j\\<close> Max_in[OF finite_mins mins_nonempty]"], ["proof (prove)\nusing this:\n  mins ?i ?j \\<subseteq> {?i + 1..?j}\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n  i' \\<noteq> j\n  ?i1 < ?j1 \\<Longrightarrow> Max (mins ?i1 ?j1) \\<in> mins ?i1 ?j1\n\ngoal (1 subgoal):\n 1. K i j' \\<in> {i + 1..j'}", "unfolding K_def"], ["proof (prove)\nusing this:\n  mins ?i ?j \\<subseteq> {?i + 1..?j}\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n  i' \\<noteq> j\n  ?i1 < ?j1 \\<Longrightarrow> Max (mins ?i1 ?j1) \\<in> mins ?i1 ?j1\n\ngoal (1 subgoal):\n 1. (if i = j' then i else Max (mins i j')) \\<in> {i + 1..j'}", "by (smt subsetCE)"], ["proof (state)\nthis:\n  K i j' \\<in> {i + 1..j'}\n\ngoal (1 subgoal):\n 1. i' \\<noteq> j \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have w_mon: \"w i' j' + w i j \\<le> w i' j + w i j'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w i' j' + w i j \\<le> w i' j + w i j'", "using less.prems QI_w \\<open>i' \\<noteq> j\\<close>"], ["proof (prove)\nusing this:\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n  \\<lbrakk>?i \\<le> ?i'; ?i' < ?j; ?j \\<le> ?j'\\<rbrakk>\n  \\<Longrightarrow> w ?i ?j + w ?i' ?j' \\<le> w ?i' ?j + w ?i ?j'\n  i' \\<noteq> j\n\ngoal (1 subgoal):\n 1. w i' j' + w i j \\<le> w i' j + w i j'", "by force"], ["proof (state)\nthis:\n  w i' j' + w i j \\<le> w i' j + w i j'\n\ngoal (1 subgoal):\n 1. i' \\<noteq> j \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"i' < j'\" \"i < j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i' < j' &&& i < j", "using \\<open>i' \\<noteq> j\\<close> less.prems"], ["proof (prove)\nusing this:\n  i' \\<noteq> j\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n\ngoal (1 subgoal):\n 1. i' < j' &&& i < j", "by auto"], ["proof (state)\nthis:\n  i' < j'\n  i < j\n\ngoal (1 subgoal):\n 1. i' \\<noteq> j \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "(*---------------------case 2.1 i' \\<noteq> j \\<and> z \\<le> y ----------------------------------------*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "assume \"?z \\<le> ?y\""], ["proof (state)\nthis:\n  K i j' \\<le> K i' j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"?y \\<in> {i'+1..j'}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i' j \\<in> {i' + 1..j'}", "using less.prems \\<open>?y \\<in> {i'+1..j}\\<close>"], ["proof (prove)\nusing this:\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n  K i' j \\<in> {i' + 1..j}\n\ngoal (1 subgoal):\n 1. K i' j \\<in> {i' + 1..j'}", "by simp"], ["proof (state)\nthis:\n  K i' j \\<in> {i' + 1..j'}\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"?z \\<in> {i+1..j}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i j' \\<in> {i + 1..j}", "using \\<open>?z \\<in> {i+1..j'}\\<close> \\<open>?z \\<le> ?y\\<close> \\<open>?y \\<in> {i'+1..j}\\<close>"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i + 1..j'}\n  K i j' \\<le> K i' j\n  K i' j \\<in> {i' + 1..j}\n\ngoal (1 subgoal):\n 1. K i j' \\<in> {i + 1..j}", "by simp"], ["proof (state)\nthis:\n  K i j' \\<in> {i + 1..j}\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have a: \"c i' j' \\<le> w i' j' + c i' (?y-1) + c ?y j'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i' j' \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c i' j' \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'", "have \"c i' j' = Min((\\<lambda>k. c i' (k-1) + c k j' + w i' j') ` {i'+1..j'})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i' j' = (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')", "by (simp add: c_def_rec[OF  \\<open>i' < j'\\<close>])"], ["proof (state)\nthis:\n  c i' j' = (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')\n\ngoal (1 subgoal):\n 1. c i' j' \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'", "also"], ["proof (state)\nthis:\n  c i' j' = (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')\n\ngoal (1 subgoal):\n 1. c i' j' \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'", "have \"... \\<le> w i' j' + c i' (?y-1) + c ?y j'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')\n    \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'", "using \\<open>?y \\<in> {i'+1..j'}\\<close>"], ["proof (prove)\nusing this:\n  K i' j \\<in> {i' + 1..j'}\n\ngoal (1 subgoal):\n 1. (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')\n    \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'", "by simp"], ["proof (state)\nthis:\n  (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')\n  \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'\n\ngoal (1 subgoal):\n 1. c i' j' \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'", "finally"], ["proof (chain)\npicking this:\n  c i' j' \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'", "show ?thesis"], ["proof (prove)\nusing this:\n  c i' j' \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'\n\ngoal (1 subgoal):\n 1. c i' j' \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'", "."], ["proof (state)\nthis:\n  c i' j' \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c i' j' \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have b: \"c i j \\<le> w i j + c i (?z-1) + c ?z j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "have \"c i j = Min ((\\<lambda>k. c i (k-1) + c k j + w i j)  ` {i+1..j})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)", "using \\<open>i < j\\<close>"], ["proof (prove)\nusing this:\n  i < j\n\ngoal (1 subgoal):\n 1. c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)", "by (simp add: c_def_rec)"], ["proof (state)\nthis:\n  c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "also"], ["proof (state)\nthis:\n  c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "have \"... \\<le> w i j + c i (?z-1) + c ?z j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n    \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "using \\<open>?z \\<in> {i+1..j}\\<close>"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i + 1..j}\n\ngoal (1 subgoal):\n 1. (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n    \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "by simp"], ["proof (state)\nthis:\n  (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n  \\<le> w i j + c i (K i j' - 1) + c (K i j') j\n\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "finally"], ["proof (chain)\npicking this:\n  c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "show ?thesis"], ["proof (prove)\nusing this:\n  c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j\n\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j", "."], ["proof (state)\nthis:\n  c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"nat (j' - ?z) < l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nat (j' - K i j') < l", "using \\<open>?z \\<in> {i+1..j}\\<close> less.prems"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i + 1..j}\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n\ngoal (1 subgoal):\n 1. nat (j' - K i j') < l", "by simp"], ["proof (state)\nthis:\n  nat (j' - K i j') < l\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "hence IH_step: \"c ?z j + c ?y j' \\<le> c ?z j' + c ?y j\""], ["proof (prove)\nusing this:\n  nat (j' - K i j') < l\n\ngoal (1 subgoal):\n 1. c (K i j') j + c (K i' j) j' \\<le> c (K i j') j' + c (K i' j) j", "using \\<open>?z \\<le> ?y\\<close> \\<open>j \\<le> j'\\<close> \\<open>?y \\<in> {i'+1..j}\\<close>\n               less.IH[where i = ?z and i' = ?y and j = j and j' = j', OF _ refl]"], ["proof (prove)\nusing this:\n  nat (j' - K i j') < l\n  K i j' \\<le> K i' j\n  j \\<le> j'\n  K i' j \\<in> {i' + 1..j}\n  \\<lbrakk>nat (j' - K i j') < l; K i j' \\<le> K i' j; K i' j \\<le> j;\n   j \\<le> j'\\<rbrakk>\n  \\<Longrightarrow> c (K i j') j + c (K i' j) j'\n                    \\<le> c (K i j') j' + c (K i' j) j\n\ngoal (1 subgoal):\n 1. c (K i j') j + c (K i' j) j' \\<le> c (K i j') j' + c (K i' j) j", "by simp"], ["proof (state)\nthis:\n  c (K i j') j + c (K i' j) j' \\<le> c (K i j') j' + c (K i' j) j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"c i' j' + c i j\n              \\<le> w i' j + w i j' + c i' (?y-1) + c i (?z-1) + c ?y j' + c ?z j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i' j' + c i j\n    \\<le> w i' j + w i j' + c i' (K i' j - 1) + c i (K i j' - 1) +\n          c (K i' j) j' +\n          c (K i j') j", "using a b w_mon"], ["proof (prove)\nusing this:\n  c i' j' \\<le> w i' j' + c i' (K i' j - 1) + c (K i' j) j'\n  c i j \\<le> w i j + c i (K i j' - 1) + c (K i j') j\n  w i' j' + w i j \\<le> w i' j + w i j'\n\ngoal (1 subgoal):\n 1. c i' j' + c i j\n    \\<le> w i' j + w i j' + c i' (K i' j - 1) + c i (K i j' - 1) +\n          c (K i' j) j' +\n          c (K i j') j", "by simp"], ["proof (state)\nthis:\n  c i' j' + c i j\n  \\<le> w i' j + w i j' + c i' (K i' j - 1) + c i (K i j' - 1) +\n        c (K i' j) j' +\n        c (K i j') j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "also"], ["proof (state)\nthis:\n  c i' j' + c i j\n  \\<le> w i' j + w i j' + c i' (K i' j - 1) + c i (K i j' - 1) +\n        c (K i' j) j' +\n        c (K i j') j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"\\<dots> \\<le> w i j' + w i' j +  c i' (?y-1) + c i (?z-1) + c ?y j + c ?z j'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w i' j + w i j' + c i' (K i' j - 1) + c i (K i j' - 1) + c (K i' j) j' +\n    c (K i j') j\n    \\<le> w i j' + w i' j + c i' (K i' j - 1) + c i (K i j' - 1) +\n          c (K i' j) j +\n          c (K i j') j'", "using IH_step"], ["proof (prove)\nusing this:\n  c (K i j') j + c (K i' j) j' \\<le> c (K i j') j' + c (K i' j) j\n\ngoal (1 subgoal):\n 1. w i' j + w i j' + c i' (K i' j - 1) + c i (K i j' - 1) + c (K i' j) j' +\n    c (K i j') j\n    \\<le> w i j' + w i' j + c i' (K i' j - 1) + c i (K i j' - 1) +\n          c (K i' j) j +\n          c (K i j') j'", "by auto"], ["proof (state)\nthis:\n  w i' j + w i j' + c i' (K i' j - 1) + c i (K i j' - 1) + c (K i' j) j' +\n  c (K i j') j\n  \\<le> w i j' + w i' j + c i' (K i' j - 1) + c i (K i j' - 1) +\n        c (K i' j) j +\n        c (K i j') j'\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "also"], ["proof (state)\nthis:\n  w i' j + w i j' + c i' (K i' j - 1) + c i (K i j' - 1) + c (K i' j) j' +\n  c (K i j') j\n  \\<le> w i j' + w i' j + c i' (K i' j - 1) + c i (K i j' - 1) +\n        c (K i' j) j +\n        c (K i j') j'\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "have \"... = c i j' + c i' j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w i j' + w i' j + c i' (K i' j - 1) + c i (K i j' - 1) + c (K i' j) j +\n    c (K i j') j' =\n    c i j' + c i' j", "using \\<open>?z \\<in> {i+1..j'}\\<close> \\<open>?y \\<in> {i'+1..j}\\<close>"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i + 1..j'}\n  K i' j \\<in> {i' + 1..j}\n\ngoal (1 subgoal):\n 1. w i j' + w i' j + c i' (K i' j - 1) + c i (K i j' - 1) + c (K i' j) j +\n    c (K i j') j' =\n    c i j' + c i' j", "by(simp add: c_k_def c_k_with_K)"], ["proof (state)\nthis:\n  w i j' + w i' j + c i' (K i' j - 1) + c i (K i j' - 1) + c (K i' j) j +\n  c (K i j') j' =\n  c i j' + c i' j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j\n 2. \\<not> ?P \\<Longrightarrow> c i j + c i' j' \\<le> c i j' + c i' j", "finally"], ["proof (chain)\npicking this:\n  c i' j' + c i j \\<le> c i j' + c i' j", "show ?thesis"], ["proof (prove)\nusing this:\n  c i' j' + c i j \\<le> c i j' + c i' j\n\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "by linarith"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "(*---------------------case 2.1 i' \\<noteq> j \\<and> z > y ---------------------------------------*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "assume \"\\<not>?z \\<le> ?y\""], ["proof (state)\nthis:\n  \\<not> K i j' \\<le> K i' j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have \"?y \\<in> {i+1..j}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i' j \\<in> {i + 1..j}", "using less.prems \\<open>?y \\<in> {i'+1..j}\\<close>"], ["proof (prove)\nusing this:\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n  K i' j \\<in> {i' + 1..j}\n\ngoal (1 subgoal):\n 1. K i' j \\<in> {i + 1..j}", "by simp"], ["proof (state)\nthis:\n  K i' j \\<in> {i + 1..j}\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have \"?z \\<in> {i'+1..j'}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i j' \\<in> {i' + 1..j'}", "using \\<open>?z \\<in> {i+1..j'}\\<close> \\<open>\\<not>?z \\<le> ?y\\<close> \\<open>?y \\<in> {i'+1..j}\\<close>"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i + 1..j'}\n  \\<not> K i j' \\<le> K i' j\n  K i' j \\<in> {i' + 1..j}\n\ngoal (1 subgoal):\n 1. K i j' \\<in> {i' + 1..j'}", "by simp"], ["proof (state)\nthis:\n  K i j' \\<in> {i' + 1..j'}\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have a: \"c i' j' \\<le> w i' j' + c i' (?z-1) + c ?z j'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i' j' \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c i' j' \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'", "have  \"c i' j' =  Min ((\\<lambda>k. c i' (k-1) + c k j' + w i' j') ` {i'+1..j'})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i' j' = (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')", "using \\<open>i' < j'\\<close>"], ["proof (prove)\nusing this:\n  i' < j'\n\ngoal (1 subgoal):\n 1. c i' j' = (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')", "by(simp add: c_def_rec)"], ["proof (state)\nthis:\n  c i' j' = (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')\n\ngoal (1 subgoal):\n 1. c i' j' \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'", "also"], ["proof (state)\nthis:\n  c i' j' = (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')\n\ngoal (1 subgoal):\n 1. c i' j' \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'", "have \"... \\<le> w i' j' + c i' (?z-1) + c ?z j'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')\n    \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'", "using \\<open>?z \\<in> {i'+1..j'}\\<close>"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i' + 1..j'}\n\ngoal (1 subgoal):\n 1. (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')\n    \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'", "by simp"], ["proof (state)\nthis:\n  (MIN k\\<in>{i' + 1..j'}. c i' (k - 1) + c k j' + w i' j')\n  \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'\n\ngoal (1 subgoal):\n 1. c i' j' \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'", "finally"], ["proof (chain)\npicking this:\n  c i' j' \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'", "show ?thesis"], ["proof (prove)\nusing this:\n  c i' j' \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'\n\ngoal (1 subgoal):\n 1. c i' j' \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'", "."], ["proof (state)\nthis:\n  c i' j' \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c i' j' \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have b: \"c i j \\<le> w i j + c i (?y-1) + c ?y j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i' j - 1) + c (K i' j) j", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i' j - 1) + c (K i' j) j", "have \"c i j = Min ((\\<lambda>k. c i (k-1) + c k j + w i j)  ` {i+1..j})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)", "using \\<open>i < j\\<close>"], ["proof (prove)\nusing this:\n  i < j\n\ngoal (1 subgoal):\n 1. c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)", "by(simp add: c_def_rec)"], ["proof (state)\nthis:\n  c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i' j - 1) + c (K i' j) j", "also"], ["proof (state)\nthis:\n  c i j = (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i' j - 1) + c (K i' j) j", "have \"... \\<le> w i j + c i (?y-1) + c ?y j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n    \\<le> w i j + c i (K i' j - 1) + c (K i' j) j", "using \\<open>?y \\<in> {i+1..j}\\<close>"], ["proof (prove)\nusing this:\n  K i' j \\<in> {i + 1..j}\n\ngoal (1 subgoal):\n 1. (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n    \\<le> w i j + c i (K i' j - 1) + c (K i' j) j", "by simp"], ["proof (state)\nthis:\n  (MIN k\\<in>{i + 1..j}. c i (k - 1) + c k j + w i j)\n  \\<le> w i j + c i (K i' j - 1) + c (K i' j) j\n\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i' j - 1) + c (K i' j) j", "finally"], ["proof (chain)\npicking this:\n  c i j \\<le> w i j + c i (K i' j - 1) + c (K i' j) j", "show ?thesis"], ["proof (prove)\nusing this:\n  c i j \\<le> w i j + c i (K i' j - 1) + c (K i' j) j\n\ngoal (1 subgoal):\n 1. c i j \\<le> w i j + c i (K i' j - 1) + c (K i' j) j", "."], ["proof (state)\nthis:\n  c i j \\<le> w i j + c i (K i' j - 1) + c (K i' j) j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c i j \\<le> w i j + c i (K i' j - 1) + c (K i' j) j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have \"nat (?z - 1 - i) < l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nat (K i j' - 1 - i) < l", "using \\<open>?z \\<in> {i'+1..j'}\\<close> less.prems"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i' + 1..j'}\n  l = nat (j' - i)\n  i \\<le> i'\n  i' \\<le> j\n  j \\<le> j'\n\ngoal (1 subgoal):\n 1. nat (K i j' - 1 - i) < l", "by simp"], ["proof (state)\nthis:\n  nat (K i j' - 1 - i) < l\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "hence IH_Step: \" c i (?y-1) + c i' (?z-1) \\<le> c i' (?y-1) + c i (?z-1)\""], ["proof (prove)\nusing this:\n  nat (K i j' - 1 - i) < l\n\ngoal (1 subgoal):\n 1. c i (K i' j - 1) + c i' (K i j' - 1)\n    \\<le> c i' (K i' j - 1) + c i (K i j' - 1)", "using \\<open>?y \\<in> {i'+1..j}\\<close> \\<open>\\<not>?z \\<le> ?y\\<close> \\<open>i \\<le> i'\\<close>\n                less.IH[where i=i and i'=i' and j=\"?y-1\" and j'=\"?z-1\", OF _ refl]"], ["proof (prove)\nusing this:\n  nat (K i j' - 1 - i) < l\n  K i' j \\<in> {i' + 1..j}\n  \\<not> K i j' \\<le> K i' j\n  i \\<le> i'\n  \\<lbrakk>nat (K i j' - 1 - i) < l; i \\<le> i'; i' \\<le> K i' j - 1;\n   K i' j - 1 \\<le> K i j' - 1\\<rbrakk>\n  \\<Longrightarrow> c i (K i' j - 1) + c i' (K i j' - 1)\n                    \\<le> c i (K i j' - 1) + c i' (K i' j - 1)\n\ngoal (1 subgoal):\n 1. c i (K i' j - 1) + c i' (K i j' - 1)\n    \\<le> c i' (K i' j - 1) + c i (K i j' - 1)", "by simp"], ["proof (state)\nthis:\n  c i (K i' j - 1) + c i' (K i j' - 1)\n  \\<le> c i' (K i' j - 1) + c i (K i j' - 1)\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have \"c i' j' + c i j\n              \\<le> w i' j +  w i j' + c i' (?z-1) + c i (?y-1) + c ?z j' + c ?y j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i' j' + c i j\n    \\<le> w i' j + w i j' + c i' (K i j' - 1) + c i (K i' j - 1) +\n          c (K i j') j' +\n          c (K i' j) j", "using a b w_mon"], ["proof (prove)\nusing this:\n  c i' j' \\<le> w i' j' + c i' (K i j' - 1) + c (K i j') j'\n  c i j \\<le> w i j + c i (K i' j - 1) + c (K i' j) j\n  w i' j' + w i j \\<le> w i' j + w i j'\n\ngoal (1 subgoal):\n 1. c i' j' + c i j\n    \\<le> w i' j + w i j' + c i' (K i j' - 1) + c i (K i' j - 1) +\n          c (K i j') j' +\n          c (K i' j) j", "by simp"], ["proof (state)\nthis:\n  c i' j' + c i j\n  \\<le> w i' j + w i j' + c i' (K i j' - 1) + c i (K i' j - 1) +\n        c (K i j') j' +\n        c (K i' j) j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "also"], ["proof (state)\nthis:\n  c i' j' + c i j\n  \\<le> w i' j + w i j' + c i' (K i j' - 1) + c i (K i' j - 1) +\n        c (K i j') j' +\n        c (K i' j) j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have \"\\<dots> \\<le> w i' j +  w i j' + c i (?z-1) + c i' (?y-1) + c ?z j' + c ?y j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w i' j + w i j' + c i' (K i j' - 1) + c i (K i' j - 1) + c (K i j') j' +\n    c (K i' j) j\n    \\<le> w i' j + w i j' + c i (K i j' - 1) + c i' (K i' j - 1) +\n          c (K i j') j' +\n          c (K i' j) j", "using IH_Step"], ["proof (prove)\nusing this:\n  c i (K i' j - 1) + c i' (K i j' - 1)\n  \\<le> c i' (K i' j - 1) + c i (K i j' - 1)\n\ngoal (1 subgoal):\n 1. w i' j + w i j' + c i' (K i j' - 1) + c i (K i' j - 1) + c (K i j') j' +\n    c (K i' j) j\n    \\<le> w i' j + w i j' + c i (K i j' - 1) + c i' (K i' j - 1) +\n          c (K i j') j' +\n          c (K i' j) j", "by auto"], ["proof (state)\nthis:\n  w i' j + w i j' + c i' (K i j' - 1) + c i (K i' j - 1) + c (K i j') j' +\n  c (K i' j) j\n  \\<le> w i' j + w i j' + c i (K i j' - 1) + c i' (K i' j - 1) +\n        c (K i j') j' +\n        c (K i' j) j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "also"], ["proof (state)\nthis:\n  w i' j + w i j' + c i' (K i j' - 1) + c i (K i' j - 1) + c (K i j') j' +\n  c (K i' j) j\n  \\<le> w i' j + w i j' + c i (K i j' - 1) + c i' (K i' j - 1) +\n        c (K i j') j' +\n        c (K i' j) j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "have \"... = c i j' + c i' j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w i' j + w i j' + c i (K i j' - 1) + c i' (K i' j - 1) + c (K i j') j' +\n    c (K i' j) j =\n    c i j' + c i' j", "using \\<open>?z \\<in> {i + 1..j'}\\<close> \\<open>?y \\<in> {i' + 1..j}\\<close>"], ["proof (prove)\nusing this:\n  K i j' \\<in> {i + 1..j'}\n  K i' j \\<in> {i' + 1..j}\n\ngoal (1 subgoal):\n 1. w i' j + w i j' + c i (K i j' - 1) + c i' (K i' j - 1) + c (K i j') j' +\n    c (K i' j) j =\n    c i j' + c i' j", "by(simp add: c_k_def c_k_with_K)"], ["proof (state)\nthis:\n  w i' j + w i j' + c i (K i j' - 1) + c i' (K i' j - 1) + c (K i j') j' +\n  c (K i' j) j =\n  c i j' + c i' j\n\ngoal (1 subgoal):\n 1. \\<not> K i j' \\<le> K i' j \\<Longrightarrow>\n    c i j + c i' j' \\<le> c i j' + c i' j", "finally"], ["proof (chain)\npicking this:\n  c i' j' + c i j \\<le> c i j' + c i' j", "show ?thesis"], ["proof (prove)\nusing this:\n  c i' j' + c i j \\<le> c i j' + c i' j\n\ngoal (1 subgoal):\n 1. c i j + c i' j' \\<le> c i j' + c i' j", "by linarith"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c i j + c i' j' \\<le> c i j' + c i' j\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary QI': assumes \"i < k\" \" k \\<le> k'\"  \"k' \\<le> j \"  \"c_k i j k' \\<le> c_k i j k\"\nshows \"c_k i (j+1) k' \\<le> c_k i (j+1) k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c_k i (j + 1) k' \\<le> c_k i (j + 1) k", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c_k i (j + 1) k' \\<le> c_k i (j + 1) k", "have \"c k j + c k' (j+1) \\<le> c k' j + c k (j+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c k j + c k' (j + 1) \\<le> c k' j + c k (j + 1)", "using lemma_2[of _ \"j+1\" k k' j] assms(1-3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>?l = nat (j + 1 - k); k \\<le> k'; k' \\<le> j;\n   j \\<le> j + 1\\<rbrakk>\n  \\<Longrightarrow> c k j + c k' (j + 1) \\<le> c k (j + 1) + c k' j\n  i < k\n  k \\<le> k'\n  k' \\<le> j\n\ngoal (1 subgoal):\n 1. c k j + c k' (j + 1) \\<le> c k' j + c k (j + 1)", "by fastforce"], ["proof (state)\nthis:\n  c k j + c k' (j + 1) \\<le> c k' j + c k (j + 1)\n\ngoal (1 subgoal):\n 1. c_k i (j + 1) k' \\<le> c_k i (j + 1) k", "hence \"c_k i j k + c_k i (j+1) k' \\<le> c_k i j k' + c_k i (j+1) k\""], ["proof (prove)\nusing this:\n  c k j + c k' (j + 1) \\<le> c k' j + c k (j + 1)\n\ngoal (1 subgoal):\n 1. c_k i j k + c_k i (j + 1) k' \\<le> c_k i j k' + c_k i (j + 1) k", "using assms(1-3) c_k_def"], ["proof (prove)\nusing this:\n  c k j + c k' (j + 1) \\<le> c k' j + c k (j + 1)\n  i < k\n  k \\<le> k'\n  k' \\<le> j\n  \\<lbrakk>?i < ?j; ?k \\<in> {?i + 1..?j}\\<rbrakk>\n  \\<Longrightarrow> c_k ?i ?j ?k = w ?i ?j + c ?i (?k - 1) + c ?k ?j\n\ngoal (1 subgoal):\n 1. c_k i j k + c_k i (j + 1) k' \\<le> c_k i j k' + c_k i (j + 1) k", "by simp"], ["proof (state)\nthis:\n  c_k i j k + c_k i (j + 1) k' \\<le> c_k i j k' + c_k i (j + 1) k\n\ngoal (1 subgoal):\n 1. c_k i (j + 1) k' \\<le> c_k i (j + 1) k", "thus \"c_k i (j+1) k' \\<le> c_k i (j+1) k\""], ["proof (prove)\nusing this:\n  c_k i j k + c_k i (j + 1) k' \\<le> c_k i j k' + c_k i (j + 1) k\n\ngoal (1 subgoal):\n 1. c_k i (j + 1) k' \\<le> c_k i (j + 1) k", "using assms(4)"], ["proof (prove)\nusing this:\n  c_k i j k + c_k i (j + 1) k' \\<le> c_k i j k' + c_k i (j + 1) k\n  c_k i j k' \\<le> c_k i j k\n\ngoal (1 subgoal):\n 1. c_k i (j + 1) k' \\<le> c_k i (j + 1) k", "by simp"], ["proof (state)\nthis:\n  c_k i (j + 1) k' \\<le> c_k i (j + 1) k\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary QI'': assumes \"i+1 < k\" \"k \\<le> k'\" \"k' \\<le> j+1\" \"c_k i (j+1) k' \\<le> c_k i (j+1) k\"\nshows \"c_k (i+1) (j+1) k' \\<le> c_k (i+1) (j+1) k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c_k (i + 1) (j + 1) k' \\<le> c_k (i + 1) (j + 1) k", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c_k (i + 1) (j + 1) k' \\<le> c_k (i + 1) (j + 1) k", "have \"c i k + c (i + 1) k' \\<le> c i k' + c (i + 1) k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c i k + c (i + 1) k' \\<le> c i k' + c (i + 1) k", "using lemma_2[of _ k' i \"i+1\" k] assms(1,2)"], ["proof (prove)\nusing this:\n  \\<lbrakk>?l = nat (k' - i); i \\<le> i + 1; i + 1 \\<le> k;\n   k \\<le> k'\\<rbrakk>\n  \\<Longrightarrow> c i k + c (i + 1) k' \\<le> c i k' + c (i + 1) k\n  i + 1 < k\n  k \\<le> k'\n\ngoal (1 subgoal):\n 1. c i k + c (i + 1) k' \\<le> c i k' + c (i + 1) k", "by fastforce"], ["proof (state)\nthis:\n  c i k + c (i + 1) k' \\<le> c i k' + c (i + 1) k\n\ngoal (1 subgoal):\n 1. c_k (i + 1) (j + 1) k' \\<le> c_k (i + 1) (j + 1) k", "hence \"c_k i (j+1) k + c_k (i+1) (j+1) k' \\<le> c_k i (j+1) k' + c_k (i+1) (j+1) k\""], ["proof (prove)\nusing this:\n  c i k + c (i + 1) k' \\<le> c i k' + c (i + 1) k\n\ngoal (1 subgoal):\n 1. c_k i (j + 1) k + c_k (i + 1) (j + 1) k'\n    \\<le> c_k i (j + 1) k' + c_k (i + 1) (j + 1) k", "using c_k_def assms(1-3) lemma_2"], ["proof (prove)\nusing this:\n  c i k + c (i + 1) k' \\<le> c i k' + c (i + 1) k\n  \\<lbrakk>?i < ?j; ?k \\<in> {?i + 1..?j}\\<rbrakk>\n  \\<Longrightarrow> c_k ?i ?j ?k = w ?i ?j + c ?i (?k - 1) + c ?k ?j\n  i + 1 < k\n  k \\<le> k'\n  k' \\<le> j + 1\n  \\<lbrakk>?l = nat (?j' - ?i); ?i \\<le> ?i'; ?i' \\<le> ?j;\n   ?j \\<le> ?j'\\<rbrakk>\n  \\<Longrightarrow> c ?i ?j + c ?i' ?j' \\<le> c ?i ?j' + c ?i' ?j\n\ngoal (1 subgoal):\n 1. c_k i (j + 1) k + c_k (i + 1) (j + 1) k'\n    \\<le> c_k i (j + 1) k' + c_k (i + 1) (j + 1) k", "by simp"], ["proof (state)\nthis:\n  c_k i (j + 1) k + c_k (i + 1) (j + 1) k'\n  \\<le> c_k i (j + 1) k' + c_k (i + 1) (j + 1) k\n\ngoal (1 subgoal):\n 1. c_k (i + 1) (j + 1) k' \\<le> c_k (i + 1) (j + 1) k", "thus \"c_k (i+1) (j+1) k' \\<le> c_k (i+1) (j+1) k\""], ["proof (prove)\nusing this:\n  c_k i (j + 1) k + c_k (i + 1) (j + 1) k'\n  \\<le> c_k i (j + 1) k' + c_k (i + 1) (j + 1) k\n\ngoal (1 subgoal):\n 1. c_k (i + 1) (j + 1) k' \\<le> c_k (i + 1) (j + 1) k", "using assms(4)"], ["proof (prove)\nusing this:\n  c_k i (j + 1) k + c_k (i + 1) (j + 1) k'\n  \\<le> c_k i (j + 1) k' + c_k (i + 1) (j + 1) k\n  c_k i (j + 1) k' \\<le> c_k i (j + 1) k\n\ngoal (1 subgoal):\n 1. c_k (i + 1) (j + 1) k' \\<le> c_k (i + 1) (j + 1) k", "by simp"], ["proof (state)\nthis:\n  c_k (i + 1) (j + 1) k' \\<le> c_k (i + 1) (j + 1) k\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lemma_3_1: assumes \"i \\<le> j\" shows \"K i j \\<le> K i (j+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i j \\<le> K i (j + 1)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> K i j \\<le> K i (j + 1)\n 2. \\<not> ?P \\<Longrightarrow> K i j \\<le> K i (j + 1)", "assume \"i = j\""], ["proof (state)\nthis:\n  i = j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> K i j \\<le> K i (j + 1)\n 2. \\<not> ?P \\<Longrightarrow> K i j \\<le> K i (j + 1)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i = j\n\ngoal (1 subgoal):\n 1. K i j \\<le> K i (j + 1)", "by (metis K_def K_subset atLeastAtMost_iff less_add_one less_le)"], ["proof (state)\nthis:\n  K i j \\<le> K i (j + 1)\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i j \\<le> K i (j + 1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i j \\<le> K i (j + 1)", "assume \"i\\<noteq>j\""], ["proof (state)\nthis:\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i j \\<le> K i (j + 1)", "hence \"i < j\""], ["proof (prove)\nusing this:\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. i < j", "using \\<open>i \\<le> j\\<close>"], ["proof (prove)\nusing this:\n  i \\<noteq> j\n  i \\<le> j\n\ngoal (1 subgoal):\n 1. i < j", "by simp"], ["proof (state)\nthis:\n  i < j\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i j \\<le> K i (j + 1)", "let ?k = \"K i (j+1)\""], ["proof (state)\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i j \\<le> K i (j + 1)", "have \"K i j \\<in> {i+1..j}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i j \\<in> {i + 1..j}", "using K_def"], ["proof (prove)\nusing this:\n  K ?i ?j \\<equiv> if ?i = ?j then ?i else Max (mins ?i ?j)\n\ngoal (1 subgoal):\n 1. K i j \\<in> {i + 1..j}", "by (metis Max_in \\<open>i < j\\<close> mins_nonempty[OF \\<open>i < j\\<close>] finite_mins less_le mins_subset subsetCE)"], ["proof (state)\nthis:\n  K i j \\<in> {i + 1..j}\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i j \\<le> K i (j + 1)", "have \"i < j+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < j + 1", "using \\<open>i < j\\<close>"], ["proof (prove)\nusing this:\n  i < j\n\ngoal (1 subgoal):\n 1. i < j + 1", "by linarith"], ["proof (state)\nthis:\n  i < j + 1\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i j \\<le> K i (j + 1)", "hence \"K i (j+1) \\<in> {i+1..j+1}\""], ["proof (prove)\nusing this:\n  i < j + 1\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<in> {i + 1..j + 1}", "by (metis Max_in K_def mins_nonempty[OF \\<open>i < j+1\\<close>] finite_mins less_le mins_subset subsetCE)"], ["proof (state)\nthis:\n  K i (j + 1) \\<in> {i + 1..j + 1}\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i j \\<le> K i (j + 1)", "have *: \"is_arg_min_on (c_k i (j+1)) {i+1..j+1} ?k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_arg_min_on (c_k i (j + 1)) {i + 1..j + 1} (K i (j + 1))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. is_arg_min_on (c_k i (j + 1)) {i + 1..j + 1} (K i (j + 1))", "have \"K i (j+1) \\<in> mins i (j+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i (j + 1) \\<in> mins i (j + 1)", "using finite_mins mins_nonempty \\<open>i < j\\<close> K_def"], ["proof (prove)\nusing this:\n  finite (mins ?i ?j)\n  ?i < ?j \\<Longrightarrow> mins ?i ?j \\<noteq> {}\n  i < j\n  K ?i ?j \\<equiv> if ?i = ?j then ?i else Max (mins ?i ?j)\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<in> mins i (j + 1)", "by fastforce"], ["proof (state)\nthis:\n  K i (j + 1) \\<in> mins i (j + 1)\n\ngoal (1 subgoal):\n 1. is_arg_min_on (c_k i (j + 1)) {i + 1..j + 1} (K i (j + 1))", "thus \"is_arg_min_on (c_k i (j+1)) {i+1..j+1} (K i (j+1))\""], ["proof (prove)\nusing this:\n  K i (j + 1) \\<in> mins i (j + 1)\n\ngoal (1 subgoal):\n 1. is_arg_min_on (c_k i (j + 1)) {i + 1..j + 1} (K i (j + 1))", "unfolding Args_min_simps"], ["proof (prove)\nusing this:\n  K i (j + 1)\n  \\<in> {x \\<in> {i + 1..j + 1}.\n         \\<forall>y\\<in>{i + 1..j + 1}.\n            c_k i (j + 1) x \\<le> c_k i (j + 1) y}\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<in> {i + 1..j + 1} \\<and>\n    (\\<forall>y\\<in>{i + 1..j + 1}.\n        c_k i (j + 1) (K i (j + 1)) \\<le> c_k i (j + 1) y)", "by blast"], ["proof (state)\nthis:\n  is_arg_min_on (c_k i (j + 1)) {i + 1..j + 1} (K i (j + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  is_arg_min_on (c_k i (j + 1)) {i + 1..j + 1} (K i (j + 1))\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i j \\<le> K i (j + 1)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. K i j \\<le> K i (j + 1)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> K i j \\<le> K i (j + 1)\n 2. \\<not> ?P \\<Longrightarrow> K i j \\<le> K i (j + 1)", "assume \"?k = j+1\""], ["proof (state)\nthis:\n  K i (j + 1) = j + 1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> K i j \\<le> K i (j + 1)\n 2. \\<not> ?P \\<Longrightarrow> K i j \\<le> K i (j + 1)", "thus ?thesis"], ["proof (prove)\nusing this:\n  K i (j + 1) = j + 1\n\ngoal (1 subgoal):\n 1. K i j \\<le> K i (j + 1)", "using \\<open>K i j \\<in> {i+1..j}\\<close>"], ["proof (prove)\nusing this:\n  K i (j + 1) = j + 1\n  K i j \\<in> {i + 1..j}\n\ngoal (1 subgoal):\n 1. K i j \\<le> K i (j + 1)", "by simp"], ["proof (state)\nthis:\n  K i j \\<le> K i (j + 1)\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<noteq> j + 1 \\<Longrightarrow> K i j \\<le> K i (j + 1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. K i (j + 1) \\<noteq> j + 1 \\<Longrightarrow> K i j \\<le> K i (j + 1)", "assume \"?k \\<noteq> j+1\""], ["proof (state)\nthis:\n  K i (j + 1) \\<noteq> j + 1\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<noteq> j + 1 \\<Longrightarrow> K i j \\<le> K i (j + 1)", "hence \"?k \\<in> {i+1..j}\""], ["proof (prove)\nusing this:\n  K i (j + 1) \\<noteq> j + 1\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<in> {i + 1..j}", "using \\<open>K i (j+1) \\<in> {i+1..j+1}\\<close>"], ["proof (prove)\nusing this:\n  K i (j + 1) \\<noteq> j + 1\n  K i (j + 1) \\<in> {i + 1..j + 1}\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<in> {i + 1..j}", "by auto"], ["proof (state)\nthis:\n  K i (j + 1) \\<in> {i + 1..j}\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<noteq> j + 1 \\<Longrightarrow> K i j \\<le> K i (j + 1)", "have \"i\\<noteq>j\" \"i\\<noteq>j+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<noteq> j &&& i \\<noteq> j + 1", "using \\<open>i < j\\<close>"], ["proof (prove)\nusing this:\n  i < j\n\ngoal (1 subgoal):\n 1. i \\<noteq> j &&& i \\<noteq> j + 1", "by auto"], ["proof (state)\nthis:\n  i \\<noteq> j\n  i \\<noteq> j + 1\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<noteq> j + 1 \\<Longrightarrow> K i j \\<le> K i (j + 1)", "hence K_simps: \"K i j = Max (mins i j)\" \"K i (j+1) = Max (mins i (j+1))\""], ["proof (prove)\nusing this:\n  i \\<noteq> j\n  i \\<noteq> j + 1\n\ngoal (1 subgoal):\n 1. K i j = Max (mins i j) &&& K i (j + 1) = Max (mins i (j + 1))", "unfolding K_def"], ["proof (prove)\nusing this:\n  i \\<noteq> j\n  i \\<noteq> j + 1\n\ngoal (1 subgoal):\n 1. (if i = j then i else Max (mins i j)) = Max (mins i j) &&&\n    (if i = j + 1 then i else Max (mins i (j + 1))) = Max (mins i (j + 1))", "by auto"], ["proof (state)\nthis:\n  K i j = Max (mins i j)\n  K i (j + 1) = Max (mins i (j + 1))\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<noteq> j + 1 \\<Longrightarrow> K i j \\<le> K i (j + 1)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. K i j \\<le> K i (j + 1)", "unfolding K_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. Max (mins i j) \\<le> Max (mins i (j + 1))", "proof (rule Max.boundedI[OF finite_mins mins_nonempty[OF \\<open>i < j\\<close>]])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a. a \\<in> mins i j \\<Longrightarrow> a \\<le> Max (mins i (j + 1))", "fix k'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a. a \\<in> mins i j \\<Longrightarrow> a \\<le> Max (mins i (j + 1))", "assume k': \"k' \\<in> mins i j\""], ["proof (state)\nthis:\n  k' \\<in> mins i j\n\ngoal (1 subgoal):\n 1. \\<And>a. a \\<in> mins i j \\<Longrightarrow> a \\<le> Max (mins i (j + 1))", "show \"k' \\<le> Max (mins i (j+1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. k' \\<le> Max (mins i (j + 1))", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> k' \\<le> Max (mins i (j + 1)) \\<Longrightarrow> False", "assume \"~ k' \\<le> Max (mins i (j+1))\""], ["proof (state)\nthis:\n  \\<not> k' \\<le> Max (mins i (j + 1))\n\ngoal (1 subgoal):\n 1. \\<not> k' \\<le> Max (mins i (j + 1)) \\<Longrightarrow> False", "have \"c_k i (j+1) k' \\<le> c_k i (j+1) ?k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c_k i (j + 1) k' \\<le> c_k i (j + 1) (K i (j + 1))", "unfolding K_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. c_k i (j + 1) k' \\<le> c_k i (j + 1) (Max (mins i (j + 1)))", "proof (rule QI')"], ["proof (state)\ngoal (4 subgoals):\n 1. i < Max (mins i (j + 1))\n 2. Max (mins i (j + 1)) \\<le> k'\n 3. k' \\<le> j\n 4. c_k i j k' \\<le> c_k i j (Max (mins i (j + 1)))", "show \"i < Max (mins i (j+1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < Max (mins i (j + 1))", "using \\<open>K i (j + 1) \\<in> {i+1..j + 1}\\<close> K_simps"], ["proof (prove)\nusing this:\n  K i (j + 1) \\<in> {i + 1..j + 1}\n  K i j = Max (mins i j)\n  K i (j + 1) = Max (mins i (j + 1))\n\ngoal (1 subgoal):\n 1. i < Max (mins i (j + 1))", "by auto"], ["proof (state)\nthis:\n  i < Max (mins i (j + 1))\n\ngoal (3 subgoals):\n 1. Max (mins i (j + 1)) \\<le> k'\n 2. k' \\<le> j\n 3. c_k i j k' \\<le> c_k i j (Max (mins i (j + 1)))", "show \"Max (mins i (j+1)) \\<le> k'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Max (mins i (j + 1)) \\<le> k'", "using \\<open>~ k' \\<le> Max (mins i (j+1))\\<close>"], ["proof (prove)\nusing this:\n  \\<not> k' \\<le> Max (mins i (j + 1))\n\ngoal (1 subgoal):\n 1. Max (mins i (j + 1)) \\<le> k'", "by linarith"], ["proof (state)\nthis:\n  Max (mins i (j + 1)) \\<le> k'\n\ngoal (2 subgoals):\n 1. k' \\<le> j\n 2. c_k i j k' \\<le> c_k i j (Max (mins i (j + 1)))", "show \"k' \\<le> j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. k' \\<le> j", "using mins_subset atLeastAtMost_iff k'"], ["proof (prove)\nusing this:\n  mins ?i ?j \\<subseteq> {?i + 1..?j}\n  (?i \\<in> {?l..?u}) = (?l \\<le> ?i \\<and> ?i \\<le> ?u)\n  k' \\<in> mins i j\n\ngoal (1 subgoal):\n 1. k' \\<le> j", "by blast"], ["proof (state)\nthis:\n  k' \\<le> j\n\ngoal (1 subgoal):\n 1. c_k i j k' \\<le> c_k i j (Max (mins i (j + 1)))", "show \"c_k i j k' \\<le> c_k i j (Max (mins i (j + 1))) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. c_k i j k' \\<le> c_k i j (Max (mins i (j + 1)))", "using k' \\<open>?k \\<in> {i+1..j}\\<close>"], ["proof (prove)\nusing this:\n  k' \\<in> mins i j\n  K i (j + 1) \\<in> {i + 1..j}\n\ngoal (1 subgoal):\n 1. c_k i j k' \\<le> c_k i j (Max (mins i (j + 1)))", "by(simp add: K_simps Args_min_simps)"], ["proof (state)\nthis:\n  c_k i j k' \\<le> c_k i j (Max (mins i (j + 1)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c_k i (j + 1) k' \\<le> c_k i (j + 1) (K i (j + 1))\n\ngoal (1 subgoal):\n 1. \\<not> k' \\<le> Max (mins i (j + 1)) \\<Longrightarrow> False", "hence \"is_arg_min_on (c_k i (j+1)) {i+1..j+1} k'\""], ["proof (prove)\nusing this:\n  c_k i (j + 1) k' \\<le> c_k i (j + 1) (K i (j + 1))\n\ngoal (1 subgoal):\n 1. is_arg_min_on (c_k i (j + 1)) {i + 1..j + 1} k'", "apply(rule is_arg_min_on_antimono[OF *])"], ["proof (prove)\ngoal (1 subgoal):\n 1. k' \\<in> {i + 1..j + 1}", "using mins_subset k'"], ["proof (prove)\nusing this:\n  mins ?i ?j \\<subseteq> {?i + 1..?j}\n  k' \\<in> mins i j\n\ngoal (1 subgoal):\n 1. k' \\<in> {i + 1..j + 1}", "by fastforce"], ["proof (state)\nthis:\n  is_arg_min_on (c_k i (j + 1)) {i + 1..j + 1} k'\n\ngoal (1 subgoal):\n 1. \\<not> k' \\<le> Max (mins i (j + 1)) \\<Longrightarrow> False", "hence \"k' \\<in> mins i (j+1)\""], ["proof (prove)\nusing this:\n  is_arg_min_on (c_k i (j + 1)) {i + 1..j + 1} k'\n\ngoal (1 subgoal):\n 1. k' \\<in> mins i (j + 1)", "using k'"], ["proof (prove)\nusing this:\n  is_arg_min_on (c_k i (j + 1)) {i + 1..j + 1} k'\n  k' \\<in> mins i j\n\ngoal (1 subgoal):\n 1. k' \\<in> mins i (j + 1)", "by (auto simp: Args_min_on_def)"], ["proof (state)\nthis:\n  k' \\<in> mins i (j + 1)\n\ngoal (1 subgoal):\n 1. \\<not> k' \\<le> Max (mins i (j + 1)) \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  k' \\<in> mins i (j + 1)\n\ngoal (1 subgoal):\n 1. False", "using finite_mins \\<open>\\<not> k' \\<le> Max (mins i (j + 1))\\<close>"], ["proof (prove)\nusing this:\n  k' \\<in> mins i (j + 1)\n  finite (mins ?i ?j)\n  \\<not> k' \\<le> Max (mins i (j + 1))\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  k' \\<le> Max (mins i (j + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  K i j \\<le> K i (j + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  K i j \\<le> K i (j + 1)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lemma_3_2: assumes \"i \\<le> j\" shows \"K i (j+1) \\<le> K (i+1) (j+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i (j + 1) \\<le> K (i + 1) (j + 1)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)\n 2. \\<not> ?P \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "assume \"i = j\""], ["proof (state)\nthis:\n  i = j\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)\n 2. \\<not> ?P \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "thus ?thesis"], ["proof (prove)\nusing this:\n  i = j\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<le> K (i + 1) (j + 1)", "by (metis K_def K_subset atLeastAtMost_iff less_add_one less_le)"], ["proof (state)\nthis:\n  K i (j + 1) \\<le> K (i + 1) (j + 1)\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "assume \"i \\<noteq> j\""], ["proof (state)\nthis:\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "hence \"i < j\""], ["proof (prove)\nusing this:\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. i < j", "using \\<open>i \\<le> j\\<close>"], ["proof (prove)\nusing this:\n  i \\<noteq> j\n  i \\<le> j\n\ngoal (1 subgoal):\n 1. i < j", "by simp"], ["proof (state)\nthis:\n  i < j\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "let ?k = \"K (i+1) (j+1)\""], ["proof (state)\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "have \"K i (j+1) \\<in> {i+1..j+1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i (j + 1) \\<in> {i + 1..j + 1}", "unfolding K_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if i = j + 1 then i else Max (mins i (j + 1))) \\<in> {i + 1..j + 1}", "by (metis Max_in \\<open>i < j\\<close> finite_mins less_irrefl mins_nonempty mins_subset subsetCE zless_add1_eq)"], ["proof (state)\nthis:\n  K i (j + 1) \\<in> {i + 1..j + 1}\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "have \"i+1 < j+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i + 1 < j + 1", "using \\<open>i < j\\<close>"], ["proof (prove)\nusing this:\n  i < j\n\ngoal (1 subgoal):\n 1. i + 1 < j + 1", "by linarith"], ["proof (state)\nthis:\n  i + 1 < j + 1\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "hence \"K (i+1) (j+1) \\<in> {i+1+1..j+1}\""], ["proof (prove)\nusing this:\n  i + 1 < j + 1\n\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<in> {i + 1 + 1..j + 1}", "using mins_nonempty[OF \\<open>i+1 < j+1\\<close>] mins_subset Max_in K_def finite_mins"], ["proof (prove)\nusing this:\n  i + 1 < j + 1\n  mins (i + 1) (j + 1) \\<noteq> {}\n  mins ?i ?j \\<subseteq> {?i + 1..?j}\n  \\<lbrakk>finite ?A; ?A \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> Max ?A \\<in> ?A\n  K ?i ?j \\<equiv> if ?i = ?j then ?i else Max (mins ?i ?j)\n  finite (mins ?i ?j)\n\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<in> {i + 1 + 1..j + 1}", "by (metis atLeastatMost_empty atLeastatMost_empty_iff2 contra_subsetD empty_subsetI less_add_one psubsetI)"], ["proof (state)\nthis:\n  K (i + 1) (j + 1) \\<in> {i + 1 + 1..j + 1}\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "have *: \"is_arg_min_on (c_k (i+1)(j+1)) {i+1+1..j+1} ?k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_arg_min_on (c_k (i + 1) (j + 1)) {i + 1 + 1..j + 1}\n     (K (i + 1) (j + 1))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. is_arg_min_on (c_k (i + 1) (j + 1)) {i + 1 + 1..j + 1}\n     (K (i + 1) (j + 1))", "have \"K (i+1) (j+1) \\<in> mins (i+1) (j+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<in> mins (i + 1) (j + 1)", "using finite_mins mins_nonempty \\<open>i + 1 < j + 1\\<close>"], ["proof (prove)\nusing this:\n  finite (mins ?i ?j)\n  ?i < ?j \\<Longrightarrow> mins ?i ?j \\<noteq> {}\n  i + 1 < j + 1\n\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<in> mins (i + 1) (j + 1)", "unfolding K_def"], ["proof (prove)\nusing this:\n  finite (mins ?i ?j)\n  ?i < ?j \\<Longrightarrow> mins ?i ?j \\<noteq> {}\n  i + 1 < j + 1\n\ngoal (1 subgoal):\n 1. (if i + 1 = j + 1 then i + 1 else Max (mins (i + 1) (j + 1)))\n    \\<in> mins (i + 1) (j + 1)", "by (metis Max_in not_less_iff_gr_or_eq)"], ["proof (state)\nthis:\n  K (i + 1) (j + 1) \\<in> mins (i + 1) (j + 1)\n\ngoal (1 subgoal):\n 1. is_arg_min_on (c_k (i + 1) (j + 1)) {i + 1 + 1..j + 1}\n     (K (i + 1) (j + 1))", "thus \"is_arg_min_on (c_k (i+1) (j+1)) {i+1+1..j+1} (K (i+1) (j+1))\""], ["proof (prove)\nusing this:\n  K (i + 1) (j + 1) \\<in> mins (i + 1) (j + 1)\n\ngoal (1 subgoal):\n 1. is_arg_min_on (c_k (i + 1) (j + 1)) {i + 1 + 1..j + 1}\n     (K (i + 1) (j + 1))", "unfolding Args_min_on_def"], ["proof (prove)\nusing this:\n  K (i + 1) (j + 1)\n  \\<in> Collect (is_arg_min_on (c_k (i + 1) (j + 1)) {i + 1 + 1..j + 1})\n\ngoal (1 subgoal):\n 1. is_arg_min_on (c_k (i + 1) (j + 1)) {i + 1 + 1..j + 1}\n     (K (i + 1) (j + 1))", "by blast"], ["proof (state)\nthis:\n  is_arg_min_on (c_k (i + 1) (j + 1)) {i + 1 + 1..j + 1} (K (i + 1) (j + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  is_arg_min_on (c_k (i + 1) (j + 1)) {i + 1 + 1..j + 1} (K (i + 1) (j + 1))\n\ngoal (1 subgoal):\n 1. i \\<noteq> j \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. K i (j + 1) \\<le> K (i + 1) (j + 1)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)\n 2. \\<not> ?P \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "assume \"?k = j+1\""], ["proof (state)\nthis:\n  K (i + 1) (j + 1) = j + 1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)\n 2. \\<not> ?P \\<Longrightarrow> K i (j + 1) \\<le> K (i + 1) (j + 1)", "thus ?thesis"], ["proof (prove)\nusing this:\n  K (i + 1) (j + 1) = j + 1\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<le> K (i + 1) (j + 1)", "using \\<open>K i (j+1) \\<in> {i+1..j+1}\\<close>"], ["proof (prove)\nusing this:\n  K (i + 1) (j + 1) = j + 1\n  K i (j + 1) \\<in> {i + 1..j + 1}\n\ngoal (1 subgoal):\n 1. K i (j + 1) \\<le> K (i + 1) (j + 1)", "by simp"], ["proof (state)\nthis:\n  K i (j + 1) \\<le> K (i + 1) (j + 1)\n\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<noteq> j + 1 \\<Longrightarrow>\n    K i (j + 1) \\<le> K (i + 1) (j + 1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<noteq> j + 1 \\<Longrightarrow>\n    K i (j + 1) \\<le> K (i + 1) (j + 1)", "assume \"?k \\<noteq> j+1\""], ["proof (state)\nthis:\n  K (i + 1) (j + 1) \\<noteq> j + 1\n\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<noteq> j + 1 \\<Longrightarrow>\n    K i (j + 1) \\<le> K (i + 1) (j + 1)", "hence \"?k \\<in> {i+1+1..j}\""], ["proof (prove)\nusing this:\n  K (i + 1) (j + 1) \\<noteq> j + 1\n\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<in> {i + 1 + 1..j}", "using \\<open>K (i+1) (j+1) \\<in> {i+1+1..j+1}\\<close>"], ["proof (prove)\nusing this:\n  K (i + 1) (j + 1) \\<noteq> j + 1\n  K (i + 1) (j + 1) \\<in> {i + 1 + 1..j + 1}\n\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<in> {i + 1 + 1..j}", "by auto"], ["proof (state)\nthis:\n  K (i + 1) (j + 1) \\<in> {i + 1 + 1..j}\n\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<noteq> j + 1 \\<Longrightarrow>\n    K i (j + 1) \\<le> K (i + 1) (j + 1)", "have  \"i\\<noteq>j+1\" \"i+1 \\<noteq> j+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<noteq> j + 1 &&& i + 1 \\<noteq> j + 1", "using \\<open>i < j\\<close>"], ["proof (prove)\nusing this:\n  i < j\n\ngoal (1 subgoal):\n 1. i \\<noteq> j + 1 &&& i + 1 \\<noteq> j + 1", "by auto"], ["proof (state)\nthis:\n  i \\<noteq> j + 1\n  i + 1 \\<noteq> j + 1\n\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<noteq> j + 1 \\<Longrightarrow>\n    K i (j + 1) \\<le> K (i + 1) (j + 1)", "hence K_simps: \"K i (j+1) = Max (mins i (j+1))\" \n                      \"K (i+1) (j+1) = Max (mins (i+1) (j+1))\""], ["proof (prove)\nusing this:\n  i \\<noteq> j + 1\n  i + 1 \\<noteq> j + 1\n\ngoal (1 subgoal):\n 1. K i (j + 1) = Max (mins i (j + 1)) &&&\n    K (i + 1) (j + 1) = Max (mins (i + 1) (j + 1))", "unfolding K_def"], ["proof (prove)\nusing this:\n  i \\<noteq> j + 1\n  i + 1 \\<noteq> j + 1\n\ngoal (1 subgoal):\n 1. (if i = j + 1 then i else Max (mins i (j + 1))) =\n    Max (mins i (j + 1)) &&&\n    (if i + 1 = j + 1 then i + 1 else Max (mins (i + 1) (j + 1))) =\n    Max (mins (i + 1) (j + 1))", "by auto"], ["proof (state)\nthis:\n  K i (j + 1) = Max (mins i (j + 1))\n  K (i + 1) (j + 1) = Max (mins (i + 1) (j + 1))\n\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<noteq> j + 1 \\<Longrightarrow>\n    K i (j + 1) \\<le> K (i + 1) (j + 1)", "have \"i < j+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < j + 1", "using \\<open>i+1 < j+1\\<close>"], ["proof (prove)\nusing this:\n  i + 1 < j + 1\n\ngoal (1 subgoal):\n 1. i < j + 1", "by simp"], ["proof (state)\nthis:\n  i < j + 1\n\ngoal (1 subgoal):\n 1. K (i + 1) (j + 1) \\<noteq> j + 1 \\<Longrightarrow>\n    K i (j + 1) \\<le> K (i + 1) (j + 1)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. K i (j + 1) \\<le> K (i + 1) (j + 1)", "unfolding K_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. Max (mins i (j + 1)) \\<le> Max (mins (i + 1) (j + 1))", "proof (rule Max.boundedI[OF finite_mins mins_nonempty[OF \\<open>i < j+1\\<close>]])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> mins i (j + 1) \\<Longrightarrow>\n       a \\<le> Max (mins (i + 1) (j + 1))", "fix k'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> mins i (j + 1) \\<Longrightarrow>\n       a \\<le> Max (mins (i + 1) (j + 1))", "assume k': \"k' \\<in> mins i (j+1)\""], ["proof (state)\nthis:\n  k' \\<in> mins i (j + 1)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> mins i (j + 1) \\<Longrightarrow>\n       a \\<le> Max (mins (i + 1) (j + 1))", "show \"k' \\<le> Max (mins (i + 1) (j + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. k' \\<le> Max (mins (i + 1) (j + 1))", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> k' \\<le> Max (mins (i + 1) (j + 1)) \\<Longrightarrow> False", "assume \"~ k' \\<le> Max (mins (i+1)(j+1))\""], ["proof (state)\nthis:\n  \\<not> k' \\<le> Max (mins (i + 1) (j + 1))\n\ngoal (1 subgoal):\n 1. \\<not> k' \\<le> Max (mins (i + 1) (j + 1)) \\<Longrightarrow> False", "have \"c_k (i+1) (j+1) k' \\<le> c_k (i+1) (j+1) ?k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c_k (i + 1) (j + 1) k' \\<le> c_k (i + 1) (j + 1) (K (i + 1) (j + 1))", "unfolding K_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. c_k (i + 1) (j + 1) k'\n    \\<le> c_k (i + 1) (j + 1) (Max (mins (i + 1) (j + 1)))", "thm QI'[of \"i+1\" \"Max(mins (i+1)(j+1))\" k' \"j\"]"], ["proof (prove)\ngoal (1 subgoal):\n 1. c_k (i + 1) (j + 1) k'\n    \\<le> c_k (i + 1) (j + 1) (Max (mins (i + 1) (j + 1)))", "proof (rule QI'')"], ["proof (state)\ngoal (4 subgoals):\n 1. i + 1 < Max (mins (i + 1) (j + 1))\n 2. Max (mins (i + 1) (j + 1)) \\<le> k'\n 3. k' \\<le> j + 1\n 4. c_k i (j + 1) k' \\<le> c_k i (j + 1) (Max (mins (i + 1) (j + 1)))", "show \"i+1  < Max (mins (i+1)(j+1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i + 1 < Max (mins (i + 1) (j + 1))", "using \\<open>K (i+1) (j+1) \\<in> {i+1+1..j+1}\\<close> K_simps"], ["proof (prove)\nusing this:\n  K (i + 1) (j + 1) \\<in> {i + 1 + 1..j + 1}\n  K i (j + 1) = Max (mins i (j + 1))\n  K (i + 1) (j + 1) = Max (mins (i + 1) (j + 1))\n\ngoal (1 subgoal):\n 1. i + 1 < Max (mins (i + 1) (j + 1))", "by auto"], ["proof (state)\nthis:\n  i + 1 < Max (mins (i + 1) (j + 1))\n\ngoal (3 subgoals):\n 1. Max (mins (i + 1) (j + 1)) \\<le> k'\n 2. k' \\<le> j + 1\n 3. c_k i (j + 1) k' \\<le> c_k i (j + 1) (Max (mins (i + 1) (j + 1)))", "show \"Max (mins (i + 1) (j + 1)) \\<le> k'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Max (mins (i + 1) (j + 1)) \\<le> k'", "using \\<open>~ k' \\<le> Max (mins (i+1)(j+1))\\<close> K_simps"], ["proof (prove)\nusing this:\n  \\<not> k' \\<le> Max (mins (i + 1) (j + 1))\n  K i (j + 1) = Max (mins i (j + 1))\n  K (i + 1) (j + 1) = Max (mins (i + 1) (j + 1))\n\ngoal (1 subgoal):\n 1. Max (mins (i + 1) (j + 1)) \\<le> k'", "by linarith"], ["proof (state)\nthis:\n  Max (mins (i + 1) (j + 1)) \\<le> k'\n\ngoal (2 subgoals):\n 1. k' \\<le> j + 1\n 2. c_k i (j + 1) k' \\<le> c_k i (j + 1) (Max (mins (i + 1) (j + 1)))", "show \"k' \\<le> j+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. k' \\<le> j + 1", "using mins_subset k'"], ["proof (prove)\nusing this:\n  mins ?i ?j \\<subseteq> {?i + 1..?j}\n  k' \\<in> mins i (j + 1)\n\ngoal (1 subgoal):\n 1. k' \\<le> j + 1", "by fastforce"], ["proof (state)\nthis:\n  k' \\<le> j + 1\n\ngoal (1 subgoal):\n 1. c_k i (j + 1) k' \\<le> c_k i (j + 1) (Max (mins (i + 1) (j + 1)))", "show \"c_k i (j+1) k' \\<le> c_k i (j+1) (Max (mins (i + 1) (j + 1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c_k i (j + 1) k' \\<le> c_k i (j + 1) (Max (mins (i + 1) (j + 1)))", "using k' \\<open>?k \\<in> {(i+1)+1..j + 1}\\<close> K_simps"], ["proof (prove)\nusing this:\n  k' \\<in> mins i (j + 1)\n  K (i + 1) (j + 1) \\<in> {i + 1 + 1..j + 1}\n  K i (j + 1) = Max (mins i (j + 1))\n  K (i + 1) (j + 1) = Max (mins (i + 1) (j + 1))\n\ngoal (1 subgoal):\n 1. c_k i (j + 1) k' \\<le> c_k i (j + 1) (Max (mins (i + 1) (j + 1)))", "by(simp add: Args_min_simps)"], ["proof (state)\nthis:\n  c_k i (j + 1) k' \\<le> c_k i (j + 1) (Max (mins (i + 1) (j + 1)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c_k (i + 1) (j + 1) k' \\<le> c_k (i + 1) (j + 1) (K (i + 1) (j + 1))\n\ngoal (1 subgoal):\n 1. \\<not> k' \\<le> Max (mins (i + 1) (j + 1)) \\<Longrightarrow> False", "hence \"is_arg_min_on (c_k (i+1) (j+1)) {i+1+1..j+1} k'\""], ["proof (prove)\nusing this:\n  c_k (i + 1) (j + 1) k' \\<le> c_k (i + 1) (j + 1) (K (i + 1) (j + 1))\n\ngoal (1 subgoal):\n 1. is_arg_min_on (c_k (i + 1) (j + 1)) {i + 1 + 1..j + 1} k'", "apply(rule is_arg_min_on_antimono[OF *])"], ["proof (prove)\ngoal (1 subgoal):\n 1. k' \\<in> {i + 1 + 1..j + 1}", "using mins_subset k' K_simps \\<open>?k \\<in> {i+1+1..j}\\<close>\n            \\<open>\\<not> k' \\<le> Max (mins (i + 1) (j + 1))\\<close> atLeastAtMost_iff"], ["proof (prove)\nusing this:\n  mins ?i ?j \\<subseteq> {?i + 1..?j}\n  k' \\<in> mins i (j + 1)\n  K i (j + 1) = Max (mins i (j + 1))\n  K (i + 1) (j + 1) = Max (mins (i + 1) (j + 1))\n  K (i + 1) (j + 1) \\<in> {i + 1 + 1..j}\n  \\<not> k' \\<le> Max (mins (i + 1) (j + 1))\n  (?i \\<in> {?l..?u}) = (?l \\<le> ?i \\<and> ?i \\<le> ?u)\n\ngoal (1 subgoal):\n 1. k' \\<in> {i + 1 + 1..j + 1}", "by force"], ["proof (state)\nthis:\n  is_arg_min_on (c_k (i + 1) (j + 1)) {i + 1 + 1..j + 1} k'\n\ngoal (1 subgoal):\n 1. \\<not> k' \\<le> Max (mins (i + 1) (j + 1)) \\<Longrightarrow> False", "hence \"k' \\<in> mins (i+1) (j+1)\""], ["proof (prove)\nusing this:\n  is_arg_min_on (c_k (i + 1) (j + 1)) {i + 1 + 1..j + 1} k'\n\ngoal (1 subgoal):\n 1. k' \\<in> mins (i + 1) (j + 1)", "by (simp add: k' Args_min_on_def)"], ["proof (state)\nthis:\n  k' \\<in> mins (i + 1) (j + 1)\n\ngoal (1 subgoal):\n 1. \\<not> k' \\<le> Max (mins (i + 1) (j + 1)) \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  k' \\<in> mins (i + 1) (j + 1)\n\ngoal (1 subgoal):\n 1. False", "using finite_mins \\<open>\\<not> k' \\<le> Max (mins (i+1)(j+1))\\<close> Max_ge"], ["proof (prove)\nusing this:\n  k' \\<in> mins (i + 1) (j + 1)\n  finite (mins ?i ?j)\n  \\<not> k' \\<le> Max (mins (i + 1) (j + 1))\n  \\<lbrakk>finite ?A; ?x \\<in> ?A\\<rbrakk> \\<Longrightarrow> ?x \\<le> Max ?A\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  k' \\<le> Max (mins (i + 1) (j + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  K i (j + 1) \\<le> K (i + 1) (j + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  K i (j + 1) \\<le> K (i + 1) (j + 1)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lemma_3: assumes \"i \\<le> j\" \n  shows \"K i j \\<le> K i (j+1)\" \"K i (j+1) \\<le> K (i+1) (j+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. K i j \\<le> K i (j + 1) &&& K i (j + 1) \\<le> K (i + 1) (j + 1)", "using assms lemma_3_1 lemma_3_2"], ["proof (prove)\nusing this:\n  i \\<le> j\n  ?i \\<le> ?j \\<Longrightarrow> K ?i ?j \\<le> K ?i (?j + 1)\n  ?i \\<le> ?j \\<Longrightarrow> K ?i (?j + 1) \\<le> K (?i + 1) (?j + 1)\n\ngoal (1 subgoal):\n 1. K i j \\<le> K i (j + 1) &&& K i (j + 1) \\<le> K (i + 1) (j + 1)", "by blast+"], ["", "end"], ["", "(* locale QI *)"], ["", "end"]]}