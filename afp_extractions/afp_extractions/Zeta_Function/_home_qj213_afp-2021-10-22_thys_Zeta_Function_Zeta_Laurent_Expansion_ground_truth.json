{"file_name": "/home/qj213/afp-2021-10-22/thys/Zeta_Function/Zeta_Laurent_Expansion.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Zeta_Function", "problem_names": ["lemma stieltjes_gamma_0 [simp]: \"stieltjes_gamma 0 = euler_mascheroni\"", "lemma stieltjes_gamma_summable:\n  \"summable (\\<lambda>k. ln (k+1) ^ n / (k+1) - (ln (k+2) ^ (n+1) - ln (k+1) ^ (n + 1)) / (n + 1))\"\n    (is \"summable ?f\")", "lemma of_real_stieltjes_gamma [simp]: \"of_real (stieltjes_gamma k) = stieltjes_gamma k\"", "lemma sums_stieltjes_gamma:\n  \"(\\<lambda>k. ln (k+1) ^ n / (k+1) - (ln (k+2) ^ (n+1) - ln (k+1) ^ (n + 1)) / (n + 1))\n     sums stieltjes_gamma n\"", "lemma stieltjes_gamma_real_limit_form:\n  \"(\\<lambda>m. (\\<Sum>k = 1..m. ln (real k) ^ n / real k) - ln (real m) ^ (n + 1) / real (n + 1))\n     \\<longlonglongrightarrow> stieltjes_gamma n\"", "lemma stieltjes_gamma_limit_form:\n  \"(\\<lambda>m. of_real ((\\<Sum>k=1..m. ln (real k) ^ n / real k) - ln (real m) ^ (n + 1) / real (n + 1)))\n     \\<longlonglongrightarrow> (stieltjes_gamma n :: 'a :: real_normed_algebra_1)\"", "lemma stieltjes_gamma_real_altdef:\n  \"(stieltjes_gamma n :: real) =\n     lim (\\<lambda>m. (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n              ln (real m) ^ (n + 1) / real (n + 1))\"", "lemma stieltjes_gamma_aux1: \"(\\<lambda>n. (-1)^(n+1) * ln(n+1)^k / (n+1)) sums ((-1)^k * (deriv^^k) g 1)\"", "lemma stieltjes_gamma_aux2: \"(deriv^^k) g 1 = fact k * fps_nth G k\" \n  and stieltjes_gamma_aux3: \"G2 = fps_X * G2' + 1\"", "lemma stieltjes_gamma_aux4: \"fps_nth G k = (\\<Sum>i=1..k+1. (-ln 2)^i * A (k-(i-1)) / fact i)\"", "lemma stieltjes_gamma_aux5: \"(\\<Sum>t<k. (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n             ln 2 ^ (k+1) / of_nat (k+1) = (-1) ^ k * (deriv ^^ k) g 1\"", "lemma stieltjes_gamma_aux6: \"(\\<Sum>t<k. (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n                  Ln 2 ^ (k + 1) / of_nat (k + 1) =\n                (-1)^k * fact k * (\\<Sum>i=1..k+1. (-Ln 2) ^ i * A (k-(i-1)) / fact i)\"", "theorem higher_deriv_pre_zeta_1_1: \"(deriv ^^ k) (pre_zeta 1) 1 = (-1) ^ k * stieltjes_gamma k\""], "translations": [["", "lemma stieltjes_gamma_0 [simp]: \"stieltjes_gamma 0 = euler_mascheroni\""], ["proof (prove)\ngoal (1 subgoal):\n 1. stieltjes_gamma 0 = euler_mascheroni", "using euler_mascheroni_sum_real"], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      inverse (real (n + 1)) + ln (real (n + 1)) - ln (real (n + 2))) sums\n  euler_mascheroni\n\ngoal (1 subgoal):\n 1. stieltjes_gamma 0 = euler_mascheroni", "by (simp add: sums_iff stieltjes_gamma_def field_simps)"], ["", "lemma stieltjes_gamma_summable:\n  \"summable (\\<lambda>k. ln (k+1) ^ n / (k+1) - (ln (k+2) ^ (n+1) - ln (k+1) ^ (n + 1)) / (n + 1))\"\n    (is \"summable ?f\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>k.\n         ln (real (k + 1)) ^ n / real (k + 1) -\n         (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n         (real n + 1))", "proof (rule summable_comparison_test_bigo)"], ["proof (state)\ngoal (2 subgoals):\n 1. summable (\\<lambda>n. norm (?g n))\n 2. (\\<lambda>k.\n        ln (real (k + 1)) ^ n / real (k + 1) -\n        (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n        (real n + 1))\n    \\<in> O(?g)", "(* TODO: good real_asymp example *)\n  (* TODO: investigate how to make this more automatic *)"], ["proof (state)\ngoal (2 subgoals):\n 1. summable (\\<lambda>n. norm (?g n))\n 2. (\\<lambda>k.\n        ln (real (k + 1)) ^ n / real (k + 1) -\n        (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n        (real n + 1))\n    \\<in> O(?g)", "have \"eventually (\\<lambda>x::real. ln x ^ n - ln x ^ (n+1) * (inverse (ln x) * (1 + real n)) *\n           inverse (real n + 1) = 0) at_top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_top.\n       ln x ^ n -\n       ln x ^ (n + 1) * (inverse (ln x) * (1 + real n)) *\n       inverse (real n + 1) =\n       0", "using eventually_gt_at_top[of 1]"], ["proof (prove)\nusing this:\n  eventually ((<) (1::?'a1)) at_top\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_top.\n       ln x ^ n -\n       ln x ^ (n + 1) * (inverse (ln x) * (1 + real n)) *\n       inverse (real n + 1) =\n       0", "by eventually_elim (auto simp: field_simps)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at_top.\n     ln x ^ n -\n     ln x ^ (n + 1) * (inverse (ln x) * (1 + real n)) *\n     inverse (real n + 1) =\n     0\n\ngoal (2 subgoals):\n 1. summable (\\<lambda>n. norm (?g n))\n 2. (\\<lambda>k.\n        ln (real (k + 1)) ^ n / real (k + 1) -\n        (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n        (real n + 1))\n    \\<in> O(?g)", "thus \"?f \\<in> O(\\<lambda>k. k powr (-3/2))\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at_top.\n     ln x ^ n -\n     ln x ^ (n + 1) * (inverse (ln x) * (1 + real n)) *\n     inverse (real n + 1) =\n     0\n\ngoal (1 subgoal):\n 1. (\\<lambda>k.\n        ln (real (k + 1)) ^ n / real (k + 1) -\n        (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n        (real n + 1))\n    \\<in> O(\\<lambda>x. real x powr (- 3 / 2))", "by real_asymp"], ["proof (state)\nthis:\n  (\\<lambda>k.\n      ln (real (k + 1)) ^ n / real (k + 1) -\n      (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n      (real n + 1))\n  \\<in> O(\\<lambda>x. real x powr (- 3 / 2))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. norm (real n powr (- 3 / 2)))", "qed (simp_all add: summable_real_powr_iff)"], ["", "lemma of_real_stieltjes_gamma [simp]: \"of_real (stieltjes_gamma k) = stieltjes_gamma k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_real (stieltjes_gamma k) = stieltjes_gamma k", "by (simp add: stieltjes_gamma_def)"], ["", "lemma sums_stieltjes_gamma:\n  \"(\\<lambda>k. ln (k+1) ^ n / (k+1) - (ln (k+2) ^ (n+1) - ln (k+1) ^ (n + 1)) / (n + 1))\n     sums stieltjes_gamma n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>k.\n        ln (real (k + 1)) ^ n / real (k + 1) -\n        (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n        (real n + 1)) sums\n    stieltjes_gamma n", "using stieltjes_gamma_summable[of n]"], ["proof (prove)\nusing this:\n  summable\n   (\\<lambda>k.\n       ln (real (k + 1)) ^ n / real (k + 1) -\n       (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n       (real n + 1))\n\ngoal (1 subgoal):\n 1. (\\<lambda>k.\n        ln (real (k + 1)) ^ n / real (k + 1) -\n        (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n        (real n + 1)) sums\n    stieltjes_gamma n", "unfolding stieltjes_gamma_def"], ["proof (prove)\nusing this:\n  summable\n   (\\<lambda>k.\n       ln (real (k + 1)) ^ n / real (k + 1) -\n       (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n       (real n + 1))\n\ngoal (1 subgoal):\n 1. (\\<lambda>k.\n        ln (real (k + 1)) ^ n / real (k + 1) -\n        (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n        (real n + 1)) sums\n    of_real\n     (\\<Sum>k.\n         ln (real (k + 1)) ^ n / real (k + 1) -\n         (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n         (real n + 1))", "by (simp add: summable_sums)"], ["", "text \\<open>\n  We can now derive the alternative definition of the Stieltjes constants as a limit.\n  This limit can also be written in the Euler--MacLaurin-style form\n  \\[\\lim\\limits_{m\\to\\infty} \\left(\\sum\\limits_{k=1}^m \\frac{\\ln^n k}{k} - \n       \\int_1^m \\frac{\\ln^n x}{x}\\,\\text{d}x\\right)\\,,\\]\n  which is perhaps a bit more illuminating.\n\\<close>"], ["", "lemma stieltjes_gamma_real_limit_form:\n  \"(\\<lambda>m. (\\<Sum>k = 1..m. ln (real k) ^ n / real k) - ln (real m) ^ (n + 1) / real (n + 1))\n     \\<longlonglongrightarrow> stieltjes_gamma n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real m) ^ (n + 1) / real (n + 1))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real m) ^ (n + 1) / real (n + 1))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "have \"(\\<lambda>m::nat. \\<Sum>k<m.  ln (k+1) ^ n / (k+1) - (ln (k+2) ^ (n+1) - ln (k+1) ^ (n + 1)) / (n + 1))\n          \\<longlonglongrightarrow> stieltjes_gamma n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        \\<Sum>k<m.\n           ln (real (k + 1)) ^ n / real (k + 1) -\n           (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n           real (n + 1))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "using sums_stieltjes_gamma[of n]"], ["proof (prove)\nusing this:\n  (\\<lambda>k.\n      ln (real (k + 1)) ^ n / real (k + 1) -\n      (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n      (real n + 1)) sums\n  stieltjes_gamma n\n\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        \\<Sum>k<m.\n           ln (real (k + 1)) ^ n / real (k + 1) -\n           (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n           real (n + 1))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "by (simp add: add_ac sums_def)"], ["proof (state)\nthis:\n  (\\<lambda>m.\n      \\<Sum>k<m.\n         ln (real (k + 1)) ^ n / real (k + 1) -\n         (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n         real (n + 1))\n  \\<longlonglongrightarrow> stieltjes_gamma n\n\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real m) ^ (n + 1) / real (n + 1))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "also"], ["proof (state)\nthis:\n  (\\<lambda>m.\n      \\<Sum>k<m.\n         ln (real (k + 1)) ^ n / real (k + 1) -\n         (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n         real (n + 1))\n  \\<longlonglongrightarrow> stieltjes_gamma n\n\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real m) ^ (n + 1) / real (n + 1))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "have \"(\\<lambda>m::nat. \\<Sum>k<m.  ln (k+1) ^ n / (k+1) - (ln (k+2) ^ (n+1) - ln (k+1) ^ (n + 1)) / (n + 1)) =\n        (\\<lambda>m::nat. (\\<Sum>k=1..m. ln k ^ n / k) - ln (m + 1) ^ (n + 1) / (n + 1))\"\n    (is \"?lhs = ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        \\<Sum>k<m.\n           ln (real (k + 1)) ^ n / real (k + 1) -\n           (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n           real (n + 1)) =\n    (\\<lambda>m.\n        (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real (m + 1)) ^ (n + 1) / real (n + 1))", "proof (rule ext, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m.\n       (\\<Sum>k<m.\n           ln (real (k + 1)) ^ n / real (k + 1) -\n           (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n           real (n + 1)) =\n       (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n       ln (real (m + 1)) ^ (n + 1) / real (n + 1)", "fix m :: nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m.\n       (\\<Sum>k<m.\n           ln (real (k + 1)) ^ n / real (k + 1) -\n           (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n           real (n + 1)) =\n       (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n       ln (real (m + 1)) ^ (n + 1) / real (n + 1)", "have \"(\\<Sum>k<m. ln (k+1) ^ n / (k+1) - (ln (k+2) ^ (n+1) - ln (k+1) ^ (n + 1)) / (n + 1)) =\n            (\\<Sum>k<m. ln (k+1) ^ n / (k+1)) -\n            (\\<Sum>k<m. ln (Suc k+1) ^ (n+1) - ln (k+1) ^ (n + 1)) / (n + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k<m.\n        ln (real (k + 1)) ^ n / real (k + 1) -\n        (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n        real (n + 1)) =\n    (\\<Sum>k<m. ln (real (k + 1)) ^ n / real (k + 1)) -\n    (\\<Sum>k<m.\n        ln (real (Suc k + 1)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n    real (n + 1)", "by (simp add: sum_subtractf flip: sum_divide_distrib)"], ["proof (state)\nthis:\n  (\\<Sum>k<m.\n      ln (real (k + 1)) ^ n / real (k + 1) -\n      (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n      real (n + 1)) =\n  (\\<Sum>k<m. ln (real (k + 1)) ^ n / real (k + 1)) -\n  (\\<Sum>k<m.\n      ln (real (Suc k + 1)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n  real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       (\\<Sum>k<m.\n           ln (real (k + 1)) ^ n / real (k + 1) -\n           (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n           real (n + 1)) =\n       (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n       ln (real (m + 1)) ^ (n + 1) / real (n + 1)", "also"], ["proof (state)\nthis:\n  (\\<Sum>k<m.\n      ln (real (k + 1)) ^ n / real (k + 1) -\n      (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n      real (n + 1)) =\n  (\\<Sum>k<m. ln (real (k + 1)) ^ n / real (k + 1)) -\n  (\\<Sum>k<m.\n      ln (real (Suc k + 1)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n  real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       (\\<Sum>k<m.\n           ln (real (k + 1)) ^ n / real (k + 1) -\n           (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n           real (n + 1)) =\n       (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n       ln (real (m + 1)) ^ (n + 1) / real (n + 1)", "have \"(\\<Sum>k<m. ln (k+1) ^ n / (k+1)) = (\\<Sum>k=1..m. ln k ^ n / k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k<m. ln (real (k + 1)) ^ n / real (k + 1)) =\n    (\\<Sum>k = 1..m. ln (real k) ^ n / real k)", "by (rule sum.reindex_bij_witness[of _ \"\\<lambda>k. k-1\" Suc]) auto"], ["proof (state)\nthis:\n  (\\<Sum>k<m. ln (real (k + 1)) ^ n / real (k + 1)) =\n  (\\<Sum>k = 1..m. ln (real k) ^ n / real k)\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       (\\<Sum>k<m.\n           ln (real (k + 1)) ^ n / real (k + 1) -\n           (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n           real (n + 1)) =\n       (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n       ln (real (m + 1)) ^ (n + 1) / real (n + 1)", "also"], ["proof (state)\nthis:\n  (\\<Sum>k<m. ln (real (k + 1)) ^ n / real (k + 1)) =\n  (\\<Sum>k = 1..m. ln (real k) ^ n / real k)\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       (\\<Sum>k<m.\n           ln (real (k + 1)) ^ n / real (k + 1) -\n           (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n           real (n + 1)) =\n       (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n       ln (real (m + 1)) ^ (n + 1) / real (n + 1)", "have \"(\\<Sum>k<m. ln (Suc k+1) ^ (n+1) - ln (k+1) ^ (n + 1)) = ln (m + 1) ^ (n + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k<m.\n        ln (real (Suc k + 1)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) =\n    ln (real (m + 1)) ^ (n + 1)", "by (subst sum_lessThan_telescope) simp_all"], ["proof (state)\nthis:\n  (\\<Sum>k<m.\n      ln (real (Suc k + 1)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) =\n  ln (real (m + 1)) ^ (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>m.\n       (\\<Sum>k<m.\n           ln (real (k + 1)) ^ n / real (k + 1) -\n           (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n           real (n + 1)) =\n       (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n       ln (real (m + 1)) ^ (n + 1) / real (n + 1)", "finally"], ["proof (chain)\npicking this:\n  (\\<Sum>k<m.\n      ln (real (k + 1)) ^ n / real (k + 1) -\n      (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n      real (n + 1)) =\n  (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n  ln (real (m + 1)) ^ (n + 1) / real (n + 1)", "show \"?lhs m = ?rhs m\""], ["proof (prove)\nusing this:\n  (\\<Sum>k<m.\n      ln (real (k + 1)) ^ n / real (k + 1) -\n      (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n      real (n + 1)) =\n  (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n  ln (real (m + 1)) ^ (n + 1) / real (n + 1)\n\ngoal (1 subgoal):\n 1. (\\<Sum>k<m.\n        ln (real (k + 1)) ^ n / real (k + 1) -\n        (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n        real (n + 1)) =\n    (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n    ln (real (m + 1)) ^ (n + 1) / real (n + 1)", "."], ["proof (state)\nthis:\n  (\\<Sum>k<m.\n      ln (real (k + 1)) ^ n / real (k + 1) -\n      (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n      real (n + 1)) =\n  (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n  ln (real (m + 1)) ^ (n + 1) / real (n + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>m.\n      \\<Sum>k<m.\n         ln (real (k + 1)) ^ n / real (k + 1) -\n         (ln (real (k + 2)) ^ (n + 1) - ln (real (k + 1)) ^ (n + 1)) /\n         real (n + 1)) =\n  (\\<lambda>m.\n      (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n      ln (real (m + 1)) ^ (n + 1) / real (n + 1))\n\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real m) ^ (n + 1) / real (n + 1))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "finally"], ["proof (chain)\npicking this:\n  (\\<lambda>m.\n      (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n      ln (real (m + 1)) ^ (n + 1) / real (n + 1))\n  \\<longlonglongrightarrow> stieltjes_gamma n", "have *: \"(\\<lambda>m. (\\<Sum>k = 1..m. ln k ^ n / k) - ln (m + 1) ^ (n + 1) / (n + 1))\n                     \\<longlonglongrightarrow> stieltjes_gamma n\""], ["proof (prove)\nusing this:\n  (\\<lambda>m.\n      (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n      ln (real (m + 1)) ^ (n + 1) / real (n + 1))\n  \\<longlonglongrightarrow> stieltjes_gamma n\n\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real (m + 1)) ^ (n + 1) / real (n + 1))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "."], ["proof (state)\nthis:\n  (\\<lambda>m.\n      (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n      ln (real (m + 1)) ^ (n + 1) / real (n + 1))\n  \\<longlonglongrightarrow> stieltjes_gamma n\n\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real m) ^ (n + 1) / real (n + 1))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "have **: \"(\\<lambda>m. ln (m + 1) ^ (n + 1) / (n + 1) - ln m ^ (n + 1) / (n + 1)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        ln (real (m + 1)) ^ (n + 1) / real (n + 1) -\n        ln (real m) ^ (n + 1) / real (n + 1))\n    \\<longlonglongrightarrow> 0", "by real_asymp"], ["proof (state)\nthis:\n  (\\<lambda>m.\n      ln (real (m + 1)) ^ (n + 1) / real (n + 1) -\n      ln (real m) ^ (n + 1) / real (n + 1))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real m) ^ (n + 1) / real (n + 1))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "from tendsto_add[OF * **]"], ["proof (chain)\npicking this:\n  (\\<lambda>x.\n      (\\<Sum>k = 1..x. ln (real k) ^ n / real k) -\n      ln (real (x + 1)) ^ (n + 1) / real (n + 1) +\n      (ln (real (x + 1)) ^ (n + 1) / real (n + 1) -\n       ln (real x) ^ (n + 1) / real (n + 1)))\n  \\<longlonglongrightarrow> stieltjes_gamma n + 0", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      (\\<Sum>k = 1..x. ln (real k) ^ n / real k) -\n      ln (real (x + 1)) ^ (n + 1) / real (n + 1) +\n      (ln (real (x + 1)) ^ (n + 1) / real (n + 1) -\n       ln (real x) ^ (n + 1) / real (n + 1)))\n  \\<longlonglongrightarrow> stieltjes_gamma n + 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real m) ^ (n + 1) / real (n + 1))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  (\\<lambda>m.\n      (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n      ln (real m) ^ (n + 1) / real (n + 1))\n  \\<longlonglongrightarrow> stieltjes_gamma n\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma stieltjes_gamma_limit_form:\n  \"(\\<lambda>m. of_real ((\\<Sum>k=1..m. ln (real k) ^ n / real k) - ln (real m) ^ (n + 1) / real (n + 1)))\n     \\<longlonglongrightarrow> (stieltjes_gamma n :: 'a :: real_normed_algebra_1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        of_real\n         ((\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n          ln (real m) ^ (n + 1) / real (n + 1)))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        of_real\n         ((\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n          ln (real m) ^ (n + 1) / real (n + 1)))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "have \"(\\<lambda>m.  of_real ((\\<Sum>k=1..m. ln (real k) ^ n / real k) - ln m ^ (n + 1) / real (n + 1)))\n          \\<longlonglongrightarrow> (of_real (stieltjes_gamma n) :: 'a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        of_real\n         ((\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n          ln (real m) ^ (n + 1) / real (n + 1)))\n    \\<longlonglongrightarrow> of_real (stieltjes_gamma n)", "using stieltjes_gamma_real_limit_form[of n]"], ["proof (prove)\nusing this:\n  (\\<lambda>m.\n      (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n      ln (real m) ^ (n + 1) / real (n + 1))\n  \\<longlonglongrightarrow> stieltjes_gamma n\n\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        of_real\n         ((\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n          ln (real m) ^ (n + 1) / real (n + 1)))\n    \\<longlonglongrightarrow> of_real (stieltjes_gamma n)", "by (intro tendsto_of_real) (auto simp: add_ac)"], ["proof (state)\nthis:\n  (\\<lambda>m.\n      of_real\n       ((\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real m) ^ (n + 1) / real (n + 1)))\n  \\<longlonglongrightarrow> of_real (stieltjes_gamma n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        of_real\n         ((\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n          ln (real m) ^ (n + 1) / real (n + 1)))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>m.\n      of_real\n       ((\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real m) ^ (n + 1) / real (n + 1)))\n  \\<longlonglongrightarrow> of_real (stieltjes_gamma n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>m.\n        of_real\n         ((\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n          ln (real m) ^ (n + 1) / real (n + 1)))\n    \\<longlonglongrightarrow> stieltjes_gamma n", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>m.\n      of_real\n       ((\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n        ln (real m) ^ (n + 1) / real (n + 1)))\n  \\<longlonglongrightarrow> stieltjes_gamma n\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma stieltjes_gamma_real_altdef:\n  \"(stieltjes_gamma n :: real) =\n     lim (\\<lambda>m. (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n              ln (real m) ^ (n + 1) / real (n + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. stieltjes_gamma n =\n    lim (\\<lambda>m.\n            (\\<Sum>k = 1..m. ln (real k) ^ n / real k) -\n            ln (real m) ^ (n + 1) / real (n + 1))", "by (rule sym, rule limI, rule stieltjes_gamma_real_limit_form)"], ["", "subsection \\<open>Proof of the Laurent expansion\\<close>"], ["", "text \\<open>\n  We shall follow the proof by Briggs and Chowla~\\cite{briggs55}, which examines the entire\n  function $g(s) = (2^{1-s}-1)\\zeta(s)$. They determine the value of $g^{(k)}(1)$ in two\n  different ways: First by the Dirichlet series of $g$ and then by its power series expansion \n  around 1. We shall do the same here.  \n\\<close>"], ["", "context\n  fixes g and G1 G2 G2' G :: \"complex fps\" and A :: \"nat \\<Rightarrow> complex\"\n  defines \"g \\<equiv> perzeta (1 / 2)\"\n  defines \"G1 \\<equiv> fps_shift 1 (fps_exp (-ln 2 :: complex) - 1)\"\n  defines \"G2 \\<equiv> fps_expansion (\\<lambda>s. (s - 1) * pre_zeta 1 s + 1) 1\"\n  defines \"G2' \\<equiv> fps_expansion (pre_zeta 1) 1\"\n  defines \"G \\<equiv> G1 * G2\"\n  defines \"A \\<equiv> fps_nth G2\"\nbegin"], ["", "text \\<open>\n  @{term \"G1\"}, @{term \"G2\"}, @{term \"G2'\"}, and @{term \"G2\"} are the formal power series\n  expansions of functions around \\<open>s = 1\\<close> of the entire functions\n\n    \\<^item> $(2^{1-s} - 1) / (s - 1)$, \n\n    \\<^item> $(s - 1) \\zeta(s)$,\n\n    \\<^item> $\\zeta(s) - \\frac{1}{s-1}$,\n\n    \\<^item> $(2^{1-s}-1) \\zeta(s)$,\n\n  respectively.\n\n  Our goal is to determine the coefficients of @{term G2'}, and we shall do so\n  by determining the coefficients of @{term G2} (which are the same, but shifted by 1).\n  This in turn will be done by determining the coefficients of @{term \"G = G1 * G2\"}.\n\n  Note that $(2^{1-s} - 1) \\zeta(s)$ is written as @{term \"perzeta (1/2)\"} in Isabelle\n  (using the periodic \\<open>\\<zeta>\\<close> function) and the analytic continuation of $\\zeta(s) - \\frac{1}{s-1}$\n  is written as @{term \"pre_zeta 1 s\"} (@{const pre_zeta} is an artefact from the definition of\n  @{const zeta}, which comes in useful here).\n\\<close>"], ["", "lemma stieltjes_gamma_aux1: \"(\\<lambda>n. (-1)^(n+1) * ln(n+1)^k / (n+1)) sums ((-1)^k * (deriv^^k) g 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "define H where \"H = fds_perzeta (1 / 2)\""], ["proof (state)\nthis:\n  H = fds_perzeta (1 / 2)\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "have conv: \"conv_abscissa H < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. conv_abscissa H < 1", "unfolding H_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. conv_abscissa (fds_perzeta (1 / 2)) < 1", "by (rule le_less_trans[OF conv_abscissa_perzeta']) (use fraction_not_in_ints[of 2 1] in auto)"], ["proof (state)\nthis:\n  conv_abscissa H < 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "have [simp]: \"eval_fds H s = g s\" if \"Re s > 0\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fds H s = g s", "unfolding H_def g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fds (fds_perzeta (1 / 2)) s = perzeta (1 / 2) s", "using fraction_not_in_ints[of 2 1] that"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<not> is_unit 2; 2 \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> of_int 1 / of_int 2 \\<notin> \\<int>\n  0 < Re s\n\ngoal (1 subgoal):\n 1. eval_fds (fds_perzeta (1 / 2)) s = perzeta (1 / 2) s", "by (subst perzeta_altdef2) auto"], ["proof (state)\nthis:\n  0 < Re ?s \\<Longrightarrow> eval_fds H ?s = g ?s\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "have ev: \"eventually (\\<lambda>s. s \\<in> {s. Re s > 0}) (nhds 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in nhds 1. s \\<in> {s. 0 < Re s}", "by (intro eventually_nhds_in_open open_halfspace_Re_gt) auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F s in nhds 1. s \\<in> {s. 0 < Re s}\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "have [simp]: \"(deriv ^^ k) (eval_fds H) 1 = (deriv ^^ k) g 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (deriv ^^ k) (eval_fds H) 1 = (deriv ^^ k) g 1", "by (intro higher_deriv_cong_ev eventually_mono[OF ev]) auto"], ["proof (state)\nthis:\n  (deriv ^^ k) (eval_fds H) 1 = (deriv ^^ k) g 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "have \"fds_converges ((fds_deriv ^^ k) H) 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fds_converges ((fds_deriv ^^ k) H) 1", "by (intro fds_converges le_less_trans[OF conv_abscissa_higher_deriv_le])\n       (use conv in \\<open>simp add: one_ereal_def\\<close>)"], ["proof (state)\nthis:\n  fds_converges ((fds_deriv ^^ k) H) 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "hence \"(\\<lambda>n. fds_nth ((fds_deriv ^^ k) H) (n+1) / real (n+1)) sums eval_fds ((fds_deriv ^^ k) H) 1\""], ["proof (prove)\nusing this:\n  fds_converges ((fds_deriv ^^ k) H) 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        fds_nth ((fds_deriv ^^ k) H) (n + 1) /\n        complex_of_real (real (n + 1))) sums\n    eval_fds ((fds_deriv ^^ k) H) 1", "by (simp add: fds_converges_altdef)"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      fds_nth ((fds_deriv ^^ k) H) (n + 1) /\n      complex_of_real (real (n + 1))) sums\n  eval_fds ((fds_deriv ^^ k) H) 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "also"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      fds_nth ((fds_deriv ^^ k) H) (n + 1) /\n      complex_of_real (real (n + 1))) sums\n  eval_fds ((fds_deriv ^^ k) H) 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "have \"eval_fds ((fds_deriv ^^ k) H) 1 = (deriv ^^ k) (eval_fds H) 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fds ((fds_deriv ^^ k) H) 1 = (deriv ^^ k) (eval_fds H) 1", "using conv"], ["proof (prove)\nusing this:\n  conv_abscissa H < 1\n\ngoal (1 subgoal):\n 1. eval_fds ((fds_deriv ^^ k) H) 1 = (deriv ^^ k) (eval_fds H) 1", "by (intro eval_fds_higher_deriv) (auto simp: one_ereal_def)"], ["proof (state)\nthis:\n  eval_fds ((fds_deriv ^^ k) H) 1 = (deriv ^^ k) (eval_fds H) 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "also"], ["proof (state)\nthis:\n  eval_fds ((fds_deriv ^^ k) H) 1 = (deriv ^^ k) (eval_fds H) 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "have \"(\\<lambda>n. fds_nth ((fds_deriv ^^ k) H) (n+1) / real (n+1)) =\n               (\\<lambda>n. (-1)^k * (-1)^(n+1) * ln (real (n+1)) ^ k / (n+1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        fds_nth ((fds_deriv ^^ k) H) (n + 1) /\n        complex_of_real (real (n + 1))) =\n    (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ k * (- 1) ^ (x + 1) * ln (real (x + 1)) ^ k /\n          real (x + 1)))", "by (auto simp: fds_nth_higher_deriv algebra_simps H_def fds_perzeta_one_half Ln_Reals_eq)"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      fds_nth ((fds_deriv ^^ k) H) (n + 1) /\n      complex_of_real (real (n + 1))) =\n  (\\<lambda>x.\n      complex_of_real\n       ((- 1) ^ k * (- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1)))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "finally"], ["proof (chain)\npicking this:\n  (\\<lambda>n.\n      complex_of_real\n       ((- 1) ^ k * (- 1) ^ (n + 1) * ln (real (n + 1)) ^ k /\n        real (n + 1))) sums\n  (deriv ^^ k) (eval_fds H) 1", "have \"(\\<lambda>n. (- 1) ^ k * complex_of_real ((-1)^(n+1) * ln (real (n+1)) ^ k / real (n+1))) sums\n                   ((deriv ^^ k) g 1)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      complex_of_real\n       ((- 1) ^ k * (- 1) ^ (n + 1) * ln (real (n + 1)) ^ k /\n        real (n + 1))) sums\n  (deriv ^^ k) (eval_fds H) 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        (- 1) ^ k *\n        complex_of_real\n         ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1))) sums\n    (deriv ^^ k) g 1", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      (- 1) ^ k *\n      complex_of_real\n       ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1))) sums\n  (deriv ^^ k) g 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "hence \"(\\<lambda>n. (-1)^k * ((-1)^k * complex_of_real ((-1)^(n+1) * ln (real (n+1)) ^ k / real (n+1)))) sums\n                     ((-1)^k * (deriv ^^ k) g 1)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      (- 1) ^ k *\n      complex_of_real\n       ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1))) sums\n  (deriv ^^ k) g 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        (- 1) ^ k *\n        ((- 1) ^ k *\n         complex_of_real\n          ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "by (intro sums_mult)"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      (- 1) ^ k *\n      ((- 1) ^ k *\n       complex_of_real\n        ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))) sums\n  ((- 1) ^ k * (deriv ^^ k) g 1)\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "also"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      (- 1) ^ k *\n      ((- 1) ^ k *\n       complex_of_real\n        ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))) sums\n  ((- 1) ^ k * (deriv ^^ k) g 1)\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "have \"(\\<lambda>n. (-1)^k * ((-1)^k * complex_of_real ((-1)^(n+1) * ln (real (n+1)) ^ k / real (n+1)))) =\n             (\\<lambda>n. complex_of_real ((-1)^(n+1) * ln (real (n+1)) ^ k / real (n+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        (- 1) ^ k *\n        ((- 1) ^ k *\n         complex_of_real\n          ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))) =\n    (\\<lambda>n.\n        complex_of_real\n         ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))", "by (intro ext) auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      (- 1) ^ k *\n      ((- 1) ^ k *\n       complex_of_real\n        ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))) =\n  (\\<lambda>n.\n      complex_of_real\n       ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "finally"], ["proof (chain)\npicking this:\n  (\\<lambda>n.\n      complex_of_real\n       ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1))) sums\n  ((- 1) ^ k * (deriv ^^ k) g 1)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      complex_of_real\n       ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1))) sums\n  ((- 1) ^ k * (deriv ^^ k) g 1)\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real\n         ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n    ((- 1) ^ k * (deriv ^^ k) g 1)", "."], ["proof (state)\nthis:\n  (\\<lambda>x.\n      complex_of_real\n       ((- 1) ^ (x + 1) * ln (real (x + 1)) ^ k / real (x + 1))) sums\n  ((- 1) ^ k * (deriv ^^ k) g 1)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma stieltjes_gamma_aux2: \"(deriv^^k) g 1 = fact k * fps_nth G k\" \n  and stieltjes_gamma_aux3: \"G2 = fps_X * G2' + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (deriv ^^ k) g 1 = fact k * G $ k &&& G2 = fps_X * G2' + 1", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. (deriv ^^ k) g 1 = fact k * G $ k\n 2. G2 = fps_X * G2' + 1", "have [simp]: \"fps_conv_radius G1 = \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fps_conv_radius G1 = \\<infinity>", "using fps_conv_radius_diff[of \"fps_exp (-Ln 2)\" 1]"], ["proof (prove)\nusing this:\n  min (fps_conv_radius (fps_exp (- Ln 2))) (fps_conv_radius 1)\n  \\<le> fps_conv_radius (fps_exp (- Ln 2) - 1)\n\ngoal (1 subgoal):\n 1. fps_conv_radius G1 = \\<infinity>", "by (simp add: G1_def)"], ["proof (state)\nthis:\n  fps_conv_radius G1 = \\<infinity>\n\ngoal (2 subgoals):\n 1. (deriv ^^ k) g 1 = fact k * G $ k\n 2. G2 = fps_X * G2' + 1", "have \"fps_conv_radius G2 \\<ge> \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<infinity> \\<le> fps_conv_radius G2", "unfolding G2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<infinity>\n    \\<le> fps_conv_radius\n           (fps_expansion (\\<lambda>s. (s - 1) * pre_zeta 1 s + 1) 1)", "by (intro conv_radius_fps_expansion holomorphic_intros) auto"], ["proof (state)\nthis:\n  \\<infinity> \\<le> fps_conv_radius G2\n\ngoal (2 subgoals):\n 1. (deriv ^^ k) g 1 = fact k * G $ k\n 2. G2 = fps_X * G2' + 1", "hence [simp]: \"fps_conv_radius G2 = \\<infinity>\""], ["proof (prove)\nusing this:\n  \\<infinity> \\<le> fps_conv_radius G2\n\ngoal (1 subgoal):\n 1. fps_conv_radius G2 = \\<infinity>", "by simp"], ["proof (state)\nthis:\n  fps_conv_radius G2 = \\<infinity>\n\ngoal (2 subgoals):\n 1. (deriv ^^ k) g 1 = fact k * G $ k\n 2. G2 = fps_X * G2' + 1", "have \"fps_conv_radius G2' \\<ge> \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<infinity> \\<le> fps_conv_radius G2'", "unfolding G2'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<infinity> \\<le> fps_conv_radius (fps_expansion (pre_zeta 1) 1)", "by (intro conv_radius_fps_expansion holomorphic_intros) auto"], ["proof (state)\nthis:\n  \\<infinity> \\<le> fps_conv_radius G2'\n\ngoal (2 subgoals):\n 1. (deriv ^^ k) g 1 = fact k * G $ k\n 2. G2 = fps_X * G2' + 1", "hence [simp]: \"fps_conv_radius G2' = \\<infinity>\""], ["proof (prove)\nusing this:\n  \\<infinity> \\<le> fps_conv_radius G2'\n\ngoal (1 subgoal):\n 1. fps_conv_radius G2' = \\<infinity>", "by simp"], ["proof (state)\nthis:\n  fps_conv_radius G2' = \\<infinity>\n\ngoal (2 subgoals):\n 1. (deriv ^^ k) g 1 = fact k * G $ k\n 2. G2 = fps_X * G2' + 1", "have [simp]: \"fps_conv_radius G = \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fps_conv_radius G = \\<infinity>", "using fps_conv_radius_mult[of G1 G2]"], ["proof (prove)\nusing this:\n  min (fps_conv_radius G1) (fps_conv_radius G2)\n  \\<le> fps_conv_radius (G1 * G2)\n\ngoal (1 subgoal):\n 1. fps_conv_radius G = \\<infinity>", "by (simp add: G_def)"], ["proof (state)\nthis:\n  fps_conv_radius G = \\<infinity>\n\ngoal (2 subgoals):\n 1. (deriv ^^ k) g 1 = fact k * G $ k\n 2. G2 = fps_X * G2' + 1", "have eval_G1: \"eval_fps G1 (s - 1) =\n                   (if s = 1 then -ln 2 else (2 powr (1 - s) - 1) / (s - 1))\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fps G1 (s - 1) =\n    (if s = 1 then - Ln 2 else (2 powr (1 - s) - 1) / (s - 1))", "unfolding G1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fps (fps_shift 1 (fps_exp (- Ln 2) - 1)) (s - 1) =\n    (if s = 1 then - Ln 2 else (2 powr (1 - s) - 1) / (s - 1))", "using fps_conv_radius_diff[of \"fps_exp (-Ln 2)\" 1]"], ["proof (prove)\nusing this:\n  min (fps_conv_radius (fps_exp (- Ln 2))) (fps_conv_radius 1)\n  \\<le> fps_conv_radius (fps_exp (- Ln 2) - 1)\n\ngoal (1 subgoal):\n 1. eval_fps (fps_shift 1 (fps_exp (- Ln 2) - 1)) (s - 1) =\n    (if s = 1 then - Ln 2 else (2 powr (1 - s) - 1) / (s - 1))", "by (subst eval_fps_shift)\n         (auto intro!: subdegree_geI simp: eval_fps_diff powr_def exp_diff exp_minus algebra_simps)"], ["proof (state)\nthis:\n  eval_fps G1 (?s - 1) =\n  (if ?s = 1 then - Ln 2 else (2 powr (1 - ?s) - 1) / (?s - 1))\n\ngoal (2 subgoals):\n 1. (deriv ^^ k) g 1 = fact k * G $ k\n 2. G2 = fps_X * G2' + 1", "have eval_G2: \"eval_fps G2 (s - 1) = (s - 1) * pre_zeta 1 s + 1\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fps G2 (s - 1) = (s - 1) * pre_zeta 1 s + 1", "unfolding G2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fps (fps_expansion (\\<lambda>s. (s - 1) * pre_zeta 1 s + 1) 1)\n     (s - 1) =\n    (s - 1) * pre_zeta 1 s + 1", "by (subst eval_fps_expansion[where r = \\<infinity>]) (auto intro!: holomorphic_intros)"], ["proof (state)\nthis:\n  eval_fps G2 (?s - 1) = (?s - 1) * pre_zeta 1 ?s + 1\n\ngoal (2 subgoals):\n 1. (deriv ^^ k) g 1 = fact k * G $ k\n 2. G2 = fps_X * G2' + 1", "have eval_G: \"eval_fps G (s - 1) = g s\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fps G (s - 1) = g s", "unfolding G_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fps (G1 * G2) (s - 1) = g s", "by (simp add: eval_fps_mult eval_G1 eval_G2 g_def perzeta_one_half_left')"], ["proof (state)\nthis:\n  eval_fps G (?s - 1) = g ?s\n\ngoal (2 subgoals):\n 1. (deriv ^^ k) g 1 = fact k * G $ k\n 2. G2 = fps_X * G2' + 1", "have eval_G': \"eval_fps G s = g (1 + s)\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fps G s = g (1 + s)", "using eval_G[of \"s + 1\"]"], ["proof (prove)\nusing this:\n  eval_fps G (s + 1 - 1) = g (s + 1)\n\ngoal (1 subgoal):\n 1. eval_fps G s = g (1 + s)", "by (simp add: add_ac)"], ["proof (state)\nthis:\n  eval_fps G ?s = g (1 + ?s)\n\ngoal (2 subgoals):\n 1. (deriv ^^ k) g 1 = fact k * G $ k\n 2. G2 = fps_X * G2' + 1", "have eval_G2': \"eval_fps G2' (s - 1) = pre_zeta 1 s\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fps G2' (s - 1) = pre_zeta 1 s", "unfolding G2'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fps (fps_expansion (pre_zeta 1) 1) (s - 1) = pre_zeta 1 s", "by (intro eval_fps_expansion[where r = \\<infinity>]) (auto intro!: holomorphic_intros)"], ["proof (state)\nthis:\n  eval_fps G2' (?s - 1) = pre_zeta 1 ?s\n\ngoal (2 subgoals):\n 1. (deriv ^^ k) g 1 = fact k * G $ k\n 2. G2 = fps_X * G2' + 1", "show \"G2 = fps_X * G2' + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. G2 = fps_X * G2' + 1", "proof (intro eval_fps_eqD always_eventually allI)"], ["proof (state)\ngoal (3 subgoals):\n 1. 0 < fps_conv_radius G2\n 2. 0 < fps_conv_radius (fps_X * G2' + 1)\n 3. \\<And>x. eval_fps G2 x = eval_fps (fps_X * G2' + 1) x", "have *: \"fps_conv_radius (fps_X * G2') = \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fps_conv_radius (fps_X * G2') = \\<infinity>", "using fps_conv_radius_mult[of fps_X G2']"], ["proof (prove)\nusing this:\n  min (fps_conv_radius fps_X) (fps_conv_radius G2')\n  \\<le> fps_conv_radius (fps_X * G2')\n\ngoal (1 subgoal):\n 1. fps_conv_radius (fps_X * G2') = \\<infinity>", "by simp"], ["proof (state)\nthis:\n  fps_conv_radius (fps_X * G2') = \\<infinity>\n\ngoal (3 subgoals):\n 1. 0 < fps_conv_radius G2\n 2. 0 < fps_conv_radius (fps_X * G2' + 1)\n 3. \\<And>x. eval_fps G2 x = eval_fps (fps_X * G2' + 1) x", "from *"], ["proof (chain)\npicking this:\n  fps_conv_radius (fps_X * G2') = \\<infinity>", "show \"fps_conv_radius (fps_X * G2' + 1) > 0\""], ["proof (prove)\nusing this:\n  fps_conv_radius (fps_X * G2') = \\<infinity>\n\ngoal (1 subgoal):\n 1. 0 < fps_conv_radius (fps_X * G2' + 1)", "using fps_conv_radius_add[of \"fps_X * G2'\" 1]"], ["proof (prove)\nusing this:\n  fps_conv_radius (fps_X * G2') = \\<infinity>\n  min (fps_conv_radius (fps_X * G2')) (fps_conv_radius 1)\n  \\<le> fps_conv_radius (fps_X * G2' + 1)\n\ngoal (1 subgoal):\n 1. 0 < fps_conv_radius (fps_X * G2' + 1)", "by auto"], ["proof (state)\nthis:\n  0 < fps_conv_radius (fps_X * G2' + 1)\n\ngoal (2 subgoals):\n 1. 0 < fps_conv_radius G2\n 2. \\<And>x. eval_fps G2 x = eval_fps (fps_X * G2' + 1) x", "show \"eval_fps G2 s = eval_fps (fps_X * G2' + 1) s\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fps G2 s = eval_fps (fps_X * G2' + 1) s", "using * eval_G2[of \"1 + s\"] eval_G2'[of \"1 + s\"]"], ["proof (prove)\nusing this:\n  fps_conv_radius (fps_X * G2') = \\<infinity>\n  eval_fps G2 (1 + s - 1) = (1 + s - 1) * pre_zeta 1 (1 + s) + 1\n  eval_fps G2' (1 + s - 1) = pre_zeta 1 (1 + s)\n\ngoal (1 subgoal):\n 1. eval_fps G2 s = eval_fps (fps_X * G2' + 1) s", "by (simp add: eval_fps_add eval_fps_mult)"], ["proof (state)\nthis:\n  eval_fps G2 ?s = eval_fps (fps_X * G2' + 1) ?s\n\ngoal (1 subgoal):\n 1. 0 < fps_conv_radius G2", "qed auto"], ["proof (state)\nthis:\n  G2 = fps_X * G2' + 1\n\ngoal (1 subgoal):\n 1. (deriv ^^ k) g 1 = fact k * G $ k", "have \"G = fps_expansion g 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. G = fps_expansion g 1", "proof (rule eval_fps_eqD)"], ["proof (state)\ngoal (3 subgoals):\n 1. 0 < fps_conv_radius G\n 2. 0 < fps_conv_radius (fps_expansion g 1)\n 3. \\<forall>\\<^sub>F z in nhds 0.\n       eval_fps G z = eval_fps (fps_expansion g 1) z", "have \"fps_conv_radius (fps_expansion g 1) \\<ge> \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<infinity> \\<le> fps_conv_radius (fps_expansion g 1)", "using fraction_not_in_ints[of 2 1]"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<not> is_unit 2; 2 \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> of_int 1 / of_int 2 \\<notin> \\<int>\n\ngoal (1 subgoal):\n 1. \\<infinity> \\<le> fps_conv_radius (fps_expansion g 1)", "by (intro conv_radius_fps_expansion) (auto intro!: holomorphic_intros simp: g_def)"], ["proof (state)\nthis:\n  \\<infinity> \\<le> fps_conv_radius (fps_expansion g 1)\n\ngoal (3 subgoals):\n 1. 0 < fps_conv_radius G\n 2. 0 < fps_conv_radius (fps_expansion g 1)\n 3. \\<forall>\\<^sub>F z in nhds 0.\n       eval_fps G z = eval_fps (fps_expansion g 1) z", "thus \"fps_conv_radius (fps_expansion g 1) > 0\""], ["proof (prove)\nusing this:\n  \\<infinity> \\<le> fps_conv_radius (fps_expansion g 1)\n\ngoal (1 subgoal):\n 1. 0 < fps_conv_radius (fps_expansion g 1)", "by simp"], ["proof (state)\nthis:\n  0 < fps_conv_radius (fps_expansion g 1)\n\ngoal (2 subgoals):\n 1. 0 < fps_conv_radius G\n 2. \\<forall>\\<^sub>F z in nhds 0.\n       eval_fps G z = eval_fps (fps_expansion g 1) z", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 < fps_conv_radius G\n 2. \\<forall>\\<^sub>F z in nhds 0.\n       eval_fps G z = eval_fps (fps_expansion g 1) z", "have \"eval_fps (fps_expansion g 1) z = g (1 + z)\" for z"], ["proof (prove)\ngoal (1 subgoal):\n 1. eval_fps (fps_expansion g 1) z = g (1 + z)", "using fraction_not_in_ints[of 2 1]"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<not> is_unit 2; 2 \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> of_int 1 / of_int 2 \\<notin> \\<int>\n\ngoal (1 subgoal):\n 1. eval_fps (fps_expansion g 1) z = g (1 + z)", "by (subst eval_fps_expansion'[where r = \\<infinity>]) (auto simp: g_def intro!: holomorphic_intros)"], ["proof (state)\nthis:\n  eval_fps (fps_expansion g 1) ?z = g (1 + ?z)\n\ngoal (2 subgoals):\n 1. 0 < fps_conv_radius G\n 2. \\<forall>\\<^sub>F z in nhds 0.\n       eval_fps G z = eval_fps (fps_expansion g 1) z", "thus \"eventually (\\<lambda>z. eval_fps G z = eval_fps (fps_expansion g 1) z) (nhds 0)\""], ["proof (prove)\nusing this:\n  eval_fps (fps_expansion g 1) ?z = g (1 + ?z)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F z in nhds 0.\n       eval_fps G z = eval_fps (fps_expansion g 1) z", "by (simp add: eval_G')"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F z in nhds 0.\n     eval_fps G z = eval_fps (fps_expansion g 1) z\n\ngoal (1 subgoal):\n 1. 0 < fps_conv_radius G", "qed auto"], ["proof (state)\nthis:\n  G = fps_expansion g 1\n\ngoal (1 subgoal):\n 1. (deriv ^^ k) g 1 = fact k * G $ k", "thus \"(deriv ^^ k) g 1 = fact k * fps_nth G k\""], ["proof (prove)\nusing this:\n  G = fps_expansion g 1\n\ngoal (1 subgoal):\n 1. (deriv ^^ k) g 1 = fact k * G $ k", "by (simp add: fps_eq_iff fps_expansion_def)"], ["proof (state)\nthis:\n  (deriv ^^ k) g 1 = fact k * G $ k\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma stieltjes_gamma_aux4: \"fps_nth G k = (\\<Sum>i=1..k+1. (-ln 2)^i * A (k-(i-1)) / fact i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "have \"fps_nth G k = (\\<Sum>i\\<le>k. fps_nth G1 i * A (k - i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. G $ k = (\\<Sum>i\\<le>k. G1 $ i * A (k - i))", "unfolding G_def fps_mult_nth A_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..k. G1 $ i * G2 $ (k - i)) =\n    (\\<Sum>i\\<le>k. G1 $ i * G2 $ (k - i))", "by (intro sum.cong) auto"], ["proof (state)\nthis:\n  G $ k = (\\<Sum>i\\<le>k. G1 $ i * A (k - i))\n\ngoal (1 subgoal):\n 1. G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "also"], ["proof (state)\nthis:\n  G $ k = (\\<Sum>i\\<le>k. G1 $ i * A (k - i))\n\ngoal (1 subgoal):\n 1. G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "have \"\\<dots> = (\\<Sum>i\\<le>k. (-ln 2)^(i+1) * A (k - i) / fact (i+1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<le>k. G1 $ i * A (k - i)) =\n    (\\<Sum>i\\<le>k. (- Ln 2) ^ (i + 1) * A (k - i) / fact (i + 1))", "by (simp add: G1_def algebra_simps)"], ["proof (state)\nthis:\n  (\\<Sum>i\\<le>k. G1 $ i * A (k - i)) =\n  (\\<Sum>i\\<le>k. (- Ln 2) ^ (i + 1) * A (k - i) / fact (i + 1))\n\ngoal (1 subgoal):\n 1. G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "also"], ["proof (state)\nthis:\n  (\\<Sum>i\\<le>k. G1 $ i * A (k - i)) =\n  (\\<Sum>i\\<le>k. (- Ln 2) ^ (i + 1) * A (k - i) / fact (i + 1))\n\ngoal (1 subgoal):\n 1. G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "have \"\\<dots> = (\\<Sum>i=1..k+1. (-ln 2)^i * A (k-(i-1)) / fact i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<le>k. (- Ln 2) ^ (i + 1) * A (k - i) / fact (i + 1)) =\n    (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "by (intro sum.reindex_bij_witness[of _ \"\\<lambda>i. i-1\" Suc]) (auto simp: Suc_diff_Suc)"], ["proof (state)\nthis:\n  (\\<Sum>i\\<le>k. (- Ln 2) ^ (i + 1) * A (k - i) / fact (i + 1)) =\n  (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)\n\ngoal (1 subgoal):\n 1. G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "finally"], ["proof (chain)\npicking this:\n  G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "show ?thesis"], ["proof (prove)\nusing this:\n  G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)\n\ngoal (1 subgoal):\n 1. G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "."], ["proof (state)\nthis:\n  G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma stieltjes_gamma_aux5: \"(\\<Sum>t<k. (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n             ln 2 ^ (k+1) / of_nat (k+1) = (-1) ^ k * (deriv ^^ k) g 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "define h where \"h = (\\<lambda>k x. (\\<Sum>n=1..x. ln(real n)^k / real n) -\n                         ln (real x)^(k+1) / real(k+1) - stieltjes_gamma k)\""], ["proof (state)\nthis:\n  h =\n  (\\<lambda>k x.\n      (\\<Sum>n = 1..x. ln (real n) ^ k / real n) -\n      ln (real x) ^ (k + 1) / real (k + 1) -\n      stieltjes_gamma k)\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "have h_eq: \"(\\<Sum>n=1..x. ln n ^ k / n) = ln x^(k+1) / real (k+1) + stieltjes_gamma k + h k x\"\n    for k x :: nat"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..x. ln (real n) ^ k / real n) =\n    ln (real x) ^ (k + 1) / real (k + 1) + stieltjes_gamma k + h k x", "by (simp add: h_def)"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..?x. ln (real n) ^ ?k / real n) =\n  ln (real ?x) ^ (?k + 1) / real (?k + 1) + stieltjes_gamma ?k + h ?k ?x\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "define h' where \"h' = (\\<lambda>x. \\<Sum>t=0..k. (k choose t) * ln 2 ^ (k - t) * h t x)\""], ["proof (state)\nthis:\n  h' =\n  (\\<lambda>x. \\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * h t x)\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "define S1 where \"S1 = (\\<lambda>x. (\\<Sum>t=0..k. (k choose t) * ln 2 ^ (k - t) * ln x ^ (t + 1) / (t + 1)))\""], ["proof (state)\nthis:\n  S1 =\n  (\\<lambda>x.\n      \\<Sum>t = 0..k.\n         real (k choose t) * ln 2 ^ (k - t) * ln x ^ (t + 1) / real (t + 1))\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "define S2 where \"S2 = (\\<lambda>x. (\\<Sum>t=0..k. (k choose t) * ln 2 ^ (k - t) * ln x ^ (t + 1) / (k + 1)))\""], ["proof (state)\nthis:\n  S2 =\n  (\\<lambda>x.\n      \\<Sum>t = 0..k.\n         real (k choose t) * ln 2 ^ (k - t) * ln x ^ (t + 1) / real (k + 1))\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "have [THEN filterlim_compose, tendsto_intros]: \"h t \\<longlonglongrightarrow> 0\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. h t \\<longlonglongrightarrow> 0", "using tendsto_diff[OF stieltjes_gamma_real_limit_form[of t] tendsto_const[of \"stieltjes_gamma t\"]]"], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      (\\<Sum>k = 1..x. ln (real k) ^ t / real k) -\n      ln (real x) ^ (t + 1) / real (t + 1) -\n      stieltjes_gamma t)\n  \\<longlonglongrightarrow> stieltjes_gamma t - stieltjes_gamma t\n\ngoal (1 subgoal):\n 1. h t \\<longlonglongrightarrow> 0", "by (simp add: h_def)"], ["proof (state)\nthis:\n  filterlim ?f sequentially ?F1.0 \\<Longrightarrow>\n  ((\\<lambda>x. h ?t1 (?f x)) \\<longlongrightarrow> 0) ?F1.0\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "have eq: \"(\\<Sum>n=1..2 * x. (-1)^(n+1) * ln n ^ k / n) =\n              ln 2 ^ (k+1) / real (k+1) -\n              (\\<Sum>t<k. (k choose t) * ln 2 ^ (k-t) * stieltjes_gamma t) + h k (2*x) - h' x\"\n    (is \"?lhs x = ?rhs x\") if \"x > 0\" for x :: nat"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"2 * (\\<Sum>n=1..x. ln (2*n)^k/(2*n)) =\n           (\\<Sum>n=1..x. \\<Sum>t=0..k. 1/n * (k choose t) * ln 2 ^ (k-t) * ln n ^ t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n)) =\n    (\\<Sum>n = 1..x.\n        \\<Sum>t = 0..k.\n           1 / real n * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real n) ^ t)", "unfolding sum_distrib_left"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..x. 2 * (ln (real (2 * n)) ^ k / real (2 * n))) =\n    (\\<Sum>n = 1..x.\n        \\<Sum>t = 0..k.\n           1 / real n * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real n) ^ t)", "proof (rule sum.cong)"], ["proof (state)\ngoal (2 subgoals):\n 1. {1..x} = {1..x}\n 2. \\<And>xa.\n       xa \\<in> {1..x} \\<Longrightarrow>\n       2 * (ln (real (2 * xa)) ^ k / real (2 * xa)) =\n       (\\<Sum>t = 0..k.\n           1 / real xa * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real xa) ^ t)", "fix n :: nat"], ["proof (state)\ngoal (2 subgoals):\n 1. {1..x} = {1..x}\n 2. \\<And>xa.\n       xa \\<in> {1..x} \\<Longrightarrow>\n       2 * (ln (real (2 * xa)) ^ k / real (2 * xa)) =\n       (\\<Sum>t = 0..k.\n           1 / real xa * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real xa) ^ t)", "assume n: \"n \\<in> {1..x}\""], ["proof (state)\nthis:\n  n \\<in> {1..x}\n\ngoal (2 subgoals):\n 1. {1..x} = {1..x}\n 2. \\<And>xa.\n       xa \\<in> {1..x} \\<Longrightarrow>\n       2 * (ln (real (2 * xa)) ^ k / real (2 * xa)) =\n       (\\<Sum>t = 0..k.\n           1 / real xa * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real xa) ^ t)", "have \"2 * (ln (2*n)^k / (2*n)) = 1/n * (ln n + ln 2) ^ k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * (ln (real (2 * n)) ^ k / real (2 * n)) =\n    1 / real n * (ln (real n) + ln 2) ^ k", "using n"], ["proof (prove)\nusing this:\n  n \\<in> {1..x}\n\ngoal (1 subgoal):\n 1. 2 * (ln (real (2 * n)) ^ k / real (2 * n)) =\n    1 / real n * (ln (real n) + ln 2) ^ k", "by (simp add: ln_mult add_ac)"], ["proof (state)\nthis:\n  2 * (ln (real (2 * n)) ^ k / real (2 * n)) =\n  1 / real n * (ln (real n) + ln 2) ^ k\n\ngoal (2 subgoals):\n 1. {1..x} = {1..x}\n 2. \\<And>xa.\n       xa \\<in> {1..x} \\<Longrightarrow>\n       2 * (ln (real (2 * xa)) ^ k / real (2 * xa)) =\n       (\\<Sum>t = 0..k.\n           1 / real xa * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real xa) ^ t)", "also"], ["proof (state)\nthis:\n  2 * (ln (real (2 * n)) ^ k / real (2 * n)) =\n  1 / real n * (ln (real n) + ln 2) ^ k\n\ngoal (2 subgoals):\n 1. {1..x} = {1..x}\n 2. \\<And>xa.\n       xa \\<in> {1..x} \\<Longrightarrow>\n       2 * (ln (real (2 * xa)) ^ k / real (2 * xa)) =\n       (\\<Sum>t = 0..k.\n           1 / real xa * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real xa) ^ t)", "have \"(ln n + ln 2) ^ k = (\\<Sum>t=0..k. (k choose t) * ln 2 ^ (k-t) * ln n ^ t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ln (real n) + ln 2) ^ k =\n    (\\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)", "by (subst binomial_ring, rule sum.cong) auto"], ["proof (state)\nthis:\n  (ln (real n) + ln 2) ^ k =\n  (\\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)\n\ngoal (2 subgoals):\n 1. {1..x} = {1..x}\n 2. \\<And>xa.\n       xa \\<in> {1..x} \\<Longrightarrow>\n       2 * (ln (real (2 * xa)) ^ k / real (2 * xa)) =\n       (\\<Sum>t = 0..k.\n           1 / real xa * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real xa) ^ t)", "also"], ["proof (state)\nthis:\n  (ln (real n) + ln 2) ^ k =\n  (\\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)\n\ngoal (2 subgoals):\n 1. {1..x} = {1..x}\n 2. \\<And>xa.\n       xa \\<in> {1..x} \\<Longrightarrow>\n       2 * (ln (real (2 * xa)) ^ k / real (2 * xa)) =\n       (\\<Sum>t = 0..k.\n           1 / real xa * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real xa) ^ t)", "have \"1/n * \\<dots> = (\\<Sum>t=0..k. 1/n * (k choose t) * ln 2 ^ (k-t) * ln n ^ t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / real n *\n    (\\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t) =\n    (\\<Sum>t = 0..k.\n        1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)", "by (subst sum_distrib_left) (simp add: mult_ac)"], ["proof (state)\nthis:\n  1 / real n *\n  (\\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t) =\n  (\\<Sum>t = 0..k.\n      1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)\n\ngoal (2 subgoals):\n 1. {1..x} = {1..x}\n 2. \\<And>xa.\n       xa \\<in> {1..x} \\<Longrightarrow>\n       2 * (ln (real (2 * xa)) ^ k / real (2 * xa)) =\n       (\\<Sum>t = 0..k.\n           1 / real xa * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real xa) ^ t)", "finally"], ["proof (chain)\npicking this:\n  2 * (ln (real (2 * n)) ^ k / real (2 * n)) =\n  (\\<Sum>t = 0..k.\n      1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)", "show \"2 * (ln (2*n)^k / (2*n)) = \\<dots>\""], ["proof (prove)\nusing this:\n  2 * (ln (real (2 * n)) ^ k / real (2 * n)) =\n  (\\<Sum>t = 0..k.\n      1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)\n\ngoal (1 subgoal):\n 1. 2 * (ln (real (2 * n)) ^ k / real (2 * n)) =\n    (\\<Sum>t = 0..k.\n        1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)", "."], ["proof (state)\nthis:\n  2 * (ln (real (2 * n)) ^ k / real (2 * n)) =\n  (\\<Sum>t = 0..k.\n      1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)\n\ngoal (1 subgoal):\n 1. {1..x} = {1..x}", "qed auto"], ["proof (state)\nthis:\n  2 * (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n)) =\n  (\\<Sum>n = 1..x.\n      \\<Sum>t = 0..k.\n         1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  2 * (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n)) =\n  (\\<Sum>n = 1..x.\n      \\<Sum>t = 0..k.\n         1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"\\<dots> = (\\<Sum>t=0..k. \\<Sum>n=1..x. 1/n * (k choose t) * ln 2 ^ (k-t) * ln n ^ t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..x.\n        \\<Sum>t = 0..k.\n           1 / real n * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real n) ^ t) =\n    (\\<Sum>t = 0..k.\n        \\<Sum>n = 1..x.\n           1 / real n * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real n) ^ t)", "by (rule sum.swap)"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..x.\n      \\<Sum>t = 0..k.\n         1 / real n * real (k choose t) * ln 2 ^ (k - t) *\n         ln (real n) ^ t) =\n  (\\<Sum>t = 0..k.\n      \\<Sum>n = 1..x.\n         1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..x.\n      \\<Sum>t = 0..k.\n         1 / real n * real (k choose t) * ln 2 ^ (k - t) *\n         ln (real n) ^ t) =\n  (\\<Sum>t = 0..k.\n      \\<Sum>n = 1..x.\n         1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"\\<dots> = (\\<Sum>t=0..k. (k choose t) * ln 2 ^ (k - t) *\n                      (ln x ^ (t+1) / (t+1) + stieltjes_gamma t + h t x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>t = 0..k.\n        \\<Sum>n = 1..x.\n           1 / real n * real (k choose t) * ln 2 ^ (k - t) *\n           ln (real n) ^ t) =\n    (\\<Sum>t = 0..k.\n        real (k choose t) * ln 2 ^ (k - t) *\n        (ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t x))", "proof (rule sum.cong)"], ["proof (state)\ngoal (2 subgoals):\n 1. {0..k} = {0..k}\n 2. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       (\\<Sum>n = 1..x.\n           1 / real n * real (k choose xa) * ln 2 ^ (k - xa) *\n           ln (real n) ^ xa) =\n       real (k choose xa) * ln 2 ^ (k - xa) *\n       (ln (real x) ^ (xa + 1) / real (xa + 1) + stieltjes_gamma xa +\n        h xa x)", "fix t :: nat"], ["proof (state)\ngoal (2 subgoals):\n 1. {0..k} = {0..k}\n 2. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       (\\<Sum>n = 1..x.\n           1 / real n * real (k choose xa) * ln 2 ^ (k - xa) *\n           ln (real n) ^ xa) =\n       real (k choose xa) * ln 2 ^ (k - xa) *\n       (ln (real x) ^ (xa + 1) / real (xa + 1) + stieltjes_gamma xa +\n        h xa x)", "assume t: \"t \\<in> {0..k}\""], ["proof (state)\nthis:\n  t \\<in> {0..k}\n\ngoal (2 subgoals):\n 1. {0..k} = {0..k}\n 2. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       (\\<Sum>n = 1..x.\n           1 / real n * real (k choose xa) * ln 2 ^ (k - xa) *\n           ln (real n) ^ xa) =\n       real (k choose xa) * ln 2 ^ (k - xa) *\n       (ln (real x) ^ (xa + 1) / real (xa + 1) + stieltjes_gamma xa +\n        h xa x)", "have \"(\\<Sum>n=1..x. 1/n * (k choose t) * ln 2 ^ (k-t) * ln n ^ t) =\n            (k choose t) * ln 2 ^ (k - t) * (\\<Sum>n=1..x. ln n ^ t / n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..x.\n        1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t) =\n    real (k choose t) * ln 2 ^ (k - t) *\n    (\\<Sum>n = 1..x. ln (real n) ^ t / real n)", "by (subst sum_distrib_left) (simp add: mult_ac)"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..x.\n      1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t) =\n  real (k choose t) * ln 2 ^ (k - t) *\n  (\\<Sum>n = 1..x. ln (real n) ^ t / real n)\n\ngoal (2 subgoals):\n 1. {0..k} = {0..k}\n 2. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       (\\<Sum>n = 1..x.\n           1 / real n * real (k choose xa) * ln 2 ^ (k - xa) *\n           ln (real n) ^ xa) =\n       real (k choose xa) * ln 2 ^ (k - xa) *\n       (ln (real x) ^ (xa + 1) / real (xa + 1) + stieltjes_gamma xa +\n        h xa x)", "also"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..x.\n      1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t) =\n  real (k choose t) * ln 2 ^ (k - t) *\n  (\\<Sum>n = 1..x. ln (real n) ^ t / real n)\n\ngoal (2 subgoals):\n 1. {0..k} = {0..k}\n 2. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       (\\<Sum>n = 1..x.\n           1 / real n * real (k choose xa) * ln 2 ^ (k - xa) *\n           ln (real n) ^ xa) =\n       real (k choose xa) * ln 2 ^ (k - xa) *\n       (ln (real x) ^ (xa + 1) / real (xa + 1) + stieltjes_gamma xa +\n        h xa x)", "have \"(\\<Sum>n=1..x. ln n ^ t / n) = ln x ^ (t+1) / (t+1) + stieltjes_gamma t + h t x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..x. ln (real n) ^ t / real n) =\n    ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t x", "using h_eq[of t]"], ["proof (prove)\nusing this:\n  (\\<Sum>n = 1..?x. ln (real n) ^ t / real n) =\n  ln (real ?x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t ?x\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..x. ln (real n) ^ t / real n) =\n    ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t x", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..x. ln (real n) ^ t / real n) =\n  ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t x\n\ngoal (2 subgoals):\n 1. {0..k} = {0..k}\n 2. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       (\\<Sum>n = 1..x.\n           1 / real n * real (k choose xa) * ln 2 ^ (k - xa) *\n           ln (real n) ^ xa) =\n       real (k choose xa) * ln 2 ^ (k - xa) *\n       (ln (real x) ^ (xa + 1) / real (xa + 1) + stieltjes_gamma xa +\n        h xa x)", "finally"], ["proof (chain)\npicking this:\n  (\\<Sum>n = 1..x.\n      1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t) =\n  real (k choose t) * ln 2 ^ (k - t) *\n  (ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t x)", "show \"(\\<Sum>n=1..x. 1/n * (k choose t) * ln 2 ^ (k-t) * ln n ^ t) =\n                      (k choose t) * ln 2 ^ (k - t) * \\<dots>\""], ["proof (prove)\nusing this:\n  (\\<Sum>n = 1..x.\n      1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t) =\n  real (k choose t) * ln 2 ^ (k - t) *\n  (ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t x)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..x.\n        1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t) =\n    real (k choose t) * ln 2 ^ (k - t) *\n    (ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t x)", "."], ["proof (state)\nthis:\n  (\\<Sum>n = 1..x.\n      1 / real n * real (k choose t) * ln 2 ^ (k - t) * ln (real n) ^ t) =\n  real (k choose t) * ln 2 ^ (k - t) *\n  (ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t x)\n\ngoal (1 subgoal):\n 1. {0..k} = {0..k}", "qed simp_all"], ["proof (state)\nthis:\n  (\\<Sum>t = 0..k.\n      \\<Sum>n = 1..x.\n         1 / real n * real (k choose t) * ln 2 ^ (k - t) *\n         ln (real n) ^ t) =\n  (\\<Sum>t = 0..k.\n      real (k choose t) * ln 2 ^ (k - t) *\n      (ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t x))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  (\\<Sum>t = 0..k.\n      \\<Sum>n = 1..x.\n         1 / real n * real (k choose t) * ln 2 ^ (k - t) *\n         ln (real n) ^ t) =\n  (\\<Sum>t = 0..k.\n      real (k choose t) * ln 2 ^ (k - t) *\n      (ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t x))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"\\<dots> = (\\<Sum>t=0..k. (k choose t) / (t + 1) * ln 2 ^ (k - t) * ln x ^ (t + 1)) +\n                    (\\<Sum>t=0..k. (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) + h' x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>t = 0..k.\n        real (k choose t) * ln 2 ^ (k - t) *\n        (ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t +\n         h t x)) =\n    (\\<Sum>t = 0..k.\n        real (k choose t) / real (t + 1) * ln 2 ^ (k - t) *\n        ln (real x) ^ (t + 1)) +\n    (\\<Sum>t = 0..k.\n        real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h' x", "by (simp add: ring_distribs sum.distrib h'_def)"], ["proof (state)\nthis:\n  (\\<Sum>t = 0..k.\n      real (k choose t) * ln 2 ^ (k - t) *\n      (ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t x)) =\n  (\\<Sum>t = 0..k.\n      real (k choose t) / real (t + 1) * ln 2 ^ (k - t) *\n      ln (real x) ^ (t + 1)) +\n  (\\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n  h' x\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  (\\<Sum>t = 0..k.\n      real (k choose t) * ln 2 ^ (k - t) *\n      (ln (real x) ^ (t + 1) / real (t + 1) + stieltjes_gamma t + h t x)) =\n  (\\<Sum>t = 0..k.\n      real (k choose t) / real (t + 1) * ln 2 ^ (k - t) *\n      ln (real x) ^ (t + 1)) +\n  (\\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n  h' x\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"(\\<Sum>t=0..k. (k choose t) / (t + 1) * ln 2 ^ (k - t) * ln x ^ (t + 1)) =\n               (\\<Sum>t=0..k. (Suc k choose Suc t) / (k + 1) * ln 2 ^ (k - t) * ln x ^ (t + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>t = 0..k.\n        real (k choose t) / real (t + 1) * ln 2 ^ (k - t) *\n        ln (real x) ^ (t + 1)) =\n    (\\<Sum>t = 0..k.\n        real (Suc k choose Suc t) / real (k + 1) * ln 2 ^ (k - t) *\n        ln (real x) ^ (t + 1))", "proof (intro sum.cong refl, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       real (k choose xa) / real (xa + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1) =\n       real (Suc k choose Suc xa) / real (k + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1)", "case (1 t)"], ["proof (state)\nthis:\n  t \\<in> {0..k}\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       real (k choose xa) / real (xa + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1) =\n       real (Suc k choose Suc xa) / real (k + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1)", "have \"of_nat (k choose t) * (of_nat (k + 1) :: real) = of_nat ((k choose t) * (k + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (k choose t) * real (k + 1) = real ((k choose t) * (k + 1))", "by (simp only: of_nat_mult)"], ["proof (state)\nthis:\n  real (k choose t) * real (k + 1) = real ((k choose t) * (k + 1))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       real (k choose xa) / real (xa + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1) =\n       real (Suc k choose Suc xa) / real (k + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1)", "also"], ["proof (state)\nthis:\n  real (k choose t) * real (k + 1) = real ((k choose t) * (k + 1))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       real (k choose xa) / real (xa + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1) =\n       real (Suc k choose Suc xa) / real (k + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1)", "have \"(k choose t) * (k + 1) = (Suc k choose Suc t) * (t + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k choose t) * (k + 1) = (Suc k choose Suc t) * (t + 1)", "using Suc_times_binomial_eq[of k t]"], ["proof (prove)\nusing this:\n  Suc k * (k choose t) = (Suc k choose Suc t) * Suc t\n\ngoal (1 subgoal):\n 1. (k choose t) * (k + 1) = (Suc k choose Suc t) * (t + 1)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  (k choose t) * (k + 1) = (Suc k choose Suc t) * (t + 1)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       real (k choose xa) / real (xa + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1) =\n       real (Suc k choose Suc xa) / real (k + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1)", "also"], ["proof (state)\nthis:\n  (k choose t) * (k + 1) = (Suc k choose Suc t) * (t + 1)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       real (k choose xa) / real (xa + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1) =\n       real (Suc k choose Suc xa) / real (k + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1)", "have \"of_nat \\<dots> = of_nat (Suc k choose Suc t) * (of_nat (t + 1) :: real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real ((Suc k choose Suc t) * (t + 1)) =\n    real (Suc k choose Suc t) * real (t + 1)", "by (simp only: of_nat_mult)"], ["proof (state)\nthis:\n  real ((Suc k choose Suc t) * (t + 1)) =\n  real (Suc k choose Suc t) * real (t + 1)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       real (k choose xa) / real (xa + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1) =\n       real (Suc k choose Suc xa) / real (k + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1)", "finally"], ["proof (chain)\npicking this:\n  real (k choose t) * real (k + 1) =\n  real (Suc k choose Suc t) * real (t + 1)", "have *: \"of_nat (k choose t) / of_nat (t + 1) =\n                         (of_nat (Suc k choose Suc t) / (k + 1) :: real)\""], ["proof (prove)\nusing this:\n  real (k choose t) * real (k + 1) =\n  real (Suc k choose Suc t) * real (t + 1)\n\ngoal (1 subgoal):\n 1. real (k choose t) / real (t + 1) =\n    real (Suc k choose Suc t) / real (k + 1)", "by (simp add: divide_simps flip: of_nat_Suc del: binomial_Suc_Suc)"], ["proof (state)\nthis:\n  real (k choose t) / real (t + 1) =\n  real (Suc k choose Suc t) / real (k + 1)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {0..k} \\<Longrightarrow>\n       real (k choose xa) / real (xa + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1) =\n       real (Suc k choose Suc xa) / real (k + 1) * ln 2 ^ (k - xa) *\n       ln (real x) ^ (xa + 1)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. real (k choose t) / real (t + 1) * ln 2 ^ (k - t) *\n    ln (real x) ^ (t + 1) =\n    real (Suc k choose Suc t) / real (k + 1) * ln 2 ^ (k - t) *\n    ln (real x) ^ (t + 1)", "by (simp only: *)"], ["proof (state)\nthis:\n  real (k choose t) / real (t + 1) * ln 2 ^ (k - t) *\n  ln (real x) ^ (t + 1) =\n  real (Suc k choose Suc t) / real (k + 1) * ln 2 ^ (k - t) *\n  ln (real x) ^ (t + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>t = 0..k.\n      real (k choose t) / real (t + 1) * ln 2 ^ (k - t) *\n      ln (real x) ^ (t + 1)) =\n  (\\<Sum>t = 0..k.\n      real (Suc k choose Suc t) / real (k + 1) * ln 2 ^ (k - t) *\n      ln (real x) ^ (t + 1))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  (\\<Sum>t = 0..k.\n      real (k choose t) / real (t + 1) * ln 2 ^ (k - t) *\n      ln (real x) ^ (t + 1)) =\n  (\\<Sum>t = 0..k.\n      real (Suc k choose Suc t) / real (k + 1) * ln 2 ^ (k - t) *\n      ln (real x) ^ (t + 1))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"\\<dots> = (\\<Sum>t=1..Suc k. (Suc k choose t) / (k + 1) * ln 2 ^ (Suc k - t) * ln x ^ t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>t = 0..k.\n        real (Suc k choose Suc t) / real (k + 1) * ln 2 ^ (k - t) *\n        ln (real x) ^ (t + 1)) =\n    (\\<Sum>t = 1..Suc k.\n        real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n        ln (real x) ^ t)", "by (intro sum.reindex_bij_witness[of _ \"\\<lambda>t. t-1\" Suc]) auto"], ["proof (state)\nthis:\n  (\\<Sum>t = 0..k.\n      real (Suc k choose Suc t) / real (k + 1) * ln 2 ^ (k - t) *\n      ln (real x) ^ (t + 1)) =\n  (\\<Sum>t = 1..Suc k.\n      real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n      ln (real x) ^ t)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  (\\<Sum>t = 0..k.\n      real (Suc k choose Suc t) / real (k + 1) * ln 2 ^ (k - t) *\n      ln (real x) ^ (t + 1)) =\n  (\\<Sum>t = 1..Suc k.\n      real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n      ln (real x) ^ t)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"{1..Suc k} = {..Suc k} - {0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {1..Suc k} = {..Suc k} - {0}", "by auto"], ["proof (state)\nthis:\n  {1..Suc k} = {..Suc k} - {0}\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  {1..Suc k} = {..Suc k} - {0}\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"(\\<Sum>t\\<in>\\<dots>. (Suc k choose t) / (k + 1) * ln 2 ^ (Suc k - t) * ln x ^ t) =\n                 (\\<Sum>t\\<le>Suc k. (Suc k choose t) / (k + 1) * ln 2 ^ (Suc k - t) * ln x ^ t) -\n                   ln 2 ^ Suc k / (k + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>t\\<in>{..Suc k} - {0}.\n       real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n       ln (real x) ^ t) =\n    (\\<Sum>t\\<le>Suc k.\n        real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n        ln (real x) ^ t) -\n    ln 2 ^ Suc k / real (k + 1)", "by (subst sum_diff1) auto"], ["proof (state)\nthis:\n  (\\<Sum>t\\<in>{..Suc k} - {0}.\n     real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n     ln (real x) ^ t) =\n  (\\<Sum>t\\<le>Suc k.\n      real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n      ln (real x) ^ t) -\n  ln 2 ^ Suc k / real (k + 1)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  (\\<Sum>t\\<in>{..Suc k} - {0}.\n     real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n     ln (real x) ^ t) =\n  (\\<Sum>t\\<le>Suc k.\n      real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n      ln (real x) ^ t) -\n  ln 2 ^ Suc k / real (k + 1)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"(\\<Sum>t\\<le>Suc k. (Suc k choose t) / (k + 1) * ln 2 ^ (Suc k - t) * ln x ^ t) =\n               (ln x + ln 2) ^ Suc k / (k + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>t\\<le>Suc k.\n        real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n        ln (real x) ^ t) =\n    (ln (real x) + ln 2) ^ Suc k / real (k + 1)", "unfolding binomial_ring"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>t\\<le>Suc k.\n        real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n        ln (real x) ^ t) =\n    (\\<Sum>ka\\<le>Suc k.\n        real (Suc k choose ka) * ln (real x) ^ ka * ln 2 ^ (Suc k - ka)) /\n    real (k + 1)", "by (subst sum_divide_distrib) (auto simp: algebra_simps)"], ["proof (state)\nthis:\n  (\\<Sum>t\\<le>Suc k.\n      real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n      ln (real x) ^ t) =\n  (ln (real x) + ln 2) ^ Suc k / real (k + 1)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  (\\<Sum>t\\<le>Suc k.\n      real (Suc k choose t) / real (k + 1) * ln 2 ^ (Suc k - t) *\n      ln (real x) ^ t) =\n  (ln (real x) + ln 2) ^ Suc k / real (k + 1)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"ln x + ln 2 = ln (2 * x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ln (real x) + ln 2 = ln (real (2 * x))", "using \\<open>x > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < x\n\ngoal (1 subgoal):\n 1. ln (real x) + ln 2 = ln (real (2 * x))", "by (simp add: ln_mult)"], ["proof (state)\nthis:\n  ln (real x) + ln 2 = ln (real (2 * x))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "finally"], ["proof (chain)\npicking this:\n  2 * (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n)) =\n  ln (real (2 * x)) ^ Suc k / real (k + 1) - ln 2 ^ Suc k / real (k + 1) +\n  (\\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n  h' x", "have eq1: \"2 * (\\<Sum>n=1..x. ln (real (2*n))^k / real (2*n)) =\n                         ln (real (2*x))^(k+1) / real (k+1) - ln 2^(k+1) / real (k+1) +\n                         (\\<Sum>t=0..k. (k choose t) * ln 2^(k - t) * stieltjes_gamma t) + h' x\""], ["proof (prove)\nusing this:\n  2 * (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n)) =\n  ln (real (2 * x)) ^ Suc k / real (k + 1) - ln 2 ^ Suc k / real (k + 1) +\n  (\\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n  h' x\n\ngoal (1 subgoal):\n 1. 2 * (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n)) =\n    ln (real (2 * x)) ^ (k + 1) / real (k + 1) -\n    ln 2 ^ (k + 1) / real (k + 1) +\n    (\\<Sum>t = 0..k.\n        real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h' x", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  2 * (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n)) =\n  ln (real (2 * x)) ^ (k + 1) / real (k + 1) -\n  ln 2 ^ (k + 1) / real (k + 1) +\n  (\\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n  h' x\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have eq2: \"(\\<Sum>n=1..2*x. ln n ^ k / n) = ln (real (2*x))^(k+1) / real (k+1) + stieltjes_gamma k + h k (2*x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. ln (real n) ^ k / real n) =\n    ln (real (2 * x)) ^ (k + 1) / real (k + 1) + stieltjes_gamma k +\n    h k (2 * x)", "by (simp only: h_eq)"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..2 * x. ln (real n) ^ k / real n) =\n  ln (real (2 * x)) ^ (k + 1) / real (k + 1) + stieltjes_gamma k +\n  h k (2 * x)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"(\\<Sum>n=1..2*x. (-1)^(n+1) * ln n ^ k / n) =\n          (\\<Sum>n=1..2*x. ln n ^ k / n - 2 * (if even n then ln n ^ k / n else 0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    (\\<Sum>n = 1..2 * x.\n        ln (real n) ^ k / real n -\n        2 * (if even n then ln (real n) ^ k / real n else 0))", "by (intro sum.cong) auto"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n  (\\<Sum>n = 1..2 * x.\n      ln (real n) ^ k / real n -\n      2 * (if even n then ln (real n) ^ k / real n else 0))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n  (\\<Sum>n = 1..2 * x.\n      ln (real n) ^ k / real n -\n      2 * (if even n then ln (real n) ^ k / real n else 0))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"\\<dots> = (\\<Sum>n=1..2*x. ln n ^ k / n) -\n                    2 * (\\<Sum>n=1..2*x. if even n then ln n ^ k / n else 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x.\n        ln (real n) ^ k / real n -\n        2 * (if even n then ln (real n) ^ k / real n else 0)) =\n    (\\<Sum>n = 1..2 * x. ln (real n) ^ k / real n) -\n    2 * (\\<Sum>n = 1..2 * x. if even n then ln (real n) ^ k / real n else 0)", "by (simp only: sum_subtractf sum_distrib_left)"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..2 * x.\n      ln (real n) ^ k / real n -\n      2 * (if even n then ln (real n) ^ k / real n else 0)) =\n  (\\<Sum>n = 1..2 * x. ln (real n) ^ k / real n) -\n  2 * (\\<Sum>n = 1..2 * x. if even n then ln (real n) ^ k / real n else 0)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..2 * x.\n      ln (real n) ^ k / real n -\n      2 * (if even n then ln (real n) ^ k / real n else 0)) =\n  (\\<Sum>n = 1..2 * x. ln (real n) ^ k / real n) -\n  2 * (\\<Sum>n = 1..2 * x. if even n then ln (real n) ^ k / real n else 0)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"(\\<Sum>n=1..2*x. if even n then ln n ^ k / n else 0) =\n               (\\<Sum>n | n \\<in> {1..2*x} \\<and> even n. ln n ^ k / n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. if even n then ln (real n) ^ k / real n else 0) =\n    (\\<Sum>x\\<in>{n \\<in> {1..2 * x}. even n}. ln (real x) ^ k / real x)", "by (intro sum.mono_neutral_cong_right) auto"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..2 * x. if even n then ln (real n) ^ k / real n else 0) =\n  (\\<Sum>x\\<in>{n \\<in> {1..2 * x}. even n}. ln (real x) ^ k / real x)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..2 * x. if even n then ln (real n) ^ k / real n else 0) =\n  (\\<Sum>x\\<in>{n \\<in> {1..2 * x}. even n}. ln (real x) ^ k / real x)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"\\<dots> = (\\<Sum>n=1..x. ln (real (2*n)) ^ k / real (2*n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>{n \\<in> {1..2 * x}. even n}. ln (real x) ^ k / real x) =\n    (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n))", "by (intro sum.reindex_bij_witness[of _ \"\\<lambda>n. 2*n\" \"\\<lambda>n. n div 2\"]) auto"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>{n \\<in> {1..2 * x}. even n}. ln (real x) ^ k / real x) =\n  (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>{n \\<in> {1..2 * x}. even n}. ln (real x) ^ k / real x) =\n  (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"(\\<Sum>n=1..2*x. ln n ^ k / n) - 2 * \\<dots> =\n                 ln 2^(k+1) / real (k+1) -\n                ((\\<Sum>t=0..k. (k choose t) * ln 2^(k - t) * stieltjes_gamma t) - stieltjes_gamma k) +\n                h k (2*x) - h' x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. ln (real n) ^ k / real n) -\n    2 * (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n)) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    ((\\<Sum>t = 0..k.\n         real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) -\n     stieltjes_gamma k) +\n    h k (2 * x) -\n    h' x", "using arg_cong2[OF eq1 eq2, of \"(-)\"]"], ["proof (prove)\nusing this:\n  2 * (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n)) -\n  (\\<Sum>n = 1..2 * x. ln (real n) ^ k / real n) =\n  ln (real (2 * x)) ^ (k + 1) / real (k + 1) -\n  ln 2 ^ (k + 1) / real (k + 1) +\n  (\\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n  h' x -\n  (ln (real (2 * x)) ^ (k + 1) / real (k + 1) + stieltjes_gamma k +\n   h k (2 * x))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. ln (real n) ^ k / real n) -\n    2 * (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n)) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    ((\\<Sum>t = 0..k.\n         real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) -\n     stieltjes_gamma k) +\n    h k (2 * x) -\n    h' x", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..2 * x. ln (real n) ^ k / real n) -\n  2 * (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n)) =\n  ln 2 ^ (k + 1) / real (k + 1) -\n  ((\\<Sum>t = 0..k.\n       real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) -\n   stieltjes_gamma k) +\n  h k (2 * x) -\n  h' x\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  (\\<Sum>n = 1..2 * x. ln (real n) ^ k / real n) -\n  2 * (\\<Sum>n = 1..x. ln (real (2 * n)) ^ k / real (2 * n)) =\n  ln 2 ^ (k + 1) / real (k + 1) -\n  ((\\<Sum>t = 0..k.\n       real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) -\n   stieltjes_gamma k) +\n  h k (2 * x) -\n  h' x\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"{0..k} = insert k {..<k}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {0..k} = insert k {..<k}", "by auto"], ["proof (state)\nthis:\n  {0..k} = insert k {..<k}\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "also"], ["proof (state)\nthis:\n  {0..k} = insert k {..<k}\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "have \"(\\<Sum>t\\<in>\\<dots>. (k choose t) * ln 2^(k - t) * stieltjes_gamma t) - stieltjes_gamma k =\n                 (\\<Sum>t<k. (k choose t) * ln 2^(k - t) * stieltjes_gamma t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>t\\<in>insert k {..<k}.\n       real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) -\n    stieltjes_gamma k =\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t)", "by (subst sum.insert) auto"], ["proof (state)\nthis:\n  (\\<Sum>t\\<in>insert k {..<k}.\n     real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) -\n  stieltjes_gamma k =\n  (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "finally"], ["proof (chain)\npicking this:\n  (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n  ln 2 ^ (k + 1) / real (k + 1) -\n  (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n  h k (2 * x) -\n  h' x", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n  ln 2 ^ (k + 1) / real (k + 1) -\n  (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n  h k (2 * x) -\n  h' x\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    ln 2 ^ (k + 1) / real (k + 1) -\n    (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n    h k (2 * x) -\n    h' x", "."], ["proof (state)\nthis:\n  (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n  ln 2 ^ (k + 1) / real (k + 1) -\n  (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n  h k (2 * x) -\n  h' x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?x \\<Longrightarrow>\n  (\\<Sum>n = 1..2 * ?x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n  ln 2 ^ (k + 1) / real (k + 1) -\n  (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n  h k (2 * ?x) -\n  h' ?x\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "have \"?rhs \\<longlonglongrightarrow> ln 2 ^ (k+1) / real (k+1) -\n                            (\\<Sum>t<k. (k choose t) * ln 2 ^ (k-t) * stieltjes_gamma t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>a.\n        ln 2 ^ (k + 1) / real (k + 1) -\n        (\\<Sum>t<k.\n            real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n        h k (2 * a) -\n        h' a)\n    \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                              (\\<Sum>t<k.\n                                  real (k choose t) * ln 2 ^ (k - t) *\n                                  stieltjes_gamma t)", "unfolding h'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>a.\n        ln 2 ^ (k + 1) / real (k + 1) -\n        (\\<Sum>t<k.\n            real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n        h k (2 * a) -\n        (\\<Sum>t = 0..k. real (k choose t) * ln 2 ^ (k - t) * h t a))\n    \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                              (\\<Sum>t<k.\n                                  real (k choose t) * ln 2 ^ (k - t) *\n                                  stieltjes_gamma t)", "by (rule tendsto_eq_intros refl mult_nat_left_at_top filterlim_ident | simp)+"], ["proof (state)\nthis:\n  (\\<lambda>a.\n      ln 2 ^ (k + 1) / real (k + 1) -\n      (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n      h k (2 * a) -\n      h' a)\n  \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                            (\\<Sum>t<k.\n                                real (k choose t) * ln 2 ^ (k - t) *\n                                stieltjes_gamma t)\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>a.\n      ln 2 ^ (k + 1) / real (k + 1) -\n      (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n      h k (2 * a) -\n      h' a)\n  \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                            (\\<Sum>t<k.\n                                real (k choose t) * ln 2 ^ (k - t) *\n                                stieltjes_gamma t)\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "have \"eventually (\\<lambda>x. ?rhs x = ?lhs x) sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       ln 2 ^ (k + 1) / real (k + 1) -\n       (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n       h k (2 * x) -\n       h' x =\n       (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n)", "using eventually_gt_at_top[of 0]"], ["proof (prove)\nusing this:\n  eventually ((<) (0::?'a1)) at_top\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       ln 2 ^ (k + 1) / real (k + 1) -\n       (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n       h k (2 * x) -\n       h' x =\n       (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n)", "by eventually_elim (simp only: eq)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     ln 2 ^ (k + 1) / real (k + 1) -\n     (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n     h k (2 * x) -\n     h' x =\n     (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n)\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>a.\n      ln 2 ^ (k + 1) / real (k + 1) -\n      (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n      h k (2 * a) -\n      h' a)\n  \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                            (\\<Sum>t<k.\n                                real (k choose t) * ln 2 ^ (k - t) *\n                                stieltjes_gamma t)\n  \\<forall>\\<^sub>F x in sequentially.\n     ln 2 ^ (k + 1) / real (k + 1) -\n     (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n     h k (2 * x) -\n     h' x =\n     (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n)", "have *: \"?lhs \\<longlonglongrightarrow> ln 2 ^ (k+1) / real (k+1) -\n                                   (\\<Sum>t<k. (k choose t) * ln 2 ^ (k-t) * stieltjes_gamma t)\""], ["proof (prove)\nusing this:\n  (\\<lambda>a.\n      ln 2 ^ (k + 1) / real (k + 1) -\n      (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n      h k (2 * a) -\n      h' a)\n  \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                            (\\<Sum>t<k.\n                                real (k choose t) * ln 2 ^ (k - t) *\n                                stieltjes_gamma t)\n  \\<forall>\\<^sub>F x in sequentially.\n     ln 2 ^ (k + 1) / real (k + 1) -\n     (\\<Sum>t<k. real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t) +\n     h k (2 * x) -\n     h' x =\n     (\\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>a.\n        \\<Sum>n = 1..2 * a. (- 1) ^ (n + 1) * ln (real n) ^ k / real n)\n    \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                              (\\<Sum>t<k.\n                                  real (k choose t) * ln 2 ^ (k - t) *\n                                  stieltjes_gamma t)", "by (rule Lim_transform_eventually)"], ["proof (state)\nthis:\n  (\\<lambda>a.\n      \\<Sum>n = 1..2 * a. (- 1) ^ (n + 1) * ln (real n) ^ k / real n)\n  \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                            (\\<Sum>t<k.\n                                real (k choose t) * ln 2 ^ (k - t) *\n                                stieltjes_gamma t)\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "also"], ["proof (state)\nthis:\n  (\\<lambda>a.\n      \\<Sum>n = 1..2 * a. (- 1) ^ (n + 1) * ln (real n) ^ k / real n)\n  \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                            (\\<Sum>t<k.\n                                real (k choose t) * ln 2 ^ (k - t) *\n                                stieltjes_gamma t)\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "have \"(\\<lambda>x. \\<Sum>n=1..2*x. (-1)^(n+1) * ln (real n)^k / real n) = \n             (\\<lambda>x. \\<Sum>n<2*x. -((-1)^(n+1) * ln (real (n+1))^k / real (n+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        \\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n    (\\<lambda>x.\n        \\<Sum>n<2 * x.\n           - ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))", "by (intro ext sum.reindex_bij_witness[of _ Suc \"\\<lambda>n. n - 1\"]) (auto simp: power_diff)"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      \\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         - ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "also"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      \\<Sum>n = 1..2 * x. (- 1) ^ (n + 1) * ln (real n) ^ k / real n) =\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         - ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "have \"\\<dots> = (\\<lambda>x. -(\\<Sum>n<2*x. ((-1)^(n+1) * ln (real (n+1))^k / real (n+1))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        \\<Sum>n<2 * x.\n           - ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1))) =\n    (\\<lambda>x.\n        - (\\<Sum>n<2 * x.\n              (- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))", "by (subst sum_negf) auto"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         - ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1))) =\n  (\\<lambda>x.\n      - (\\<Sum>n<2 * x.\n            (- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "finally"], ["proof (chain)\npicking this:\n  (\\<lambda>a.\n      - (\\<Sum>n<2 * a.\n            (- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                            (\\<Sum>t<k.\n                                real (k choose t) * ln 2 ^ (k - t) *\n                                stieltjes_gamma t)", "have *: \"\\<dots> \\<longlonglongrightarrow> (ln 2 ^ (k+1) / real (k+1) -\n                              (\\<Sum>t<k. (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t))\""], ["proof (prove)\nusing this:\n  (\\<lambda>a.\n      - (\\<Sum>n<2 * a.\n            (- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                            (\\<Sum>t<k.\n                                real (k choose t) * ln 2 ^ (k - t) *\n                                stieltjes_gamma t)\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        - (\\<Sum>n<2 * x.\n              (- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n    \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                              (\\<Sum>t<k.\n                                  real (k choose t) * ln 2 ^ (k - t) *\n                                  stieltjes_gamma t)", "."], ["proof (state)\nthis:\n  (\\<lambda>x.\n      - (\\<Sum>n<2 * x.\n            (- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> ln 2 ^ (k + 1) / real (k + 1) -\n                            (\\<Sum>t<k.\n                                real (k choose t) * ln 2 ^ (k - t) *\n                                stieltjes_gamma t)\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "have lim1: \"(\\<lambda>x. (\\<Sum>n<2*x. complex_of_real ((-1)^(n+1) * ln (real (n+1))^k / real (n+1))))\n              \\<longlonglongrightarrow> -(ln 2 ^ (k+1) / of_nat (k+1) -\n                      (\\<Sum>t<k. (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t))\"\n    (is \"?lhs' \\<longlonglongrightarrow> _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        \\<Sum>n<2 * x.\n           complex_of_real\n            ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n    \\<longlonglongrightarrow> complex_of_real\n                               (- (ln 2 ^ (k + 1) / real (k + 1) -\n                                   (\\<Sum>t<k.\n real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t)))", "using tendsto_of_real[OF tendsto_minus[OF *], where ?'a = complex]"], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      complex_of_real\n       (- (- (\\<Sum>n<2 * x.\n                 (- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))))\n  \\<longlonglongrightarrow> complex_of_real\n                             (- (ln 2 ^ (k + 1) / real (k + 1) -\n                                 (\\<Sum>t<k.\n                                     real (k choose t) * ln 2 ^ (k - t) *\n                                     stieltjes_gamma t)))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        \\<Sum>n<2 * x.\n           complex_of_real\n            ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n    \\<longlonglongrightarrow> complex_of_real\n                               (- (ln 2 ^ (k + 1) / real (k + 1) -\n                                   (\\<Sum>t<k.\n real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t)))", "by (simp add: Ln_Reals_eq)"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         complex_of_real\n          ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> complex_of_real\n                             (- (ln 2 ^ (k + 1) / real (k + 1) -\n                                 (\\<Sum>t<k.\n                                     real (k choose t) * ln 2 ^ (k - t) *\n                                     stieltjes_gamma t)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         complex_of_real\n          ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> complex_of_real\n                             (- (ln 2 ^ (k + 1) / real (k + 1) -\n                                 (\\<Sum>t<k.\n                                     real (k choose t) * ln 2 ^ (k - t) *\n                                     stieltjes_gamma t)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "have \"?lhs' \\<longlonglongrightarrow> ((- 1) ^ k * (deriv ^^ k) g 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        \\<Sum>n<2 * x.\n           complex_of_real\n            ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n    \\<longlonglongrightarrow> (- 1) ^ k * (deriv ^^ k) g 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        \\<Sum>n<2 * x.\n           complex_of_real\n            ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n    \\<longlonglongrightarrow> (- 1) ^ k * (deriv ^^ k) g 1", "have **: \"filterlim (\\<lambda>n::nat. 2 * n) sequentially sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. filterlim ((*) 2) sequentially sequentially", "by real_asymp"], ["proof (state)\nthis:\n  filterlim ((*) 2) sequentially sequentially\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        \\<Sum>n<2 * x.\n           complex_of_real\n            ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n    \\<longlonglongrightarrow> (- 1) ^ k * (deriv ^^ k) g 1", "have \"(\\<lambda>x. (\\<Sum>n<2*x. complex_of_real ((-1)^(n+1) * ln (real (n+1))^k / real (n+1))))\n              \\<longlonglongrightarrow> ((- 1) ^ k * (deriv ^^ k) g 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        \\<Sum>n<2 * x.\n           complex_of_real\n            ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n    \\<longlonglongrightarrow> (- 1) ^ k * (deriv ^^ k) g 1", "by (rule filterlim_compose[OF _ **]) (use stieltjes_gamma_aux1 in \\<open>simp add: sums_def\\<close>)"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         complex_of_real\n          ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> (- 1) ^ k * (deriv ^^ k) g 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        \\<Sum>n<2 * x.\n           complex_of_real\n            ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n    \\<longlonglongrightarrow> (- 1) ^ k * (deriv ^^ k) g 1", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         complex_of_real\n          ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> (- 1) ^ k * (deriv ^^ k) g 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        \\<Sum>n<2 * x.\n           complex_of_real\n            ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n    \\<longlonglongrightarrow> (- 1) ^ k * (deriv ^^ k) g 1", "."], ["proof (state)\nthis:\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         complex_of_real\n          ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> (- 1) ^ k * (deriv ^^ k) g 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         complex_of_real\n          ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> (- 1) ^ k * (deriv ^^ k) g 1\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         complex_of_real\n          ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> complex_of_real\n                             (- (ln 2 ^ (k + 1) / real (k + 1) -\n                                 (\\<Sum>t<k.\n                                     real (k choose t) * ln 2 ^ (k - t) *\n                                     stieltjes_gamma t)))\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         complex_of_real\n          ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> (- 1) ^ k * (deriv ^^ k) g 1", "have \"-(ln 2 ^ (k+1) / of_nat (k+1) -\n                      (\\<Sum>t<k. (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t)) =\n                   (-1) ^ k * (deriv ^^ k) g 1\""], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         complex_of_real\n          ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> complex_of_real\n                             (- (ln 2 ^ (k + 1) / real (k + 1) -\n                                 (\\<Sum>t<k.\n                                     real (k choose t) * ln 2 ^ (k - t) *\n                                     stieltjes_gamma t)))\n  (\\<lambda>x.\n      \\<Sum>n<2 * x.\n         complex_of_real\n          ((- 1) ^ (n + 1) * ln (real (n + 1)) ^ k / real (n + 1)))\n  \\<longlonglongrightarrow> (- 1) ^ k * (deriv ^^ k) g 1\n\ngoal (1 subgoal):\n 1. complex_of_real\n     (- (ln 2 ^ (k + 1) / real (k + 1) -\n         (\\<Sum>t<k.\n             real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t))) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "by (rule LIMSEQ_unique)"], ["proof (state)\nthis:\n  complex_of_real\n   (- (ln 2 ^ (k + 1) / real (k + 1) -\n       (\\<Sum>t<k.\n           real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t))) =\n  (- 1) ^ k * (deriv ^^ k) g 1\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "thus ?thesis"], ["proof (prove)\nusing this:\n  complex_of_real\n   (- (ln 2 ^ (k + 1) / real (k + 1) -\n       (\\<Sum>t<k.\n           real (k choose t) * ln 2 ^ (k - t) * stieltjes_gamma t))) =\n  (- 1) ^ k * (deriv ^^ k) g 1\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "by (simp add: Ln_Reals_eq)"], ["proof (state)\nthis:\n  (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n  Ln 2 ^ (k + 1) / of_nat (k + 1) =\n  (- 1) ^ k * (deriv ^^ k) g 1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma stieltjes_gamma_aux6: \"(\\<Sum>t<k. (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n                  Ln 2 ^ (k + 1) / of_nat (k + 1) =\n                (-1)^k * fact k * (\\<Sum>i=1..k+1. (-Ln 2) ^ i * A (k-(i-1)) / fact i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * fact k *\n    (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * fact k *\n    (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "have \"(\\<Sum>t<k. (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n          Ln 2 ^ (k + 1) / of_nat (k + 1) = (- 1) ^ k * (deriv ^^ k) g 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "using stieltjes_gamma_aux5[of k]"], ["proof (prove)\nusing this:\n  (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n  Ln 2 ^ (k + 1) / of_nat (k + 1) =\n  (- 1) ^ k * (deriv ^^ k) g 1\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * (deriv ^^ k) g 1", "."], ["proof (state)\nthis:\n  (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n  Ln 2 ^ (k + 1) / of_nat (k + 1) =\n  (- 1) ^ k * (deriv ^^ k) g 1\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * fact k *\n    (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "also"], ["proof (state)\nthis:\n  (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n  Ln 2 ^ (k + 1) / of_nat (k + 1) =\n  (- 1) ^ k * (deriv ^^ k) g 1\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * fact k *\n    (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "have \"(deriv ^^ k) g 1 = fact k * fps_nth G k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (deriv ^^ k) g 1 = fact k * G $ k", "by (rule stieltjes_gamma_aux2)"], ["proof (state)\nthis:\n  (deriv ^^ k) g 1 = fact k * G $ k\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * fact k *\n    (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "also"], ["proof (state)\nthis:\n  (deriv ^^ k) g 1 = fact k * G $ k\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * fact k *\n    (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "have \"fps_nth G k = (\\<Sum>i=1..k + 1. (-Ln 2) ^ i * A (k - (i - 1)) / fact i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "by (rule stieltjes_gamma_aux4)"], ["proof (state)\nthis:\n  G $ k = (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * fact k *\n    (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "finally"], ["proof (chain)\npicking this:\n  (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n  Ln 2 ^ (k + 1) / of_nat (k + 1) =\n  (- 1) ^ k *\n  (fact k * (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i))", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n  Ln 2 ^ (k + 1) / of_nat (k + 1) =\n  (- 1) ^ k *\n  (fact k * (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i))\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n    Ln 2 ^ (k + 1) / of_nat (k + 1) =\n    (- 1) ^ k * fact k *\n    (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "by (simp add: mult_ac)"], ["proof (state)\nthis:\n  (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n  Ln 2 ^ (k + 1) / of_nat (k + 1) =\n  (- 1) ^ k * fact k *\n  (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem higher_deriv_pre_zeta_1_1: \"(deriv ^^ k) (pre_zeta 1) 1 = (-1) ^ k * stieltjes_gamma k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (deriv ^^ k) (pre_zeta 1) 1 = (- 1) ^ k * stieltjes_gamma k", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (deriv ^^ k) (pre_zeta 1) 1 = (- 1) ^ k * stieltjes_gamma k", "have eq: \"A k = (if k = 0 then 1 else (-1)^(k+1) * stieltjes_gamma (k - 1) / fact (k - 1))\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "proof (induction k rule: less_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<And>y.\n           y < x \\<Longrightarrow>\n           A y =\n           (if y = 0 then 1\n            else (- 1) ^ (y + 1) * stieltjes_gamma (y - 1) /\n                 fact (y - 1))) \\<Longrightarrow>\n       A x =\n       (if x = 0 then 1\n        else (- 1) ^ (x + 1) * stieltjes_gamma (x - 1) / fact (x - 1))", "case (less k)"], ["proof (state)\nthis:\n  ?y < k \\<Longrightarrow>\n  A ?y =\n  (if ?y = 0 then 1\n   else (- 1) ^ (?y + 1) * stieltjes_gamma (?y - 1) / fact (?y - 1))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<And>y.\n           y < x \\<Longrightarrow>\n           A y =\n           (if y = 0 then 1\n            else (- 1) ^ (y + 1) * stieltjes_gamma (y - 1) /\n                 fact (y - 1))) \\<Longrightarrow>\n       A x =\n       (if x = 0 then 1\n        else (- 1) ^ (x + 1) * stieltjes_gamma (x - 1) / fact (x - 1))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "proof (cases \"k = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. k = 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))\n 2. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "case True"], ["proof (state)\nthis:\n  k = 0\n\ngoal (2 subgoals):\n 1. k = 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))\n 2. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "with stieltjes_gamma_aux6[of 0]"], ["proof (chain)\npicking this:\n  (\\<Sum>t<0. of_nat (0 choose t) * Ln 2 ^ (0 - t) * stieltjes_gamma t) -\n  Ln 2 ^ (0 + 1) / of_nat (0 + 1) =\n  (- 1) ^ 0 * fact 0 *\n  (\\<Sum>i = 1..0 + 1. (- Ln 2) ^ i * A (0 - (i - 1)) / fact i)\n  k = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>t<0. of_nat (0 choose t) * Ln 2 ^ (0 - t) * stieltjes_gamma t) -\n  Ln 2 ^ (0 + 1) / of_nat (0 + 1) =\n  (- 1) ^ 0 * fact 0 *\n  (\\<Sum>i = 1..0 + 1. (- Ln 2) ^ i * A (0 - (i - 1)) / fact i)\n  k = 0\n\ngoal (1 subgoal):\n 1. A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "by simp"], ["proof (state)\nthis:\n  A k =\n  (if k = 0 then 1\n   else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "case False"], ["proof (state)\nthis:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "have \"k * Ln 2 * stieltjes_gamma (k - 1) +\n             (\\<Sum>t<k-1. (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n             (\\<Sum>t\\<in>insert (k-1) {..<k-1}. (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_nat k * Ln 2 * stieltjes_gamma (k - 1) +\n    (\\<Sum>t<k - 1.\n        of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n    (\\<Sum>t\\<in>insert (k - 1) {..<k - 1}.\n       of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t)", "using False"], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. of_nat k * Ln 2 * stieltjes_gamma (k - 1) +\n    (\\<Sum>t<k - 1.\n        of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n    (\\<Sum>t\\<in>insert (k - 1) {..<k - 1}.\n       of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t)", "by (subst sum.insert) auto"], ["proof (state)\nthis:\n  of_nat k * Ln 2 * stieltjes_gamma (k - 1) +\n  (\\<Sum>t<k - 1.\n      of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n  (\\<Sum>t\\<in>insert (k - 1) {..<k - 1}.\n     of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "also"], ["proof (state)\nthis:\n  of_nat k * Ln 2 * stieltjes_gamma (k - 1) +\n  (\\<Sum>t<k - 1.\n      of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n  (\\<Sum>t\\<in>insert (k - 1) {..<k - 1}.\n     of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "have \"insert (k-1) {..<k-1} = {..<k}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (k - 1) {..<k - 1} = {..<k}", "using False"], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. insert (k - 1) {..<k - 1} = {..<k}", "by auto"], ["proof (state)\nthis:\n  insert (k - 1) {..<k - 1} = {..<k}\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "also"], ["proof (state)\nthis:\n  insert (k - 1) {..<k - 1} = {..<k}\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "have \"(\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n              Ln 2 ^ (k + 1) / of_nat (k + 1) +\n              (- 1) ^ k * fact k * (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n    Ln 2 ^ (k + 1) / of_nat (k + 1) +\n    (- 1) ^ k * fact k *\n    (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "using stieltjes_gamma_aux6[of k]"], ["proof (prove)\nusing this:\n  (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) -\n  Ln 2 ^ (k + 1) / of_nat (k + 1) =\n  (- 1) ^ k * fact k *\n  (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)\n\ngoal (1 subgoal):\n 1. (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n    Ln 2 ^ (k + 1) / of_nat (k + 1) +\n    (- 1) ^ k * fact k *\n    (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n  Ln 2 ^ (k + 1) / of_nat (k + 1) +\n  (- 1) ^ k * fact k *\n  (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "also"], ["proof (state)\nthis:\n  (\\<Sum>t<k. of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n  Ln 2 ^ (k + 1) / of_nat (k + 1) +\n  (- 1) ^ k * fact k *\n  (\\<Sum>i = 1..k + 1. (- Ln 2) ^ i * A (k - (i - 1)) / fact i)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "have \"{1..k+1} = {1,k+1} \\<union> {2..k}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {1..k + 1} = {1, k + 1} \\<union> {2..k}", "by auto"], ["proof (state)\nthis:\n  {1..k + 1} = {1, k + 1} \\<union> {2..k}\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "also"], ["proof (state)\nthis:\n  {1..k + 1} = {1, k + 1} \\<union> {2..k}\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "have \"(- 1) ^ k * fact k * (\\<Sum>i\\<in>\\<dots>. (- Ln 2) ^ i * A (k - (i - 1)) / fact i) =\n                 (\\<Sum>i=2..k. (-1)^k * fact k * (- Ln 2) ^ i * A (k - (i - 1)) / fact i)\n                   -Ln 2 * A k * (- 1) ^ k * fact k +\n                   (-Ln 2)^(k+1) * A 0 / fact (k+1) * (- 1) ^ k * fact k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- 1) ^ k * fact k *\n    (\\<Sum>i\\<in>{1, k + 1} \\<union> {2..k}.\n       (- Ln 2) ^ i * A (k - (i - 1)) / fact i) =\n    (\\<Sum>i = 2..k.\n        (- 1) ^ k * fact k * (- Ln 2) ^ i * A (k - (i - 1)) / fact i) -\n    Ln 2 * A k * (- 1) ^ k * fact k +\n    (- Ln 2) ^ (k + 1) * A 0 / fact (k + 1) * (- 1) ^ k * fact k", "using False"], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (- 1) ^ k * fact k *\n    (\\<Sum>i\\<in>{1, k + 1} \\<union> {2..k}.\n       (- Ln 2) ^ i * A (k - (i - 1)) / fact i) =\n    (\\<Sum>i = 2..k.\n        (- 1) ^ k * fact k * (- Ln 2) ^ i * A (k - (i - 1)) / fact i) -\n    Ln 2 * A k * (- 1) ^ k * fact k +\n    (- Ln 2) ^ (k + 1) * A 0 / fact (k + 1) * (- 1) ^ k * fact k", "by (subst sum.union_disjoint)\n                       (auto simp: algebra_simps sum_distrib_left sum_distrib_right)"], ["proof (state)\nthis:\n  (- 1) ^ k * fact k *\n  (\\<Sum>i\\<in>{1, k + 1} \\<union> {2..k}.\n     (- Ln 2) ^ i * A (k - (i - 1)) / fact i) =\n  (\\<Sum>i = 2..k.\n      (- 1) ^ k * fact k * (- Ln 2) ^ i * A (k - (i - 1)) / fact i) -\n  Ln 2 * A k * (- 1) ^ k * fact k +\n  (- Ln 2) ^ (k + 1) * A 0 / fact (k + 1) * (- 1) ^ k * fact k\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "also"], ["proof (state)\nthis:\n  (- 1) ^ k * fact k *\n  (\\<Sum>i\\<in>{1, k + 1} \\<union> {2..k}.\n     (- Ln 2) ^ i * A (k - (i - 1)) / fact i) =\n  (\\<Sum>i = 2..k.\n      (- 1) ^ k * fact k * (- Ln 2) ^ i * A (k - (i - 1)) / fact i) -\n  Ln 2 * A k * (- 1) ^ k * fact k +\n  (- Ln 2) ^ (k + 1) * A 0 / fact (k + 1) * (- 1) ^ k * fact k\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "have \"(\\<Sum>i=2..k. (-1)^k * fact k * (-Ln 2) ^ i * A (k-(i-1)) / fact i) =\n                 (\\<Sum>i<k-1. (k choose i) * Ln 2 ^ (k-i) * stieltjes_gamma i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 2..k.\n        (- 1) ^ k * fact k * (- Ln 2) ^ i * A (k - (i - 1)) / fact i) =\n    (\\<Sum>i<k - 1.\n        of_nat (k choose i) * Ln 2 ^ (k - i) * stieltjes_gamma i)", "using False"], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 2..k.\n        (- 1) ^ k * fact k * (- Ln 2) ^ i * A (k - (i - 1)) / fact i) =\n    (\\<Sum>i<k - 1.\n        of_nat (k choose i) * Ln 2 ^ (k - i) * stieltjes_gamma i)", "by (intro sum.reindex_bij_witness[of _ \"\\<lambda>i. k - i\" \"\\<lambda>i. k - i\"])\n           (auto simp: binomial_fact Suc_diff_le less field_simps power_neg_one_If)"], ["proof (state)\nthis:\n  (\\<Sum>i = 2..k.\n      (- 1) ^ k * fact k * (- Ln 2) ^ i * A (k - (i - 1)) / fact i) =\n  (\\<Sum>i<k - 1. of_nat (k choose i) * Ln 2 ^ (k - i) * stieltjes_gamma i)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "finally"], ["proof (chain)\npicking this:\n  of_nat k * Ln 2 * stieltjes_gamma (k - 1) +\n  (\\<Sum>t<k - 1.\n      of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n  Ln 2 ^ (k + 1) / of_nat (k + 1) +\n  ((\\<Sum>i<k - 1.\n       of_nat (k choose i) * Ln 2 ^ (k - i) * stieltjes_gamma i) -\n   Ln 2 * A k * (- 1) ^ k * fact k +\n   (- Ln 2) ^ (k + 1) * A 0 / fact (k + 1) * (- 1) ^ k * fact k)", "have \"k * Ln 2 * stieltjes_gamma (k - 1) =\n                       (-1)^(k+1) * fact k * Ln 2 * A k\""], ["proof (prove)\nusing this:\n  of_nat k * Ln 2 * stieltjes_gamma (k - 1) +\n  (\\<Sum>t<k - 1.\n      of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n  Ln 2 ^ (k + 1) / of_nat (k + 1) +\n  ((\\<Sum>i<k - 1.\n       of_nat (k choose i) * Ln 2 ^ (k - i) * stieltjes_gamma i) -\n   Ln 2 * A k * (- 1) ^ k * fact k +\n   (- Ln 2) ^ (k + 1) * A 0 / fact (k + 1) * (- 1) ^ k * fact k)\n\ngoal (1 subgoal):\n 1. of_nat k * Ln 2 * stieltjes_gamma (k - 1) =\n    (- 1) ^ (k + 1) * fact k * Ln 2 * A k", "using False"], ["proof (prove)\nusing this:\n  of_nat k * Ln 2 * stieltjes_gamma (k - 1) +\n  (\\<Sum>t<k - 1.\n      of_nat (k choose t) * Ln 2 ^ (k - t) * stieltjes_gamma t) =\n  Ln 2 ^ (k + 1) / of_nat (k + 1) +\n  ((\\<Sum>i<k - 1.\n       of_nat (k choose i) * Ln 2 ^ (k - i) * stieltjes_gamma i) -\n   Ln 2 * A k * (- 1) ^ k * fact k +\n   (- Ln 2) ^ (k + 1) * A 0 / fact (k + 1) * (- 1) ^ k * fact k)\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. of_nat k * Ln 2 * stieltjes_gamma (k - 1) =\n    (- 1) ^ (k + 1) * fact k * Ln 2 * A k", "by (simp add: less power_minus')"], ["proof (state)\nthis:\n  of_nat k * Ln 2 * stieltjes_gamma (k - 1) =\n  (- 1) ^ (k + 1) * fact k * Ln 2 * A k\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "also"], ["proof (state)\nthis:\n  of_nat k * Ln 2 * stieltjes_gamma (k - 1) =\n  (- 1) ^ (k + 1) * fact k * Ln 2 * A k\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "have \"\\<dots> * (-1)^(k+1) / fact k / Ln 2 = A k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- 1) ^ (k + 1) * fact k * Ln 2 * A k * (- 1) ^ (k + 1) / fact k /\n    Ln 2 =\n    A k", "by simp"], ["proof (state)\nthis:\n  (- 1) ^ (k + 1) * fact k * Ln 2 * A k * (- 1) ^ (k + 1) / fact k / Ln 2 =\n  A k\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "also"], ["proof (state)\nthis:\n  (- 1) ^ (k + 1) * fact k * Ln 2 * A k * (- 1) ^ (k + 1) / fact k / Ln 2 =\n  A k\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "have \"k * Ln 2 * stieltjes_gamma (k - 1) * (-1)^(k+1) / fact k / Ln 2 =\n                   (-1)^(k+1) * stieltjes_gamma (k - 1) / fact (k - 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_nat k * Ln 2 * stieltjes_gamma (k - 1) * (- 1) ^ (k + 1) / fact k /\n    Ln 2 =\n    (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1)", "using False"], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. of_nat k * Ln 2 * stieltjes_gamma (k - 1) * (- 1) ^ (k + 1) / fact k /\n    Ln 2 =\n    (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1)", "by (simp add: field_simps fact_reduce)"], ["proof (state)\nthis:\n  of_nat k * Ln 2 * stieltjes_gamma (k - 1) * (- 1) ^ (k + 1) / fact k /\n  Ln 2 =\n  (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "finally"], ["proof (chain)\npicking this:\n  (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1) = A k", "have \"A k = (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1)\""], ["proof (prove)\nusing this:\n  (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1) = A k\n\ngoal (1 subgoal):\n 1. A k = (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1)", ".."], ["proof (state)\nthis:\n  A k = (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow>\n    A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "thus ?thesis"], ["proof (prove)\nusing this:\n  A k = (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1)\n\ngoal (1 subgoal):\n 1. A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "using False"], ["proof (prove)\nusing this:\n  A k = (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1)\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. A k =\n    (if k = 0 then 1\n     else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))", "by simp"], ["proof (state)\nthis:\n  A k =\n  (if k = 0 then 1\n   else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  A k =\n  (if k = 0 then 1\n   else (- 1) ^ (k + 1) * stieltjes_gamma (k - 1) / fact (k - 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  A ?k =\n  (if ?k = 0 then 1\n   else (- 1) ^ (?k + 1) * stieltjes_gamma (?k - 1) / fact (?k - 1))\n\ngoal (1 subgoal):\n 1. (deriv ^^ k) (pre_zeta 1) 1 = (- 1) ^ k * stieltjes_gamma k", "have \"fps_nth G2' k = fps_nth G2 (Suc k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. G2' $ k = G2 $ Suc k", "by (simp add: stieltjes_gamma_aux3)"], ["proof (state)\nthis:\n  G2' $ k = G2 $ Suc k\n\ngoal (1 subgoal):\n 1. (deriv ^^ k) (pre_zeta 1) 1 = (- 1) ^ k * stieltjes_gamma k", "also"], ["proof (state)\nthis:\n  G2' $ k = G2 $ Suc k\n\ngoal (1 subgoal):\n 1. (deriv ^^ k) (pre_zeta 1) 1 = (- 1) ^ k * stieltjes_gamma k", "have \"\\<dots> = A (Suc k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. G2 $ Suc k = A (Suc k)", "by (simp add: A_def)"], ["proof (state)\nthis:\n  G2 $ Suc k = A (Suc k)\n\ngoal (1 subgoal):\n 1. (deriv ^^ k) (pre_zeta 1) 1 = (- 1) ^ k * stieltjes_gamma k", "also"], ["proof (state)\nthis:\n  G2 $ Suc k = A (Suc k)\n\ngoal (1 subgoal):\n 1. (deriv ^^ k) (pre_zeta 1) 1 = (- 1) ^ k * stieltjes_gamma k", "have \"\\<dots> = (-1) ^ k * stieltjes_gamma k / fact k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A (Suc k) = (- 1) ^ k * stieltjes_gamma k / fact k", "by (simp add: eq)"], ["proof (state)\nthis:\n  A (Suc k) = (- 1) ^ k * stieltjes_gamma k / fact k\n\ngoal (1 subgoal):\n 1. (deriv ^^ k) (pre_zeta 1) 1 = (- 1) ^ k * stieltjes_gamma k", "finally"], ["proof (chain)\npicking this:\n  G2' $ k = (- 1) ^ k * stieltjes_gamma k / fact k", "show \"(deriv ^^ k) (pre_zeta 1) 1 = (-1) ^ k * stieltjes_gamma k\""], ["proof (prove)\nusing this:\n  G2' $ k = (- 1) ^ k * stieltjes_gamma k / fact k\n\ngoal (1 subgoal):\n 1. (deriv ^^ k) (pre_zeta 1) 1 = (- 1) ^ k * stieltjes_gamma k", "by (simp add: G2'_def fps_eq_iff fps_expansion_def)"], ["proof (state)\nthis:\n  (deriv ^^ k) (pre_zeta 1) 1 = (- 1) ^ k * stieltjes_gamma k\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary pre_zeta_1_1 [simp]: \"pre_zeta 1 1 = euler_mascheroni\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pre_zeta 1 1 = euler_mascheroni", "using higher_deriv_pre_zeta_1_1[of 0]"], ["proof (prove)\nusing this:\n  (deriv ^^ 0) (pre_zeta 1) 1 = (- 1) ^ 0 * stieltjes_gamma 0\n\ngoal (1 subgoal):\n 1. pre_zeta 1 1 = euler_mascheroni", "by simp"], ["", "corollary zeta_minus_pole_limit: \"(\\<lambda>s. zeta s - 1 / (s - 1)) \\<midarrow>1\\<rightarrow> euler_mascheroni\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>s. zeta s - 1 / (s - 1)) \\<midarrow>1\n    \\<rightarrow> euler_mascheroni", "proof (rule Lim_transform_eventually)"], ["proof (state)\ngoal (2 subgoals):\n 1. ?f \\<midarrow>1\\<rightarrow> euler_mascheroni\n 2. \\<forall>\\<^sub>F x in at 1. ?f x = zeta x - 1 / (x - 1)", "show \"eventually (\\<lambda>s. pre_zeta 1 s = zeta s - 1 / (s - 1)) (at 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 1. pre_zeta 1 s = zeta s - 1 / (s - 1)", "by (auto simp: zeta_minus_pole_eq [symmetric] eventually_at_filter)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F s in at 1. pre_zeta 1 s = zeta s - 1 / (s - 1)\n\ngoal (1 subgoal):\n 1. pre_zeta 1 \\<midarrow>1\\<rightarrow> euler_mascheroni", "have \"isCont (pre_zeta 1) 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. isCont (pre_zeta 1) 1", "by (intro continuous_intros) auto"], ["proof (state)\nthis:\n  isCont (pre_zeta 1) 1\n\ngoal (1 subgoal):\n 1. pre_zeta 1 \\<midarrow>1\\<rightarrow> euler_mascheroni", "thus \"pre_zeta 1 \\<midarrow>1\\<rightarrow> euler_mascheroni\""], ["proof (prove)\nusing this:\n  isCont (pre_zeta 1) 1\n\ngoal (1 subgoal):\n 1. pre_zeta 1 \\<midarrow>1\\<rightarrow> euler_mascheroni", "by (simp add: isCont_def)"], ["proof (state)\nthis:\n  pre_zeta 1 \\<midarrow>1\\<rightarrow> euler_mascheroni\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary fps_expansion_pre_zeta_1_1:\n  \"fps_expansion (pre_zeta 1) 1 = Abs_fps (\\<lambda>n. (-1)^n * stieltjes_gamma n / fact n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fps_expansion (pre_zeta 1) 1 =\n    Abs_fps (\\<lambda>n. (- 1) ^ n * stieltjes_gamma n / fact n)", "by (simp add: fps_expansion_def higher_deriv_pre_zeta_1_1)"], ["", "end"], ["", "end"]]}