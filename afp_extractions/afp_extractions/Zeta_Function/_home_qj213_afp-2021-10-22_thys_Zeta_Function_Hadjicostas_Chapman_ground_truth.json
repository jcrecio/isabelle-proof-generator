{"file_name": "/home/qj213/afp-2021-10-22/thys/Zeta_Function/Hadjicostas_Chapman.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Zeta_Function", "problem_names": ["lemma Hadjicostas_nn_integral_altdef:\n  \"Hadjicostas_nn_integral z =\n     (\\<integral>\\<^sup>+(x,y)\\<in>{0<..<1}\\<times>{0<..<1}. ((-ln (x*y)) powr z * (1-x) / (1-x*y)) \\<partial>lborel)\"", "lemma Hadjicostas_Chapman_aux:\n  fixes z :: real\n  assumes z: \"z > -1\"\n  defines \"f \\<equiv> (\\<lambda>u. ((-ln u) powr z / (1 - u) * (-ln u + u - 1)))\"\n  shows   \"(f has_integral (Gamma (z + 2) * (Re (zeta (z + 2)) - 1 / (z + 1)))) {0<..<1}\"", "lemma real_zeta_ge_one_over_minus_one:\n  fixes z :: real\n  assumes z: \"z > 1\"\n  shows \"Re (zeta (complex_of_real z)) \\<ge> 1 / (z - 1)\"", "lemma Hadjicostas_Chapman_formula_real:\n  fixes z :: real\n  assumes z: \"z > -1\"\n  shows   \"Hadjicostas_nn_integral z =\n             ennreal (Gamma (z + 2) * (Re (zeta (z + 2)) - 1 / (z + 1)))\"", "lemma integrable_bound1:\n  \"interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) g1\"", "lemma integrable_bound2:\n  \"interval_lebesgue_integrable lborel (exp (-1)) 1 g2\"", "lemma bound2:\n  \"norm (f z u) \\<le> g2 u\" if z: \"Re z \\<in> {x..y}\" and u: \"u \\<in> {exp (-1)<..<1}\" for z u", "lemma integrable2_aux: \"interval_lebesgue_integrable lborel (exp (-1)) 1 (f z)\"\n    if z: \"Re z \\<in> {x..y}\" for z", "lemma uniform_limit2:\n  \"uniform_limit {z. Re z \\<in> {x..y}}\n        (\\<lambda>a z. LBINT u=exp (-1)..a. f z u)\n        (\\<lambda>z. LBINT u=exp (-1)..1. f z u) (at_left 1)\"", "lemma uniform_limit2':\n    \"uniform_limit {z. Re z \\<in> {x..y}}\n          (\\<lambda>n z. LBINT u=exp (-1)..ereal (1-(1/2)^Suc n). f z u)\n          (\\<lambda>z. LBINT u=exp (-1)..1. f z u) sequentially\"", "lemma bound1: \"norm (f z u) \\<le> g1 u\" if z: \"Re z \\<in> {x..y}\" and u: \"u \\<in> {0<..<exp (-1)}\" for z u", "lemma integrable1_aux: \"interval_lebesgue_integrable lborel 0 (exp (-1)) (f z)\"\n  if z: \"Re z \\<in> {x..y}\" for z", "lemma uniform_limit1:\n  \"uniform_limit {z. Re z \\<in> {x..y}}\n        (\\<lambda>a z. LBINT u=a..exp (-1). f z u)\n        (\\<lambda>z. LBINT u=0..exp (-1). f z u) (at_right 0)\"", "lemma uniform_limit1':\n    \"uniform_limit {z. Re z \\<in> {x..y}}\n          (\\<lambda>n z. LBINT u=ereal ((1/2)^Suc n)..exp (-1). f z u)\n          (\\<lambda>z. LBINT u=0..exp (-1). f z u) sequentially\"", "theorem Hadjicostas_integral_integrable: \"interval_lebesgue_integrable lborel 0 1 (f z)\"\n  if z: \"Re z > -2\"", "lemma integral_holo_aux:\n  assumes ab: \"a > 0\" \"a \\<le> b\" \"b < 1\"\n  shows \"(\\<lambda>z. LBINT u=ereal a..ereal b. f z u) holomorphic_on A\"", "lemma integral_holo:\n  assumes ab: \"min a b > 0\" \"max a b < 1\"\n  shows \"(\\<lambda>z. LBINT u=ereal a..ereal b. f z u) holomorphic_on A\"", "lemma holo1: \"(\\<lambda>z. LBINT u=0..exp (-1). f z u) holomorphic_on {z. Re z > -2}\"", "lemma holo2: \"(\\<lambda>z. LBINT u=exp (-1)..1. f z u) holomorphic_on {z. Re z > -2}\"", "lemma holomorphic_Hadjicostas_integral:\n  \"Hadjicostas_integral holomorphic_on {z. Re z > -2}\"", "lemma analytic_Hadjicostas_integral:\n  \"Hadjicostas_integral analytic_on {z. Re z > -2}\"", "lemma Hadjicostas_Chapman_formula_aux:\n  assumes z: \"Re z > -2\"\n  shows   \"Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\"\n    (is \"_ z = ?f z\")", "theorem Hadjicostas_Chapman_formula:\n  assumes z: \"Re z > -2\" \"z \\<noteq> -1\"\n  shows   \"Hadjicostas_integral z = Gamma (z + 2) * (zeta (z + 2) - 1 / (z + 1))\""], "translations": [["", "lemma Hadjicostas_nn_integral_altdef:\n  \"Hadjicostas_nn_integral z =\n     (\\<integral>\\<^sup>+(x,y)\\<in>{0<..<1}\\<times>{0<..<1}. ((-ln (x*y)) powr z * (1-x) / (1-x*y)) \\<partial>lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "define f where \"f \\<equiv> (\\<lambda>u. ((-ln u) powr z / (1 - u) * (-ln u + u - 1)))\""], ["proof (state)\nthis:\n  f \\<equiv> \\<lambda>u. (- ln u) powr z / (1 - u) * (- ln u + u - 1)\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "let ?I = \"Gamma (z + 2) * (Re (zeta (z + 2)) - 1 / (z + 1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "let ?f = \"\\<lambda>u. ((-ln u) powr z / (1 - u) * (-ln u + u - 1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "define D :: \"(real \\<times> real) set\" where \"D = {0<..<1} \\<times> {0<..<1}\""], ["proof (state)\nthis:\n  D = {0<..<1} \\<times> {0<..<1}\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "define D1 where \"D1 = (SIGMA x:{0<..<1}. {0<..<(x::real)})\""], ["proof (state)\nthis:\n  D1 = Sigma {0<..<1} (greaterThanLessThan 0)\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "define D2 where \"D2 = (SIGMA u:{0<..<1}. {u<..<(1::real)})\""], ["proof (state)\nthis:\n  D2 = (SIGMA u:{0<..<1}. {u<..<1})\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "have [measurable]: \"D1 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. D1 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. D1 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "have \"D1 = {x\\<in>space (lborel \\<Otimes>\\<^sub>M lborel). snd x > 0 \\<and> fst x > snd x \\<and> fst x < 1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. D1 =\n    {x \\<in> space (lborel \\<Otimes>\\<^sub>M lborel).\n     0 < snd x \\<and> snd x < fst x \\<and> fst x < 1}", "by (auto simp: D1_def space_pair_measure)"], ["proof (state)\nthis:\n  D1 =\n  {x \\<in> space (lborel \\<Otimes>\\<^sub>M lborel).\n   0 < snd x \\<and> snd x < fst x \\<and> fst x < 1}\n\ngoal (1 subgoal):\n 1. D1 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "also"], ["proof (state)\nthis:\n  D1 =\n  {x \\<in> space (lborel \\<Otimes>\\<^sub>M lborel).\n   0 < snd x \\<and> snd x < fst x \\<and> fst x < 1}\n\ngoal (1 subgoal):\n 1. D1 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "have \"\\<dots> \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> space (lborel \\<Otimes>\\<^sub>M lborel).\n     0 < snd x \\<and> snd x < fst x \\<and> fst x < 1}\n    \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "by measurable"], ["proof (state)\nthis:\n  {x \\<in> space (lborel \\<Otimes>\\<^sub>M lborel).\n   0 < snd x \\<and> snd x < fst x \\<and> fst x < 1}\n  \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)\n\ngoal (1 subgoal):\n 1. D1 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "finally"], ["proof (chain)\npicking this:\n  D1 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "show ?thesis"], ["proof (prove)\nusing this:\n  D1 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)\n\ngoal (1 subgoal):\n 1. D1 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "."], ["proof (state)\nthis:\n  D1 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  D1 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "have [measurable]: \"D2 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. D2 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. D2 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "have \"D2 = {x\\<in>space (lborel \\<Otimes>\\<^sub>M lborel). fst x > 0 \\<and> fst x < snd x \\<and> snd x < 1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. D2 =\n    {x \\<in> space (lborel \\<Otimes>\\<^sub>M lborel).\n     0 < fst x \\<and> fst x < snd x \\<and> snd x < 1}", "by (auto simp: D2_def space_pair_measure)"], ["proof (state)\nthis:\n  D2 =\n  {x \\<in> space (lborel \\<Otimes>\\<^sub>M lborel).\n   0 < fst x \\<and> fst x < snd x \\<and> snd x < 1}\n\ngoal (1 subgoal):\n 1. D2 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "also"], ["proof (state)\nthis:\n  D2 =\n  {x \\<in> space (lborel \\<Otimes>\\<^sub>M lborel).\n   0 < fst x \\<and> fst x < snd x \\<and> snd x < 1}\n\ngoal (1 subgoal):\n 1. D2 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "have \"\\<dots> \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> space (lborel \\<Otimes>\\<^sub>M lborel).\n     0 < fst x \\<and> fst x < snd x \\<and> snd x < 1}\n    \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "by measurable"], ["proof (state)\nthis:\n  {x \\<in> space (lborel \\<Otimes>\\<^sub>M lborel).\n   0 < fst x \\<and> fst x < snd x \\<and> snd x < 1}\n  \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)\n\ngoal (1 subgoal):\n 1. D2 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "finally"], ["proof (chain)\npicking this:\n  D2 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "show ?thesis"], ["proof (prove)\nusing this:\n  D2 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)\n\ngoal (1 subgoal):\n 1. D2 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)", "."], ["proof (state)\nthis:\n  D2 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  D2 \\<in> sets (lborel \\<Otimes>\\<^sub>M lborel)\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "have \"(\\<integral>\\<^sup>+(x,y)\\<in>D. ((-ln (x*y)) powr z * (1-x) / (1-x*y)) \\<partial>lborel) =\n          (\\<integral>\\<^sup>+x\\<in>{0<..<1}. (\\<integral>\\<^sup>+y\\<in>{0<..<1}. ((-ln (x*y)) powr z / (1-x*y) * (1-x)) \\<partial>lborel) \\<partial>lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>D.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       (\\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n     ennreal ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n                        \\<partial>lborel)\n    \\<partial>lborel", "unfolding lborel_prod [symmetric] case_prod_unfold D_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        ((- ln (fst x * snd x)) powr z * (1 - fst x) /\n                         (1 - fst x * snd x))\n    \\<partial>lborel \\<Otimes>\\<^sub>M lborel =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       (\\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n     ennreal ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n                        \\<partial>lborel)\n    \\<partial>lborel", "by (subst lborel.nn_integral_fst[symmetric])\n       (auto intro!: nn_integral_cong simp: indicator_def)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>D.\n                     ennreal\n                      (case x of\n                       (x, y) \\<Rightarrow>\n                         (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     (\\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n   ennreal ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n                      \\<partial>lborel)\n  \\<partial>lborel\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>D.\n                     ennreal\n                      (case x of\n                       (x, y) \\<Rightarrow>\n                         (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     (\\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n   ennreal ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n                      \\<partial>lborel)\n  \\<partial>lborel\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "have \"\\<dots> = (\\<integral>\\<^sup>+x\\<in>{0<..<1}. (\\<integral>\\<^sup>+u\\<in>{0<..<x}. ((- ln u) powr z / (1 - u) * (1 - x) / x) \\<partial>lborel) \\<partial>lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       (\\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n     ennreal ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n                        \\<partial>lborel)\n    \\<partial>lborel =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       (\\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n     ennreal ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n                        \\<partial>lborel)\n    \\<partial>lborel", "proof (rule set_nn_integral_cong)"], ["proof (state)\ngoal (3 subgoals):\n 1. lborel = lborel\n 2. {0<..<1} = {0<..<1}\n 3. \\<And>x.\n       x \\<in> space lborel \\<inter> {0<..<1} \\<Longrightarrow>\n       \\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n                          ennreal\n                           ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n       \\<partial>lborel =\n       \\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n                          ennreal\n                           ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n       \\<partial>lborel", "fix x :: real"], ["proof (state)\ngoal (3 subgoals):\n 1. lborel = lborel\n 2. {0<..<1} = {0<..<1}\n 3. \\<And>x.\n       x \\<in> space lborel \\<inter> {0<..<1} \\<Longrightarrow>\n       \\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n                          ennreal\n                           ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n       \\<partial>lborel =\n       \\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n                          ennreal\n                           ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n       \\<partial>lborel", "assume x: \"x \\<in> space lborel \\<inter> {0<..<1}\""], ["proof (state)\nthis:\n  x \\<in> space lborel \\<inter> {0<..<1}\n\ngoal (3 subgoals):\n 1. lborel = lborel\n 2. {0<..<1} = {0<..<1}\n 3. \\<And>x.\n       x \\<in> space lborel \\<inter> {0<..<1} \\<Longrightarrow>\n       \\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n                          ennreal\n                           ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n       \\<partial>lborel =\n       \\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n                          ennreal\n                           ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n       \\<partial>lborel", "show \"(\\<integral>\\<^sup>+y\\<in>{0<..<1}. ((-ln (x*y)) powr z / (1-x*y) * (1-x)) \\<partial>lborel) =\n            (\\<integral>\\<^sup>+u\\<in>{0<..<x}. ((- ln u) powr z / (1 - u) * (1 - x) / x) \\<partial>lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n                       ennreal\n                        ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n    \\<partial>lborel =\n    \\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n                       ennreal ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n    \\<partial>lborel", "using x"], ["proof (prove)\nusing this:\n  x \\<in> space lborel \\<inter> {0<..<1}\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n                       ennreal\n                        ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n    \\<partial>lborel =\n    \\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n                       ennreal ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n    \\<partial>lborel", "by (subst lborel_distr_mult'[of \"1/x\"])\n         (auto simp: nn_integral_density nn_integral_distr indicator_def field_simps\n               simp flip: ennreal_mult' intro!: nn_integral_cong)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n                     ennreal\n                      ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n                     ennreal ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n  \\<partial>lborel\n\ngoal (2 subgoals):\n 1. lborel = lborel\n 2. {0<..<1} = {0<..<1}", "qed auto"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     (\\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n   ennreal ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n                      \\<partial>lborel)\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     (\\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n   ennreal ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n                      \\<partial>lborel)\n  \\<partial>lborel\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     (\\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n   ennreal ((- ln (x * xa)) powr z / (1 - x * xa) * (1 - x))\n                      \\<partial>lborel)\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     (\\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n   ennreal ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n                      \\<partial>lborel)\n  \\<partial>lborel\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "have \"\\<dots> = (\\<integral>\\<^sup>+(x,u)\\<in>D1. ((- ln u) powr z / (1 - u) * (1 - x) / x) \\<partial>lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       (\\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n     ennreal ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n                        \\<partial>lborel)\n    \\<partial>lborel =\n    \\<integral>\\<^sup>+x\\<in>D1.\n                       ennreal\n                        (case x of\n                         (x, u) \\<Rightarrow>\n                           (- ln u) powr z / (1 - u) * (1 - x) / x)\n    \\<partial>lborel", "unfolding lborel_prod [symmetric] case_prod_unfold D_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       (\\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n     ennreal ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n                        \\<partial>lborel)\n    \\<partial>lborel =\n    \\<integral>\\<^sup>+x\\<in>D1.\n                       ennreal\n                        ((- ln (snd x)) powr z / (1 - snd x) * (1 - fst x) /\n                         fst x)\n    \\<partial>lborel \\<Otimes>\\<^sub>M lborel", "by (subst lborel.nn_integral_fst[symmetric], measurable)\n       (auto intro!: nn_integral_cong simp: indicator_def D1_def)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     (\\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n   ennreal ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n                      \\<partial>lborel)\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+x\\<in>D1.\n                     ennreal\n                      (case x of\n                       (x, u) \\<Rightarrow>\n                         (- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     (\\<integral>\\<^sup>+xa\\<in>{0<..<x}.\n   ennreal ((- ln xa) powr z / (1 - xa) * (1 - x) / x)\n                      \\<partial>lborel)\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+x\\<in>D1.\n                     ennreal\n                      (case x of\n                       (x, u) \\<Rightarrow>\n                         (- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "have \"\\<dots> = (\\<integral>\\<^sup>+(x,u). indicator D2 (u,x) * ((- ln u) powr z / (1 - u) * (1 - x) / x) \\<partial>lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>D1.\n                       ennreal\n                        (case x of\n                         (x, u) \\<Rightarrow>\n                           (- ln u) powr z / (1 - u) * (1 - x) / x)\n    \\<partial>lborel =\n    \\<integral>\\<^sup>+ x. ennreal\n                            (case x of\n                             (x, u) \\<Rightarrow>\n                               indicat_real D2 (u, x) *\n                               ((- ln u) powr z / (1 - u) * (1 - x) / x))\n                       \\<partial>lborel", "by (intro nn_integral_cong)  (auto simp: D1_def D2_def indicator_def split: if_splits)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>D1.\n                     ennreal\n                      (case x of\n                       (x, u) \\<Rightarrow>\n                         (- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+ x. ennreal\n                          (case x of\n                           (x, u) \\<Rightarrow>\n                             indicat_real D2 (u, x) *\n                             ((- ln u) powr z / (1 - u) * (1 - x) / x))\n                     \\<partial>lborel\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>D1.\n                     ennreal\n                      (case x of\n                       (x, u) \\<Rightarrow>\n                         (- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+ x. ennreal\n                          (case x of\n                           (x, u) \\<Rightarrow>\n                             indicat_real D2 (u, x) *\n                             ((- ln u) powr z / (1 - u) * (1 - x) / x))\n                     \\<partial>lborel\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "have \"\\<dots> = (\\<integral>\\<^sup>+u\\<in>{0<..<1}. (\\<integral>\\<^sup>+x\\<in>{u<..<1}. ((- ln u) powr z / (1 - u) * (1 - x) / x) \\<partial>lborel) \\<partial>lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal\n                            (case x of\n                             (x, u) \\<Rightarrow>\n                               indicat_real D2 (u, x) *\n                               ((- ln u) powr z / (1 - u) * (1 - x) / x))\n                       \\<partial>lborel =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       (\\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n     ennreal ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n                        \\<partial>lborel)\n    \\<partial>lborel", "unfolding case_prod_unfold lborel_prod [symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+ x. ennreal\n                            (indicat_real D2 (snd x, fst x) *\n                             ((- ln (snd x)) powr z / (1 - snd x) *\n                              (1 - fst x) /\n                              fst x))\n                       \\<partial>lborel \\<Otimes>\\<^sub>M lborel =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       (\\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n     ennreal ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n                        \\<partial>lborel)\n    \\<partial>lborel", "by (subst lborel_pair.nn_integral_snd [symmetric], measurable)\n       (auto intro!: nn_integral_cong simp: D2_def indicator_def)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          (case x of\n                           (x, u) \\<Rightarrow>\n                             indicat_real D2 (u, x) *\n                             ((- ln u) powr z / (1 - u) * (1 - x) / x))\n                     \\<partial>lborel =\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     (\\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n   ennreal ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n                      \\<partial>lborel)\n  \\<partial>lborel\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+ x. ennreal\n                          (case x of\n                           (x, u) \\<Rightarrow>\n                             indicat_real D2 (u, x) *\n                             ((- ln u) powr z / (1 - u) * (1 - x) / x))\n                     \\<partial>lborel =\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     (\\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n   ennreal ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n                      \\<partial>lborel)\n  \\<partial>lborel\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "have \"\\<dots> = (\\<integral>\\<^sup>+u\\<in>{0<..<1}. ((-ln u) powr z / (1 - u) * (-ln u + u - 1)) \\<partial>lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       (\\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n     ennreal ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n                        \\<partial>lborel)\n    \\<partial>lborel =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       ennreal\n                        ((- ln x) powr z / (1 - x) * (- ln x + x - 1))\n    \\<partial>lborel", "proof (intro set_nn_integral_cong refl)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> space lborel \\<inter> {0<..<1} \\<Longrightarrow>\n       \\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n                          ennreal\n                           ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n       \\<partial>lborel =\n       ennreal ((- ln x) powr z / (1 - x) * (- ln x + x - 1))", "fix u :: real"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> space lborel \\<inter> {0<..<1} \\<Longrightarrow>\n       \\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n                          ennreal\n                           ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n       \\<partial>lborel =\n       ennreal ((- ln x) powr z / (1 - x) * (- ln x + x - 1))", "assume u: \"u \\<in> space lborel \\<inter> {0<..<1}\""], ["proof (state)\nthis:\n  u \\<in> space lborel \\<inter> {0<..<1}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> space lborel \\<inter> {0<..<1} \\<Longrightarrow>\n       \\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n                          ennreal\n                           ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n       \\<partial>lborel =\n       ennreal ((- ln x) powr z / (1 - x) * (- ln x + x - 1))", "let ?F = \"\\<lambda>x. (- ln u) powr z / (1 - u) * (ln x - x)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> space lborel \\<inter> {0<..<1} \\<Longrightarrow>\n       \\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n                          ennreal\n                           ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n       \\<partial>lborel =\n       ennreal ((- ln x) powr z / (1 - x) * (- ln x + x - 1))", "have \"(\\<integral>\\<^sup>+x\\<in>{u<..<1}. ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x) \\<partial>lborel) =\n            (\\<integral>\\<^sup>+x\\<in>{u..1}. ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x) \\<partial>lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>{u<..<1}.\n                       ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n    \\<partial>lborel =\n    \\<integral>\\<^sup>+x\\<in>{u..1}.\n                       ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n    \\<partial>lborel", "by (rule nn_integral_cong_AE, rule AE_I[of _ _ \"{u,1}\"])\n         (auto simp: emeasure_lborel_countable indicator_def)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>{u<..<1}.\n                     ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+x\\<in>{u..1}.\n                     ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> space lborel \\<inter> {0<..<1} \\<Longrightarrow>\n       \\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n                          ennreal\n                           ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n       \\<partial>lborel =\n       ennreal ((- ln x) powr z / (1 - x) * (- ln x + x - 1))", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>{u<..<1}.\n                     ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+x\\<in>{u..1}.\n                     ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> space lborel \\<inter> {0<..<1} \\<Longrightarrow>\n       \\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n                          ennreal\n                           ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n       \\<partial>lborel =\n       ennreal ((- ln x) powr z / (1 - x) * (- ln x + x - 1))", "have \"\\<dots> = ennreal (?F 1 - ?F u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>{u..1}.\n                       ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n    \\<partial>lborel =\n    ennreal\n     ((- ln u) powr z / (1 - u) * (ln 1 - 1) -\n      (- ln u) powr z / (1 - u) * (ln u - u))", "using u"], ["proof (prove)\nusing this:\n  u \\<in> space lborel \\<inter> {0<..<1}\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>{u..1}.\n                       ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n    \\<partial>lborel =\n    ennreal\n     ((- ln u) powr z / (1 - u) * (ln 1 - 1) -\n      (- ln u) powr z / (1 - u) * (ln u - u))", "by (intro nn_integral_FTC_Icc) (auto intro!: derivative_eq_intros simp: divide_simps)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>{u..1}.\n                     ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel =\n  ennreal\n   ((- ln u) powr z / (1 - u) * (ln 1 - 1) -\n    (- ln u) powr z / (1 - u) * (ln u - u))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> space lborel \\<inter> {0<..<1} \\<Longrightarrow>\n       \\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n                          ennreal\n                           ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n       \\<partial>lborel =\n       ennreal ((- ln x) powr z / (1 - x) * (- ln x + x - 1))", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>{u..1}.\n                     ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel =\n  ennreal\n   ((- ln u) powr z / (1 - u) * (ln 1 - 1) -\n    (- ln u) powr z / (1 - u) * (ln u - u))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> space lborel \\<inter> {0<..<1} \\<Longrightarrow>\n       \\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n                          ennreal\n                           ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n       \\<partial>lborel =\n       ennreal ((- ln x) powr z / (1 - x) * (- ln x + x - 1))", "have \"?F 1 - ?F u = (-ln u) powr z / (1 - u) * (-ln u + u - 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- ln u) powr z / (1 - u) * (ln 1 - 1) -\n    (- ln u) powr z / (1 - u) * (ln u - u) =\n    (- ln u) powr z / (1 - u) * (- ln u + u - 1)", "using u"], ["proof (prove)\nusing this:\n  u \\<in> space lborel \\<inter> {0<..<1}\n\ngoal (1 subgoal):\n 1. (- ln u) powr z / (1 - u) * (ln 1 - 1) -\n    (- ln u) powr z / (1 - u) * (ln u - u) =\n    (- ln u) powr z / (1 - u) * (- ln u + u - 1)", "by (simp add: divide_simps) (simp add: algebra_simps)?"], ["proof (state)\nthis:\n  (- ln u) powr z / (1 - u) * (ln 1 - 1) -\n  (- ln u) powr z / (1 - u) * (ln u - u) =\n  (- ln u) powr z / (1 - u) * (- ln u + u - 1)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> space lborel \\<inter> {0<..<1} \\<Longrightarrow>\n       \\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n                          ennreal\n                           ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n       \\<partial>lborel =\n       ennreal ((- ln x) powr z / (1 - x) * (- ln x + x - 1))", "finally"], ["proof (chain)\npicking this:\n  \\<integral>\\<^sup>+x\\<in>{u<..<1}.\n                     ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel =\n  ennreal ((- ln u) powr z / (1 - u) * (- ln u + u - 1))", "show \"(\\<integral>\\<^sup>+x\\<in>{u<..<1}. ((- ln u) powr z / (1 - u) * (1 - x) / x) \\<partial>lborel) = ennreal \\<dots>\""], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+x\\<in>{u<..<1}.\n                     ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel =\n  ennreal ((- ln u) powr z / (1 - u) * (- ln u + u - 1))\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>{u<..<1}.\n                       ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n    \\<partial>lborel =\n    ennreal ((- ln u) powr z / (1 - u) * (- ln u + u - 1))", "."], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>{u<..<1}.\n                     ennreal ((- ln u) powr z / (1 - u) * (1 - x) / x)\n  \\<partial>lborel =\n  ennreal ((- ln u) powr z / (1 - u) * (- ln u + u - 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     (\\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n   ennreal ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n                      \\<partial>lborel)\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     ennreal ((- ln x) powr z / (1 - x) * (- ln x + x - 1))\n  \\<partial>lborel\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "also"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     (\\<integral>\\<^sup>+xa\\<in>{x<..<1}.\n   ennreal ((- ln x) powr z / (1 - x) * (1 - xa) / xa)\n                      \\<partial>lborel)\n  \\<partial>lborel =\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     ennreal ((- ln x) powr z / (1 - x) * (- ln x + x - 1))\n  \\<partial>lborel\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "have \"\\<dots> = Hadjicostas_nn_integral z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       ennreal\n                        ((- ln x) powr z / (1 - x) * (- ln x + x - 1))\n    \\<partial>lborel =\n    Hadjicostas_nn_integral z", "by (simp add: Hadjicostas_nn_integral_def)"], ["proof (state)\nthis:\n  \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                     ennreal ((- ln x) powr z / (1 - x) * (- ln x + x - 1))\n  \\<partial>lborel =\n  Hadjicostas_nn_integral z\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "finally"], ["proof (chain)\npicking this:\n  \\<integral>\\<^sup>+x\\<in>D.\n                     ennreal\n                      (case x of\n                       (x, y) \\<Rightarrow>\n                         (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n  \\<partial>lborel =\n  Hadjicostas_nn_integral z", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<integral>\\<^sup>+x\\<in>D.\n                     ennreal\n                      (case x of\n                       (x, y) \\<Rightarrow>\n                         (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n  \\<partial>lborel =\n  Hadjicostas_nn_integral z\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                       ennreal\n                        (case x of\n                         (x, y) \\<Rightarrow>\n                           (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n    \\<partial>lborel", "by (simp add: D_def)"], ["proof (state)\nthis:\n  Hadjicostas_nn_integral z =\n  \\<integral>\\<^sup>+x\\<in>{0<..<1} \\<times> {0<..<1}.\n                     ennreal\n                      (case x of\n                       (x, y) \\<Rightarrow>\n                         (- ln (x * y)) powr z * (1 - x) / (1 - x * y))\n  \\<partial>lborel\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\n  We now solve the single integral for real \\<open>z > -1\\<close>.\n\\<close>"], ["", "lemma Hadjicostas_Chapman_aux:\n  fixes z :: real\n  assumes z: \"z > -1\"\n  defines \"f \\<equiv> (\\<lambda>u. ((-ln u) powr z / (1 - u) * (-ln u + u - 1)))\"\n  shows   \"(f has_integral (Gamma (z + 2) * (Re (zeta (z + 2)) - 1 / (z + 1)))) {0<..<1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "let ?I = \"Gamma (z + 2) * (Re (zeta (z + 2)) - 1 / (z + 1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "have nonneg: \"1 \\<le> x + exp (- x)\" if \"x \\<ge> 0\" for x :: real"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> x + exp (- x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 \\<le> x + exp (- x)", "have \"x + (1 + (-x)) \\<le> x + exp (-x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x + (1 + - x) \\<le> x + exp (- x)", "by (intro add_left_mono exp_ge_add_one_self)"], ["proof (state)\nthis:\n  x + (1 + - x) \\<le> x + exp (- x)\n\ngoal (1 subgoal):\n 1. 1 \\<le> x + exp (- x)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x + (1 + - x) \\<le> x + exp (- x)\n\ngoal (1 subgoal):\n 1. 1 \\<le> x + exp (- x)", "by simp"], ["proof (state)\nthis:\n  1 \\<le> x + exp (- x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 \\<le> ?x \\<Longrightarrow> 1 \\<le> ?x + exp (- ?x)\n\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "have eq: \"((\\<lambda>t::real. exp (-t)) ` {0<..}) = {0<..<1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>t. exp (- t)) ` {0<..} = {0<..<1}", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x t. 0 < t \\<Longrightarrow> exp (- t) \\<in> {0<..<1}\n 2. \\<And>x.\n       x \\<in> {0<..<1} \\<Longrightarrow>\n       x \\<in> (\\<lambda>t. exp (- t)) ` {0<..}", "fix x :: real"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x t. 0 < t \\<Longrightarrow> exp (- t) \\<in> {0<..<1}\n 2. \\<And>x.\n       x \\<in> {0<..<1} \\<Longrightarrow>\n       x \\<in> (\\<lambda>t. exp (- t)) ` {0<..}", "assume x: \"x \\<in> {0<..<1}\""], ["proof (state)\nthis:\n  x \\<in> {0<..<1}\n\ngoal (2 subgoals):\n 1. \\<And>x t. 0 < t \\<Longrightarrow> exp (- t) \\<in> {0<..<1}\n 2. \\<And>x.\n       x \\<in> {0<..<1} \\<Longrightarrow>\n       x \\<in> (\\<lambda>t. exp (- t)) ` {0<..}", "hence \"x = exp (-(-ln x))\" and \"-ln x \\<in> {0<..}\""], ["proof (prove)\nusing this:\n  x \\<in> {0<..<1}\n\ngoal (1 subgoal):\n 1. x = exp (- (- ln x)) &&& - ln x \\<in> {0<..}", "by auto"], ["proof (state)\nthis:\n  x = exp (- (- ln x))\n  - ln x \\<in> {0<..}\n\ngoal (2 subgoals):\n 1. \\<And>x t. 0 < t \\<Longrightarrow> exp (- t) \\<in> {0<..<1}\n 2. \\<And>x.\n       x \\<in> {0<..<1} \\<Longrightarrow>\n       x \\<in> (\\<lambda>t. exp (- t)) ` {0<..}", "thus \"x \\<in> (\\<lambda>t. exp (-t)) ` {0<..}\""], ["proof (prove)\nusing this:\n  x = exp (- (- ln x))\n  - ln x \\<in> {0<..}\n\ngoal (1 subgoal):\n 1. x \\<in> (\\<lambda>t. exp (- t)) ` {0<..}", "by blast"], ["proof (state)\nthis:\n  x \\<in> (\\<lambda>t. exp (- t)) ` {0<..}\n\ngoal (1 subgoal):\n 1. \\<And>x t. 0 < t \\<Longrightarrow> exp (- t) \\<in> {0<..<1}", "qed auto"], ["proof (state)\nthis:\n  (\\<lambda>t. exp (- t)) ` {0<..} = {0<..<1}\n\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "have I: \"((\\<lambda>x. x powr (z+1) / (exp x - 1) - x powr z / exp x) has_integral ?I) {0<..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..}", "from z"], ["proof (chain)\npicking this:\n  - 1 < z", "have \"z + 1 \\<notin> \\<real>\\<^sub>\\<le>\\<^sub>0\""], ["proof (prove)\nusing this:\n  - 1 < z\n\ngoal (1 subgoal):\n 1. z + 1 \\<notin> \\<real>\\<^sub>\\<le>\\<^sub>0", "by (auto simp: nonpos_Reals_def)"], ["proof (state)\nthis:\n  z + 1 \\<notin> \\<real>\\<^sub>\\<le>\\<^sub>0\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..}", "hence z': \"z + 1 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0\""], ["proof (prove)\nusing this:\n  z + 1 \\<notin> \\<real>\\<^sub>\\<le>\\<^sub>0\n\ngoal (1 subgoal):\n 1. z + 1 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0", "using nonpos_Ints_subset_nonpos_Reals"], ["proof (prove)\nusing this:\n  z + 1 \\<notin> \\<real>\\<^sub>\\<le>\\<^sub>0\n  \\<int>\\<^sub>\\<le>\\<^sub>0 \\<subseteq> \\<real>\\<^sub>\\<le>\\<^sub>0\n\ngoal (1 subgoal):\n 1. z + 1 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0", "by blast"], ["proof (state)\nthis:\n  z + 1 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..}", "have \"((\\<lambda>x. x powr (z + 2 - 1) / (exp x - 1) - x powr (z + 1 - 1) / exp x)\n            has_integral (Gamma (z + 2) * Re (zeta (z + 2)) - Gamma (z + 1))) {0<..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         x powr (z + 2 - 1) / (exp x - 1) -\n         x powr (z + 1 - 1) / exp x) has_integral\n     Gamma (z + 2) * Re (zeta (complex_of_real (z + 2))) - Gamma (z + 1))\n     {0<..}", "using z"], ["proof (prove)\nusing this:\n  - 1 < z\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         x powr (z + 2 - 1) / (exp x - 1) -\n         x powr (z + 1 - 1) / exp x) has_integral\n     Gamma (z + 2) * Re (zeta (complex_of_real (z + 2))) - Gamma (z + 1))\n     {0<..}", "by (intro has_integral_diff Gamma_integral_real' Gamma_times_zeta_has_integral_real) auto"], ["proof (state)\nthis:\n  ((\\<lambda>x.\n       x powr (z + 2 - 1) / (exp x - 1) -\n       x powr (z + 1 - 1) / exp x) has_integral\n   Gamma (z + 2) * Re (zeta (complex_of_real (z + 2))) - Gamma (z + 1))\n   {0<..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..}", "also"], ["proof (state)\nthis:\n  ((\\<lambda>x.\n       x powr (z + 2 - 1) / (exp x - 1) -\n       x powr (z + 1 - 1) / exp x) has_integral\n   Gamma (z + 2) * Re (zeta (complex_of_real (z + 2))) - Gamma (z + 1))\n   {0<..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..}", "have \"Gamma (z + 2) * Re (zeta (z + 2)) - Gamma (z + 1) =\n                 Gamma (z + 2) * (Re (zeta (z + 2)) - 1 / (z + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Gamma (z + 2) * Re (zeta (complex_of_real (z + 2))) - Gamma (z + 1) =\n    Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))", "using Gamma_plus1[of \"z+1\"] z z'"], ["proof (prove)\nusing this:\n  z + 1 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0 \\<Longrightarrow>\n  Gamma (z + 1 + 1) = (z + 1) * Gamma (z + 1)\n  - 1 < z\n  z + 1 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0\n\ngoal (1 subgoal):\n 1. Gamma (z + 2) * Re (zeta (complex_of_real (z + 2))) - Gamma (z + 1) =\n    Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))", "by (auto simp: field_simps)"], ["proof (state)\nthis:\n  Gamma (z + 2) * Re (zeta (complex_of_real (z + 2))) - Gamma (z + 1) =\n  Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..}", "finally"], ["proof (chain)\npicking this:\n  ((\\<lambda>x.\n       x powr (z + 2 - 1) / (exp x - 1) -\n       x powr (z + 1 - 1) / exp x) has_integral\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n   {0<..}", "show ?thesis"], ["proof (prove)\nusing this:\n  ((\\<lambda>x.\n       x powr (z + 2 - 1) / (exp x - 1) -\n       x powr (z + 1 - 1) / exp x) has_integral\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n   {0<..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..}", "by (simp add: add_ac)"], ["proof (state)\nthis:\n  ((\\<lambda>x.\n       x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n   {0<..}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((\\<lambda>x.\n       x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n   {0<..}\n\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "also"], ["proof (state)\nthis:\n  ((\\<lambda>x.\n       x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n   {0<..}\n\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "have \"?this \\<longleftrightarrow> ((\\<lambda>x. \\<bar>-exp (-x)\\<bar> * f (exp (-x))) has_integral ?I) {0<..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..} =\n    ((\\<lambda>x. \\<bar>- exp (- x)\\<bar> * f (exp (- x))) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..}", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..} =\n    ((\\<lambda>x.\n         \\<bar>- exp (- x)\\<bar> *\n         ((- ln (exp (- x))) powr z / (1 - exp (- x)) *\n          (- ln (exp (- x)) + exp (- x) - 1))) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..}", "apply (intro has_integral_cong)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {0<..} \\<Longrightarrow>\n       x powr (z + 1) / (exp x - 1) - x powr z / exp x =\n       \\<bar>- exp (- x)\\<bar> *\n       ((- ln (exp (- x))) powr z / (1 - exp (- x)) *\n        (- ln (exp (- x)) + exp (- x) - 1))", "apply (auto simp: field_simps powr_add powr_def exp_add)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       0 < x \\<Longrightarrow>\n       exp (z * ln x) +\n       (x * (exp x * exp (z * ln x)) +\n        (exp x * (exp x * (exp (- x) * exp (z * ln x))) +\n         exp x * (exp (- x) * (exp (- x) * exp (z * ln x))))) =\n       exp x * exp (z * ln x) +\n       (exp (- x) * exp (z * ln x) +\n        (x * (exp x * (exp x * (exp (- x) * exp (z * ln x)))) +\n         exp x * (exp x * (exp (- x) * (exp (- x) * exp (z * ln x))))))", "apply (simp flip: exp_add)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  ((\\<lambda>x.\n       x powr (z + 1) / (exp x - 1) - x powr z / exp x) has_integral\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n   {0<..} =\n  ((\\<lambda>x. \\<bar>- exp (- x)\\<bar> * f (exp (- x))) has_integral\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n   {0<..}\n\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "finally"], ["proof (chain)\npicking this:\n  ((\\<lambda>x. \\<bar>- exp (- x)\\<bar> * f (exp (- x))) has_integral\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n   {0<..}", "have *: \"((\\<lambda>x. \\<bar>-exp (-x)\\<bar> * f (exp (-x))) has_integral ?I) {0<..}\""], ["proof (prove)\nusing this:\n  ((\\<lambda>x. \\<bar>- exp (- x)\\<bar> * f (exp (- x))) has_integral\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n   {0<..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. \\<bar>- exp (- x)\\<bar> * f (exp (- x))) has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..}", "."], ["proof (state)\nthis:\n  ((\\<lambda>x. \\<bar>- exp (- x)\\<bar> * f (exp (- x))) has_integral\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n   {0<..}\n\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "have \"((\\<lambda>x. \\<bar>-exp (-x)\\<bar> *\\<^sub>R f (exp (-x))) absolutely_integrable_on {0<..}) \\<and>\n                  integral {0<..} (\\<lambda>x. \\<bar>-exp (-x)\\<bar> *\\<^sub>R f (exp (-x))) = ?I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        \\<bar>- exp (- x)\\<bar> *\\<^sub>R\n        f (exp (- x))) absolutely_integrable_on\n    {0<..} \\<and>\n    integral {0<..}\n     (\\<lambda>x. \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) =\n    Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))", "proof (intro conjI nonnegative_absolutely_integrable_1)"], ["proof (state)\ngoal (3 subgoals):\n 1. (\\<lambda>x.\n        \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) integrable_on\n    {0<..}\n 2. \\<And>x.\n       x \\<in> {0<..} \\<Longrightarrow>\n       0 \\<le> \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))\n 3. integral {0<..}\n     (\\<lambda>x. \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) =\n    Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))", "fix x :: real"], ["proof (state)\ngoal (3 subgoals):\n 1. (\\<lambda>x.\n        \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) integrable_on\n    {0<..}\n 2. \\<And>x.\n       x \\<in> {0<..} \\<Longrightarrow>\n       0 \\<le> \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))\n 3. integral {0<..}\n     (\\<lambda>x. \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) =\n    Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))", "assume x: \"x \\<in> {0<..}\""], ["proof (state)\nthis:\n  x \\<in> {0<..}\n\ngoal (3 subgoals):\n 1. (\\<lambda>x.\n        \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) integrable_on\n    {0<..}\n 2. \\<And>x.\n       x \\<in> {0<..} \\<Longrightarrow>\n       0 \\<le> \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))\n 3. integral {0<..}\n     (\\<lambda>x. \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) =\n    Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))", "thus \"\\<bar>-exp (-x)\\<bar> *\\<^sub>R f (exp (-x)) \\<ge> 0\""], ["proof (prove)\nusing this:\n  x \\<in> {0<..}\n\ngoal (1 subgoal):\n 1. 0 \\<le> \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))", "unfolding f_def"], ["proof (prove)\nusing this:\n  x \\<in> {0<..}\n\ngoal (1 subgoal):\n 1. 0 \\<le> \\<bar>- exp (- x)\\<bar> *\\<^sub>R\n            ((- ln (exp (- x))) powr z / (1 - exp (- x)) *\n             (- ln (exp (- x)) + exp (- x) - 1))", "using nonneg"], ["proof (prove)\nusing this:\n  x \\<in> {0<..}\n  0 \\<le> ?x \\<Longrightarrow> 1 \\<le> ?x + exp (- ?x)\n\ngoal (1 subgoal):\n 1. 0 \\<le> \\<bar>- exp (- x)\\<bar> *\\<^sub>R\n            ((- ln (exp (- x))) powr z / (1 - exp (- x)) *\n             (- ln (exp (- x)) + exp (- x) - 1))", "by (intro scaleR_nonneg_nonneg mult_nonneg_nonneg divide_nonneg_nonneg) auto"], ["proof (state)\nthis:\n  0 \\<le> \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))\n\ngoal (2 subgoals):\n 1. (\\<lambda>x.\n        \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) integrable_on\n    {0<..}\n 2. integral {0<..}\n     (\\<lambda>x. \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) =\n    Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))", "qed (use * in \\<open>simp_all add: has_integral_iff\\<close>)"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      \\<bar>- exp (- x)\\<bar> *\\<^sub>R\n      f (exp (- x))) absolutely_integrable_on\n  {0<..} \\<and>\n  integral {0<..}\n   (\\<lambda>x. \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) =\n  Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))\n\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "also"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      \\<bar>- exp (- x)\\<bar> *\\<^sub>R\n      f (exp (- x))) absolutely_integrable_on\n  {0<..} \\<and>\n  integral {0<..}\n   (\\<lambda>x. \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) =\n  Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))\n\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "have \"?this \\<longleftrightarrow> f absolutely_integrable_on (\\<lambda>x. exp (- x)) ` {0<..} \\<and>\n                       integral ((\\<lambda>x. exp (- x)) ` {0<..}) f = ?I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         \\<bar>- exp (- x)\\<bar> *\\<^sub>R\n         f (exp (- x))) absolutely_integrable_on\n     {0<..} \\<and>\n     integral {0<..}\n      (\\<lambda>x. \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) =\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))) =\n    (f absolutely_integrable_on (\\<lambda>x. exp (- x)) ` {0<..} \\<and>\n     integral ((\\<lambda>x. exp (- x)) ` {0<..}) f =\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))", "by (intro has_absolute_integral_change_of_variables_1')\n       (auto intro!: derivative_eq_intros inj_onI)"], ["proof (state)\nthis:\n  ((\\<lambda>x.\n       \\<bar>- exp (- x)\\<bar> *\\<^sub>R\n       f (exp (- x))) absolutely_integrable_on\n   {0<..} \\<and>\n   integral {0<..}\n    (\\<lambda>x. \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) =\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))) =\n  (f absolutely_integrable_on (\\<lambda>x. exp (- x)) ` {0<..} \\<and>\n   integral ((\\<lambda>x. exp (- x)) ` {0<..}) f =\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "also"], ["proof (state)\nthis:\n  ((\\<lambda>x.\n       \\<bar>- exp (- x)\\<bar> *\\<^sub>R\n       f (exp (- x))) absolutely_integrable_on\n   {0<..} \\<and>\n   integral {0<..}\n    (\\<lambda>x. \\<bar>- exp (- x)\\<bar> *\\<^sub>R f (exp (- x))) =\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))) =\n  (f absolutely_integrable_on (\\<lambda>x. exp (- x)) ` {0<..} \\<and>\n   integral ((\\<lambda>x. exp (- x)) ` {0<..}) f =\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "have \"(\\<lambda>x::real. exp (- x)) ` {0<..} = {0<..<1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. exp (- x)) ` {0<..} = {0<..<1}", "by (fact eq)"], ["proof (state)\nthis:\n  (\\<lambda>x. exp (- x)) ` {0<..} = {0<..<1}\n\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "finally"], ["proof (chain)\npicking this:\n  f absolutely_integrable_on {0<..<1} \\<and>\n  integral {0<..<1} f =\n  Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))", "show \"(f has_integral ?I) {0<..<1}\""], ["proof (prove)\nusing this:\n  f absolutely_integrable_on {0<..<1} \\<and>\n  integral {0<..<1} f =\n  Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1))\n\ngoal (1 subgoal):\n 1. (f has_integral\n     Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n     {0<..<1}", "by (auto simp: has_integral_iff dest: set_lebesgue_integral_eq_integral)"], ["proof (state)\nthis:\n  (f has_integral\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n   {0<..<1}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma real_zeta_ge_one_over_minus_one:\n  fixes z :: real\n  assumes z: \"z > 1\"\n  shows \"Re (zeta (complex_of_real z)) \\<ge> 1 / (z - 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / (z - 1) \\<le> Re (zeta (complex_of_real z))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 / (z - 1) \\<le> Re (zeta (complex_of_real z))", "have ineq: \"1 \\<le> x - ln x\" if \"x \\<in> {0<..<1}\" for x :: real"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> x - ln x", "using ln_le_minus_one[of x] that"], ["proof (prove)\nusing this:\n  0 < x \\<Longrightarrow> ln x \\<le> x - 1\n  x \\<in> {0<..<1}\n\ngoal (1 subgoal):\n 1. 1 \\<le> x - ln x", "by simp"], ["proof (state)\nthis:\n  ?x \\<in> {0<..<1} \\<Longrightarrow> 1 \\<le> ?x - ln ?x\n\ngoal (1 subgoal):\n 1. 1 / (z - 1) \\<le> Re (zeta (complex_of_real z))", "have *: \"((\\<lambda>u. (- ln u) powr (z - 2) * (u - ln u - 1) / (1 - u)) has_integral\n           Gamma z * (Re (zeta (complex_of_real z)) - 1 / (z - 1))) {0<..<1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>u.\n         (- ln u) powr (z - 2) * (u - ln u - 1) / (1 - u)) has_integral\n     Gamma z * (Re (zeta (complex_of_real z)) - 1 / (z - 1)))\n     {0<..<1}", "using Hadjicostas_Chapman_aux[of \"z - 2\"] z"], ["proof (prove)\nusing this:\n  - 1 < z - 2 \\<Longrightarrow>\n  ((\\<lambda>u.\n       (- ln u) powr (z - 2) / (1 - u) * (- ln u + u - 1)) has_integral\n   Gamma (z - 2 + 2) *\n   (Re (zeta (complex_of_real (z - 2 + 2))) - 1 / (z - 2 + 1)))\n   {0<..<1}\n  1 < z\n\ngoal (1 subgoal):\n 1. ((\\<lambda>u.\n         (- ln u) powr (z - 2) * (u - ln u - 1) / (1 - u)) has_integral\n     Gamma z * (Re (zeta (complex_of_real z)) - 1 / (z - 1)))\n     {0<..<1}", "by simp"], ["proof (state)\nthis:\n  ((\\<lambda>u.\n       (- ln u) powr (z - 2) * (u - ln u - 1) / (1 - u)) has_integral\n   Gamma z * (Re (zeta (complex_of_real z)) - 1 / (z - 1)))\n   {0<..<1}\n\ngoal (1 subgoal):\n 1. 1 / (z - 1) \\<le> Re (zeta (complex_of_real z))", "from ineq"], ["proof (chain)\npicking this:\n  ?x \\<in> {0<..<1} \\<Longrightarrow> 1 \\<le> ?x - ln ?x", "have \"Gamma z * (Re (zeta (complex_of_real z)) - 1 / (z - 1)) \\<ge> 0\""], ["proof (prove)\nusing this:\n  ?x \\<in> {0<..<1} \\<Longrightarrow> 1 \\<le> ?x - ln ?x\n\ngoal (1 subgoal):\n 1. 0 \\<le> Gamma z * (Re (zeta (complex_of_real z)) - 1 / (z - 1))", "by (intro has_integral_nonneg[OF *] z mult_nonneg_nonneg divide_nonneg_nonneg) auto"], ["proof (state)\nthis:\n  0 \\<le> Gamma z * (Re (zeta (complex_of_real z)) - 1 / (z - 1))\n\ngoal (1 subgoal):\n 1. 1 / (z - 1) \\<le> Re (zeta (complex_of_real z))", "moreover"], ["proof (state)\nthis:\n  0 \\<le> Gamma z * (Re (zeta (complex_of_real z)) - 1 / (z - 1))\n\ngoal (1 subgoal):\n 1. 1 / (z - 1) \\<le> Re (zeta (complex_of_real z))", "have \"Gamma z > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < Gamma z", "using assms"], ["proof (prove)\nusing this:\n  1 < z\n\ngoal (1 subgoal):\n 1. 0 < Gamma z", "by (intro Gamma_real_pos) auto"], ["proof (state)\nthis:\n  0 < Gamma z\n\ngoal (1 subgoal):\n 1. 1 / (z - 1) \\<le> Re (zeta (complex_of_real z))", "ultimately"], ["proof (chain)\npicking this:\n  0 \\<le> Gamma z * (Re (zeta (complex_of_real z)) - 1 / (z - 1))\n  0 < Gamma z", "show \"Re (zeta (complex_of_real z)) \\<ge> 1 / (z - 1)\""], ["proof (prove)\nusing this:\n  0 \\<le> Gamma z * (Re (zeta (complex_of_real z)) - 1 / (z - 1))\n  0 < Gamma z\n\ngoal (1 subgoal):\n 1. 1 / (z - 1) \\<le> Re (zeta (complex_of_real z))", "by (subst (asm) zero_le_mult_iff) auto"], ["proof (state)\nthis:\n  1 / (z - 1) \\<le> Re (zeta (complex_of_real z))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\n  We now have the formula for real \\<open>z > -1\\<close>.\n\\<close>"], ["", "lemma Hadjicostas_Chapman_formula_real:\n  fixes z :: real\n  assumes z: \"z > -1\"\n  shows   \"Hadjicostas_nn_integral z =\n             ennreal (Gamma (z + 2) * (Re (zeta (z + 2)) - 1 / (z + 1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    ennreal\n     (Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    ennreal\n     (Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))", "have nonneg: \"1 \\<le> x - ln x\" if \"x > 0\" \"x < 1\" for x :: real"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> x - ln x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 \\<le> x - ln x", "have \"ln x + (1 + ln x) \\<le> ln x + exp (ln x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ln x + (1 + ln x) \\<le> ln x + exp (ln x)", "by (intro add_left_mono exp_ge_add_one_self)"], ["proof (state)\nthis:\n  ln x + (1 + ln x) \\<le> ln x + exp (ln x)\n\ngoal (1 subgoal):\n 1. 1 \\<le> x - ln x", "thus ?thesis"], ["proof (prove)\nusing this:\n  ln x + (1 + ln x) \\<le> ln x + exp (ln x)\n\ngoal (1 subgoal):\n 1. 1 \\<le> x - ln x", "using that"], ["proof (prove)\nusing this:\n  ln x + (1 + ln x) \\<le> ln x + exp (ln x)\n  0 < x\n  x < 1\n\ngoal (1 subgoal):\n 1. 1 \\<le> x - ln x", "by (simp add: exp_minus)"], ["proof (state)\nthis:\n  1 \\<le> x - ln x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?x; ?x < 1\\<rbrakk> \\<Longrightarrow> 1 \\<le> ?x - ln ?x\n\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    ennreal\n     (Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. Hadjicostas_nn_integral z =\n    ennreal\n     (Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))", "unfolding Hadjicostas_nn_integral_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       ennreal\n                        ((- ln x) powr z / (1 - x) * (- ln x + x - 1))\n    \\<partial>lborel =\n    ennreal\n     (Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))", "using nonneg Hadjicostas_Chapman_aux[OF z]"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?x; ?x < 1\\<rbrakk> \\<Longrightarrow> 1 \\<le> ?x - ln ?x\n  ((\\<lambda>u. (- ln u) powr z / (1 - u) * (- ln u + u - 1)) has_integral\n   Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n   {0<..<1}\n\ngoal (1 subgoal):\n 1. \\<integral>\\<^sup>+x\\<in>{0<..<1}.\n                       ennreal\n                        ((- ln x) powr z / (1 - x) * (- ln x + x - 1))\n    \\<partial>lborel =\n    ennreal\n     (Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))", "by (intro nn_integral_has_integral_lebesgue' mult_nonneg_nonneg divide_nonneg_nonneg) auto"], ["proof (state)\nthis:\n  Hadjicostas_nn_integral z =\n  ennreal\n   (Gamma (z + 2) * (Re (zeta (complex_of_real (z + 2))) - 1 / (z + 1)))\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Analyticity of the integral\\<close>"], ["", "text \\<open>\n  To extend the formula to its full domain of validity (any complex \\<open>z\\<close> with\n  $\\mathfrak{R}(z)>-2$), we will use analytic continuation. To do this, we first\n  have to show that the integral is an analytic function of \\<open>z\\<close> on that domain.\n  This is unfortunately somewhat involved, since the integral is an improper one\n  and we first need to show uniform convergence so that we can pull the derivative\n  inside the integral sign.\n\n  We will use the single-integral form so that we only have to deal with one integral\n  and not two.\n\\<close>"], ["", "context\n  fixes f :: \"complex \\<Rightarrow> real \\<Rightarrow> complex\"\n  defines \"f \\<equiv> (\\<lambda>z u. of_real (-ln u) powr z / of_real (1 - u) * of_real (-ln u + u - 1))\"\nbegin"], ["", "context\n  fixes x y :: real and g1 g2 :: \"real \\<Rightarrow> real\"\n  assumes \"x > -2\"\n  defines \"g1 \\<equiv> (\\<lambda>x. (- ln x) powr y * (x - ln x - 1) / (1 - x))\"\n  defines \"g2 \\<equiv> (\\<lambda>u. (-ln u) powr x * (u - ln u - 1) / (1 - u))\"\nbegin"], ["", "lemma integrable_bound1:\n  \"interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) g1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) g1", "unfolding zero_ereal_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. interval_lebesgue_integrable lborel (ereal 0) (ereal (exp (- 1))) g1", "proof (rule interval_lebesgue_integrable_bigo_left)"], ["proof (state)\ngoal (5 subgoals):\n 1. g1 \\<in> O[at_right 0](?g)\n 2. continuous_on {0<..exp (- 1)} g1\n 3. set_borel_measurable borel {0<..<exp (- 1)} g1\n 4. interval_lebesgue_integrable lborel (ereal 0) (ereal (exp (- 1))) ?g\n 5. 0 < exp (- 1)", "show \"g1 \\<in> O[at_right 0](\\<lambda>u. u powr (-1/2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g1 \\<in> O[at_right 0](\\<lambda>u. u powr (- 1 / 2))", "unfolding g1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. (- ln x) powr y * (x - ln x - 1) / (1 - x))\n    \\<in> O[at_right 0](\\<lambda>u. u powr (- 1 / 2))", "by real_asymp"], ["proof (state)\nthis:\n  g1 \\<in> O[at_right 0](\\<lambda>u. u powr (- 1 / 2))\n\ngoal (4 subgoals):\n 1. continuous_on {0<..exp (- 1)} g1\n 2. set_borel_measurable borel {0<..<exp (- 1)} g1\n 3. interval_lebesgue_integrable lborel (ereal 0) (ereal (exp (- 1)))\n     (\\<lambda>u. u powr (- 1 / 2))\n 4. 0 < exp (- 1)", "show \"continuous_on {0<..exp(-1)} g1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {0<..exp (- 1)} g1", "unfolding g1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {0<..exp (- 1)}\n     (\\<lambda>x. (- ln x) powr y * (x - ln x - 1) / (1 - x))", "by (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  continuous_on {0<..exp (- 1)} g1\n\ngoal (3 subgoals):\n 1. set_borel_measurable borel {0<..<exp (- 1)} g1\n 2. interval_lebesgue_integrable lborel (ereal 0) (ereal (exp (- 1)))\n     (\\<lambda>u. u powr (- 1 / 2))\n 3. 0 < exp (- 1)", "have \"set_integrable lborel (einterval 0 (exp (-1))) (\\<lambda>u. u powr (-1/2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set_integrable lborel (einterval 0 (ereal (exp (- 1))))\n     (\\<lambda>u. u powr (- 1 / 2))", "proof (rule interval_integral_FTC_nonneg)"], ["proof (state)\ngoal (6 subgoals):\n 1. 0 < ereal (exp (- 1))\n 2. \\<And>x.\n       \\<lbrakk>0 < ereal x; ereal x < ereal (exp (- 1))\\<rbrakk>\n       \\<Longrightarrow> (?F has_real_derivative x powr (- 1 / 2)) (at x)\n 3. \\<And>x.\n       \\<lbrakk>0 < ereal x; ereal x < ereal (exp (- 1))\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>u. u powr (- 1 / 2)) x\n 4. AE x in lborel. 0 < ereal x \\<longrightarrow>\n                    ereal x < ereal (exp (- 1)) \\<longrightarrow>\n                    0 \\<le> x powr (- 1 / 2)\n 5. ((?F \\<circ> real_of_ereal) \\<longlongrightarrow> ?A) (at_right 0)\n 6. ((?F \\<circ> real_of_ereal) \\<longlongrightarrow> ?B)\n     (at_left (ereal (exp (- 1))))", "fix u :: real"], ["proof (state)\ngoal (6 subgoals):\n 1. 0 < ereal (exp (- 1))\n 2. \\<And>x.\n       \\<lbrakk>0 < ereal x; ereal x < ereal (exp (- 1))\\<rbrakk>\n       \\<Longrightarrow> (?F has_real_derivative x powr (- 1 / 2)) (at x)\n 3. \\<And>x.\n       \\<lbrakk>0 < ereal x; ereal x < ereal (exp (- 1))\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>u. u powr (- 1 / 2)) x\n 4. AE x in lborel. 0 < ereal x \\<longrightarrow>\n                    ereal x < ereal (exp (- 1)) \\<longrightarrow>\n                    0 \\<le> x powr (- 1 / 2)\n 5. ((?F \\<circ> real_of_ereal) \\<longlongrightarrow> ?A) (at_right 0)\n 6. ((?F \\<circ> real_of_ereal) \\<longlongrightarrow> ?B)\n     (at_left (ereal (exp (- 1))))", "assume u: \"0 < ereal u\" \"ereal u < ereal (exp (-1))\""], ["proof (state)\nthis:\n  0 < ereal u\n  ereal u < ereal (exp (- 1))\n\ngoal (6 subgoals):\n 1. 0 < ereal (exp (- 1))\n 2. \\<And>x.\n       \\<lbrakk>0 < ereal x; ereal x < ereal (exp (- 1))\\<rbrakk>\n       \\<Longrightarrow> (?F has_real_derivative x powr (- 1 / 2)) (at x)\n 3. \\<And>x.\n       \\<lbrakk>0 < ereal x; ereal x < ereal (exp (- 1))\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>u. u powr (- 1 / 2)) x\n 4. AE x in lborel. 0 < ereal x \\<longrightarrow>\n                    ereal x < ereal (exp (- 1)) \\<longrightarrow>\n                    0 \\<le> x powr (- 1 / 2)\n 5. ((?F \\<circ> real_of_ereal) \\<longlongrightarrow> ?A) (at_right 0)\n 6. ((?F \\<circ> real_of_ereal) \\<longlongrightarrow> ?B)\n     (at_left (ereal (exp (- 1))))", "show \"((\\<lambda>u. 2 * u powr (1/2)) has_field_derivative (u powr (-1/2))) (at u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>u. 2 * u powr (1 / 2)) has_real_derivative u powr (- 1 / 2))\n     (at u)", "using u"], ["proof (prove)\nusing this:\n  0 < ereal u\n  ereal u < ereal (exp (- 1))\n\ngoal (1 subgoal):\n 1. ((\\<lambda>u. 2 * u powr (1 / 2)) has_real_derivative u powr (- 1 / 2))\n     (at u)", "by (auto intro!: derivative_eq_intros simp: power2_eq_square)"], ["proof (state)\nthis:\n  ((\\<lambda>u. 2 * u powr (1 / 2)) has_real_derivative u powr (- 1 / 2))\n   (at u)\n\ngoal (5 subgoals):\n 1. 0 < ereal (exp (- 1))\n 2. \\<And>x.\n       \\<lbrakk>0 < ereal x; ereal x < ereal (exp (- 1))\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>u. u powr (- 1 / 2)) x\n 3. AE x in lborel. 0 < ereal x \\<longrightarrow>\n                    ereal x < ereal (exp (- 1)) \\<longrightarrow>\n                    0 \\<le> x powr (- 1 / 2)\n 4. (((\\<lambda>u. 2 * u powr (1 / 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?A)\n     (at_right 0)\n 5. (((\\<lambda>u. 2 * u powr (1 / 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?B)\n     (at_left (ereal (exp (- 1))))", "show \"isCont (\\<lambda>u. u powr (-1/2)) u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. isCont (\\<lambda>u. u powr (- 1 / 2)) u", "using u"], ["proof (prove)\nusing this:\n  0 < ereal u\n  ereal u < ereal (exp (- 1))\n\ngoal (1 subgoal):\n 1. isCont (\\<lambda>u. u powr (- 1 / 2)) u", "by (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  isCont (\\<lambda>u. u powr (- 1 / 2)) u\n\ngoal (4 subgoals):\n 1. 0 < ereal (exp (- 1))\n 2. AE x in lborel. 0 < ereal x \\<longrightarrow>\n                    ereal x < ereal (exp (- 1)) \\<longrightarrow>\n                    0 \\<le> x powr (- 1 / 2)\n 3. (((\\<lambda>u. 2 * u powr (1 / 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?A)\n     (at_right 0)\n 4. (((\\<lambda>u. 2 * u powr (1 / 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?B)\n     (at_left (ereal (exp (- 1))))", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. 0 < ereal (exp (- 1))\n 2. AE x in lborel. 0 < ereal x \\<longrightarrow>\n                    ereal x < ereal (exp (- 1)) \\<longrightarrow>\n                    0 \\<le> x powr (- 1 / 2)\n 3. (((\\<lambda>u. 2 * u powr (1 / 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?A)\n     (at_right 0)\n 4. (((\\<lambda>u. 2 * u powr (1 / 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?B)\n     (at_left (ereal (exp (- 1))))", "show \"(((\\<lambda>u. 2 * u powr (1/2)) \\<circ> real_of_ereal) \\<longlongrightarrow> 2 * exp (-1) powr (1/2))\n            (at_left (ereal (exp (- 1))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<lambda>u. 2 * u powr (1 / 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     2 * exp (- 1) powr (1 / 2))\n     (at_left (ereal (exp (- 1))))", "unfolding ereal_tendsto_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>u. 2 * u powr (1 / 2)) \\<longlongrightarrow>\n     2 * exp (- 1) powr (1 / 2))\n     (at_left (exp (- 1)))", "by real_asymp"], ["proof (state)\nthis:\n  (((\\<lambda>u. 2 * u powr (1 / 2)) \\<circ>\n    real_of_ereal) \\<longlongrightarrow>\n   2 * exp (- 1) powr (1 / 2))\n   (at_left (ereal (exp (- 1))))\n\ngoal (3 subgoals):\n 1. 0 < ereal (exp (- 1))\n 2. AE x in lborel. 0 < ereal x \\<longrightarrow>\n                    ereal x < ereal (exp (- 1)) \\<longrightarrow>\n                    0 \\<le> x powr (- 1 / 2)\n 3. (((\\<lambda>u. 2 * u powr (1 / 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?A)\n     (at_right 0)", "show \"(((\\<lambda>u. 2 * u powr (1/2)) \\<circ> real_of_ereal) \\<longlongrightarrow> 0) (at_right 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<lambda>u. 2 * u powr (1 / 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     0)\n     (at_right 0)", "unfolding zero_ereal_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<lambda>u. 2 * u powr (1 / 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     0)\n     (at_right (ereal 0))", "unfolding ereal_tendsto_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>u. 2 * u powr (1 / 2)) \\<longlongrightarrow> 0) (at_right 0)", "by real_asymp"], ["proof (state)\nthis:\n  (((\\<lambda>u. 2 * u powr (1 / 2)) \\<circ>\n    real_of_ereal) \\<longlongrightarrow>\n   0)\n   (at_right 0)\n\ngoal (2 subgoals):\n 1. 0 < ereal (exp (- 1))\n 2. AE x in lborel. 0 < ereal x \\<longrightarrow>\n                    ereal x < ereal (exp (- 1)) \\<longrightarrow>\n                    0 \\<le> x powr (- 1 / 2)", "qed auto"], ["proof (state)\nthis:\n  set_integrable lborel (einterval 0 (ereal (exp (- 1))))\n   (\\<lambda>u. u powr (- 1 / 2))\n\ngoal (3 subgoals):\n 1. set_borel_measurable borel {0<..<exp (- 1)} g1\n 2. interval_lebesgue_integrable lborel (ereal 0) (ereal (exp (- 1)))\n     (\\<lambda>u. u powr (- 1 / 2))\n 3. 0 < exp (- 1)", "thus \"interval_lebesgue_integrable lborel (ereal 0) (ereal (exp (- 1)))\n          (\\<lambda>u. u powr (-1/2))\""], ["proof (prove)\nusing this:\n  set_integrable lborel (einterval 0 (ereal (exp (- 1))))\n   (\\<lambda>u. u powr (- 1 / 2))\n\ngoal (1 subgoal):\n 1. interval_lebesgue_integrable lborel (ereal 0) (ereal (exp (- 1)))\n     (\\<lambda>u. u powr (- 1 / 2))", "by (simp add: interval_lebesgue_integrable_def zero_ereal_def)"], ["proof (state)\nthis:\n  interval_lebesgue_integrable lborel (ereal 0) (ereal (exp (- 1)))\n   (\\<lambda>u. u powr (- 1 / 2))\n\ngoal (2 subgoals):\n 1. set_borel_measurable borel {0<..<exp (- 1)} g1\n 2. 0 < exp (- 1)", "qed (auto simp add: g1_def set_borel_measurable_def)"], ["", "lemma integrable_bound2:\n  \"interval_lebesgue_integrable lborel (exp (-1)) 1 g2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. interval_lebesgue_integrable lborel (ereal (exp (- 1))) 1 g2", "unfolding one_ereal_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. interval_lebesgue_integrable lborel (ereal (exp (- 1))) (ereal 1) g2", "proof (rule interval_lebesgue_integrable_bigo_right)"], ["proof (state)\ngoal (5 subgoals):\n 1. g2 \\<in> O[at_left 1](?g)\n 2. continuous_on {exp (- 1)..<1} g2\n 3. set_borel_measurable borel {exp (- 1)<..<1} g2\n 4. interval_lebesgue_integrable lborel (ereal (exp (- 1))) (ereal 1) ?g\n 5. exp (- 1) < 1", "show \"g2 \\<in> O[at_left 1](\\<lambda>u. (1 - u) powr (x + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g2 \\<in> O[at_left 1](\\<lambda>u. (1 - u) powr (x + 1))", "unfolding g2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>u. (- ln u) powr x * (u - ln u - 1) / (1 - u))\n    \\<in> O[at_left 1](\\<lambda>u. (1 - u) powr (x + 1))", "by real_asymp"], ["proof (state)\nthis:\n  g2 \\<in> O[at_left 1](\\<lambda>u. (1 - u) powr (x + 1))\n\ngoal (4 subgoals):\n 1. continuous_on {exp (- 1)..<1} g2\n 2. set_borel_measurable borel {exp (- 1)<..<1} g2\n 3. interval_lebesgue_integrable lborel (ereal (exp (- 1))) (ereal 1)\n     (\\<lambda>u. (1 - u) powr (x + 1))\n 4. exp (- 1) < 1", "have \"ln x \\<noteq> 0\" if \"x \\<in> {exp (-1)..<1}\" for x :: real"], ["proof (prove)\ngoal (1 subgoal):\n 1. ln x \\<noteq> 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ln x \\<noteq> 0", "have \"0 < exp (-1 :: real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < exp (- 1)", "by simp"], ["proof (state)\nthis:\n  0 < exp (- 1)\n\ngoal (1 subgoal):\n 1. ln x \\<noteq> 0", "also"], ["proof (state)\nthis:\n  0 < exp (- 1)\n\ngoal (1 subgoal):\n 1. ln x \\<noteq> 0", "have \"\\<dots> \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (- 1) \\<le> x", "using that"], ["proof (prove)\nusing this:\n  x \\<in> {exp (- 1)..<1}\n\ngoal (1 subgoal):\n 1. exp (- 1) \\<le> x", "by auto"], ["proof (state)\nthis:\n  exp (- 1) \\<le> x\n\ngoal (1 subgoal):\n 1. ln x \\<noteq> 0", "finally"], ["proof (chain)\npicking this:\n  0 < x", "have \"x > 0\""], ["proof (prove)\nusing this:\n  0 < x\n\ngoal (1 subgoal):\n 1. 0 < x", "."], ["proof (state)\nthis:\n  0 < x\n\ngoal (1 subgoal):\n 1. ln x \\<noteq> 0", "from that \\<open>x > 0\\<close>"], ["proof (chain)\npicking this:\n  x \\<in> {exp (- 1)..<1}\n  0 < x", "have \"ln x < ln 1\""], ["proof (prove)\nusing this:\n  x \\<in> {exp (- 1)..<1}\n  0 < x\n\ngoal (1 subgoal):\n 1. ln x < ln 1", "by (subst ln_less_cancel_iff) auto"], ["proof (state)\nthis:\n  ln x < ln 1\n\ngoal (1 subgoal):\n 1. ln x \\<noteq> 0", "thus \"ln x \\<noteq> 0\""], ["proof (prove)\nusing this:\n  ln x < ln 1\n\ngoal (1 subgoal):\n 1. ln x \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  ln x \\<noteq> 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?x \\<in> {exp (- 1)..<1} \\<Longrightarrow> ln ?x \\<noteq> 0\n\ngoal (4 subgoals):\n 1. continuous_on {exp (- 1)..<1} g2\n 2. set_borel_measurable borel {exp (- 1)<..<1} g2\n 3. interval_lebesgue_integrable lborel (ereal (exp (- 1))) (ereal 1)\n     (\\<lambda>u. (1 - u) powr (x + 1))\n 4. exp (- 1) < 1", "thus \"continuous_on {exp (- 1)..<1} g2\""], ["proof (prove)\nusing this:\n  ?x \\<in> {exp (- 1)..<1} \\<Longrightarrow> ln ?x \\<noteq> 0\n\ngoal (1 subgoal):\n 1. continuous_on {exp (- 1)..<1} g2", "unfolding g2_def"], ["proof (prove)\nusing this:\n  ?x \\<in> {exp (- 1)..<1} \\<Longrightarrow> ln ?x \\<noteq> 0\n\ngoal (1 subgoal):\n 1. continuous_on {exp (- 1)..<1}\n     (\\<lambda>u. (- ln u) powr x * (u - ln u - 1) / (1 - u))", "by (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  continuous_on {exp (- 1)..<1} g2\n\ngoal (3 subgoals):\n 1. set_borel_measurable borel {exp (- 1)<..<1} g2\n 2. interval_lebesgue_integrable lborel (ereal (exp (- 1))) (ereal 1)\n     (\\<lambda>u. (1 - u) powr (x + 1))\n 3. exp (- 1) < 1", "let ?F = \"(\\<lambda>u. -1 / (x + 2) * (1 - u) powr (x + 2))\""], ["proof (state)\ngoal (3 subgoals):\n 1. set_borel_measurable borel {exp (- 1)<..<1} g2\n 2. interval_lebesgue_integrable lborel (ereal (exp (- 1))) (ereal 1)\n     (\\<lambda>u. (1 - u) powr (x + 1))\n 3. exp (- 1) < 1", "have \"set_integrable lborel (einterval (exp (-1)) 1) (\\<lambda>u. (1 - u) powr (x + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set_integrable lborel (einterval (ereal (exp (- 1))) 1)\n     (\\<lambda>u. (1 - u) powr (x + 1))", "proof (rule interval_integral_FTC_nonneg[where F = ?F])"], ["proof (state)\ngoal (6 subgoals):\n 1. ereal (exp (- 1)) < 1\n 2. \\<And>xa.\n       \\<lbrakk>ereal (exp (- 1)) < ereal xa; ereal xa < 1\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              - 1 / (x + 2) *\n                              (1 - u) powr (x + 2)) has_real_derivative\n                          (1 - xa) powr (x + 1))\n                          (at xa)\n 3. \\<And>xa.\n       \\<lbrakk>ereal (exp (- 1)) < ereal xa; ereal xa < 1\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>u. (1 - u) powr (x + 1)) xa\n 4. AE xa in lborel. ereal (exp (- 1)) < ereal xa \\<longrightarrow>\n                     ereal xa < 1 \\<longrightarrow>\n                     0 \\<le> (1 - xa) powr (x + 1)\n 5. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?A)\n     (at_right (ereal (exp (- 1))))\n 6. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?B)\n     (at_left 1)", "fix u :: real"], ["proof (state)\ngoal (6 subgoals):\n 1. ereal (exp (- 1)) < 1\n 2. \\<And>xa.\n       \\<lbrakk>ereal (exp (- 1)) < ereal xa; ereal xa < 1\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              - 1 / (x + 2) *\n                              (1 - u) powr (x + 2)) has_real_derivative\n                          (1 - xa) powr (x + 1))\n                          (at xa)\n 3. \\<And>xa.\n       \\<lbrakk>ereal (exp (- 1)) < ereal xa; ereal xa < 1\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>u. (1 - u) powr (x + 1)) xa\n 4. AE xa in lborel. ereal (exp (- 1)) < ereal xa \\<longrightarrow>\n                     ereal xa < 1 \\<longrightarrow>\n                     0 \\<le> (1 - xa) powr (x + 1)\n 5. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?A)\n     (at_right (ereal (exp (- 1))))\n 6. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?B)\n     (at_left 1)", "assume u: \"ereal (exp (-1)) < ereal u\" \"ereal u < 1\""], ["proof (state)\nthis:\n  ereal (exp (- 1)) < ereal u\n  ereal u < 1\n\ngoal (6 subgoals):\n 1. ereal (exp (- 1)) < 1\n 2. \\<And>xa.\n       \\<lbrakk>ereal (exp (- 1)) < ereal xa; ereal xa < 1\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>u.\n                              - 1 / (x + 2) *\n                              (1 - u) powr (x + 2)) has_real_derivative\n                          (1 - xa) powr (x + 1))\n                          (at xa)\n 3. \\<And>xa.\n       \\<lbrakk>ereal (exp (- 1)) < ereal xa; ereal xa < 1\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>u. (1 - u) powr (x + 1)) xa\n 4. AE xa in lborel. ereal (exp (- 1)) < ereal xa \\<longrightarrow>\n                     ereal xa < 1 \\<longrightarrow>\n                     0 \\<le> (1 - xa) powr (x + 1)\n 5. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?A)\n     (at_right (ereal (exp (- 1))))\n 6. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?B)\n     (at_left 1)", "show \"(?F has_field_derivative (1 - u) powr (x + 1)) (at u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) has_real_derivative\n     (1 - u) powr (x + 1))\n     (at u)", "using u \\<open>x > -2\\<close>"], ["proof (prove)\nusing this:\n  ereal (exp (- 1)) < ereal u\n  ereal u < 1\n  - 2 < x\n\ngoal (1 subgoal):\n 1. ((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) has_real_derivative\n     (1 - u) powr (x + 1))\n     (at u)", "by (auto intro!: derivative_eq_intros simp: one_ereal_def add_ac)"], ["proof (state)\nthis:\n  ((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) has_real_derivative\n   (1 - u) powr (x + 1))\n   (at u)\n\ngoal (5 subgoals):\n 1. ereal (exp (- 1)) < 1\n 2. \\<And>xa.\n       \\<lbrakk>ereal (exp (- 1)) < ereal xa; ereal xa < 1\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>u. (1 - u) powr (x + 1)) xa\n 3. AE xa in lborel. ereal (exp (- 1)) < ereal xa \\<longrightarrow>\n                     ereal xa < 1 \\<longrightarrow>\n                     0 \\<le> (1 - xa) powr (x + 1)\n 4. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?A)\n     (at_right (ereal (exp (- 1))))\n 5. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?B)\n     (at_left 1)", "show \"isCont (\\<lambda>u. (1 - u) powr (x + 1)) u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. isCont (\\<lambda>u. (1 - u) powr (x + 1)) u", "using u"], ["proof (prove)\nusing this:\n  ereal (exp (- 1)) < ereal u\n  ereal u < 1\n\ngoal (1 subgoal):\n 1. isCont (\\<lambda>u. (1 - u) powr (x + 1)) u", "by (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  isCont (\\<lambda>u. (1 - u) powr (x + 1)) u\n\ngoal (4 subgoals):\n 1. ereal (exp (- 1)) < 1\n 2. AE xa in lborel. ereal (exp (- 1)) < ereal xa \\<longrightarrow>\n                     ereal xa < 1 \\<longrightarrow>\n                     0 \\<le> (1 - xa) powr (x + 1)\n 3. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?A)\n     (at_right (ereal (exp (- 1))))\n 4. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?B)\n     (at_left 1)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. ereal (exp (- 1)) < 1\n 2. AE xa in lborel. ereal (exp (- 1)) < ereal xa \\<longrightarrow>\n                     ereal xa < 1 \\<longrightarrow>\n                     0 \\<le> (1 - xa) powr (x + 1)\n 3. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?A)\n     (at_right (ereal (exp (- 1))))\n 4. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?B)\n     (at_left 1)", "show \"(((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ> real_of_ereal) \\<longlongrightarrow>\n            - 1 / (x + 2) * (1 - exp (-1)) powr (x + 2)) (at_right (ereal (exp (- 1))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     - 1 / (x + 2) * (1 - exp (- 1)) powr (x + 2))\n     (at_right (ereal (exp (- 1))))", "unfolding ereal_tendsto_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>u.\n         - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<longlongrightarrow>\n     - 1 / (x + 2) * (1 - exp (- 1)) powr (x + 2))\n     (at_right (exp (- 1)))", "by real_asymp"], ["proof (state)\nthis:\n  (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n    real_of_ereal) \\<longlongrightarrow>\n   - 1 / (x + 2) * (1 - exp (- 1)) powr (x + 2))\n   (at_right (ereal (exp (- 1))))\n\ngoal (3 subgoals):\n 1. ereal (exp (- 1)) < 1\n 2. AE xa in lborel. ereal (exp (- 1)) < ereal xa \\<longrightarrow>\n                     ereal xa < 1 \\<longrightarrow>\n                     0 \\<le> (1 - xa) powr (x + 1)\n 3. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     ?B)\n     (at_left 1)", "show \"(((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ> real_of_ereal) \\<longlongrightarrow> 0) (at_left 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     0)\n     (at_left 1)", "unfolding one_ereal_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n      real_of_ereal) \\<longlongrightarrow>\n     0)\n     (at_left (ereal 1))", "unfolding ereal_tendsto_simps"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>u.\n         - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<longlongrightarrow>\n     0)\n     (at_left 1)", "using \\<open>x > -2\\<close>"], ["proof (prove)\nusing this:\n  - 2 < x\n\ngoal (1 subgoal):\n 1. ((\\<lambda>u.\n         - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<longlongrightarrow>\n     0)\n     (at_left 1)", "by real_asymp"], ["proof (state)\nthis:\n  (((\\<lambda>u. - 1 / (x + 2) * (1 - u) powr (x + 2)) \\<circ>\n    real_of_ereal) \\<longlongrightarrow>\n   0)\n   (at_left 1)\n\ngoal (2 subgoals):\n 1. ereal (exp (- 1)) < 1\n 2. AE xa in lborel. ereal (exp (- 1)) < ereal xa \\<longrightarrow>\n                     ereal xa < 1 \\<longrightarrow>\n                     0 \\<le> (1 - xa) powr (x + 1)", "qed auto"], ["proof (state)\nthis:\n  set_integrable lborel (einterval (ereal (exp (- 1))) 1)\n   (\\<lambda>u. (1 - u) powr (x + 1))\n\ngoal (3 subgoals):\n 1. set_borel_measurable borel {exp (- 1)<..<1} g2\n 2. interval_lebesgue_integrable lborel (ereal (exp (- 1))) (ereal 1)\n     (\\<lambda>u. (1 - u) powr (x + 1))\n 3. exp (- 1) < 1", "thus \"interval_lebesgue_integrable lborel (ereal (exp (- 1)))\n          (ereal 1) (\\<lambda>u. (1 - u) powr (x + 1))\""], ["proof (prove)\nusing this:\n  set_integrable lborel (einterval (ereal (exp (- 1))) 1)\n   (\\<lambda>u. (1 - u) powr (x + 1))\n\ngoal (1 subgoal):\n 1. interval_lebesgue_integrable lborel (ereal (exp (- 1))) (ereal 1)\n     (\\<lambda>u. (1 - u) powr (x + 1))", "by (simp add: interval_lebesgue_integrable_def one_ereal_def)"], ["proof (state)\nthis:\n  interval_lebesgue_integrable lborel (ereal (exp (- 1))) (ereal 1)\n   (\\<lambda>u. (1 - u) powr (x + 1))\n\ngoal (2 subgoals):\n 1. set_borel_measurable borel {exp (- 1)<..<1} g2\n 2. exp (- 1) < 1", "qed (auto simp add: g2_def set_borel_measurable_def)"], ["", "lemma bound2:\n  \"norm (f z u) \\<le> g2 u\" if z: \"Re z \\<in> {x..y}\" and u: \"u \\<in> {exp (-1)<..<1}\" for z u"], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "have \"0 < exp (-1::real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < exp (- 1)", "by simp"], ["proof (state)\nthis:\n  0 < exp (- 1)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "also"], ["proof (state)\nthis:\n  0 < exp (- 1)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "have \"\\<dots> \\<le> u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (- 1) \\<le> u", "using u"], ["proof (prove)\nusing this:\n  u \\<in> {exp (- 1)<..<1}\n\ngoal (1 subgoal):\n 1. exp (- 1) \\<le> u", "by (simp add: einterval_def)"], ["proof (state)\nthis:\n  exp (- 1) \\<le> u\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "finally"], ["proof (chain)\npicking this:\n  0 < u", "have \"u > 0\""], ["proof (prove)\nusing this:\n  0 < u\n\ngoal (1 subgoal):\n 1. 0 < u", "."], ["proof (state)\nthis:\n  0 < u\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "from u \\<open>u > 0\\<close>"], ["proof (chain)\npicking this:\n  u \\<in> {exp (- 1)<..<1}\n  0 < u", "have ln_u: \"ln u > ln (exp (-1))\""], ["proof (prove)\nusing this:\n  u \\<in> {exp (- 1)<..<1}\n  0 < u\n\ngoal (1 subgoal):\n 1. ln (exp (- 1)) < ln u", "by (subst ln_less_cancel_iff) (auto simp: einterval_def)"], ["proof (state)\nthis:\n  ln (exp (- 1)) < ln u\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "from z u \\<open>u > 0\\<close>"], ["proof (chain)\npicking this:\n  Re z \\<in> {x..y}\n  u \\<in> {exp (- 1)<..<1}\n  0 < u", "have \"norm (f z u) = (- ln u) powr Re z * \\<bar>u - ln u - 1\\<bar> / (1 - u)\""], ["proof (prove)\nusing this:\n  Re z \\<in> {x..y}\n  u \\<in> {exp (- 1)<..<1}\n  0 < u\n\ngoal (1 subgoal):\n 1. cmod (f z u) = (- ln u) powr Re z * \\<bar>u - ln u - 1\\<bar> / (1 - u)", "unfolding f_def norm_mult norm_divide norm_of_real"], ["proof (prove)\nusing this:\n  Re z \\<in> {x..y}\n  u \\<in> {exp (- 1)<..<1}\n  0 < u\n\ngoal (1 subgoal):\n 1. cmod (complex_of_real (- ln u) powr z) / \\<bar>1 - u\\<bar> *\n    \\<bar>- ln u + u - 1\\<bar> =\n    (- ln u) powr Re z * \\<bar>u - ln u - 1\\<bar> / (1 - u)", "by (simp add: norm_powr_real_powr einterval_def)"], ["proof (state)\nthis:\n  cmod (f z u) = (- ln u) powr Re z * \\<bar>u - ln u - 1\\<bar> / (1 - u)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "also"], ["proof (state)\nthis:\n  cmod (f z u) = (- ln u) powr Re z * \\<bar>u - ln u - 1\\<bar> / (1 - u)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "have \"\\<bar>u - ln u - 1\\<bar> = u - ln u - 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>u - ln u - 1\\<bar> = u - ln u - 1", "using u \\<open>u > 0\\<close> ln_add_one_self_le_self2[of \"u - 1\"]"], ["proof (prove)\nusing this:\n  u \\<in> {exp (- 1)<..<1}\n  0 < u\n  - 1 < u - 1 \\<Longrightarrow> ln (1 + (u - 1)) \\<le> u - 1\n\ngoal (1 subgoal):\n 1. \\<bar>u - ln u - 1\\<bar> = u - ln u - 1", "by (simp add: einterval_def)"], ["proof (state)\nthis:\n  \\<bar>u - ln u - 1\\<bar> = u - ln u - 1\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "also"], ["proof (state)\nthis:\n  \\<bar>u - ln u - 1\\<bar> = u - ln u - 1\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "have \"(- ln u) powr Re z * (u - ln u - 1) / (1 - u) \\<le>\n               (- ln u) powr x * (u - ln u - 1) / (1 - u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- ln u) powr Re z * (u - ln u - 1) / (1 - u)\n    \\<le> (- ln u) powr x * (u - ln u - 1) / (1 - u)", "using z u \\<open>u > 0\\<close> ln_u ln_add_one_self_le_self2[of \"u - 1\"]"], ["proof (prove)\nusing this:\n  Re z \\<in> {x..y}\n  u \\<in> {exp (- 1)<..<1}\n  0 < u\n  ln (exp (- 1)) < ln u\n  - 1 < u - 1 \\<Longrightarrow> ln (1 + (u - 1)) \\<le> u - 1\n\ngoal (1 subgoal):\n 1. (- ln u) powr Re z * (u - ln u - 1) / (1 - u)\n    \\<le> (- ln u) powr x * (u - ln u - 1) / (1 - u)", "by (intro mult_right_mono divide_right_mono powr_mono') (auto simp: einterval_def)"], ["proof (state)\nthis:\n  (- ln u) powr Re z * (u - ln u - 1) / (1 - u)\n  \\<le> (- ln u) powr x * (u - ln u - 1) / (1 - u)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "finally"], ["proof (chain)\npicking this:\n  cmod (f z u) \\<le> (- ln u) powr x * (u - ln u - 1) / (1 - u)", "show \"norm (f z u) \\<le> g2 u\""], ["proof (prove)\nusing this:\n  cmod (f z u) \\<le> (- ln u) powr x * (u - ln u - 1) / (1 - u)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "by (simp add: g2_def)"], ["proof (state)\nthis:\n  cmod (f z u) \\<le> g2 u\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma integrable2_aux: \"interval_lebesgue_integrable lborel (exp (-1)) 1 (f z)\"\n    if z: \"Re z \\<in> {x..y}\" for z"], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel (ereal (exp (- 1))) 1 (f z)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel (ereal (exp (- 1))) 1 (f z)", "have \"set_integrable lborel {exp (-1)<..<1} (f z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_set_integrable lborel {exp (- 1)<..<1} (f z)", "proof (rule set_integrable_bound[OF _ _ AE_I2[OF impI]])"], ["proof (state)\ngoal (3 subgoals):\n 1. set_integrable lborel {exp (- 1)<..<1} ?f\n 2. set_borel_measurable lborel {exp (- 1)<..<1} (f z)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> space lborel; x \\<in> {exp (- 1)<..<1}\\<rbrakk>\n       \\<Longrightarrow> cmod (f z x) \\<le> norm (?f x)", "fix u :: real"], ["proof (state)\ngoal (3 subgoals):\n 1. set_integrable lborel {exp (- 1)<..<1} ?f\n 2. set_borel_measurable lborel {exp (- 1)<..<1} (f z)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> space lborel; x \\<in> {exp (- 1)<..<1}\\<rbrakk>\n       \\<Longrightarrow> cmod (f z x) \\<le> norm (?f x)", "assume \"u \\<in> {exp (-1)<..<1}\""], ["proof (state)\nthis:\n  u \\<in> {exp (- 1)<..<1}\n\ngoal (3 subgoals):\n 1. set_integrable lborel {exp (- 1)<..<1} ?f\n 2. set_borel_measurable lborel {exp (- 1)<..<1} (f z)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> space lborel; x \\<in> {exp (- 1)<..<1}\\<rbrakk>\n       \\<Longrightarrow> cmod (f z x) \\<le> norm (?f x)", "hence \"norm (f z u) \\<le> g2 u\""], ["proof (prove)\nusing this:\n  u \\<in> {exp (- 1)<..<1}\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "using z"], ["proof (prove)\nusing this:\n  u \\<in> {exp (- 1)<..<1}\n  Re z \\<in> {x..y}\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g2 u", "by (intro bound2) auto"], ["proof (state)\nthis:\n  cmod (f z u) \\<le> g2 u\n\ngoal (3 subgoals):\n 1. set_integrable lborel {exp (- 1)<..<1} ?f\n 2. set_borel_measurable lborel {exp (- 1)<..<1} (f z)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> space lborel; x \\<in> {exp (- 1)<..<1}\\<rbrakk>\n       \\<Longrightarrow> cmod (f z x) \\<le> norm (?f x)", "also"], ["proof (state)\nthis:\n  cmod (f z u) \\<le> g2 u\n\ngoal (3 subgoals):\n 1. set_integrable lborel {exp (- 1)<..<1} ?f\n 2. set_borel_measurable lborel {exp (- 1)<..<1} (f z)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> space lborel; x \\<in> {exp (- 1)<..<1}\\<rbrakk>\n       \\<Longrightarrow> cmod (f z x) \\<le> norm (?f x)", "have \"\\<dots> \\<le> norm (g2 u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g2 u \\<le> norm (g2 u)", "by simp"], ["proof (state)\nthis:\n  g2 u \\<le> norm (g2 u)\n\ngoal (3 subgoals):\n 1. set_integrable lborel {exp (- 1)<..<1} ?f\n 2. set_borel_measurable lborel {exp (- 1)<..<1} (f z)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> space lborel; x \\<in> {exp (- 1)<..<1}\\<rbrakk>\n       \\<Longrightarrow> cmod (f z x) \\<le> norm (?f x)", "finally"], ["proof (chain)\npicking this:\n  cmod (f z u) \\<le> norm (g2 u)", "show \"norm (f z u) \\<le> norm (g2 u)\""], ["proof (prove)\nusing this:\n  cmod (f z u) \\<le> norm (g2 u)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> norm (g2 u)", "."], ["proof (state)\nthis:\n  cmod (f z u) \\<le> norm (g2 u)\n\ngoal (2 subgoals):\n 1. set_integrable lborel {exp (- 1)<..<1} g2\n 2. set_borel_measurable lborel {exp (- 1)<..<1} (f z)", "qed (use integrable_bound2 in \\<open>simp_all add: interval_lebesgue_integrable_def\n         one_ereal_def set_borel_measurable_def f_def\\<close>)"], ["proof (state)\nthis:\n  complex_set_integrable lborel {exp (- 1)<..<1} (f z)\n\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel (ereal (exp (- 1))) 1 (f z)", "thus ?thesis"], ["proof (prove)\nusing this:\n  complex_set_integrable lborel {exp (- 1)<..<1} (f z)\n\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel (ereal (exp (- 1))) 1 (f z)", "by (simp add: interval_lebesgue_integrable_def one_ereal_def)"], ["proof (state)\nthis:\n  complex_interval_lebesgue_integrable lborel (ereal (exp (- 1))) 1 (f z)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma uniform_limit2:\n  \"uniform_limit {z. Re z \\<in> {x..y}}\n        (\\<lambda>a z. LBINT u=exp (-1)..a. f z u)\n        (\\<lambda>z. LBINT u=exp (-1)..1. f z u) (at_left 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. uniform_limit {z. Re z \\<in> {x..y}}\n     (\\<lambda>a z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) a\n          (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z))\n     (at_left 1)", "by (intro uniform_limit_interval_integral_right[of _ _ g2] AE_I2 impI)\n     (use bound2 integrable_bound2 in \\<open>simp_all add: einterval_def f_def set_borel_measurable_def\\<close>)"], ["", "lemma uniform_limit2':\n    \"uniform_limit {z. Re z \\<in> {x..y}}\n          (\\<lambda>n z. LBINT u=exp (-1)..ereal (1-(1/2)^Suc n). f z u)\n          (\\<lambda>z. LBINT u=exp (-1)..1. f z u) sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. uniform_limit {z. Re z \\<in> {x..y}}\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n          (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z))\n     sequentially", "proof (rule filterlim_compose[OF uniform_limit2])"], ["proof (state)\ngoal (1 subgoal):\n 1. LIM x sequentially. ereal (1 - (1 / 2) ^ Suc x) :> at_left 1", "have \"filterlim (\\<lambda>n. 1 - (1/2)^Suc n :: real) (at_left 1) sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. LIM n sequentially. 1 - (1 / 2) ^ Suc n :> at_left 1", "by real_asymp"], ["proof (state)\nthis:\n  LIM n sequentially. 1 - (1 / 2) ^ Suc n :> at_left 1\n\ngoal (1 subgoal):\n 1. LIM x sequentially. ereal (1 - (1 / 2) ^ Suc x) :> at_left 1", "hence \"filtermap ereal (filtermap (\\<lambda>n. (1 - (1 / 2) ^ Suc n)) sequentially) \\<le>\n        filtermap ereal (at_left 1)\""], ["proof (prove)\nusing this:\n  LIM n sequentially. 1 - (1 / 2) ^ Suc n :> at_left 1\n\ngoal (1 subgoal):\n 1. filtermap ereal\n     (filtermap (\\<lambda>n. 1 - (1 / 2) ^ Suc n) sequentially)\n    \\<le> filtermap ereal (at_left 1)", "unfolding filterlim_def"], ["proof (prove)\nusing this:\n  filtermap (\\<lambda>n. 1 - (1 / 2) ^ Suc n) sequentially \\<le> at_left 1\n\ngoal (1 subgoal):\n 1. filtermap ereal\n     (filtermap (\\<lambda>n. 1 - (1 / 2) ^ Suc n) sequentially)\n    \\<le> filtermap ereal (at_left 1)", "by (rule filtermap_mono)"], ["proof (state)\nthis:\n  filtermap ereal (filtermap (\\<lambda>n. 1 - (1 / 2) ^ Suc n) sequentially)\n  \\<le> filtermap ereal (at_left 1)\n\ngoal (1 subgoal):\n 1. LIM x sequentially. ereal (1 - (1 / 2) ^ Suc x) :> at_left 1", "thus \"filterlim (\\<lambda>n. ereal (1 - (1/2)^Suc n)) (at_left 1) sequentially\""], ["proof (prove)\nusing this:\n  filtermap ereal (filtermap (\\<lambda>n. 1 - (1 / 2) ^ Suc n) sequentially)\n  \\<le> filtermap ereal (at_left 1)\n\ngoal (1 subgoal):\n 1. LIM n sequentially. ereal (1 - (1 / 2) ^ Suc n) :> at_left 1", "unfolding one_ereal_def at_left_ereal"], ["proof (prove)\nusing this:\n  filtermap ereal (filtermap (\\<lambda>n. 1 - (1 / 2) ^ Suc n) sequentially)\n  \\<le> filtermap ereal (at_left 1)\n\ngoal (1 subgoal):\n 1. LIM n sequentially.\n       ereal (1 - (1 / 2) ^ Suc n) :> filtermap ereal (at_left 1)", "by (simp add: filterlim_def filtermap_filtermap)"], ["proof (state)\nthis:\n  LIM n sequentially. ereal (1 - (1 / 2) ^ Suc n) :> at_left 1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bound1: \"norm (f z u) \\<le> g1 u\" if z: \"Re z \\<in> {x..y}\" and u: \"u \\<in> {0<..<exp (-1)}\" for z u"], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "from u"], ["proof (chain)\npicking this:\n  u \\<in> {0<..<exp (- 1)}", "have \"u \\<le> exp (-1)\""], ["proof (prove)\nusing this:\n  u \\<in> {0<..<exp (- 1)}\n\ngoal (1 subgoal):\n 1. u \\<le> exp (- 1)", "by (simp add: einterval_def)"], ["proof (state)\nthis:\n  u \\<le> exp (- 1)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "also"], ["proof (state)\nthis:\n  u \\<le> exp (- 1)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "have \"exp (-1) < exp (0::real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (- 1) < exp 0", "by (subst exp_less_cancel_iff) auto"], ["proof (state)\nthis:\n  exp (- 1) < exp 0\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "also"], ["proof (state)\nthis:\n  exp (- 1) < exp 0\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "have \"exp (0::real) = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp 0 = 1", "by simp"], ["proof (state)\nthis:\n  exp 0 = 1\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "finally"], ["proof (chain)\npicking this:\n  u < 1", "have \"u < 1\""], ["proof (prove)\nusing this:\n  u < 1\n\ngoal (1 subgoal):\n 1. u < 1", "."], ["proof (state)\nthis:\n  u < 1\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "from u"], ["proof (chain)\npicking this:\n  u \\<in> {0<..<exp (- 1)}", "have \"ln u < ln (exp (-1))\""], ["proof (prove)\nusing this:\n  u \\<in> {0<..<exp (- 1)}\n\ngoal (1 subgoal):\n 1. ln u < ln (exp (- 1))", "by (subst ln_less_cancel_iff) (auto simp: einterval_def)"], ["proof (state)\nthis:\n  ln u < ln (exp (- 1))\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "hence ln_u: \"ln u < -1\""], ["proof (prove)\nusing this:\n  ln u < ln (exp (- 1))\n\ngoal (1 subgoal):\n 1. ln u < - 1", "by simp"], ["proof (state)\nthis:\n  ln u < - 1\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "from z u \\<open>u < 1\\<close>"], ["proof (chain)\npicking this:\n  Re z \\<in> {x..y}\n  u \\<in> {0<..<exp (- 1)}\n  u < 1", "have \"norm (f z u) = (- ln u) powr Re z * \\<bar>u - ln u - 1\\<bar> / (1 - u)\""], ["proof (prove)\nusing this:\n  Re z \\<in> {x..y}\n  u \\<in> {0<..<exp (- 1)}\n  u < 1\n\ngoal (1 subgoal):\n 1. cmod (f z u) = (- ln u) powr Re z * \\<bar>u - ln u - 1\\<bar> / (1 - u)", "unfolding f_def norm_mult norm_divide norm_of_real"], ["proof (prove)\nusing this:\n  Re z \\<in> {x..y}\n  u \\<in> {0<..<exp (- 1)}\n  u < 1\n\ngoal (1 subgoal):\n 1. cmod (complex_of_real (- ln u) powr z) / \\<bar>1 - u\\<bar> *\n    \\<bar>- ln u + u - 1\\<bar> =\n    (- ln u) powr Re z * \\<bar>u - ln u - 1\\<bar> / (1 - u)", "by (simp add: norm_powr_real_powr einterval_def)"], ["proof (state)\nthis:\n  cmod (f z u) = (- ln u) powr Re z * \\<bar>u - ln u - 1\\<bar> / (1 - u)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "also"], ["proof (state)\nthis:\n  cmod (f z u) = (- ln u) powr Re z * \\<bar>u - ln u - 1\\<bar> / (1 - u)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "have \"\\<bar>u - ln u - 1\\<bar> = u - ln u - 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>u - ln u - 1\\<bar> = u - ln u - 1", "using u ln_add_one_self_le_self2[of \"u - 1\"]"], ["proof (prove)\nusing this:\n  u \\<in> {0<..<exp (- 1)}\n  - 1 < u - 1 \\<Longrightarrow> ln (1 + (u - 1)) \\<le> u - 1\n\ngoal (1 subgoal):\n 1. \\<bar>u - ln u - 1\\<bar> = u - ln u - 1", "by (simp add: einterval_def)"], ["proof (state)\nthis:\n  \\<bar>u - ln u - 1\\<bar> = u - ln u - 1\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "also"], ["proof (state)\nthis:\n  \\<bar>u - ln u - 1\\<bar> = u - ln u - 1\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "have \"(- ln u) powr Re z * (u - ln u - 1) / (1 - u) \\<le>\n               (- ln u) powr y * (u - ln u - 1) / (1 - u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- ln u) powr Re z * (u - ln u - 1) / (1 - u)\n    \\<le> (- ln u) powr y * (u - ln u - 1) / (1 - u)", "using z u ln_u \\<open>u < 1\\<close>"], ["proof (prove)\nusing this:\n  Re z \\<in> {x..y}\n  u \\<in> {0<..<exp (- 1)}\n  ln u < - 1\n  u < 1\n\ngoal (1 subgoal):\n 1. (- ln u) powr Re z * (u - ln u - 1) / (1 - u)\n    \\<le> (- ln u) powr y * (u - ln u - 1) / (1 - u)", "by (intro mult_right_mono divide_right_mono powr_mono) (auto simp: einterval_def)"], ["proof (state)\nthis:\n  (- ln u) powr Re z * (u - ln u - 1) / (1 - u)\n  \\<le> (- ln u) powr y * (u - ln u - 1) / (1 - u)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "finally"], ["proof (chain)\npicking this:\n  cmod (f z u) \\<le> (- ln u) powr y * (u - ln u - 1) / (1 - u)", "show \"norm (f z u) \\<le> g1 u\""], ["proof (prove)\nusing this:\n  cmod (f z u) \\<le> (- ln u) powr y * (u - ln u - 1) / (1 - u)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "by (simp add: g1_def)"], ["proof (state)\nthis:\n  cmod (f z u) \\<le> g1 u\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma integrable1_aux: \"interval_lebesgue_integrable lborel 0 (exp (-1)) (f z)\"\n  if z: \"Re z \\<in> {x..y}\" for z"], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) (f z)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) (f z)", "have \"set_integrable lborel {0<..<exp (-1)} (f z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_set_integrable lborel {0<..<exp (- 1)} (f z)", "proof (rule set_integrable_bound[OF _ _ AE_I2[OF impI]])"], ["proof (state)\ngoal (3 subgoals):\n 1. set_integrable lborel {0<..<exp (- 1)} ?f\n 2. set_borel_measurable lborel {0<..<exp (- 1)} (f z)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> space lborel; x \\<in> {0<..<exp (- 1)}\\<rbrakk>\n       \\<Longrightarrow> cmod (f z x) \\<le> norm (?f x)", "fix u :: real"], ["proof (state)\ngoal (3 subgoals):\n 1. set_integrable lborel {0<..<exp (- 1)} ?f\n 2. set_borel_measurable lborel {0<..<exp (- 1)} (f z)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> space lborel; x \\<in> {0<..<exp (- 1)}\\<rbrakk>\n       \\<Longrightarrow> cmod (f z x) \\<le> norm (?f x)", "assume \"u \\<in> {0<..<exp (-1)}\""], ["proof (state)\nthis:\n  u \\<in> {0<..<exp (- 1)}\n\ngoal (3 subgoals):\n 1. set_integrable lborel {0<..<exp (- 1)} ?f\n 2. set_borel_measurable lborel {0<..<exp (- 1)} (f z)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> space lborel; x \\<in> {0<..<exp (- 1)}\\<rbrakk>\n       \\<Longrightarrow> cmod (f z x) \\<le> norm (?f x)", "hence \"norm (f z u) \\<le> g1 u\""], ["proof (prove)\nusing this:\n  u \\<in> {0<..<exp (- 1)}\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "using z"], ["proof (prove)\nusing this:\n  u \\<in> {0<..<exp (- 1)}\n  Re z \\<in> {x..y}\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> g1 u", "by (intro bound1) auto"], ["proof (state)\nthis:\n  cmod (f z u) \\<le> g1 u\n\ngoal (3 subgoals):\n 1. set_integrable lborel {0<..<exp (- 1)} ?f\n 2. set_borel_measurable lborel {0<..<exp (- 1)} (f z)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> space lborel; x \\<in> {0<..<exp (- 1)}\\<rbrakk>\n       \\<Longrightarrow> cmod (f z x) \\<le> norm (?f x)", "also"], ["proof (state)\nthis:\n  cmod (f z u) \\<le> g1 u\n\ngoal (3 subgoals):\n 1. set_integrable lborel {0<..<exp (- 1)} ?f\n 2. set_borel_measurable lborel {0<..<exp (- 1)} (f z)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> space lborel; x \\<in> {0<..<exp (- 1)}\\<rbrakk>\n       \\<Longrightarrow> cmod (f z x) \\<le> norm (?f x)", "have \"\\<dots> \\<le> norm (g1 u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g1 u \\<le> norm (g1 u)", "by simp"], ["proof (state)\nthis:\n  g1 u \\<le> norm (g1 u)\n\ngoal (3 subgoals):\n 1. set_integrable lborel {0<..<exp (- 1)} ?f\n 2. set_borel_measurable lborel {0<..<exp (- 1)} (f z)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> space lborel; x \\<in> {0<..<exp (- 1)}\\<rbrakk>\n       \\<Longrightarrow> cmod (f z x) \\<le> norm (?f x)", "finally"], ["proof (chain)\npicking this:\n  cmod (f z u) \\<le> norm (g1 u)", "show \"norm (f z u) \\<le> norm (g1 u)\""], ["proof (prove)\nusing this:\n  cmod (f z u) \\<le> norm (g1 u)\n\ngoal (1 subgoal):\n 1. cmod (f z u) \\<le> norm (g1 u)", "."], ["proof (state)\nthis:\n  cmod (f z u) \\<le> norm (g1 u)\n\ngoal (2 subgoals):\n 1. set_integrable lborel {0<..<exp (- 1)} g1\n 2. set_borel_measurable lborel {0<..<exp (- 1)} (f z)", "qed (use integrable_bound1 in \\<open>simp_all add: interval_lebesgue_integrable_def\n         zero_ereal_def set_borel_measurable_def f_def\\<close>)"], ["proof (state)\nthis:\n  complex_set_integrable lborel {0<..<exp (- 1)} (f z)\n\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) (f z)", "thus ?thesis"], ["proof (prove)\nusing this:\n  complex_set_integrable lborel {0<..<exp (- 1)} (f z)\n\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) (f z)", "by (simp add: interval_lebesgue_integrable_def zero_ereal_def)"], ["proof (state)\nthis:\n  complex_interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) (f z)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma uniform_limit1:\n  \"uniform_limit {z. Re z \\<in> {x..y}}\n        (\\<lambda>a z. LBINT u=a..exp (-1). f z u)\n        (\\<lambda>z. LBINT u=0..exp (-1). f z u) (at_right 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. uniform_limit {z. Re z \\<in> {x..y}}\n     (\\<lambda>a z.\n         complex_interval_lebesgue_integral lborel a (ereal (exp (- 1)))\n          (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z))\n     (at_right 0)", "by (intro uniform_limit_interval_integral_left[of _ _ g1] AE_I2 impI)\n     (use bound1 integrable_bound1 in \\<open>simp_all add: einterval_def f_def set_borel_measurable_def\\<close>)"], ["", "lemma uniform_limit1':\n    \"uniform_limit {z. Re z \\<in> {x..y}}\n          (\\<lambda>n z. LBINT u=ereal ((1/2)^Suc n)..exp (-1). f z u)\n          (\\<lambda>z. LBINT u=0..exp (-1). f z u) sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. uniform_limit {z. Re z \\<in> {x..y}}\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n          (ereal (exp (- 1))) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z))\n     sequentially", "proof (rule filterlim_compose[OF uniform_limit1])"], ["proof (state)\ngoal (1 subgoal):\n 1. LIM x sequentially. ereal ((1 / 2) ^ Suc x) :> at_right 0", "have \"filterlim (\\<lambda>n. (1/2)^Suc n :: real) (at_right 0) sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. LIM n sequentially. (1 / 2) ^ Suc n :> at_right 0", "by real_asymp"], ["proof (state)\nthis:\n  LIM n sequentially. (1 / 2) ^ Suc n :> at_right 0\n\ngoal (1 subgoal):\n 1. LIM x sequentially. ereal ((1 / 2) ^ Suc x) :> at_right 0", "hence \"filtermap ereal (filtermap (\\<lambda>n. ((1 / 2) ^ Suc n)) sequentially) \\<le>\n        filtermap ereal (at_right 0)\""], ["proof (prove)\nusing this:\n  LIM n sequentially. (1 / 2) ^ Suc n :> at_right 0\n\ngoal (1 subgoal):\n 1. filtermap ereal (filtermap (\\<lambda>n. (1 / 2) ^ Suc n) sequentially)\n    \\<le> filtermap ereal (at_right 0)", "unfolding filterlim_def"], ["proof (prove)\nusing this:\n  filtermap (\\<lambda>n. (1 / 2) ^ Suc n) sequentially \\<le> at_right 0\n\ngoal (1 subgoal):\n 1. filtermap ereal (filtermap (\\<lambda>n. (1 / 2) ^ Suc n) sequentially)\n    \\<le> filtermap ereal (at_right 0)", "by (rule filtermap_mono)"], ["proof (state)\nthis:\n  filtermap ereal (filtermap (\\<lambda>n. (1 / 2) ^ Suc n) sequentially)\n  \\<le> filtermap ereal (at_right 0)\n\ngoal (1 subgoal):\n 1. LIM x sequentially. ereal ((1 / 2) ^ Suc x) :> at_right 0", "thus \"filterlim (\\<lambda>n. ereal ((1/2)^Suc n)) (at_right 0) sequentially\""], ["proof (prove)\nusing this:\n  filtermap ereal (filtermap (\\<lambda>n. (1 / 2) ^ Suc n) sequentially)\n  \\<le> filtermap ereal (at_right 0)\n\ngoal (1 subgoal):\n 1. LIM n sequentially. ereal ((1 / 2) ^ Suc n) :> at_right 0", "unfolding zero_ereal_def at_right_ereal"], ["proof (prove)\nusing this:\n  filtermap ereal (filtermap (\\<lambda>n. (1 / 2) ^ Suc n) sequentially)\n  \\<le> filtermap ereal (at_right 0)\n\ngoal (1 subgoal):\n 1. LIM n sequentially.\n       ereal ((1 / 2) ^ Suc n) :> filtermap ereal (at_right 0)", "by (simp add: filterlim_def filtermap_filtermap)"], ["proof (state)\nthis:\n  LIM n sequentially. ereal ((1 / 2) ^ Suc n) :> at_right 0\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "text \\<open>\n  With all of the above bounds, we have shown that the integral exists for any\n  \\<open>z\\<close> with $\\mathfrak{R}(z) > -2$.\n\\<close>"], ["", "theorem Hadjicostas_integral_integrable: \"interval_lebesgue_integrable lborel 0 1 (f z)\"\n  if z: \"Re z > -2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel 0 1 (f z)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel 0 1 (f z)", "from dense[OF z]"], ["proof (chain)\npicking this:\n  \\<exists>za>- 2. za < Re z", "obtain x where x: \"x > -2\" \"Re z > x\""], ["proof (prove)\nusing this:\n  \\<exists>za>- 2. za < Re z\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>- 2 < x; x < Re z\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  - 2 < x\n  x < Re z\n\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel 0 1 (f z)", "have \"interval_lebesgue_integrable lborel 0 (exp(-1)) (f z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) (f z)", "by (rule integrable1_aux[of x _ \"Re z + 1\"]) (use x in auto)"], ["proof (state)\nthis:\n  complex_interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) (f z)\n\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel 0 1 (f z)", "moreover"], ["proof (state)\nthis:\n  complex_interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) (f z)\n\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel 0 1 (f z)", "have \"interval_lebesgue_integrable lborel (exp(-1)) 1 (f z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel (ereal (exp (- 1))) 1 (f z)", "by (rule integrable2_aux[of x _ \"Re z + 1\"]) (use x in auto)"], ["proof (state)\nthis:\n  complex_interval_lebesgue_integrable lborel (ereal (exp (- 1))) 1 (f z)\n\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel 0 1 (f z)", "ultimately"], ["proof (chain)\npicking this:\n  complex_interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) (f z)\n  complex_interval_lebesgue_integrable lborel (ereal (exp (- 1))) 1 (f z)", "show \"interval_lebesgue_integrable lborel 0 1 (f z)\""], ["proof (prove)\nusing this:\n  complex_interval_lebesgue_integrable lborel 0 (ereal (exp (- 1))) (f z)\n  complex_interval_lebesgue_integrable lborel (ereal (exp (- 1))) 1 (f z)\n\ngoal (1 subgoal):\n 1. complex_interval_lebesgue_integrable lborel 0 1 (f z)", "by (rule interval_lebesgue_integrable_combine) (auto simp: f_def set_borel_measurable_def)"], ["proof (state)\nthis:\n  complex_interval_lebesgue_integrable lborel 0 1 (f z)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma integral_holo_aux:\n  assumes ab: \"a > 0\" \"a \\<le> b\" \"b < 1\"\n  shows \"(\\<lambda>z. LBINT u=ereal a..ereal b. f z u) holomorphic_on A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "define f' :: \"complex \\<Rightarrow> real \\<Rightarrow> complex\"\n    where \"f' \\<equiv> (\\<lambda>z u. ln (-ln u) * f z u)\""], ["proof (state)\nthis:\n  f' \\<equiv> \\<lambda>z u. Ln (- Ln (complex_of_real u)) * f z u\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "note [derivative_intros] = has_field_derivative_complex_powr_right'"], ["proof (state)\nthis:\n  \\<lbrakk>?w \\<noteq> 0;\n   (?g has_field_derivative ?Db) (at ?x within ?s)\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x. ?w powr ?g x) has_field_derivative\n                     Ln ?w * ?w powr ?g ?x * ?Db)\n                     (at ?x within ?s)\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "have \"(\\<lambda>z. integral (cbox a b) (f z)) holomorphic_on UNIV\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>z. integral (cbox a b) (f z)) holomorphic_on UNIV", "proof (rule leibniz_rule_holomorphic[of _ _ _ _ f'], goal_cases)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>z t.\n       \\<lbrakk>z \\<in> UNIV; t \\<in> cbox a b\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>z. f z t) has_field_derivative f' z t)\n                          (at z)\n 2. \\<And>z. z \\<in> UNIV \\<Longrightarrow> f z integrable_on cbox a b\n 3. continuous_on (UNIV \\<times> cbox a b) (\\<lambda>(z, t). f' z t)\n 4. convex UNIV", "case (1 z t)"], ["proof (state)\nthis:\n  z \\<in> UNIV\n  t \\<in> cbox a b\n\ngoal (4 subgoals):\n 1. \\<And>z t.\n       \\<lbrakk>z \\<in> UNIV; t \\<in> cbox a b\\<rbrakk>\n       \\<Longrightarrow> ((\\<lambda>z. f z t) has_field_derivative f' z t)\n                          (at z)\n 2. \\<And>z. z \\<in> UNIV \\<Longrightarrow> f z integrable_on cbox a b\n 3. continuous_on (UNIV \\<times> cbox a b) (\\<lambda>(z, t). f' z t)\n 4. convex UNIV", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>z. f z t) has_field_derivative f' z t) (at z)", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>z.\n         complex_of_real (- ln t) powr z / complex_of_real (1 - t) *\n         complex_of_real (- ln t + t - 1)) has_field_derivative\n     f' z t)\n     (at z)", "apply (insert 1 ab)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>z \\<in> UNIV; t \\<in> cbox a b; 0 < a; a \\<le> b;\n     b < 1\\<rbrakk>\n    \\<Longrightarrow> ((\\<lambda>z.\n                           complex_of_real (- ln t) powr z /\n                           complex_of_real (1 - t) *\n                           complex_of_real\n                            (- ln t + t - 1)) has_field_derivative\n                       f' z t)\n                       (at z)", "apply (rule derivative_eq_intros refl | simp)+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<le> t \\<and> t \\<le> b; 0 < a; b < 1\\<rbrakk>\n    \\<Longrightarrow> Ln (- complex_of_real (ln t)) *\n                      (- complex_of_real (ln t)) powr z *\n                      (complex_of_real t - complex_of_real (ln t) - 1) /\n                      (1 - complex_of_real t) =\n                      f' z t", "apply (auto simp: f'_def field_simps f_def Ln_of_real)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  ((\\<lambda>z. f z t) has_field_derivative f' z t) (at z)\n\ngoal (3 subgoals):\n 1. \\<And>z. z \\<in> UNIV \\<Longrightarrow> f z integrable_on cbox a b\n 2. continuous_on (UNIV \\<times> cbox a b) (\\<lambda>(z, t). f' z t)\n 3. convex UNIV", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>z. z \\<in> UNIV \\<Longrightarrow> f z integrable_on cbox a b\n 2. continuous_on (UNIV \\<times> cbox a b) (\\<lambda>(z, t). f' z t)\n 3. convex UNIV", "from ab"], ["proof (chain)\npicking this:\n  0 < a\n  a \\<le> b\n  b < 1", "show \"continuous_on (UNIV \\<times> cbox a b) (\\<lambda>(z, t). f' z t)\""], ["proof (prove)\nusing this:\n  0 < a\n  a \\<le> b\n  b < 1\n\ngoal (1 subgoal):\n 1. continuous_on (UNIV \\<times> cbox a b) (\\<lambda>(z, t). f' z t)", "by (auto simp: case_prod_unfold f'_def f_def Ln_of_real intro!: continuous_intros)"], ["proof (state)\nthis:\n  continuous_on (UNIV \\<times> cbox a b) (\\<lambda>(z, t). f' z t)\n\ngoal (2 subgoals):\n 1. \\<And>z. z \\<in> UNIV \\<Longrightarrow> f z integrable_on cbox a b\n 2. convex UNIV", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>z. z \\<in> UNIV \\<Longrightarrow> f z integrable_on cbox a b\n 2. convex UNIV", "fix z :: complex"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>z. z \\<in> UNIV \\<Longrightarrow> f z integrable_on cbox a b\n 2. convex UNIV", "show \"f z integrable_on cbox a b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f z integrable_on cbox a b", "unfolding f_def f'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>u.\n        complex_of_real (- ln u) powr z / complex_of_real (1 - u) *\n        complex_of_real (- ln u + u - 1)) integrable_on\n    cbox a b", "using ab"], ["proof (prove)\nusing this:\n  0 < a\n  a \\<le> b\n  b < 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>u.\n        complex_of_real (- ln u) powr z / complex_of_real (1 - u) *\n        complex_of_real (- ln u + u - 1)) integrable_on\n    cbox a b", "by (intro integrable_continuous continuous_intros) auto"], ["proof (state)\nthis:\n  f z integrable_on cbox a b\n\ngoal (1 subgoal):\n 1. convex UNIV", "qed (auto simp: convex_halfspace_Re_gt)"], ["proof (state)\nthis:\n  (\\<lambda>z. integral (cbox a b) (f z)) holomorphic_on UNIV\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "also"], ["proof (state)\nthis:\n  (\\<lambda>z. integral (cbox a b) (f z)) holomorphic_on UNIV\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "have \"(\\<lambda>z. integral (cbox a b) (f z)) = (\\<lambda>z. \\<integral>u\\<in>cbox a b. f z u \\<partial>lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>z. integral (cbox a b) (f z)) =\n    (\\<lambda>z. complex_set_lebesgue_integral lborel (cbox a b) (f z))", "proof (intro ext set_borel_integral_eq_integral(2) [symmetric])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z. complex_set_integrable lborel (cbox a b) (f z)", "fix z :: complex"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z. complex_set_integrable lborel (cbox a b) (f z)", "show \"complex_set_integrable lborel (cbox a b) (f z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_set_integrable lborel (cbox a b) (f z)", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_set_integrable lborel (cbox a b)\n     (\\<lambda>u.\n         complex_of_real (- ln u) powr z / complex_of_real (1 - u) *\n         complex_of_real (- ln u + u - 1))", "using ab"], ["proof (prove)\nusing this:\n  0 < a\n  a \\<le> b\n  b < 1\n\ngoal (1 subgoal):\n 1. complex_set_integrable lborel (cbox a b)\n     (\\<lambda>u.\n         complex_of_real (- ln u) powr z / complex_of_real (1 - u) *\n         complex_of_real (- ln u + u - 1))", "by (intro continuous_on_imp_set_integrable_cbox continuous_intros) (auto simp: Ln_of_real)"], ["proof (state)\nthis:\n  complex_set_integrable lborel (cbox a b) (f z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>z. integral (cbox a b) (f z)) =\n  (\\<lambda>z. complex_set_lebesgue_integral lborel (cbox a b) (f z))\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "also"], ["proof (state)\nthis:\n  (\\<lambda>z. integral (cbox a b) (f z)) =\n  (\\<lambda>z. complex_set_lebesgue_integral lborel (cbox a b) (f z))\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "have \"\\<dots> = (\\<lambda>z. LBINT u=a..b. f z u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>z. complex_set_lebesgue_integral lborel (cbox a b) (f z)) =\n    (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b) (f z))", "using ab"], ["proof (prove)\nusing this:\n  0 < a\n  a \\<le> b\n  b < 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>z. complex_set_lebesgue_integral lborel (cbox a b) (f z)) =\n    (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b) (f z))", "by (simp add: interval_integral_Icc)"], ["proof (state)\nthis:\n  (\\<lambda>z. complex_set_lebesgue_integral lborel (cbox a b) (f z)) =\n  (\\<lambda>z.\n      complex_interval_lebesgue_integral lborel (ereal a) (ereal b) (f z))\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "finally"], ["proof (chain)\npicking this:\n  (\\<lambda>z.\n      complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n       (f z)) holomorphic_on\n  UNIV", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>z.\n      complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n       (f z)) holomorphic_on\n  UNIV\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "by (rule holomorphic_on_subset) auto"], ["proof (state)\nthis:\n  (\\<lambda>z.\n      complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n       (f z)) holomorphic_on\n  A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma integral_holo:\n  assumes ab: \"min a b > 0\" \"max a b < 1\"\n  shows \"(\\<lambda>z. LBINT u=ereal a..ereal b. f z u) holomorphic_on A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "proof (cases \"a \\<le> b\")"], ["proof (state)\ngoal (2 subgoals):\n 1. a \\<le> b \\<Longrightarrow>\n    (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A\n 2. \\<not> a \\<le> b \\<Longrightarrow>\n    (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "case True"], ["proof (state)\nthis:\n  a \\<le> b\n\ngoal (2 subgoals):\n 1. a \\<le> b \\<Longrightarrow>\n    (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A\n 2. \\<not> a \\<le> b \\<Longrightarrow>\n    (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "thus ?thesis"], ["proof (prove)\nusing this:\n  a \\<le> b\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "using assms integral_holo_aux[of a b]"], ["proof (prove)\nusing this:\n  a \\<le> b\n  0 < min a b\n  max a b < 1\n  \\<lbrakk>0 < a; a \\<le> b; b < 1\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>z.\n                        complex_interval_lebesgue_integral lborel (ereal a)\n                         (ereal b) (f z)) holomorphic_on\n                    ?A\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>z.\n      complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n       (f z)) holomorphic_on\n  A\n\ngoal (1 subgoal):\n 1. \\<not> a \\<le> b \\<Longrightarrow>\n    (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> a \\<le> b \\<Longrightarrow>\n    (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "case False"], ["proof (state)\nthis:\n  \\<not> a \\<le> b\n\ngoal (1 subgoal):\n 1. \\<not> a \\<le> b \\<Longrightarrow>\n    (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "have \"(\\<lambda>z. -(LBINT u=ereal b..ereal a. f z u)) holomorphic_on A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        - complex_interval_lebesgue_integral lborel (ereal b) (ereal a)\n           (f z)) holomorphic_on\n    A", "using False assms"], ["proof (prove)\nusing this:\n  \\<not> a \\<le> b\n  0 < min a b\n  max a b < 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        - complex_interval_lebesgue_integral lborel (ereal b) (ereal a)\n           (f z)) holomorphic_on\n    A", "by (intro holomorphic_intros integral_holo_aux) auto"], ["proof (state)\nthis:\n  (\\<lambda>z.\n      - complex_interval_lebesgue_integral lborel (ereal b) (ereal a)\n         (f z)) holomorphic_on\n  A\n\ngoal (1 subgoal):\n 1. \\<not> a \\<le> b \\<Longrightarrow>\n    (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>z.\n      - complex_interval_lebesgue_integral lborel (ereal b) (ereal a)\n         (f z)) holomorphic_on\n  A\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n         (f z)) holomorphic_on\n    A", "by (subst interval_integral_endpoints_reverse)"], ["proof (state)\nthis:\n  (\\<lambda>z.\n      complex_interval_lebesgue_integral lborel (ereal a) (ereal b)\n       (f z)) holomorphic_on\n  A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma holo1: \"(\\<lambda>z. LBINT u=0..exp (-1). f z u) holomorphic_on {z. Re z > -2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n         (f z)) holomorphic_on\n    {z. - 2 < Re z}", "proof (rule holomorphic_uniform_sequence\n    [where f = \"(\\<lambda>n z. LBINT u=ereal ((1/2)^Suc n)..exp (-1). f z u)\"], goal_cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel\n            (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1)))\n            (f z)) holomorphic_on\n       {z. - 2 < Re z}\n 3. \\<And>x.\n       x \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       \\<exists>d>0.\n          cball x d \\<subseteq> {z. - 2 < Re z} \\<and>\n          uniform_limit (cball x d)\n           (\\<lambda>n z.\n               complex_interval_lebesgue_integral lborel\n                (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1))) (f z))\n           (\\<lambda>z.\n               complex_interval_lebesgue_integral lborel 0\n                (ereal (exp (- 1))) (f z))\n           sequentially", "case (3 z)"], ["proof (state)\nthis:\n  z \\<in> {z. - 2 < Re z}\n\ngoal (3 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel\n            (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1)))\n            (f z)) holomorphic_on\n       {z. - 2 < Re z}\n 3. \\<And>x.\n       x \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       \\<exists>d>0.\n          cball x d \\<subseteq> {z. - 2 < Re z} \\<and>\n          uniform_limit (cball x d)\n           (\\<lambda>n z.\n               complex_interval_lebesgue_integral lborel\n                (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1))) (f z))\n           (\\<lambda>z.\n               complex_interval_lebesgue_integral lborel 0\n                (ereal (exp (- 1))) (f z))\n           sequentially", "define \\<epsilon> where \"\\<epsilon> = (Re z + 2) / 2\""], ["proof (state)\nthis:\n  \\<epsilon> = (Re z + 2) / 2\n\ngoal (3 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel\n            (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1)))\n            (f z)) holomorphic_on\n       {z. - 2 < Re z}\n 3. \\<And>x.\n       x \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       \\<exists>d>0.\n          cball x d \\<subseteq> {z. - 2 < Re z} \\<and>\n          uniform_limit (cball x d)\n           (\\<lambda>n z.\n               complex_interval_lebesgue_integral lborel\n                (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1))) (f z))\n           (\\<lambda>z.\n               complex_interval_lebesgue_integral lborel 0\n                (ereal (exp (- 1))) (f z))\n           sequentially", "from 3"], ["proof (chain)\npicking this:\n  z \\<in> {z. - 2 < Re z}", "have \"\\<epsilon> > 0\""], ["proof (prove)\nusing this:\n  z \\<in> {z. - 2 < Re z}\n\ngoal (1 subgoal):\n 1. 0 < \\<epsilon>", "by (auto simp: \\<epsilon>_def)"], ["proof (state)\nthis:\n  0 < \\<epsilon>\n\ngoal (3 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel\n            (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1)))\n            (f z)) holomorphic_on\n       {z. - 2 < Re z}\n 3. \\<And>x.\n       x \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       \\<exists>d>0.\n          cball x d \\<subseteq> {z. - 2 < Re z} \\<and>\n          uniform_limit (cball x d)\n           (\\<lambda>n z.\n               complex_interval_lebesgue_integral lborel\n                (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1))) (f z))\n           (\\<lambda>z.\n               complex_interval_lebesgue_integral lborel 0\n                (ereal (exp (- 1))) (f z))\n           sequentially", "have subset: \"cball z \\<epsilon> \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cball z \\<epsilon>\n    \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> cball z \\<epsilon> \\<Longrightarrow>\n       Re x \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "fix s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> cball z \\<epsilon> \\<Longrightarrow>\n       Re x \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "assume s: \"s \\<in> cball z \\<epsilon>\""], ["proof (state)\nthis:\n  s \\<in> cball z \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> cball z \\<epsilon> \\<Longrightarrow>\n       Re x \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "have \"\\<bar>Re (s - z)\\<bar> \\<le> norm (s - z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>Re (s - z)\\<bar> \\<le> cmod (s - z)", "by (rule abs_Re_le_cmod)"], ["proof (state)\nthis:\n  \\<bar>Re (s - z)\\<bar> \\<le> cmod (s - z)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> cball z \\<epsilon> \\<Longrightarrow>\n       Re x \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "also"], ["proof (state)\nthis:\n  \\<bar>Re (s - z)\\<bar> \\<le> cmod (s - z)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> cball z \\<epsilon> \\<Longrightarrow>\n       Re x \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "have \"\\<dots> \\<le> \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (s - z) \\<le> \\<epsilon>", "using s"], ["proof (prove)\nusing this:\n  s \\<in> cball z \\<epsilon>\n\ngoal (1 subgoal):\n 1. cmod (s - z) \\<le> \\<epsilon>", "by (simp add: dist_norm norm_minus_commute)"], ["proof (state)\nthis:\n  cmod (s - z) \\<le> \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> cball z \\<epsilon> \\<Longrightarrow>\n       Re x \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "finally"], ["proof (chain)\npicking this:\n  \\<bar>Re (s - z)\\<bar> \\<le> \\<epsilon>", "show \"Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}\""], ["proof (prove)\nusing this:\n  \\<bar>Re (s - z)\\<bar> \\<le> \\<epsilon>\n\ngoal (1 subgoal):\n 1. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "by auto"], ["proof (state)\nthis:\n  Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  cball z \\<epsilon>\n  \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\n\ngoal (3 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel\n            (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1)))\n            (f z)) holomorphic_on\n       {z. - 2 < Re z}\n 3. \\<And>x.\n       x \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       \\<exists>d>0.\n          cball x d \\<subseteq> {z. - 2 < Re z} \\<and>\n          uniform_limit (cball x d)\n           (\\<lambda>n z.\n               complex_interval_lebesgue_integral lborel\n                (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1))) (f z))\n           (\\<lambda>z.\n               complex_interval_lebesgue_integral lborel 0\n                (ereal (exp (- 1))) (f z))\n           sequentially", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d>0.\n       cball z d \\<subseteq> {z. - 2 < Re z} \\<and>\n       uniform_limit (cball z d)\n        (\\<lambda>n z.\n            complex_interval_lebesgue_integral lborel\n             (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1))) (f z))\n        (\\<lambda>z.\n            complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n             (f z))\n        sequentially", "proof (rule exI[of _ \\<epsilon>], intro conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. 0 < \\<epsilon>\n 2. cball z \\<epsilon> \\<subseteq> {z. - 2 < Re z}\n 3. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n          (ereal (exp (- 1))) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z))\n     sequentially", "have \"cball z \\<epsilon> \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cball z \\<epsilon>\n    \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}", "by fact"], ["proof (state)\nthis:\n  cball z \\<epsilon>\n  \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\n\ngoal (3 subgoals):\n 1. 0 < \\<epsilon>\n 2. cball z \\<epsilon> \\<subseteq> {z. - 2 < Re z}\n 3. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n          (ereal (exp (- 1))) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z))\n     sequentially", "also"], ["proof (state)\nthis:\n  cball z \\<epsilon>\n  \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\n\ngoal (3 subgoals):\n 1. 0 < \\<epsilon>\n 2. cball z \\<epsilon> \\<subseteq> {z. - 2 < Re z}\n 3. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n          (ereal (exp (- 1))) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z))\n     sequentially", "have \"\\<dots> \\<subseteq> {s. Re s > -2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\n    \\<subseteq> {s. - 2 < Re s}", "using 3"], ["proof (prove)\nusing this:\n  z \\<in> {z. - 2 < Re z}\n\ngoal (1 subgoal):\n 1. {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\n    \\<subseteq> {s. - 2 < Re s}", "by (auto simp: \\<epsilon>_def field_simps)"], ["proof (state)\nthis:\n  {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\n  \\<subseteq> {s. - 2 < Re s}\n\ngoal (3 subgoals):\n 1. 0 < \\<epsilon>\n 2. cball z \\<epsilon> \\<subseteq> {z. - 2 < Re z}\n 3. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n          (ereal (exp (- 1))) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z))\n     sequentially", "finally"], ["proof (chain)\npicking this:\n  cball z \\<epsilon> \\<subseteq> {s. - 2 < Re s}", "show \"cball z \\<epsilon> \\<subseteq> {s. Re s > -2}\""], ["proof (prove)\nusing this:\n  cball z \\<epsilon> \\<subseteq> {s. - 2 < Re s}\n\ngoal (1 subgoal):\n 1. cball z \\<epsilon> \\<subseteq> {s. - 2 < Re s}", "."], ["proof (state)\nthis:\n  cball z \\<epsilon> \\<subseteq> {s. - 2 < Re s}\n\ngoal (2 subgoals):\n 1. 0 < \\<epsilon>\n 2. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n          (ereal (exp (- 1))) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z))\n     sequentially", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 < \\<epsilon>\n 2. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n          (ereal (exp (- 1))) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z))\n     sequentially", "from 3"], ["proof (chain)\npicking this:\n  z \\<in> {z. - 2 < Re z}", "have \"Re z - \\<epsilon> > -2\""], ["proof (prove)\nusing this:\n  z \\<in> {z. - 2 < Re z}\n\ngoal (1 subgoal):\n 1. - 2 < Re z - \\<epsilon>", "by (simp add: \\<epsilon>_def field_simps)"], ["proof (state)\nthis:\n  - 2 < Re z - \\<epsilon>\n\ngoal (2 subgoals):\n 1. 0 < \\<epsilon>\n 2. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n          (ereal (exp (- 1))) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z))\n     sequentially", "thus \"uniform_limit (cball z \\<epsilon>) (\\<lambda>n z. LBINT u=ereal ((1 / 2) ^ Suc n)..ereal (exp (- 1)). f z u)\n            (\\<lambda>z. LBINT u=0..ereal (exp(-1)). f z u) sequentially\""], ["proof (prove)\nusing this:\n  - 2 < Re z - \\<epsilon>\n\ngoal (1 subgoal):\n 1. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n          (ereal (exp (- 1))) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z))\n     sequentially", "using uniform_limit_on_subset[OF uniform_limit1' subset]"], ["proof (prove)\nusing this:\n  - 2 < Re z - \\<epsilon>\n  - 2 < Re z - \\<epsilon> \\<Longrightarrow>\n  uniform_limit (cball z \\<epsilon>)\n   (\\<lambda>n z.\n       complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n        (ereal (exp (- 1))) (f z))\n   (\\<lambda>z.\n       complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n        (f z))\n   sequentially\n\ngoal (1 subgoal):\n 1. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n          (ereal (exp (- 1))) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z))\n     sequentially", "by simp"], ["proof (state)\nthis:\n  uniform_limit (cball z \\<epsilon>)\n   (\\<lambda>n z.\n       complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n        (ereal (exp (- 1))) (f z))\n   (\\<lambda>z.\n       complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n        (f z))\n   sequentially\n\ngoal (1 subgoal):\n 1. 0 < \\<epsilon>", "qed fact+"], ["proof (state)\nthis:\n  \\<exists>d>0.\n     cball z d \\<subseteq> {z. - 2 < Re z} \\<and>\n     uniform_limit (cball z d)\n      (\\<lambda>n z.\n          complex_interval_lebesgue_integral lborel\n           (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1))) (f z))\n      (\\<lambda>z.\n          complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n           (f z))\n      sequentially\n\ngoal (2 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel\n            (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1)))\n            (f z)) holomorphic_on\n       {z. - 2 < Re z}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel\n            (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1)))\n            (f z)) holomorphic_on\n       {z. - 2 < Re z}", "fix n :: nat"], ["proof (state)\ngoal (2 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel\n            (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1)))\n            (f z)) holomorphic_on\n       {z. - 2 < Re z}", "have \"(1 / 2) ^ Suc n < (1 / 2 :: real) ^ 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1 / 2) ^ Suc n < (1 / 2) ^ 0", "by (subst power_strict_decreasing_iff) auto"], ["proof (state)\nthis:\n  (1 / 2) ^ Suc n < (1 / 2) ^ 0\n\ngoal (2 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel\n            (ereal ((1 / 2) ^ Suc n)) (ereal (exp (- 1)))\n            (f z)) holomorphic_on\n       {z. - 2 < Re z}", "thus \"(\\<lambda>z. LBINT u=ereal ((1 / 2) ^ Suc n)..ereal (exp (- 1)). f z u) holomorphic_on {z. Re z > -2}\""], ["proof (prove)\nusing this:\n  (1 / 2) ^ Suc n < (1 / 2) ^ 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n         (ereal (exp (- 1))) (f z)) holomorphic_on\n    {z. - 2 < Re z}", "by (intro integral_holo) auto"], ["proof (state)\nthis:\n  (\\<lambda>z.\n      complex_interval_lebesgue_integral lborel (ereal ((1 / 2) ^ Suc n))\n       (ereal (exp (- 1))) (f z)) holomorphic_on\n  {z. - 2 < Re z}\n\ngoal (1 subgoal):\n 1. open {z. - 2 < Re z}", "qed (auto simp: open_halfspace_Re_gt)"], ["", "lemma holo2: \"(\\<lambda>z. LBINT u=exp (-1)..1. f z u) holomorphic_on {z. Re z > -2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n         (f z)) holomorphic_on\n    {z. - 2 < Re z}", "proof (rule holomorphic_uniform_sequence\n    [where f = \"(\\<lambda>n z. LBINT u=exp (-1)..ereal (1-(1/2)^Suc n). f z u)\"], goal_cases)"], ["proof (state)\ngoal (3 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n            (ereal (1 - (1 / 2) ^ Suc n)) (f z)) holomorphic_on\n       {z. - 2 < Re z}\n 3. \\<And>x.\n       x \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       \\<exists>d>0.\n          cball x d \\<subseteq> {z. - 2 < Re z} \\<and>\n          uniform_limit (cball x d)\n           (\\<lambda>n z.\n               complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n                (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n           (\\<lambda>z.\n               complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n                1 (f z))\n           sequentially", "case (3 z)"], ["proof (state)\nthis:\n  z \\<in> {z. - 2 < Re z}\n\ngoal (3 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n            (ereal (1 - (1 / 2) ^ Suc n)) (f z)) holomorphic_on\n       {z. - 2 < Re z}\n 3. \\<And>x.\n       x \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       \\<exists>d>0.\n          cball x d \\<subseteq> {z. - 2 < Re z} \\<and>\n          uniform_limit (cball x d)\n           (\\<lambda>n z.\n               complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n                (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n           (\\<lambda>z.\n               complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n                1 (f z))\n           sequentially", "define \\<epsilon> where \"\\<epsilon> = (Re z + 2) / 2\""], ["proof (state)\nthis:\n  \\<epsilon> = (Re z + 2) / 2\n\ngoal (3 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n            (ereal (1 - (1 / 2) ^ Suc n)) (f z)) holomorphic_on\n       {z. - 2 < Re z}\n 3. \\<And>x.\n       x \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       \\<exists>d>0.\n          cball x d \\<subseteq> {z. - 2 < Re z} \\<and>\n          uniform_limit (cball x d)\n           (\\<lambda>n z.\n               complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n                (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n           (\\<lambda>z.\n               complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n                1 (f z))\n           sequentially", "from 3"], ["proof (chain)\npicking this:\n  z \\<in> {z. - 2 < Re z}", "have \"\\<epsilon> > 0\""], ["proof (prove)\nusing this:\n  z \\<in> {z. - 2 < Re z}\n\ngoal (1 subgoal):\n 1. 0 < \\<epsilon>", "by (auto simp: \\<epsilon>_def)"], ["proof (state)\nthis:\n  0 < \\<epsilon>\n\ngoal (3 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n            (ereal (1 - (1 / 2) ^ Suc n)) (f z)) holomorphic_on\n       {z. - 2 < Re z}\n 3. \\<And>x.\n       x \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       \\<exists>d>0.\n          cball x d \\<subseteq> {z. - 2 < Re z} \\<and>\n          uniform_limit (cball x d)\n           (\\<lambda>n z.\n               complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n                (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n           (\\<lambda>z.\n               complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n                1 (f z))\n           sequentially", "have subset: \"cball z \\<epsilon> \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cball z \\<epsilon>\n    \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> cball z \\<epsilon> \\<Longrightarrow>\n       Re x \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "fix s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> cball z \\<epsilon> \\<Longrightarrow>\n       Re x \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "assume s: \"s \\<in> cball z \\<epsilon>\""], ["proof (state)\nthis:\n  s \\<in> cball z \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> cball z \\<epsilon> \\<Longrightarrow>\n       Re x \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "have \"\\<bar>Re (s - z)\\<bar> \\<le> norm (s - z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>Re (s - z)\\<bar> \\<le> cmod (s - z)", "by (rule abs_Re_le_cmod)"], ["proof (state)\nthis:\n  \\<bar>Re (s - z)\\<bar> \\<le> cmod (s - z)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> cball z \\<epsilon> \\<Longrightarrow>\n       Re x \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "also"], ["proof (state)\nthis:\n  \\<bar>Re (s - z)\\<bar> \\<le> cmod (s - z)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> cball z \\<epsilon> \\<Longrightarrow>\n       Re x \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "have \"\\<dots> \\<le> \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cmod (s - z) \\<le> \\<epsilon>", "using s"], ["proof (prove)\nusing this:\n  s \\<in> cball z \\<epsilon>\n\ngoal (1 subgoal):\n 1. cmod (s - z) \\<le> \\<epsilon>", "by (simp add: dist_norm norm_minus_commute)"], ["proof (state)\nthis:\n  cmod (s - z) \\<le> \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> cball z \\<epsilon> \\<Longrightarrow>\n       Re x \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "finally"], ["proof (chain)\npicking this:\n  \\<bar>Re (s - z)\\<bar> \\<le> \\<epsilon>", "show \"Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}\""], ["proof (prove)\nusing this:\n  \\<bar>Re (s - z)\\<bar> \\<le> \\<epsilon>\n\ngoal (1 subgoal):\n 1. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}", "by auto"], ["proof (state)\nthis:\n  Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  cball z \\<epsilon>\n  \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\n\ngoal (3 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n            (ereal (1 - (1 / 2) ^ Suc n)) (f z)) holomorphic_on\n       {z. - 2 < Re z}\n 3. \\<And>x.\n       x \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       \\<exists>d>0.\n          cball x d \\<subseteq> {z. - 2 < Re z} \\<and>\n          uniform_limit (cball x d)\n           (\\<lambda>n z.\n               complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n                (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n           (\\<lambda>z.\n               complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n                1 (f z))\n           sequentially", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d>0.\n       cball z d \\<subseteq> {z. - 2 < Re z} \\<and>\n       uniform_limit (cball z d)\n        (\\<lambda>n z.\n            complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n             (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n        (\\<lambda>z.\n            complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n             (f z))\n        sequentially", "proof (rule exI[of _ \\<epsilon>], intro conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. 0 < \\<epsilon>\n 2. cball z \\<epsilon> \\<subseteq> {z. - 2 < Re z}\n 3. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n          (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z))\n     sequentially", "have \"cball z \\<epsilon> \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cball z \\<epsilon>\n    \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}", "by fact"], ["proof (state)\nthis:\n  cball z \\<epsilon>\n  \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\n\ngoal (3 subgoals):\n 1. 0 < \\<epsilon>\n 2. cball z \\<epsilon> \\<subseteq> {z. - 2 < Re z}\n 3. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n          (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z))\n     sequentially", "also"], ["proof (state)\nthis:\n  cball z \\<epsilon>\n  \\<subseteq> {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\n\ngoal (3 subgoals):\n 1. 0 < \\<epsilon>\n 2. cball z \\<epsilon> \\<subseteq> {z. - 2 < Re z}\n 3. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n          (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z))\n     sequentially", "have \"\\<dots> \\<subseteq> {s. Re s > -2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\n    \\<subseteq> {s. - 2 < Re s}", "using 3"], ["proof (prove)\nusing this:\n  z \\<in> {z. - 2 < Re z}\n\ngoal (1 subgoal):\n 1. {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\n    \\<subseteq> {s. - 2 < Re s}", "by (auto simp: \\<epsilon>_def field_simps)"], ["proof (state)\nthis:\n  {s. Re s \\<in> {Re z - \\<epsilon>..Re z + \\<epsilon>}}\n  \\<subseteq> {s. - 2 < Re s}\n\ngoal (3 subgoals):\n 1. 0 < \\<epsilon>\n 2. cball z \\<epsilon> \\<subseteq> {z. - 2 < Re z}\n 3. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n          (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z))\n     sequentially", "finally"], ["proof (chain)\npicking this:\n  cball z \\<epsilon> \\<subseteq> {s. - 2 < Re s}", "show \"cball z \\<epsilon> \\<subseteq> {s. Re s > -2}\""], ["proof (prove)\nusing this:\n  cball z \\<epsilon> \\<subseteq> {s. - 2 < Re s}\n\ngoal (1 subgoal):\n 1. cball z \\<epsilon> \\<subseteq> {s. - 2 < Re s}", "."], ["proof (state)\nthis:\n  cball z \\<epsilon> \\<subseteq> {s. - 2 < Re s}\n\ngoal (2 subgoals):\n 1. 0 < \\<epsilon>\n 2. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n          (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z))\n     sequentially", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 < \\<epsilon>\n 2. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n          (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z))\n     sequentially", "from 3"], ["proof (chain)\npicking this:\n  z \\<in> {z. - 2 < Re z}", "have \"Re z - \\<epsilon> > -2\""], ["proof (prove)\nusing this:\n  z \\<in> {z. - 2 < Re z}\n\ngoal (1 subgoal):\n 1. - 2 < Re z - \\<epsilon>", "by (simp add: \\<epsilon>_def field_simps)"], ["proof (state)\nthis:\n  - 2 < Re z - \\<epsilon>\n\ngoal (2 subgoals):\n 1. 0 < \\<epsilon>\n 2. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n          (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z))\n     sequentially", "thus \"uniform_limit (cball z \\<epsilon>) (\\<lambda>n z. LBINT u=ereal (exp (- 1))..ereal (1-(1/2)^Suc n). f z u)\n            (\\<lambda>z. LBINT u=ereal (exp(-1))..1. f z u) sequentially\""], ["proof (prove)\nusing this:\n  - 2 < Re z - \\<epsilon>\n\ngoal (1 subgoal):\n 1. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n          (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z))\n     sequentially", "using uniform_limit_on_subset[OF uniform_limit2' subset]"], ["proof (prove)\nusing this:\n  - 2 < Re z - \\<epsilon>\n  - 2 < Re z - \\<epsilon> \\<Longrightarrow>\n  uniform_limit (cball z \\<epsilon>)\n   (\\<lambda>n z.\n       complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n        (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n   (\\<lambda>z.\n       complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n        (f z))\n   sequentially\n\ngoal (1 subgoal):\n 1. uniform_limit (cball z \\<epsilon>)\n     (\\<lambda>n z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n          (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n     (\\<lambda>z.\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z))\n     sequentially", "by simp"], ["proof (state)\nthis:\n  uniform_limit (cball z \\<epsilon>)\n   (\\<lambda>n z.\n       complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n        (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n   (\\<lambda>z.\n       complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n        (f z))\n   sequentially\n\ngoal (1 subgoal):\n 1. 0 < \\<epsilon>", "qed fact+"], ["proof (state)\nthis:\n  \\<exists>d>0.\n     cball z d \\<subseteq> {z. - 2 < Re z} \\<and>\n     uniform_limit (cball z d)\n      (\\<lambda>n z.\n          complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n           (ereal (1 - (1 / 2) ^ Suc n)) (f z))\n      (\\<lambda>z.\n          complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n           (f z))\n      sequentially\n\ngoal (2 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n            (ereal (1 - (1 / 2) ^ Suc n)) (f z)) holomorphic_on\n       {z. - 2 < Re z}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n            (ereal (1 - (1 / 2) ^ Suc n)) (f z)) holomorphic_on\n       {z. - 2 < Re z}", "fix n :: nat"], ["proof (state)\ngoal (2 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n            (ereal (1 - (1 / 2) ^ Suc n)) (f z)) holomorphic_on\n       {z. - 2 < Re z}", "have \"(1 / 2) ^ Suc n < (1 / 2 :: real) ^ 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1 / 2) ^ Suc n < (1 / 2) ^ 0", "by (subst power_strict_decreasing_iff) auto"], ["proof (state)\nthis:\n  (1 / 2) ^ Suc n < (1 / 2) ^ 0\n\ngoal (2 subgoals):\n 1. open {z. - 2 < Re z}\n 2. \\<And>n.\n       (\\<lambda>z.\n           complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n            (ereal (1 - (1 / 2) ^ Suc n)) (f z)) holomorphic_on\n       {z. - 2 < Re z}", "thus \"(\\<lambda>z. LBINT u=ereal (exp (-1))..ereal (1-(1/2)^Suc n). f z u) holomorphic_on {z. Re z > -2}\""], ["proof (prove)\nusing this:\n  (1 / 2) ^ Suc n < (1 / 2) ^ 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n         (ereal (1 - (1 / 2) ^ Suc n)) (f z)) holomorphic_on\n    {z. - 2 < Re z}", "by (intro integral_holo) auto"], ["proof (state)\nthis:\n  (\\<lambda>z.\n      complex_interval_lebesgue_integral lborel (ereal (exp (- 1)))\n       (ereal (1 - (1 / 2) ^ Suc n)) (f z)) holomorphic_on\n  {z. - 2 < Re z}\n\ngoal (1 subgoal):\n 1. open {z. - 2 < Re z}", "qed (auto simp: open_halfspace_Re_gt)"], ["", "text \\<open>\n  Finally, we have shown that Hadjicostas's integral is an analytic function\n  of \\<open>z\\<close> in the domain $\\mathfrak{R}(z) > -2$.\n\\<close>"], ["", "lemma holomorphic_Hadjicostas_integral:\n  \"Hadjicostas_integral holomorphic_on {z. Re z > -2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hadjicostas_integral holomorphic_on {z. - 2 < Re z}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Hadjicostas_integral holomorphic_on {z. - 2 < Re z}", "have \"(\\<lambda>z. (LBINT u=0..exp(-1). f z u) + (LBINT u=exp(-1)..1. f z u))\n          holomorphic_on {z. Re z > -2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>z.\n        complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n         (f z) +\n        complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n         (f z)) holomorphic_on\n    {z. - 2 < Re z}", "by (intro holomorphic_intros holo1 holo2)"], ["proof (state)\nthis:\n  (\\<lambda>z.\n      complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n       (f z) +\n      complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n       (f z)) holomorphic_on\n  {z. - 2 < Re z}\n\ngoal (1 subgoal):\n 1. Hadjicostas_integral holomorphic_on {z. - 2 < Re z}", "also"], ["proof (state)\nthis:\n  (\\<lambda>z.\n      complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n       (f z) +\n      complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n       (f z)) holomorphic_on\n  {z. - 2 < Re z}\n\ngoal (1 subgoal):\n 1. Hadjicostas_integral holomorphic_on {z. - 2 < Re z}", "have \"?this \\<longleftrightarrow> (\\<lambda>z. LBINT u=0..1. f z u) holomorphic_on {z. Re z > -2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z) +\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z)) holomorphic_on\n     {z. - 2 < Re z}) =\n    ((\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 1 (f z)) holomorphic_on\n     {z. - 2 < Re z})", "using Hadjicostas_integral_integrable"], ["proof (prove)\nusing this:\n  - 2 < Re ?z \\<Longrightarrow>\n  complex_interval_lebesgue_integrable lborel 0 1 (f ?z)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n          (f z) +\n         complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n          (f z)) holomorphic_on\n     {z. - 2 < Re z}) =\n    ((\\<lambda>z.\n         complex_interval_lebesgue_integral lborel 0 1 (f z)) holomorphic_on\n     {z. - 2 < Re z})", "by (intro holomorphic_cong interval_integral_sum)\n       (simp_all add: zero_ereal_def one_ereal_def min_def max_def)"], ["proof (state)\nthis:\n  ((\\<lambda>z.\n       complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n        (f z) +\n       complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n        (f z)) holomorphic_on\n   {z. - 2 < Re z}) =\n  ((\\<lambda>z.\n       complex_interval_lebesgue_integral lborel 0 1 (f z)) holomorphic_on\n   {z. - 2 < Re z})\n\ngoal (1 subgoal):\n 1. Hadjicostas_integral holomorphic_on {z. - 2 < Re z}", "also"], ["proof (state)\nthis:\n  ((\\<lambda>z.\n       complex_interval_lebesgue_integral lborel 0 (ereal (exp (- 1)))\n        (f z) +\n       complex_interval_lebesgue_integral lborel (ereal (exp (- 1))) 1\n        (f z)) holomorphic_on\n   {z. - 2 < Re z}) =\n  ((\\<lambda>z.\n       complex_interval_lebesgue_integral lborel 0 1 (f z)) holomorphic_on\n   {z. - 2 < Re z})\n\ngoal (1 subgoal):\n 1. Hadjicostas_integral holomorphic_on {z. - 2 < Re z}", "have \"(\\<lambda>z. LBINT u=0..1. f z u) = Hadjicostas_integral\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>z. complex_interval_lebesgue_integral lborel 0 1 (f z)) =\n    Hadjicostas_integral", "by (simp add: Hadjicostas_integral_def[abs_def] f_def)"], ["proof (state)\nthis:\n  (\\<lambda>z. complex_interval_lebesgue_integral lborel 0 1 (f z)) =\n  Hadjicostas_integral\n\ngoal (1 subgoal):\n 1. Hadjicostas_integral holomorphic_on {z. - 2 < Re z}", "finally"], ["proof (chain)\npicking this:\n  Hadjicostas_integral holomorphic_on {z. - 2 < Re z}", "show ?thesis"], ["proof (prove)\nusing this:\n  Hadjicostas_integral holomorphic_on {z. - 2 < Re z}\n\ngoal (1 subgoal):\n 1. Hadjicostas_integral holomorphic_on {z. - 2 < Re z}", "."], ["proof (state)\nthis:\n  Hadjicostas_integral holomorphic_on {z. - 2 < Re z}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma analytic_Hadjicostas_integral:\n  \"Hadjicostas_integral analytic_on {z. Re z > -2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hadjicostas_integral analytic_on {z. - 2 < Re z}", "by (simp add: analytic_on_open open_halfspace_Re_gt holomorphic_Hadjicostas_integral)"], ["", "end"], ["", "subsection \\<open>Analytic continuation and main result\\<close>"], ["", "text \\<open>\n  Since we have already shown the formula for any real \\<open>z > -1\\<close> and e.\\,g.\\ 0 is a limit\n  point of that set, it extends to the full domain by analytic continuation.\n\n  As a caveat, note that $\\zeta(s)$ is \\<^emph>\\<open>not\\<close> analytic at \\<open>z = 1\\<close>, so that we use\n  an analytic continuation of $\\zeta(z) - \\frac{1}{z-1}$ to state the formula. This\n  continuation is @{term \"pre_zeta 1\"}.\n\\<close>"], ["", "lemma Hadjicostas_Chapman_formula_aux:\n  assumes z: \"Re z > -2\"\n  shows   \"Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\"\n    (is \"_ z = ?f z\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)", "proof (rule analytic_continuation'[of Hadjicostas_integral])"], ["proof (state)\ngoal (9 subgoals):\n 1. Hadjicostas_integral holomorphic_on ?S\n 2. (\\<lambda>a. Gamma (a + 2) * pre_zeta 1 (a + 2)) holomorphic_on ?S\n 3. open ?S\n 4. connected ?S\n 5. ?U \\<subseteq> ?S\n 6. ?\\<xi> \\<in> ?S\n 7. ?\\<xi> islimpt ?U\n 8. \\<And>z.\n       z \\<in> ?U \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 9. z \\<in> ?S", "show \"Hadjicostas_integral holomorphic_on {z. Re z > -2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hadjicostas_integral holomorphic_on {z. - 2 < Re z}", "by (rule holomorphic_Hadjicostas_integral)"], ["proof (state)\nthis:\n  Hadjicostas_integral holomorphic_on {z. - 2 < Re z}\n\ngoal (8 subgoals):\n 1. (\\<lambda>a. Gamma (a + 2) * pre_zeta 1 (a + 2)) holomorphic_on\n    {z. - 2 < Re z}\n 2. open {z. - 2 < Re z}\n 3. connected {z. - 2 < Re z}\n 4. ?U \\<subseteq> {z. - 2 < Re z}\n 5. ?\\<xi> \\<in> {z. - 2 < Re z}\n 6. ?\\<xi> islimpt ?U\n 7. \\<And>z.\n       z \\<in> ?U \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 8. z \\<in> {z. - 2 < Re z}", "show \"connected {z. Re z > -2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. connected {z. - 2 < Re z}", "by (intro convex_connected convex_halfspace_Re_gt)"], ["proof (state)\nthis:\n  connected {z. - 2 < Re z}\n\ngoal (7 subgoals):\n 1. (\\<lambda>a. Gamma (a + 2) * pre_zeta 1 (a + 2)) holomorphic_on\n    {z. - 2 < Re z}\n 2. open {z. - 2 < Re z}\n 3. ?U \\<subseteq> {z. - 2 < Re z}\n 4. ?\\<xi> \\<in> {z. - 2 < Re z}\n 5. ?\\<xi> islimpt ?U\n 6. \\<And>z.\n       z \\<in> ?U \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 7. z \\<in> {z. - 2 < Re z}", "show \"open {z. Re z > -2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open {z. - 2 < Re z}", "by (auto simp: open_halfspace_Re_gt)"], ["proof (state)\nthis:\n  open {z. - 2 < Re z}\n\ngoal (6 subgoals):\n 1. (\\<lambda>a. Gamma (a + 2) * pre_zeta 1 (a + 2)) holomorphic_on\n    {z. - 2 < Re z}\n 2. ?U \\<subseteq> {z. - 2 < Re z}\n 3. ?\\<xi> \\<in> {z. - 2 < Re z}\n 4. ?\\<xi> islimpt ?U\n 5. \\<And>z.\n       z \\<in> ?U \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 6. z \\<in> {z. - 2 < Re z}", "show \"{z. Re z > -1 \\<and> Im z = 0} \\<subseteq> {z. Re z > -2}\" and \"0 \\<in> {z. Re z > -2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {z. - 1 < Re z \\<and> Im z = 0} \\<subseteq> {z. - 2 < Re z} &&&\n    0 \\<in> {z. - 2 < Re z}", "by auto"], ["proof (state)\nthis:\n  {z. - 1 < Re z \\<and> Im z = 0} \\<subseteq> {z. - 2 < Re z}\n  0 \\<in> {z. - 2 < Re z}\n\ngoal (4 subgoals):\n 1. (\\<lambda>a. Gamma (a + 2) * pre_zeta 1 (a + 2)) holomorphic_on\n    {z. - 2 < Re z}\n 2. 0 islimpt {z. - 1 < Re z \\<and> Im z = 0}\n 3. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 4. z \\<in> {z. - 2 < Re z}", "have \"\\<forall>n. 1 / (of_nat (Suc n)) \\<in> {z. Re z > -1 \\<and> Im z = 0} - {0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       1 / of_nat (Suc n) \\<in> {z. - 1 < Re z \\<and> Im z = 0} - {0}", "by (auto simp: field_simps simp flip: of_nat_Suc)"], ["proof (state)\nthis:\n  \\<forall>n. 1 / of_nat (Suc n) \\<in> {z. - 1 < Re z \\<and> Im z = 0} - {0}\n\ngoal (4 subgoals):\n 1. (\\<lambda>a. Gamma (a + 2) * pre_zeta 1 (a + 2)) holomorphic_on\n    {z. - 2 < Re z}\n 2. 0 islimpt {z. - 1 < Re z \\<and> Im z = 0}\n 3. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 4. z \\<in> {z. - 2 < Re z}", "moreover"], ["proof (state)\nthis:\n  \\<forall>n. 1 / of_nat (Suc n) \\<in> {z. - 1 < Re z \\<and> Im z = 0} - {0}\n\ngoal (4 subgoals):\n 1. (\\<lambda>a. Gamma (a + 2) * pre_zeta 1 (a + 2)) holomorphic_on\n    {z. - 2 < Re z}\n 2. 0 islimpt {z. - 1 < Re z \\<and> Im z = 0}\n 3. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 4. z \\<in> {z. - 2 < Re z}", "have \"(\\<lambda>n. 1 / of_nat (Suc n) :: complex) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. 1 / of_nat (Suc n)) \\<longlonglongrightarrow> 0", "by (rule tendsto_divide_0[OF tendsto_const] filterlim_compose[OF tendsto_of_nat] filterlim_Suc)+"], ["proof (state)\nthis:\n  (\\<lambda>n. 1 / of_nat (Suc n)) \\<longlonglongrightarrow> 0\n\ngoal (4 subgoals):\n 1. (\\<lambda>a. Gamma (a + 2) * pre_zeta 1 (a + 2)) holomorphic_on\n    {z. - 2 < Re z}\n 2. 0 islimpt {z. - 1 < Re z \\<and> Im z = 0}\n 3. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 4. z \\<in> {z. - 2 < Re z}", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>n. 1 / of_nat (Suc n) \\<in> {z. - 1 < Re z \\<and> Im z = 0} - {0}\n  (\\<lambda>n. 1 / of_nat (Suc n)) \\<longlonglongrightarrow> 0", "show \"0 islimpt {z. Re z > -1 \\<and> Im z = 0}\""], ["proof (prove)\nusing this:\n  \\<forall>n. 1 / of_nat (Suc n) \\<in> {z. - 1 < Re z \\<and> Im z = 0} - {0}\n  (\\<lambda>n. 1 / of_nat (Suc n)) \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. 0 islimpt {z. - 1 < Re z \\<and> Im z = 0}", "unfolding islimpt_sequential"], ["proof (prove)\nusing this:\n  \\<forall>n. 1 / of_nat (Suc n) \\<in> {z. - 1 < Re z \\<and> Im z = 0} - {0}\n  (\\<lambda>n. 1 / of_nat (Suc n)) \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<exists>f.\n       (\\<forall>n. f n \\<in> {z. - 1 < Re z \\<and> Im z = 0} - {0}) \\<and>\n       f \\<longlonglongrightarrow> 0", "by (intro exI[of _ \"\\<lambda>n. 1 / of_nat (Suc n) :: complex\"]) simp"], ["proof (state)\nthis:\n  0 islimpt {z. - 1 < Re z \\<and> Im z = 0}\n\ngoal (3 subgoals):\n 1. (\\<lambda>a. Gamma (a + 2) * pre_zeta 1 (a + 2)) holomorphic_on\n    {z. - 2 < Re z}\n 2. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 3. z \\<in> {z. - 2 < Re z}", "show \"?f holomorphic_on {z. - 2 < Re z}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>a. Gamma (a + 2) * pre_zeta 1 (a + 2)) holomorphic_on\n    {z. - 2 < Re z}", "proof (intro holomorphic_intros)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       z + 2 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0\n 2. 0 < 1", "fix z"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       z + 2 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0\n 2. 0 < 1", "assume z: \"z \\<in> {z. Re z > -2}\""], ["proof (state)\nthis:\n  z \\<in> {z. - 2 < Re z}\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       z + 2 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0\n 2. 0 < 1", "hence \"z + 2 \\<notin> \\<real>\\<^sub>\\<le>\\<^sub>0\""], ["proof (prove)\nusing this:\n  z \\<in> {z. - 2 < Re z}\n\ngoal (1 subgoal):\n 1. z + 2 \\<notin> \\<real>\\<^sub>\\<le>\\<^sub>0", "by (auto elim!: nonpos_Reals_cases simp: complex_eq_iff)"], ["proof (state)\nthis:\n  z + 2 \\<notin> \\<real>\\<^sub>\\<le>\\<^sub>0\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 2 < Re z} \\<Longrightarrow>\n       z + 2 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0\n 2. 0 < 1", "thus \"z + 2 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0\""], ["proof (prove)\nusing this:\n  z + 2 \\<notin> \\<real>\\<^sub>\\<le>\\<^sub>0\n\ngoal (1 subgoal):\n 1. z + 2 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0", "using nonpos_Ints_subset_nonpos_Reals"], ["proof (prove)\nusing this:\n  z + 2 \\<notin> \\<real>\\<^sub>\\<le>\\<^sub>0\n  \\<int>\\<^sub>\\<le>\\<^sub>0 \\<subseteq> \\<real>\\<^sub>\\<le>\\<^sub>0\n\ngoal (1 subgoal):\n 1. z + 2 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0", "by blast"], ["proof (state)\nthis:\n  z + 2 \\<notin> \\<int>\\<^sub>\\<le>\\<^sub>0\n\ngoal (1 subgoal):\n 1. 0 < 1", "qed auto"], ["proof (state)\nthis:\n  (\\<lambda>a. Gamma (a + 2) * pre_zeta 1 (a + 2)) holomorphic_on\n  {z. - 2 < Re z}\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "fix s"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "assume s: \"s \\<in> {z. - 1 < Re z \\<and> Im z = 0}\""], ["proof (state)\nthis:\n  s \\<in> {z. - 1 < Re z \\<and> Im z = 0}\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "hence \"s + 2 \\<noteq> 1\""], ["proof (prove)\nusing this:\n  s \\<in> {z. - 1 < Re z \\<and> Im z = 0}\n\ngoal (1 subgoal):\n 1. s + 2 \\<noteq> 1", "by (simp add: algebra_simps complex_eq_iff)"], ["proof (state)\nthis:\n  s + 2 \\<noteq> 1\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "have ineq: \"x - ln x \\<ge> 1\" if \"x \\<in> {0<..<1}\" for x :: real"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> x - ln x", "using ln_le_minus_one[of x] that"], ["proof (prove)\nusing this:\n  0 < x \\<Longrightarrow> ln x \\<le> x - 1\n  x \\<in> {0<..<1}\n\ngoal (1 subgoal):\n 1. 1 \\<le> x - ln x", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  ?x \\<in> {0<..<1} \\<Longrightarrow> 1 \\<le> ?x - ln ?x\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "define x where \"x = Re s\""], ["proof (state)\nthis:\n  x = Re s\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "from s"], ["proof (chain)\npicking this:\n  s \\<in> {z. - 1 < Re z \\<and> Im z = 0}", "have x: \"x > -1\" and [simp]: \"s = of_real x\""], ["proof (prove)\nusing this:\n  s \\<in> {z. - 1 < Re z \\<and> Im z = 0}\n\ngoal (1 subgoal):\n 1. - 1 < x &&& s = complex_of_real x", "by (auto simp: x_def complex_eq_iff)"], ["proof (state)\nthis:\n  - 1 < x\n  s = complex_of_real x\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "have \"Hadjicostas_integral s = (LBINT u=0..1. of_real ((-ln u) powr x / (1-u) * (-ln u + u - 1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hadjicostas_integral s =\n    CLBINT u=0..1. complex_of_real\n                    ((- ln u) powr x / (1 - u) * (- ln u + u - 1))", "unfolding Hadjicostas_integral_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. CLBINT u=0..1. complex_of_real (- ln u) powr s /\n                   complex_of_real (1 - u) *\n                   complex_of_real (- ln u + u - 1) =\n    CLBINT u=0..1. complex_of_real\n                    ((- ln u) powr x / (1 - u) * (- ln u + u - 1))", "by (intro interval_lebesgue_integral_cong) (auto simp: einterval_def powr_Reals_eq)"], ["proof (state)\nthis:\n  Hadjicostas_integral s =\n  CLBINT u=0..1. complex_of_real\n                  ((- ln u) powr x / (1 - u) * (- ln u + u - 1))\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "also"], ["proof (state)\nthis:\n  Hadjicostas_integral s =\n  CLBINT u=0..1. complex_of_real\n                  ((- ln u) powr x / (1 - u) * (- ln u + u - 1))\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "have \"\\<dots> = of_real (LBINT u=0..1. (-ln u) powr x / (1-u) * (-ln u + u - 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CLBINT u=0..1. complex_of_real\n                    ((- ln u) powr x / (1 - u) * (- ln u + u - 1)) =\n    complex_of_real\n     (LBINT u=0..1. (- ln u) powr x / (1 - u) * (- ln u + u - 1))", "by (subst interval_lebesgue_integral_of_real) auto"], ["proof (state)\nthis:\n  CLBINT u=0..1. complex_of_real\n                  ((- ln u) powr x / (1 - u) * (- ln u + u - 1)) =\n  complex_of_real\n   (LBINT u=0..1. (- ln u) powr x / (1 - u) * (- ln u + u - 1))\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "also"], ["proof (state)\nthis:\n  CLBINT u=0..1. complex_of_real\n                  ((- ln u) powr x / (1 - u) * (- ln u + u - 1)) =\n  complex_of_real\n   (LBINT u=0..1. (- ln u) powr x / (1 - u) * (- ln u + u - 1))\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "have \"(LBINT u=0..1. (- ln u) powr x / (1 - u) * (- ln u + u - 1)) =\n             (\\<integral>u. (- ln u) powr x / (1-u) * (- ln u + u - 1) * indicator {0<..<1} u \\<partial>lborel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. LBINT u=0..1. (- ln u) powr x / (1 - u) * (- ln u + u - 1) =\n    LBINT u.\n      (- ln u) powr x / (1 - u) * (- ln u + u - 1) * indicat_real {0<..<1} u", "by (simp add: interval_integral_Ioo zero_ereal_def one_ereal_def set_lebesgue_integral_def mult_ac)"], ["proof (state)\nthis:\n  LBINT u=0..1. (- ln u) powr x / (1 - u) * (- ln u + u - 1) =\n  LBINT u.\n    (- ln u) powr x / (1 - u) * (- ln u + u - 1) * indicat_real {0<..<1} u\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "also"], ["proof (state)\nthis:\n  LBINT u=0..1. (- ln u) powr x / (1 - u) * (- ln u + u - 1) =\n  LBINT u.\n    (- ln u) powr x / (1 - u) * (- ln u + u - 1) * indicat_real {0<..<1} u\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "have \"\\<dots> = enn2real (Hadjicostas_nn_integral x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. LBINT u.\n      (- ln u) powr x / (1 - u) * (- ln u + u - 1) *\n      indicat_real {0<..<1} u =\n    enn2real (Hadjicostas_nn_integral x)", "unfolding Hadjicostas_nn_integral_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. LBINT u.\n      (- ln u) powr x / (1 - u) * (- ln u + u - 1) *\n      indicat_real {0<..<1} u =\n    enn2real\n     (\\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n                         ennreal\n                          ((- ln xa) powr x / (1 - xa) * (- ln xa + xa - 1))\n      \\<partial>lborel)", "using ineq"], ["proof (prove)\nusing this:\n  ?x \\<in> {0<..<1} \\<Longrightarrow> 1 \\<le> ?x - ln ?x\n\ngoal (1 subgoal):\n 1. LBINT u.\n      (- ln u) powr x / (1 - u) * (- ln u + u - 1) *\n      indicat_real {0<..<1} u =\n    enn2real\n     (\\<integral>\\<^sup>+xa\\<in>{0<..<1}.\n                         ennreal\n                          ((- ln xa) powr x / (1 - xa) * (- ln xa + xa - 1))\n      \\<partial>lborel)", "by (subst integral_eq_nn_integral)\n       (auto intro!: AE_I2 divide_nonneg_nonneg mult_nonneg_nonneg arg_cong[where f = enn2real]\n               nn_integral_cong simp: indicator_def)"], ["proof (state)\nthis:\n  LBINT u.\n    (- ln u) powr x / (1 - u) * (- ln u + u - 1) * indicat_real {0<..<1} u =\n  enn2real (Hadjicostas_nn_integral x)\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "also"], ["proof (state)\nthis:\n  LBINT u.\n    (- ln u) powr x / (1 - u) * (- ln u + u - 1) * indicat_real {0<..<1} u =\n  enn2real (Hadjicostas_nn_integral x)\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "have \"\\<dots> = enn2real (ennreal (Gamma (x + 2) * (Re (zeta (x + 2)) - 1 / (x + 1))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. enn2real (Hadjicostas_nn_integral x) =\n    enn2real\n     (ennreal\n       (Gamma (x + 2) *\n        (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1))))", "using x"], ["proof (prove)\nusing this:\n  - 1 < x\n\ngoal (1 subgoal):\n 1. enn2real (Hadjicostas_nn_integral x) =\n    enn2real\n     (ennreal\n       (Gamma (x + 2) *\n        (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1))))", "by (subst Hadjicostas_Chapman_formula_real) auto"], ["proof (state)\nthis:\n  enn2real (Hadjicostas_nn_integral x) =\n  enn2real\n   (ennreal\n     (Gamma (x + 2) * (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1))))\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "also"], ["proof (state)\nthis:\n  enn2real (Hadjicostas_nn_integral x) =\n  enn2real\n   (ennreal\n     (Gamma (x + 2) * (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1))))\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "have \"\\<dots> = Gamma (x + 2) * (Re (zeta (x + 2)) - 1 / (x + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. enn2real\n     (ennreal\n       (Gamma (x + 2) *\n        (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1)))) =\n    Gamma (x + 2) * (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1))", "using x real_zeta_ge_one_over_minus_one[of \"x + 2\"]"], ["proof (prove)\nusing this:\n  - 1 < x\n  1 < x + 2 \\<Longrightarrow>\n  1 / (x + 2 - 1) \\<le> Re (zeta (complex_of_real (x + 2)))\n\ngoal (1 subgoal):\n 1. enn2real\n     (ennreal\n       (Gamma (x + 2) *\n        (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1)))) =\n    Gamma (x + 2) * (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1))", "by (intro enn2real_ennreal mult_nonneg_nonneg Gamma_real_nonneg) (auto simp: add_ac)"], ["proof (state)\nthis:\n  enn2real\n   (ennreal\n     (Gamma (x + 2) *\n      (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1)))) =\n  Gamma (x + 2) * (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1))\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "also"], ["proof (state)\nthis:\n  enn2real\n   (ennreal\n     (Gamma (x + 2) *\n      (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1)))) =\n  Gamma (x + 2) * (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1))\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "have \"complex_of_real \\<dots> = Gamma (s + 2) * (zeta (s + 2) -  1 / (s + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_of_real\n     (Gamma (x + 2) * (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1))) =\n    Gamma (s + 2) * (zeta (s + 2) - 1 / (s + 1))", "using x Gamma_complex_of_real[of \"x + 2\"]"], ["proof (prove)\nusing this:\n  - 1 < x\n  Gamma (complex_of_real (x + 2)) = complex_of_real (Gamma (x + 2))\n\ngoal (1 subgoal):\n 1. complex_of_real\n     (Gamma (x + 2) * (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1))) =\n    Gamma (s + 2) * (zeta (s + 2) - 1 / (s + 1))", "by (simp add: zeta_real')"], ["proof (state)\nthis:\n  complex_of_real\n   (Gamma (x + 2) * (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1))) =\n  Gamma (s + 2) * (zeta (s + 2) - 1 / (s + 1))\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "also"], ["proof (state)\nthis:\n  complex_of_real\n   (Gamma (x + 2) * (Re (zeta (complex_of_real (x + 2))) - 1 / (x + 1))) =\n  Gamma (s + 2) * (zeta (s + 2) - 1 / (s + 1))\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "have \"(zeta (s + 2) -  1 / (s + 1)) = pre_zeta 1 (s + 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. zeta (s + 2) - 1 / (s + 1) = pre_zeta 1 (s + 2)", "using \\<open>s + 2 \\<noteq> 1\\<close>"], ["proof (prove)\nusing this:\n  s + 2 \\<noteq> 1\n\ngoal (1 subgoal):\n 1. zeta (s + 2) - 1 / (s + 1) = pre_zeta 1 (s + 2)", "by (subst zeta_minus_pole_eq [symmetric]) (auto simp flip: of_nat_Suc)"], ["proof (state)\nthis:\n  zeta (s + 2) - 1 / (s + 1) = pre_zeta 1 (s + 2)\n\ngoal (2 subgoals):\n 1. \\<And>z.\n       z \\<in> {z. - 1 < Re z \\<and> Im z = 0} \\<Longrightarrow>\n       Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n 2. z \\<in> {z. - 2 < Re z}", "finally"], ["proof (chain)\npicking this:\n  Hadjicostas_integral s = Gamma (s + 2) * pre_zeta 1 (s + 2)", "show \"Hadjicostas_integral s = Gamma (s + 2) * pre_zeta 1 (s + 2)\""], ["proof (prove)\nusing this:\n  Hadjicostas_integral s = Gamma (s + 2) * pre_zeta 1 (s + 2)\n\ngoal (1 subgoal):\n 1. Hadjicostas_integral s = Gamma (s + 2) * pre_zeta 1 (s + 2)", "."], ["proof (state)\nthis:\n  Hadjicostas_integral s = Gamma (s + 2) * pre_zeta 1 (s + 2)\n\ngoal (1 subgoal):\n 1. z \\<in> {z. - 2 < Re z}", "qed (use assms in auto)"], ["", "text \\<open>\n  The following form and the corollary are perhaps a bit nicer to read.\n\\<close>"], ["", "theorem Hadjicostas_Chapman_formula:\n  assumes z: \"Re z > -2\" \"z \\<noteq> -1\"\n  shows   \"Hadjicostas_integral z = Gamma (z + 2) * (zeta (z + 2) - 1 / (z + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hadjicostas_integral z = Gamma (z + 2) * (zeta (z + 2) - 1 / (z + 1))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Hadjicostas_integral z = Gamma (z + 2) * (zeta (z + 2) - 1 / (z + 1))", "from z"], ["proof (chain)\npicking this:\n  - 2 < Re z\n  z \\<noteq> - 1", "have \"z + 1 \\<noteq> 0\""], ["proof (prove)\nusing this:\n  - 2 < Re z\n  z \\<noteq> - 1\n\ngoal (1 subgoal):\n 1. z + 1 \\<noteq> 0", "by (auto simp: complex_eq_iff)"], ["proof (state)\nthis:\n  z + 1 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. Hadjicostas_integral z = Gamma (z + 2) * (zeta (z + 2) - 1 / (z + 1))", "thus ?thesis"], ["proof (prove)\nusing this:\n  z + 1 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. Hadjicostas_integral z = Gamma (z + 2) * (zeta (z + 2) - 1 / (z + 1))", "using Hadjicostas_Chapman_formula_aux[of z] assms"], ["proof (prove)\nusing this:\n  z + 1 \\<noteq> 0\n  - 2 < Re z \\<Longrightarrow>\n  Hadjicostas_integral z = Gamma (z + 2) * pre_zeta 1 (z + 2)\n  - 2 < Re z\n  z \\<noteq> - 1\n\ngoal (1 subgoal):\n 1. Hadjicostas_integral z = Gamma (z + 2) * (zeta (z + 2) - 1 / (z + 1))", "by (subst (asm) zeta_minus_pole_eq [symmetric]) (auto simp: add_ac)"], ["proof (state)\nthis:\n  Hadjicostas_integral z = Gamma (z + 2) * (zeta (z + 2) - 1 / (z + 1))\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary euler_mascheroni_integral_form:\n  \"Hadjicostas_integral (-1) = euler_mascheroni\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hadjicostas_integral (- 1) = euler_mascheroni", "using Hadjicostas_Chapman_formula_aux[of \"-1\"]"], ["proof (prove)\nusing this:\n  - 2 < Re (- 1) \\<Longrightarrow>\n  Hadjicostas_integral (- 1) = Gamma (- 1 + 2) * pre_zeta 1 (- 1 + 2)\n\ngoal (1 subgoal):\n 1. Hadjicostas_integral (- 1) = euler_mascheroni", "by simp"], ["", "end"]]}