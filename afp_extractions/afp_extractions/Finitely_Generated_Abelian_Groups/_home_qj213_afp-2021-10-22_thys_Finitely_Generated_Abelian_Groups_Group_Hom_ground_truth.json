{"file_name": "/home/qj213/afp-2021-10-22/thys/Finitely_Generated_Abelian_Groups/Group_Hom.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Finitely_Generated_Abelian_Groups", "problem_names": ["lemma (in group_hom) generate_hom:\n  assumes \"A \\<subseteq> carrier G\"\n  shows \"h ` (generate G A) = generate H (h ` A)\"", "lemma (in group_hom) kernel_assoc_elem:\n  assumes \"x \\<in> carrier G\" \"y \\<in> carrier G\" \"h x = h y\"\n  obtains z where \"x = y \\<otimes>\\<^bsub>G\\<^esub> z\" \"z \\<in> kernel G H h\"", "lemma (in group_hom) vimage_eq_set_mult_kern_right:\n  assumes \"A \\<subseteq> carrier G\"\n  shows \"{x \\<in> carrier G. h x \\<in> h ` A} = A <#> kernel G H h\"", "lemma (in group_hom) vimage_subset_generate_kern:\n  assumes \"A \\<subseteq> carrier G\"\n  shows \"{x \\<in> carrier G. h x \\<in> h ` A} \\<subseteq> generate G (A \\<union> kernel G H h)\"", "lemma (in group_hom) subgroup_vimage_is_subgroup:\n  assumes \"subgroup I H\"\n  shows \"subgroup {x \\<in> carrier G. h x \\<in> I} G\" (is \"subgroup ?J G\")", "lemma (in group_hom) iso_kernel:\n  assumes \"h \\<in> iso G H\"\n  shows \"kernel G H h = {\\<one>\\<^bsub>G\\<^esub>}\"", "lemma (in group_hom) induced_group_hom_same_group: \n  assumes \"subgroup I G\"\n  shows \"group_hom (G \\<lparr> carrier := I \\<rparr>) H h\"", "lemma (in group_hom) hom_ord_dvd_ord:\n  assumes \"a \\<in> carrier G\"\n  shows \"H.ord (h a) dvd G.ord a\"", "lemma (in group_hom) finite_ord_stays_finite:\n  assumes \"a \\<in> carrier G\" \"G.ord a \\<noteq> 0\"\n  shows \"H.ord (h a) \\<noteq> 0\"", "lemma (in group_hom) inj_imp_ord_eq:\n  assumes \"a \\<in> carrier G\" \"inj_on h (carrier G)\" \"G.ord a \\<noteq> 0\"\n  shows \"H.ord (h a) = G.ord a\"", "lemma (in group_hom) one_in_kernel:\n  \"\\<one> \\<in> kernel G H h\"", "lemma hom_in_carr:\n  assumes \"f \\<in> hom G H\"\n  shows \"\\<And>x. x \\<in> carrier G \\<Longrightarrow> f x \\<in> carrier H\"", "lemma iso_in_carr:\n  assumes \"f \\<in> iso G H\"\n  shows \"\\<And>x. x \\<in> carrier G \\<Longrightarrow> f x \\<in> carrier H\"", "lemma triv_iso:\n  assumes \"group G\" \"group H\" \"carrier G = {\\<one>\\<^bsub>G\\<^esub>}\" \"carrier H = {\\<one>\\<^bsub>H\\<^esub>}\"\n  shows \"G \\<cong> H\"", "lemma (in group_hom) image_kernel_product: \"card (h ` (carrier G)) * card (kernel G H h) = order G\""], "translations": [["", "lemma (in group_hom) generate_hom:\n  assumes \"A \\<subseteq> carrier G\"\n  shows \"h ` (generate G A) = generate H (h ` A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h ` generate G A = generate H (h ` A)", "using assms group_hom.generate_img group_hom_axioms"], ["proof (prove)\nusing this:\n  A \\<subseteq> carrier G\n  \\<lbrakk>group_hom ?G ?H ?h; ?K \\<subseteq> carrier ?G\\<rbrakk>\n  \\<Longrightarrow> generate ?H (?h ` ?K) = ?h ` generate ?G ?K\n  group_hom G H h\n\ngoal (1 subgoal):\n 1. h ` generate G A = generate H (h ` A)", "by blast"], ["", "text \\<open>For two elements with the same image we can find an element in the kernel that maps one of the\ntwo elements on the other by multiplication.\\<close>"], ["", "lemma (in group_hom) kernel_assoc_elem:\n  assumes \"x \\<in> carrier G\" \"y \\<in> carrier G\" \"h x = h y\"\n  obtains z where \"x = y \\<otimes>\\<^bsub>G\\<^esub> z\" \"z \\<in> kernel G H h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>x = y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>x = y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have c: \"inv y \\<otimes>\\<^bsub>G\\<^esub> x \\<in> carrier G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inv y \\<otimes> x \\<in> carrier G", "using assms"], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  y \\<in> carrier G\n  h x = h y\n\ngoal (1 subgoal):\n 1. inv y \\<otimes> x \\<in> carrier G", "by simp"], ["proof (state)\nthis:\n  inv y \\<otimes> x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>x = y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  inv y \\<otimes> x \\<in> carrier G", "have e: \"x = y \\<otimes>\\<^bsub>G\\<^esub> (inv y \\<otimes>\\<^bsub>G\\<^esub> x)\""], ["proof (prove)\nusing this:\n  inv y \\<otimes> x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. x = y \\<otimes> (inv y \\<otimes> x)", "using assms G.m_assoc"], ["proof (prove)\nusing this:\n  inv y \\<otimes> x \\<in> carrier G\n  x \\<in> carrier G\n  y \\<in> carrier G\n  h x = h y\n  \\<lbrakk>?x \\<in> carrier G; ?y \\<in> carrier G;\n   ?z \\<in> carrier G\\<rbrakk>\n  \\<Longrightarrow> ?x \\<otimes> ?y \\<otimes> ?z =\n                    ?x \\<otimes> (?y \\<otimes> ?z)\n\ngoal (1 subgoal):\n 1. x = y \\<otimes> (inv y \\<otimes> x)", "using G.inv_solve_left"], ["proof (prove)\nusing this:\n  inv y \\<otimes> x \\<in> carrier G\n  x \\<in> carrier G\n  y \\<in> carrier G\n  h x = h y\n  \\<lbrakk>?x \\<in> carrier G; ?y \\<in> carrier G;\n   ?z \\<in> carrier G\\<rbrakk>\n  \\<Longrightarrow> ?x \\<otimes> ?y \\<otimes> ?z =\n                    ?x \\<otimes> (?y \\<otimes> ?z)\n  \\<lbrakk>?a \\<in> carrier G; ?b \\<in> carrier G;\n   ?c \\<in> carrier G\\<rbrakk>\n  \\<Longrightarrow> (?a = inv ?b \\<otimes> ?c) = (?c = ?b \\<otimes> ?a)\n\ngoal (1 subgoal):\n 1. x = y \\<otimes> (inv y \\<otimes> x)", "by blast"], ["proof (state)\nthis:\n  x = y \\<otimes> (inv y \\<otimes> x)\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>x = y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  x = y \\<otimes> (inv y \\<otimes> x)", "have \"h x = h (y \\<otimes>\\<^bsub>G\\<^esub> (inv y \\<otimes>\\<^bsub>G\\<^esub> x))\""], ["proof (prove)\nusing this:\n  x = y \\<otimes> (inv y \\<otimes> x)\n\ngoal (1 subgoal):\n 1. h x = h (y \\<otimes> (inv y \\<otimes> x))", "by simp"], ["proof (state)\nthis:\n  h x = h (y \\<otimes> (inv y \\<otimes> x))\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>x = y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  h x = h (y \\<otimes> (inv y \\<otimes> x))", "have \"h x = h y \\<otimes>\\<^bsub>H\\<^esub> h (inv y \\<otimes>\\<^bsub>G\\<^esub> x)\""], ["proof (prove)\nusing this:\n  h x = h (y \\<otimes> (inv y \\<otimes> x))\n\ngoal (1 subgoal):\n 1. h x = h y \\<otimes>\\<^bsub>H\\<^esub> h (inv y \\<otimes> x)", "using c assms"], ["proof (prove)\nusing this:\n  h x = h (y \\<otimes> (inv y \\<otimes> x))\n  inv y \\<otimes> x \\<in> carrier G\n  x \\<in> carrier G\n  y \\<in> carrier G\n  h x = h y\n\ngoal (1 subgoal):\n 1. h x = h y \\<otimes>\\<^bsub>H\\<^esub> h (inv y \\<otimes> x)", "by simp"], ["proof (state)\nthis:\n  h x = h y \\<otimes>\\<^bsub>H\\<^esub> h (inv y \\<otimes> x)\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>x = y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  h x = h y \\<otimes>\\<^bsub>H\\<^esub> h (inv y \\<otimes> x)", "have \"\\<one>\\<^bsub>H\\<^esub> = h (inv y \\<otimes>\\<^bsub>G\\<^esub> x)\""], ["proof (prove)\nusing this:\n  h x = h y \\<otimes>\\<^bsub>H\\<^esub> h (inv y \\<otimes> x)\n\ngoal (1 subgoal):\n 1. \\<one>\\<^bsub>H\\<^esub> = h (inv y \\<otimes> x)", "using assms"], ["proof (prove)\nusing this:\n  h x = h y \\<otimes>\\<^bsub>H\\<^esub> h (inv y \\<otimes> x)\n  x \\<in> carrier G\n  y \\<in> carrier G\n  h x = h y\n\ngoal (1 subgoal):\n 1. \\<one>\\<^bsub>H\\<^esub> = h (inv y \\<otimes> x)", "by simp"], ["proof (state)\nthis:\n  \\<one>\\<^bsub>H\\<^esub> = h (inv y \\<otimes> x)\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>x = y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<one>\\<^bsub>H\\<^esub> = h (inv y \\<otimes> x)", "have \"(inv y \\<otimes>\\<^bsub>G\\<^esub> x) \\<in> kernel G H h\""], ["proof (prove)\nusing this:\n  \\<one>\\<^bsub>H\\<^esub> = h (inv y \\<otimes> x)\n\ngoal (1 subgoal):\n 1. inv y \\<otimes> x \\<in> kernel G H h", "unfolding kernel_def"], ["proof (prove)\nusing this:\n  \\<one>\\<^bsub>H\\<^esub> = h (inv y \\<otimes> x)\n\ngoal (1 subgoal):\n 1. inv y \\<otimes> x\n    \\<in> {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>}", "using c"], ["proof (prove)\nusing this:\n  \\<one>\\<^bsub>H\\<^esub> = h (inv y \\<otimes> x)\n  inv y \\<otimes> x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv y \\<otimes> x\n    \\<in> {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>}", "by simp"], ["proof (state)\nthis:\n  inv y \\<otimes> x \\<in> kernel G H h\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>x = y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  inv y \\<otimes> x \\<in> kernel G H h\n\ngoal (1 subgoal):\n 1. thesis", "using e that"], ["proof (prove)\nusing this:\n  inv y \\<otimes> x \\<in> kernel G H h\n  x = y \\<otimes> (inv y \\<otimes> x)\n  \\<lbrakk>x = y \\<otimes> ?z; ?z \\<in> kernel G H h\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>This can then be used to characterize the pre-image of a set $A$ under homomorphism as a\nproduct of $A$ itself with the kernel of the homomorphism.\\<close>"], ["", "lemma (in group_hom) vimage_eq_set_mult_kern_right:\n  assumes \"A \\<subseteq> carrier G\"\n  shows \"{x \\<in> carrier G. h x \\<in> h ` A} = A <#> kernel G H h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier G. h x \\<in> h ` A} = A <#> kernel G H h", "proof(intro equalityI subsetI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "assume assm: \"x \\<in> A <#> kernel G H h\""], ["proof (state)\nthis:\n  x \\<in> A <#> kernel G H h\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "then"], ["proof (chain)\npicking this:\n  x \\<in> A <#> kernel G H h", "have xc: \"x \\<in> carrier G\""], ["proof (prove)\nusing this:\n  x \\<in> A <#> kernel G H h\n\ngoal (1 subgoal):\n 1. x \\<in> carrier G", "unfolding kernel_def set_mult_def"], ["proof (prove)\nusing this:\n  x \\<in> (\\<Union>ha\\<in>A.\n              \\<Union>k\\<in>{x \\<in> carrier G.\n                             h x = \\<one>\\<^bsub>H\\<^esub>}.\n                 {ha \\<otimes> k})\n\ngoal (1 subgoal):\n 1. x \\<in> carrier G", "using assms"], ["proof (prove)\nusing this:\n  x \\<in> (\\<Union>ha\\<in>A.\n              \\<Union>k\\<in>{x \\<in> carrier G.\n                             h x = \\<one>\\<^bsub>H\\<^esub>}.\n                 {ha \\<otimes> k})\n  A \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. x \\<in> carrier G", "by blast"], ["proof (state)\nthis:\n  x \\<in> carrier G\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "from assm"], ["proof (chain)\npicking this:\n  x \\<in> A <#> kernel G H h", "obtain a b where ab: \"a \\<in> A\" \"b \\<in> kernel G H h\" \"x = a \\<otimes>\\<^bsub>G\\<^esub> b\""], ["proof (prove)\nusing this:\n  x \\<in> A <#> kernel G H h\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>a \\<in> A; b \\<in> kernel G H h; x = a \\<otimes> b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding set_mult_def"], ["proof (prove)\nusing this:\n  x \\<in> (\\<Union>ha\\<in>A. \\<Union>k\\<in>kernel G H h. {ha \\<otimes> k})\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>a \\<in> A; b \\<in> kernel G H h; x = a \\<otimes> b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a \\<in> A\n  b \\<in> kernel G H h\n  x = a \\<otimes> b\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "then"], ["proof (chain)\npicking this:\n  a \\<in> A\n  b \\<in> kernel G H h\n  x = a \\<otimes> b", "have abc: \"a \\<in> carrier G\" \"b \\<in> carrier G\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<in> kernel G H h\n  x = a \\<otimes> b\n\ngoal (1 subgoal):\n 1. a \\<in> carrier G &&& b \\<in> carrier G", "unfolding kernel_def"], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<in> {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>}\n  x = a \\<otimes> b\n\ngoal (1 subgoal):\n 1. a \\<in> carrier G &&& b \\<in> carrier G", "using assms"], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<in> {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>}\n  x = a \\<otimes> b\n  A \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. a \\<in> carrier G &&& b \\<in> carrier G", "by auto"], ["proof (state)\nthis:\n  a \\<in> carrier G\n  b \\<in> carrier G\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "from ab"], ["proof (chain)\npicking this:\n  a \\<in> A\n  b \\<in> kernel G H h\n  x = a \\<otimes> b", "have \"h x = h (a \\<otimes>\\<^bsub>G\\<^esub> b)\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<in> kernel G H h\n  x = a \\<otimes> b\n\ngoal (1 subgoal):\n 1. h x = h (a \\<otimes> b)", "by blast"], ["proof (state)\nthis:\n  h x = h (a \\<otimes> b)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "also"], ["proof (state)\nthis:\n  h x = h (a \\<otimes> b)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "have \"\\<dots> = h a \\<otimes>\\<^bsub>H\\<^esub> h b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h (a \\<otimes> b) = h a \\<otimes>\\<^bsub>H\\<^esub> h b", "using abc"], ["proof (prove)\nusing this:\n  a \\<in> carrier G\n  b \\<in> carrier G\n\ngoal (1 subgoal):\n 1. h (a \\<otimes> b) = h a \\<otimes>\\<^bsub>H\\<^esub> h b", "by simp"], ["proof (state)\nthis:\n  h (a \\<otimes> b) = h a \\<otimes>\\<^bsub>H\\<^esub> h b\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "also"], ["proof (state)\nthis:\n  h (a \\<otimes> b) = h a \\<otimes>\\<^bsub>H\\<^esub> h b\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "have \"\\<dots> = h a \\<otimes>\\<^bsub>H\\<^esub> \\<one>\\<^bsub>H\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h a \\<otimes>\\<^bsub>H\\<^esub> h b =\n    h a \\<otimes>\\<^bsub>H\\<^esub> \\<one>\\<^bsub>H\\<^esub>", "using ab(2)"], ["proof (prove)\nusing this:\n  b \\<in> kernel G H h\n\ngoal (1 subgoal):\n 1. h a \\<otimes>\\<^bsub>H\\<^esub> h b =\n    h a \\<otimes>\\<^bsub>H\\<^esub> \\<one>\\<^bsub>H\\<^esub>", "unfolding kernel_def"], ["proof (prove)\nusing this:\n  b \\<in> {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>}\n\ngoal (1 subgoal):\n 1. h a \\<otimes>\\<^bsub>H\\<^esub> h b =\n    h a \\<otimes>\\<^bsub>H\\<^esub> \\<one>\\<^bsub>H\\<^esub>", "by simp"], ["proof (state)\nthis:\n  h a \\<otimes>\\<^bsub>H\\<^esub> h b =\n  h a \\<otimes>\\<^bsub>H\\<^esub> \\<one>\\<^bsub>H\\<^esub>\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "also"], ["proof (state)\nthis:\n  h a \\<otimes>\\<^bsub>H\\<^esub> h b =\n  h a \\<otimes>\\<^bsub>H\\<^esub> \\<one>\\<^bsub>H\\<^esub>\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "have \"\\<dots> = h a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h a \\<otimes>\\<^bsub>H\\<^esub> \\<one>\\<^bsub>H\\<^esub> = h a", "using abc"], ["proof (prove)\nusing this:\n  a \\<in> carrier G\n  b \\<in> carrier G\n\ngoal (1 subgoal):\n 1. h a \\<otimes>\\<^bsub>H\\<^esub> \\<one>\\<^bsub>H\\<^esub> = h a", "by simp"], ["proof (state)\nthis:\n  h a \\<otimes>\\<^bsub>H\\<^esub> \\<one>\\<^bsub>H\\<^esub> = h a\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "also"], ["proof (state)\nthis:\n  h a \\<otimes>\\<^bsub>H\\<^esub> \\<one>\\<^bsub>H\\<^esub> = h a\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "have \"\\<dots> \\<in> h ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h a \\<in> h ` A", "using ab"], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<in> kernel G H h\n  x = a \\<otimes> b\n\ngoal (1 subgoal):\n 1. h a \\<in> h ` A", "by blast"], ["proof (state)\nthis:\n  h a \\<in> h ` A\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "finally"], ["proof (chain)\npicking this:\n  h x \\<in> h ` A", "have \"h x \\<in> h ` A\""], ["proof (prove)\nusing this:\n  h x \\<in> h ` A\n\ngoal (1 subgoal):\n 1. h x \\<in> h ` A", "."], ["proof (state)\nthis:\n  h x \\<in> h ` A\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h\n 2. \\<And>x.\n       x \\<in> A <#> kernel G H h \\<Longrightarrow>\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "thus \"x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}\""], ["proof (prove)\nusing this:\n  h x \\<in> h ` A\n\ngoal (1 subgoal):\n 1. x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "using xc"], ["proof (prove)\nusing this:\n  h x \\<in> h ` A\n  x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h", "assume \"x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}\""], ["proof (state)\nthis:\n  x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h", "then"], ["proof (chain)\npicking this:\n  x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}", "have x: \"x \\<in> carrier G\" \"h x \\<in> h ` A\""], ["proof (prove)\nusing this:\n  x \\<in> {x \\<in> carrier G. h x \\<in> h ` A}\n\ngoal (1 subgoal):\n 1. x \\<in> carrier G &&& h x \\<in> h ` A", "by simp+"], ["proof (state)\nthis:\n  x \\<in> carrier G\n  h x \\<in> h ` A\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h", "then"], ["proof (chain)\npicking this:\n  x \\<in> carrier G\n  h x \\<in> h ` A", "obtain y where y: \"y \\<in> A\" \"h x = h y\" \"y \\<in> carrier G\""], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  h x \\<in> h ` A\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<in> A; h x = h y; y \\<in> carrier G\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  x \\<in> carrier G\n  h x \\<in> h ` A\n  A \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<in> A; h x = h y; y \\<in> carrier G\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  y \\<in> A\n  h x = h y\n  y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h", "with kernel_assoc_elem"], ["proof (chain)\npicking this:\n  \\<lbrakk>?x \\<in> carrier G; ?y \\<in> carrier G; h ?x = h ?y;\n   \\<And>z.\n      \\<lbrakk>?x = ?y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  y \\<in> A\n  h x = h y\n  y \\<in> carrier G", "obtain z where \"x = y \\<otimes>\\<^bsub>G\\<^esub> z\" \"z \\<in> kernel G H h\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<in> carrier G; ?y \\<in> carrier G; h ?x = h ?y;\n   \\<And>z.\n      \\<lbrakk>?x = ?y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  y \\<in> A\n  h x = h y\n  y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>x = y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using x"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<in> carrier G; ?y \\<in> carrier G; h ?x = h ?y;\n   \\<And>z.\n      \\<lbrakk>?x = ?y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  y \\<in> A\n  h x = h y\n  y \\<in> carrier G\n  x \\<in> carrier G\n  h x \\<in> h ` A\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>x = y \\<otimes> z; z \\<in> kernel G H h\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  x = y \\<otimes> z\n  z \\<in> kernel G H h\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> h ` A} \\<Longrightarrow>\n       x \\<in> A <#> kernel G H h", "thus \"x \\<in> A <#> kernel G H h\""], ["proof (prove)\nusing this:\n  x = y \\<otimes> z\n  z \\<in> kernel G H h\n\ngoal (1 subgoal):\n 1. x \\<in> A <#> kernel G H h", "unfolding set_mult_def"], ["proof (prove)\nusing this:\n  x = y \\<otimes> z\n  z \\<in> kernel G H h\n\ngoal (1 subgoal):\n 1. x \\<in> (\\<Union>ha\\<in>A. \\<Union>k\\<in>kernel G H h. {ha \\<otimes> k})", "using y"], ["proof (prove)\nusing this:\n  x = y \\<otimes> z\n  z \\<in> kernel G H h\n  y \\<in> A\n  h x = h y\n  y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. x \\<in> (\\<Union>ha\\<in>A. \\<Union>k\\<in>kernel G H h. {ha \\<otimes> k})", "by blast"], ["proof (state)\nthis:\n  x \\<in> A <#> kernel G H h\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in group_hom) vimage_subset_generate_kern:\n  assumes \"A \\<subseteq> carrier G\"\n  shows \"{x \\<in> carrier G. h x \\<in> h ` A} \\<subseteq> generate G (A \\<union> kernel G H h)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier G. h x \\<in> h ` A}\n    \\<subseteq> generate G (A \\<union> kernel G H h)", "using vimage_eq_set_mult_kern_right[of A] G.set_mult_subset_generate[of \"A\" \"kernel G H h\"] assms"], ["proof (prove)\nusing this:\n  A \\<subseteq> carrier G \\<Longrightarrow>\n  {x \\<in> carrier G. h x \\<in> h ` A} = A <#> kernel G H h\n  \\<lbrakk>A \\<subseteq> carrier G;\n   kernel G H h \\<subseteq> carrier G\\<rbrakk>\n  \\<Longrightarrow> A <#> kernel G H h\n                    \\<subseteq> generate G (A \\<union> kernel G H h)\n  A \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier G. h x \\<in> h ` A}\n    \\<subseteq> generate G (A \\<union> kernel G H h)", "unfolding kernel_def"], ["proof (prove)\nusing this:\n  A \\<subseteq> carrier G \\<Longrightarrow>\n  {x \\<in> carrier G. h x \\<in> h ` A} =\n  A <#> {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>}\n  \\<lbrakk>A \\<subseteq> carrier G;\n   {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>}\n   \\<subseteq> carrier G\\<rbrakk>\n  \\<Longrightarrow> A <#> {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>}\n                    \\<subseteq> generate G\n                                 (A \\<union>\n                                  {x \\<in> carrier G.\n                                   h x = \\<one>\\<^bsub>H\\<^esub>})\n  A \\<subseteq> carrier G\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier G. h x \\<in> h ` A}\n    \\<subseteq> generate G\n                 (A \\<union>\n                  {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>})", "by blast"], ["", "text \\<open>The preimage of a subgroup under a homomorphism is also a subgroup.\\<close>"], ["", "lemma (in group_hom) subgroup_vimage_is_subgroup:\n  assumes \"subgroup I H\"\n  shows \"subgroup {x \\<in> carrier G. h x \\<in> I} G\" (is \"subgroup ?J G\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. subgroup {x \\<in> carrier G. h x \\<in> I} G", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. {x \\<in> carrier G. h x \\<in> I} \\<subseteq> carrier G\n 2. \\<And>x y.\n       \\<lbrakk>x \\<in> {x \\<in> carrier G. h x \\<in> I};\n        y \\<in> {x \\<in> carrier G. h x \\<in> I}\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y\n                         \\<in> {x \\<in> carrier G. h x \\<in> I}\n 3. \\<one> \\<in> {x \\<in> carrier G. h x \\<in> I}\n 4. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> I} \\<Longrightarrow>\n       inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "show \"?J \\<subseteq> carrier G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier G. h x \\<in> I} \\<subseteq> carrier G", "by blast"], ["proof (state)\nthis:\n  {x \\<in> carrier G. h x \\<in> I} \\<subseteq> carrier G\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> {x \\<in> carrier G. h x \\<in> I};\n        y \\<in> {x \\<in> carrier G. h x \\<in> I}\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y\n                         \\<in> {x \\<in> carrier G. h x \\<in> I}\n 2. \\<one> \\<in> {x \\<in> carrier G. h x \\<in> I}\n 3. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> I} \\<Longrightarrow>\n       inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "show \"\\<one> \\<in> ?J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<one> \\<in> {x \\<in> carrier G. h x \\<in> I}", "using subgroup.one_closed[of I H] assms"], ["proof (prove)\nusing this:\n  subgroup I H \\<Longrightarrow> \\<one>\\<^bsub>H\\<^esub> \\<in> I\n  subgroup I H\n\ngoal (1 subgoal):\n 1. \\<one> \\<in> {x \\<in> carrier G. h x \\<in> I}", "by simp"], ["proof (state)\nthis:\n  \\<one> \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> {x \\<in> carrier G. h x \\<in> I};\n        y \\<in> {x \\<in> carrier G. h x \\<in> I}\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y\n                         \\<in> {x \\<in> carrier G. h x \\<in> I}\n 2. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> I} \\<Longrightarrow>\n       inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> {x \\<in> carrier G. h x \\<in> I};\n        y \\<in> {x \\<in> carrier G. h x \\<in> I}\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y\n                         \\<in> {x \\<in> carrier G. h x \\<in> I}\n 2. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> I} \\<Longrightarrow>\n       inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "assume x: \"x \\<in> ?J\""], ["proof (state)\nthis:\n  x \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> {x \\<in> carrier G. h x \\<in> I};\n        y \\<in> {x \\<in> carrier G. h x \\<in> I}\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y\n                         \\<in> {x \\<in> carrier G. h x \\<in> I}\n 2. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> I} \\<Longrightarrow>\n       inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "then"], ["proof (chain)\npicking this:\n  x \\<in> {x \\<in> carrier G. h x \\<in> I}", "have hx: \"h x \\<in> I\""], ["proof (prove)\nusing this:\n  x \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal (1 subgoal):\n 1. h x \\<in> I", "by blast"], ["proof (state)\nthis:\n  h x \\<in> I\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> {x \\<in> carrier G. h x \\<in> I};\n        y \\<in> {x \\<in> carrier G. h x \\<in> I}\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y\n                         \\<in> {x \\<in> carrier G. h x \\<in> I}\n 2. \\<And>x.\n       x \\<in> {x \\<in> carrier G. h x \\<in> I} \\<Longrightarrow>\n       inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "show \"inv x \\<in> ?J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "from hx"], ["proof (chain)\npicking this:\n  h x \\<in> I", "have \"inv\\<^bsub>H\\<^esub> (h x) \\<in> I\""], ["proof (prove)\nusing this:\n  h x \\<in> I\n\ngoal (1 subgoal):\n 1. inv\\<^bsub>H\\<^esub> h x \\<in> I", "using subgroup.m_inv_closed assms"], ["proof (prove)\nusing this:\n  h x \\<in> I\n  \\<lbrakk>subgroup ?H ?G; ?x \\<in> ?H\\<rbrakk>\n  \\<Longrightarrow> inv\\<^bsub>?G\\<^esub> ?x \\<in> ?H\n  subgroup I H\n\ngoal (1 subgoal):\n 1. inv\\<^bsub>H\\<^esub> h x \\<in> I", "by fast"], ["proof (state)\nthis:\n  inv\\<^bsub>H\\<^esub> h x \\<in> I\n\ngoal (1 subgoal):\n 1. inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "moreover"], ["proof (state)\nthis:\n  inv\\<^bsub>H\\<^esub> h x \\<in> I\n\ngoal (1 subgoal):\n 1. inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "have \"inv x \\<in> carrier G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inv x \\<in> carrier G", "using x"], ["proof (prove)\nusing this:\n  x \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal (1 subgoal):\n 1. inv x \\<in> carrier G", "by simp"], ["proof (state)\nthis:\n  inv x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "moreover"], ["proof (state)\nthis:\n  inv x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "have \"inv\\<^bsub>H\\<^esub> (h x) = h (inv x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inv\\<^bsub>H\\<^esub> h x = h (inv x)", "using x"], ["proof (prove)\nusing this:\n  x \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal (1 subgoal):\n 1. inv\\<^bsub>H\\<^esub> h x = h (inv x)", "by auto"], ["proof (state)\nthis:\n  inv\\<^bsub>H\\<^esub> h x = h (inv x)\n\ngoal (1 subgoal):\n 1. inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "ultimately"], ["proof (chain)\npicking this:\n  inv\\<^bsub>H\\<^esub> h x \\<in> I\n  inv x \\<in> carrier G\n  inv\\<^bsub>H\\<^esub> h x = h (inv x)", "show \"inv x \\<in> ?J\""], ["proof (prove)\nusing this:\n  inv\\<^bsub>H\\<^esub> h x \\<in> I\n  inv x \\<in> carrier G\n  inv\\<^bsub>H\\<^esub> h x = h (inv x)\n\ngoal (1 subgoal):\n 1. inv x \\<in> {x \\<in> carrier G. h x \\<in> I}", "by simp"], ["proof (state)\nthis:\n  inv x \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  inv x \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> {x \\<in> carrier G. h x \\<in> I};\n        y \\<in> {x \\<in> carrier G. h x \\<in> I}\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y\n                         \\<in> {x \\<in> carrier G. h x \\<in> I}", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> {x \\<in> carrier G. h x \\<in> I};\n        y \\<in> {x \\<in> carrier G. h x \\<in> I}\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y\n                         \\<in> {x \\<in> carrier G. h x \\<in> I}", "assume y: \"y \\<in> ?J\""], ["proof (state)\nthis:\n  y \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> {x \\<in> carrier G. h x \\<in> I};\n        y \\<in> {x \\<in> carrier G. h x \\<in> I}\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y\n                         \\<in> {x \\<in> carrier G. h x \\<in> I}", "then"], ["proof (chain)\npicking this:\n  y \\<in> {x \\<in> carrier G. h x \\<in> I}", "have hy: \"h y \\<in> I\""], ["proof (prove)\nusing this:\n  y \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal (1 subgoal):\n 1. h y \\<in> I", "by blast"], ["proof (state)\nthis:\n  h y \\<in> I\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> {x \\<in> carrier G. h x \\<in> I};\n        y \\<in> {x \\<in> carrier G. h x \\<in> I}\\<rbrakk>\n       \\<Longrightarrow> x \\<otimes> y\n                         \\<in> {x \\<in> carrier G. h x \\<in> I}", "show \"x \\<otimes> y \\<in> {x \\<in> carrier G. h x \\<in> I}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> {x \\<in> carrier G. h x \\<in> I}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> {x \\<in> carrier G. h x \\<in> I}", "have \"h (x \\<otimes> y) = h x \\<otimes>\\<^bsub>H\\<^esub> h y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h (x \\<otimes> y) = h x \\<otimes>\\<^bsub>H\\<^esub> h y", "using x y"], ["proof (prove)\nusing this:\n  x \\<in> {x \\<in> carrier G. h x \\<in> I}\n  y \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal (1 subgoal):\n 1. h (x \\<otimes> y) = h x \\<otimes>\\<^bsub>H\\<^esub> h y", "by simp"], ["proof (state)\nthis:\n  h (x \\<otimes> y) = h x \\<otimes>\\<^bsub>H\\<^esub> h y\n\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> {x \\<in> carrier G. h x \\<in> I}", "also"], ["proof (state)\nthis:\n  h (x \\<otimes> y) = h x \\<otimes>\\<^bsub>H\\<^esub> h y\n\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> {x \\<in> carrier G. h x \\<in> I}", "have \"\\<dots> \\<in> I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h x \\<otimes>\\<^bsub>H\\<^esub> h y \\<in> I", "using hx hy assms subgroup.m_closed"], ["proof (prove)\nusing this:\n  h x \\<in> I\n  h y \\<in> I\n  subgroup I H\n  \\<lbrakk>subgroup ?H ?G; ?x \\<in> ?H; ?y \\<in> ?H\\<rbrakk>\n  \\<Longrightarrow> ?x \\<otimes>\\<^bsub>?G\\<^esub> ?y \\<in> ?H\n\ngoal (1 subgoal):\n 1. h x \\<otimes>\\<^bsub>H\\<^esub> h y \\<in> I", "by fast"], ["proof (state)\nthis:\n  h x \\<otimes>\\<^bsub>H\\<^esub> h y \\<in> I\n\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> {x \\<in> carrier G. h x \\<in> I}", "finally"], ["proof (chain)\npicking this:\n  h (x \\<otimes> y) \\<in> I", "have \"h (x \\<otimes> y) \\<in> I\""], ["proof (prove)\nusing this:\n  h (x \\<otimes> y) \\<in> I\n\ngoal (1 subgoal):\n 1. h (x \\<otimes> y) \\<in> I", "."], ["proof (state)\nthis:\n  h (x \\<otimes> y) \\<in> I\n\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> {x \\<in> carrier G. h x \\<in> I}", "moreover"], ["proof (state)\nthis:\n  h (x \\<otimes> y) \\<in> I\n\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> {x \\<in> carrier G. h x \\<in> I}", "have \"x \\<otimes> y \\<in> carrier G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> carrier G", "using x y"], ["proof (prove)\nusing this:\n  x \\<in> {x \\<in> carrier G. h x \\<in> I}\n  y \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> carrier G", "by simp"], ["proof (state)\nthis:\n  x \\<otimes> y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> {x \\<in> carrier G. h x \\<in> I}", "ultimately"], ["proof (chain)\npicking this:\n  h (x \\<otimes> y) \\<in> I\n  x \\<otimes> y \\<in> carrier G", "show ?thesis"], ["proof (prove)\nusing this:\n  h (x \\<otimes> y) \\<in> I\n  x \\<otimes> y \\<in> carrier G\n\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<in> {x \\<in> carrier G. h x \\<in> I}", "by blast"], ["proof (state)\nthis:\n  x \\<otimes> y \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<otimes> y \\<in> {x \\<in> carrier G. h x \\<in> I}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in group_hom) iso_kernel:\n  assumes \"h \\<in> iso G H\"\n  shows \"kernel G H h = {\\<one>\\<^bsub>G\\<^esub>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. kernel G H h = {\\<one>}", "unfolding kernel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>} = {\\<one>}", "using assms"], ["proof (prove)\nusing this:\n  h \\<in> Group.iso G H\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>} = {\\<one>}", "using hom_one iso_iff"], ["proof (prove)\nusing this:\n  h \\<in> Group.iso G H\n  h \\<one> = \\<one>\\<^bsub>H\\<^esub>\n  (h \\<in> Group.iso G H) =\n  (carrier H \\<subseteq> h ` carrier G \\<and>\n   (\\<forall>x\\<in>carrier G.\n       h x = \\<one>\\<^bsub>H\\<^esub> \\<longrightarrow> x = \\<one>))\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>} = {\\<one>}", "by blast\n\n\\<^marker>\\<open>contributor \\<open>Paulo Em?lio de Vilhena\\<close>\\<close>"], ["", "(* adapted by Joseph Thommes *)"], ["", "lemma (in group_hom) induced_group_hom_same_group: \n  assumes \"subgroup I G\"\n  shows \"group_hom (G \\<lparr> carrier := I \\<rparr>) H h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. group_hom (G\\<lparr>carrier := I\\<rparr>) H h", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. group_hom (G\\<lparr>carrier := I\\<rparr>) H h", "have \"h \\<in> hom (G \\<lparr> carrier := I \\<rparr>) H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h \\<in> hom (G\\<lparr>carrier := I\\<rparr>) H", "using homh subgroup.mem_carrier[OF assms]"], ["proof (prove)\nusing this:\n  h \\<in> hom G H\n  ?x \\<in> I \\<Longrightarrow> ?x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. h \\<in> hom (G\\<lparr>carrier := I\\<rparr>) H", "unfolding hom_def"], ["proof (prove)\nusing this:\n  h \\<in> {h \\<in> carrier G \\<rightarrow> carrier H.\n           \\<forall>x\\<in>carrier G.\n              \\<forall>y\\<in>carrier G.\n                 h (x \\<otimes> y) = h x \\<otimes>\\<^bsub>H\\<^esub> h y}\n  ?x \\<in> I \\<Longrightarrow> ?x \\<in> carrier G\n\ngoal (1 subgoal):\n 1. h \\<in> {h \\<in> carrier (G\\<lparr>carrier := I\\<rparr>) \\<rightarrow>\n                     carrier H.\n             \\<forall>x\\<in>carrier (G\\<lparr>carrier := I\\<rparr>).\n                \\<forall>y\\<in>carrier (G\\<lparr>carrier := I\\<rparr>).\n                   h (x \\<otimes>\\<^bsub>G\\<lparr>carrier := I\\<rparr>\\<^esub>\n                      y) =\n                   h x \\<otimes>\\<^bsub>H\\<^esub> h y}", "by auto"], ["proof (state)\nthis:\n  h \\<in> hom (G\\<lparr>carrier := I\\<rparr>) H\n\ngoal (1 subgoal):\n 1. group_hom (G\\<lparr>carrier := I\\<rparr>) H h", "thus ?thesis"], ["proof (prove)\nusing this:\n  h \\<in> hom (G\\<lparr>carrier := I\\<rparr>) H\n\ngoal (1 subgoal):\n 1. group_hom (G\\<lparr>carrier := I\\<rparr>) H h", "unfolding group_hom_def group_hom_axioms_def"], ["proof (prove)\nusing this:\n  h \\<in> hom (G\\<lparr>carrier := I\\<rparr>) H\n\ngoal (1 subgoal):\n 1. Group.group (G\\<lparr>carrier := I\\<rparr>) \\<and>\n    Group.group H \\<and> h \\<in> hom (G\\<lparr>carrier := I\\<rparr>) H", "using subgroup.subgroup_is_group[OF assms G.is_group]"], ["proof (prove)\nusing this:\n  h \\<in> hom (G\\<lparr>carrier := I\\<rparr>) H\n  Group.group (G\\<lparr>carrier := I\\<rparr>)\n\ngoal (1 subgoal):\n 1. Group.group (G\\<lparr>carrier := I\\<rparr>) \\<and>\n    Group.group H \\<and> h \\<in> hom (G\\<lparr>carrier := I\\<rparr>) H", "by simp"], ["proof (state)\nthis:\n  group_hom (G\\<lparr>carrier := I\\<rparr>) H h\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The order of an element under a homomorphism divides the order of the element.\\<close>"], ["", "lemma (in group_hom) hom_ord_dvd_ord:\n  assumes \"a \\<in> carrier G\"\n  shows \"H.ord (h a) dvd G.ord a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H.ord (h a) dvd G.ord a", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. H.ord (h a) dvd G.ord a", "have \"h a [^]\\<^bsub>H\\<^esub> (G.ord a) = h (a [^]\\<^bsub>G\\<^esub> G.ord a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h a [^]\\<^bsub>H\\<^esub> G.ord a = h (a [^] G.ord a)", "using assms local.hom_nat_pow"], ["proof (prove)\nusing this:\n  a \\<in> carrier G\n  ?x \\<in> carrier G \\<Longrightarrow>\n  h (?x [^] ?n) = h ?x [^]\\<^bsub>H\\<^esub> ?n\n\ngoal (1 subgoal):\n 1. h a [^]\\<^bsub>H\\<^esub> G.ord a = h (a [^] G.ord a)", "by presburger"], ["proof (state)\nthis:\n  h a [^]\\<^bsub>H\\<^esub> G.ord a = h (a [^] G.ord a)\n\ngoal (1 subgoal):\n 1. H.ord (h a) dvd G.ord a", "also"], ["proof (state)\nthis:\n  h a [^]\\<^bsub>H\\<^esub> G.ord a = h (a [^] G.ord a)\n\ngoal (1 subgoal):\n 1. H.ord (h a) dvd G.ord a", "have \"\\<dots> = h (\\<one>\\<^bsub>G\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h (a [^] G.ord a) = h \\<one>", "using G.pow_ord_eq_1 assms"], ["proof (prove)\nusing this:\n  ?x \\<in> carrier G \\<Longrightarrow> ?x [^] G.ord ?x = \\<one>\n  a \\<in> carrier G\n\ngoal (1 subgoal):\n 1. h (a [^] G.ord a) = h \\<one>", "by simp"], ["proof (state)\nthis:\n  h (a [^] G.ord a) = h \\<one>\n\ngoal (1 subgoal):\n 1. H.ord (h a) dvd G.ord a", "also"], ["proof (state)\nthis:\n  h (a [^] G.ord a) = h \\<one>\n\ngoal (1 subgoal):\n 1. H.ord (h a) dvd G.ord a", "have \"\\<dots> = \\<one>\\<^bsub>H\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h \\<one> = \\<one>\\<^bsub>H\\<^esub>", "by simp"], ["proof (state)\nthis:\n  h \\<one> = \\<one>\\<^bsub>H\\<^esub>\n\ngoal (1 subgoal):\n 1. H.ord (h a) dvd G.ord a", "finally"], ["proof (chain)\npicking this:\n  h a [^]\\<^bsub>H\\<^esub> G.ord a = \\<one>\\<^bsub>H\\<^esub>", "have \"h a [^]\\<^bsub>H\\<^esub> G.ord a = \\<one>\\<^bsub>H\\<^esub>\""], ["proof (prove)\nusing this:\n  h a [^]\\<^bsub>H\\<^esub> G.ord a = \\<one>\\<^bsub>H\\<^esub>\n\ngoal (1 subgoal):\n 1. h a [^]\\<^bsub>H\\<^esub> G.ord a = \\<one>\\<^bsub>H\\<^esub>", "."], ["proof (state)\nthis:\n  h a [^]\\<^bsub>H\\<^esub> G.ord a = \\<one>\\<^bsub>H\\<^esub>\n\ngoal (1 subgoal):\n 1. H.ord (h a) dvd G.ord a", "then"], ["proof (chain)\npicking this:\n  h a [^]\\<^bsub>H\\<^esub> G.ord a = \\<one>\\<^bsub>H\\<^esub>", "show ?thesis"], ["proof (prove)\nusing this:\n  h a [^]\\<^bsub>H\\<^esub> G.ord a = \\<one>\\<^bsub>H\\<^esub>\n\ngoal (1 subgoal):\n 1. H.ord (h a) dvd G.ord a", "using pow_eq_id assms"], ["proof (prove)\nusing this:\n  h a [^]\\<^bsub>H\\<^esub> G.ord a = \\<one>\\<^bsub>H\\<^esub>\n  ?x \\<in> carrier H \\<Longrightarrow>\n  (?x [^]\\<^bsub>H\\<^esub> ?n = \\<one>\\<^bsub>H\\<^esub>) = (H.ord ?x dvd ?n)\n  a \\<in> carrier G\n\ngoal (1 subgoal):\n 1. H.ord (h a) dvd G.ord a", "by simp"], ["proof (state)\nthis:\n  H.ord (h a) dvd G.ord a\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>In particular, this implies that the image of an element with a finite order also will have a\nfinite order.\\<close>"], ["", "lemma (in group_hom) finite_ord_stays_finite:\n  assumes \"a \\<in> carrier G\" \"G.ord a \\<noteq> 0\"\n  shows \"H.ord (h a) \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H.ord (h a) \\<noteq> 0", "using hom_ord_dvd_ord assms"], ["proof (prove)\nusing this:\n  ?a \\<in> carrier G \\<Longrightarrow> H.ord (h ?a) dvd G.ord ?a\n  a \\<in> carrier G\n  G.ord a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. H.ord (h a) \\<noteq> 0", "by fastforce"], ["", "text \\<open>For injective homomorphisms, the order stays the same.\\<close>"], ["", "lemma (in group_hom) inj_imp_ord_eq:\n  assumes \"a \\<in> carrier G\" \"inj_on h (carrier G)\" \"G.ord a \\<noteq> 0\"\n  shows \"H.ord (h a) = G.ord a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H.ord (h a) = G.ord a", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. H.ord (h a) \\<le> G.ord a\n 2. G.ord a \\<le> H.ord (h a)", "show \"H.ord (h a) \\<le> G.ord a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H.ord (h a) \\<le> G.ord a", "using hom_ord_dvd_ord assms"], ["proof (prove)\nusing this:\n  ?a \\<in> carrier G \\<Longrightarrow> H.ord (h ?a) dvd G.ord ?a\n  a \\<in> carrier G\n  inj_on h (carrier G)\n  G.ord a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. H.ord (h a) \\<le> G.ord a", "by force"], ["proof (state)\nthis:\n  H.ord (h a) \\<le> G.ord a\n\ngoal (1 subgoal):\n 1. G.ord a \\<le> H.ord (h a)", "show \"G.ord a \\<le> H.ord (h a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. G.ord a \\<le> H.ord (h a)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. G.ord a \\<le> H.ord (h a)", "have \"\\<one>\\<^bsub>H\\<^esub> = h (a [^]\\<^bsub>G\\<^esub> H.ord(h a))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<one>\\<^bsub>H\\<^esub> = h (a [^] H.ord (h a))", "using H.pow_ord_eq_1 assms"], ["proof (prove)\nusing this:\n  ?x \\<in> carrier H \\<Longrightarrow>\n  ?x [^]\\<^bsub>H\\<^esub> H.ord ?x = \\<one>\\<^bsub>H\\<^esub>\n  a \\<in> carrier G\n  inj_on h (carrier G)\n  G.ord a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<one>\\<^bsub>H\\<^esub> = h (a [^] H.ord (h a))", "by (simp add: local.hom_nat_pow)"], ["proof (state)\nthis:\n  \\<one>\\<^bsub>H\\<^esub> = h (a [^] H.ord (h a))\n\ngoal (1 subgoal):\n 1. G.ord a \\<le> H.ord (h a)", "then"], ["proof (chain)\npicking this:\n  \\<one>\\<^bsub>H\\<^esub> = h (a [^] H.ord (h a))", "have \"a [^]\\<^bsub>G\\<^esub> H.ord (h a) = \\<one>\\<^bsub>G\\<^esub>\""], ["proof (prove)\nusing this:\n  \\<one>\\<^bsub>H\\<^esub> = h (a [^] H.ord (h a))\n\ngoal (1 subgoal):\n 1. a [^] H.ord (h a) = \\<one>", "using assms inj_on_one_iff"], ["proof (prove)\nusing this:\n  \\<one>\\<^bsub>H\\<^esub> = h (a [^] H.ord (h a))\n  a \\<in> carrier G\n  inj_on h (carrier G)\n  G.ord a \\<noteq> 0\n  inj_on h (carrier G) =\n  (\\<forall>x.\n      x \\<in> carrier G \\<longrightarrow>\n      h x = \\<one>\\<^bsub>H\\<^esub> \\<longrightarrow> x = \\<one>)\n\ngoal (1 subgoal):\n 1. a [^] H.ord (h a) = \\<one>", "by simp"], ["proof (state)\nthis:\n  a [^] H.ord (h a) = \\<one>\n\ngoal (1 subgoal):\n 1. G.ord a \\<le> H.ord (h a)", "then"], ["proof (chain)\npicking this:\n  a [^] H.ord (h a) = \\<one>", "have \"G.ord a dvd H.ord (h a)\""], ["proof (prove)\nusing this:\n  a [^] H.ord (h a) = \\<one>\n\ngoal (1 subgoal):\n 1. G.ord a dvd H.ord (h a)", "using G.pow_eq_id assms(1)"], ["proof (prove)\nusing this:\n  a [^] H.ord (h a) = \\<one>\n  ?x \\<in> carrier G \\<Longrightarrow>\n  (?x [^] ?n = \\<one>) = (G.ord ?x dvd ?n)\n  a \\<in> carrier G\n\ngoal (1 subgoal):\n 1. G.ord a dvd H.ord (h a)", "by blast"], ["proof (state)\nthis:\n  G.ord a dvd H.ord (h a)\n\ngoal (1 subgoal):\n 1. G.ord a \\<le> H.ord (h a)", "thus ?thesis"], ["proof (prove)\nusing this:\n  G.ord a dvd H.ord (h a)\n\ngoal (1 subgoal):\n 1. G.ord a \\<le> H.ord (h a)", "using assms finite_ord_stays_finite"], ["proof (prove)\nusing this:\n  G.ord a dvd H.ord (h a)\n  a \\<in> carrier G\n  inj_on h (carrier G)\n  G.ord a \\<noteq> 0\n  \\<lbrakk>?a \\<in> carrier G; G.ord ?a \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> H.ord (h ?a) \\<noteq> 0\n\ngoal (1 subgoal):\n 1. G.ord a \\<le> H.ord (h a)", "by fastforce"], ["proof (state)\nthis:\n  G.ord a \\<le> H.ord (h a)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  G.ord a \\<le> H.ord (h a)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in group_hom) one_in_kernel:\n  \"\\<one> \\<in> kernel G H h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<one> \\<in> kernel G H h", "using subgroup.one_closed subgroup_kernel"], ["proof (prove)\nusing this:\n  subgroup ?H ?G \\<Longrightarrow> \\<one>\\<^bsub>?G\\<^esub> \\<in> ?H\n  subgroup (kernel G H h) G\n\ngoal (1 subgoal):\n 1. \\<one> \\<in> kernel G H h", "by blast"], ["", "lemma hom_in_carr:\n  assumes \"f \\<in> hom G H\"\n  shows \"\\<And>x. x \\<in> carrier G \\<Longrightarrow> f x \\<in> carrier H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> carrier G \\<Longrightarrow> f x \\<in> carrier H", "using assms"], ["proof (prove)\nusing this:\n  f \\<in> hom G H\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> carrier G \\<Longrightarrow> f x \\<in> carrier H", "unfolding hom_def bij_betw_def"], ["proof (prove)\nusing this:\n  f \\<in> {h \\<in> carrier G \\<rightarrow> carrier H.\n           \\<forall>x\\<in>carrier G.\n              \\<forall>y\\<in>carrier G.\n                 h (x \\<otimes>\\<^bsub>G\\<^esub> y) =\n                 h x \\<otimes>\\<^bsub>H\\<^esub> h y}\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> carrier G \\<Longrightarrow> f x \\<in> carrier H", "by blast"], ["", "lemma iso_in_carr:\n  assumes \"f \\<in> iso G H\"\n  shows \"\\<And>x. x \\<in> carrier G \\<Longrightarrow> f x \\<in> carrier H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> carrier G \\<Longrightarrow> f x \\<in> carrier H", "using assms"], ["proof (prove)\nusing this:\n  f \\<in> Group.iso G H\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> carrier G \\<Longrightarrow> f x \\<in> carrier H", "unfolding iso_def bij_betw_def"], ["proof (prove)\nusing this:\n  f \\<in> {h \\<in> hom G H.\n           inj_on h (carrier G) \\<and> h ` carrier G = carrier H}\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> carrier G \\<Longrightarrow> f x \\<in> carrier H", "by blast"], ["", "lemma triv_iso:\n  assumes \"group G\" \"group H\" \"carrier G = {\\<one>\\<^bsub>G\\<^esub>}\" \"carrier H = {\\<one>\\<^bsub>H\\<^esub>}\"\n  shows \"G \\<cong> H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. G \\<cong> H", "proof(unfold is_iso_def iso_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. {h \\<in> hom G H. bij_betw h (carrier G) (carrier H)} \\<noteq> {}", "interpret G: group G"], ["proof (prove)\ngoal (1 subgoal):\n 1. Group.group G", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. {h \\<in> hom G H. bij_betw h (carrier G) (carrier H)} \\<noteq> {}", "interpret H: group H"], ["proof (prove)\ngoal (1 subgoal):\n 1. Group.group H", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. {h \\<in> hom G H. bij_betw h (carrier G) (carrier H)} \\<noteq> {}", "let ?f = \"\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>\""], ["proof (state)\ngoal (1 subgoal):\n 1. {h \\<in> hom G H. bij_betw h (carrier G) (carrier H)} \\<noteq> {}", "have \"?f \\<in> hom G H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) \\<in> hom G H", "by (intro homI, auto)"], ["proof (state)\nthis:\n  (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) \\<in> hom G H\n\ngoal (1 subgoal):\n 1. {h \\<in> hom G H. bij_betw h (carrier G) (carrier H)} \\<noteq> {}", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) \\<in> hom G H\n\ngoal (1 subgoal):\n 1. {h \\<in> hom G H. bij_betw h (carrier G) (carrier H)} \\<noteq> {}", "have \"bij_betw ?f (carrier G) (carrier H)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bij_betw (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) (carrier G) (carrier H)", "unfolding bij_betw_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) (carrier G) \\<and>\n    (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) ` carrier G = carrier H", "using assms(3, 4)"], ["proof (prove)\nusing this:\n  carrier G = {\\<one>\\<^bsub>G\\<^esub>}\n  carrier H = {\\<one>\\<^bsub>H\\<^esub>}\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) (carrier G) \\<and>\n    (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) ` carrier G = carrier H", "by auto"], ["proof (state)\nthis:\n  bij_betw (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) (carrier G) (carrier H)\n\ngoal (1 subgoal):\n 1. {h \\<in> hom G H. bij_betw h (carrier G) (carrier H)} \\<noteq> {}", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) \\<in> hom G H\n  bij_betw (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) (carrier G) (carrier H)", "show \"{h \\<in> hom G H. bij_betw h (carrier G) (carrier H)} \\<noteq> {}\""], ["proof (prove)\nusing this:\n  (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) \\<in> hom G H\n  bij_betw (\\<lambda>_. \\<one>\\<^bsub>H\\<^esub>) (carrier G) (carrier H)\n\ngoal (1 subgoal):\n 1. {h \\<in> hom G H. bij_betw h (carrier G) (carrier H)} \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  {h \\<in> hom G H. bij_betw h (carrier G) (carrier H)} \\<noteq> {}\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The cardinality of the image of a group homomorphism times the cardinality of its kernel is\nequal to the group order. This is basically another form of Lagrange's theorem.\\<close>"], ["", "lemma (in group_hom) image_kernel_product: \"card (h ` (carrier G)) * card (kernel G H h) = order G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "interpret G: group G"], ["proof (prove)\ngoal (1 subgoal):\n 1. Group.group G", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "interpret H: group H"], ["proof (prove)\ngoal (1 subgoal):\n 1. Group.group H", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "interpret ih: subgroup \"h ` (carrier G)\" H"], ["proof (prove)\ngoal (1 subgoal):\n 1. subgroup (h ` carrier G) H", "using img_is_subgroup"], ["proof (prove)\nusing this:\n  subgroup (h ` carrier G) H\n\ngoal (1 subgoal):\n 1. subgroup (h ` carrier G) H", "by blast"], ["proof (state)\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "interpret ih: group \"H\\<lparr>carrier := h ` (carrier G)\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Group.group (H\\<lparr>carrier := h ` carrier G\\<rparr>)", "using subgroup.subgroup_is_group"], ["proof (prove)\nusing this:\n  \\<lbrakk>subgroup ?H ?G; Group.group ?G\\<rbrakk>\n  \\<Longrightarrow> Group.group (?G\\<lparr>carrier := ?H\\<rparr>)\n\ngoal (1 subgoal):\n 1. Group.group (H\\<lparr>carrier := h ` carrier G\\<rparr>)", "by blast"], ["proof (state)\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "interpret h: group_hom G \"H\\<lparr>carrier := h ` (carrier G)\\<rparr>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. group_hom G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h", "by (unfold_locales, unfold hom_def, auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "interpret k: subgroup \"kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h\" G"], ["proof (prove)\ngoal (1 subgoal):\n 1. subgroup (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) G", "using h.subgroup_kernel"], ["proof (prove)\nusing this:\n  subgroup (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) G\n\ngoal (1 subgoal):\n 1. subgroup (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) G", "by blast"], ["proof (state)\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "from h.FactGroup_iso"], ["proof (chain)\npicking this:\n  h ` carrier G =\n  carrier (H\\<lparr>carrier := h ` carrier G\\<rparr>) \\<Longrightarrow>\n  G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h \\<cong> H\n  \\<lparr>carrier := h ` carrier G\\<rparr>", "have \"G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h \\<cong> H\\<lparr>carrier := h ` carrier G\\<rparr>\""], ["proof (prove)\nusing this:\n  h ` carrier G =\n  carrier (H\\<lparr>carrier := h ` carrier G\\<rparr>) \\<Longrightarrow>\n  G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h \\<cong> H\n  \\<lparr>carrier := h ` carrier G\\<rparr>\n\ngoal (1 subgoal):\n 1. G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h \\<cong> H\n    \\<lparr>carrier := h ` carrier G\\<rparr>", "by auto"], ["proof (state)\nthis:\n  G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h \\<cong> H\n  \\<lparr>carrier := h ` carrier G\\<rparr>\n\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "hence \"card (h ` (carrier G)) = order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h)\""], ["proof (prove)\nusing this:\n  G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h \\<cong> H\n  \\<lparr>carrier := h ` carrier G\\<rparr>\n\ngoal (1 subgoal):\n 1. card (h ` carrier G) =\n    order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h)", "using iso_same_card"], ["proof (prove)\nusing this:\n  G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h \\<cong> H\n  \\<lparr>carrier := h ` carrier G\\<rparr>\n  ?G \\<cong> ?H \\<Longrightarrow> card (carrier ?G) = card (carrier ?H)\n\ngoal (1 subgoal):\n 1. card (h ` carrier G) =\n    order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h)", "unfolding order_def"], ["proof (prove)\nusing this:\n  G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h \\<cong> H\n  \\<lparr>carrier := h ` carrier G\\<rparr>\n  ?G \\<cong> ?H \\<Longrightarrow> card (carrier ?G) = card (carrier ?H)\n\ngoal (1 subgoal):\n 1. card (h ` carrier G) =\n    card\n     (carrier\n       (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h))", "by fastforce"], ["proof (state)\nthis:\n  card (h ` carrier G) =\n  order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h)\n\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "moreover"], ["proof (state)\nthis:\n  card (h ` carrier G) =\n  order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h)\n\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "have \"order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h)\n                 * card (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) = order G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) *\n    card (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) =\n    order G", "using G.lagrange[OF k.subgroup_axioms]"], ["proof (prove)\nusing this:\n  card (rcosets kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) *\n  card (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) =\n  order G\n\ngoal (1 subgoal):\n 1. order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) *\n    card (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) =\n    order G", "unfolding order_def FactGroup_def"], ["proof (prove)\nusing this:\n  card (rcosets kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) *\n  card (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) =\n  card (carrier G)\n\ngoal (1 subgoal):\n 1. card\n     (carrier\n       \\<lparr>carrier =\n                 rcosets kernel G\n                          (H\\<lparr>carrier := h ` carrier G\\<rparr>) h,\n          monoid.mult = (<#>),\n          one =\n            kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>)\n             h\\<rparr>) *\n    card (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) =\n    card (carrier G)", "by force"], ["proof (state)\nthis:\n  order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) *\n  card (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) =\n  order G\n\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "moreover"], ["proof (state)\nthis:\n  order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) *\n  card (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) =\n  order G\n\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "have \"kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h = kernel G H h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h = kernel G H h", "unfolding kernel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier G.\n     h x =\n     \\<one>\\<^bsub>H\\<lparr>carrier := h ` carrier G\\<rparr>\\<^esub>} =\n    {x \\<in> carrier G. h x = \\<one>\\<^bsub>H\\<^esub>}", "by auto"], ["proof (state)\nthis:\n  kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h = kernel G H h\n\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "ultimately"], ["proof (chain)\npicking this:\n  card (h ` carrier G) =\n  order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h)\n  order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) *\n  card (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) =\n  order G\n  kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h = kernel G H h", "show ?thesis"], ["proof (prove)\nusing this:\n  card (h ` carrier G) =\n  order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h)\n  order (G Mod kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) *\n  card (kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h) =\n  order G\n  kernel G (H\\<lparr>carrier := h ` carrier G\\<rparr>) h = kernel G H h\n\ngoal (1 subgoal):\n 1. card (h ` carrier G) * card (kernel G H h) = order G", "by argo"], ["proof (state)\nthis:\n  card (h ` carrier G) * card (kernel G H h) = order G\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}