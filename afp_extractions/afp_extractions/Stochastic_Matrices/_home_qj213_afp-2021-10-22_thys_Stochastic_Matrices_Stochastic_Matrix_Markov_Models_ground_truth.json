{"file_name": "/home/qj213/afp-2021-10-22/thys/Stochastic_Matrices/Stochastic_Matrix_Markov_Models.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Stochastic_Matrices", "problem_names": ["lemma st_vec_transition_vec_of_st_mat[simp]: \n  \"st_vec (transition_vec_of_st_mat A a) $ i = st_mat A $ i $ a\"", "lemma measure_pmf_of_st_vec[simp]: \"measure_pmf (pmf_of_st_vec x) = measure_of_st_vec x\"", "lemma pmf_transition_of_st_mat[simp]: \"pmf (transition_of_st_mat A a) i = st_mat A $ i $ a\"", "lemma bind_is_matrix_vector_mult: \"(bind_pmf x (transition_of_st_mat A)) =\n  pmf_as_measure.pmf_of_st_vec (A *st st_vec_of_pmf x)\"", "lemmas stationary_distribution_alt_def = \n  stationary_distribution_def[unfolded bind_is_matrix_vector_mult]", "lemma stationary_distribution_implies_pmf_of_st_vec:\n  assumes \"stationary_distribution N\" \n  shows \"\\<exists> x. N = pmf_of_st_vec x\"", "lemma stationary_distribution_pmf_of_st_vec:\n  \"stationary_distribution (pmf_of_st_vec x) = (A *st x = x)\""], "translations": [["", "lemma st_vec_transition_vec_of_st_mat[simp]: \n  \"st_vec (transition_vec_of_st_mat A a) $ i = st_mat A $ i $ a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. st_vec (transition_vec_of_st_mat A a) $h i = st_mat A $h i $h a", "by (transfer, auto simp: column_def)"], ["", "locale transition_matrix = pmf_as_measure +\n  fixes A :: \"'i :: finite st_mat\" \nbegin"], ["", "sublocale MC_syntax \"transition_of_st_mat A\""], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["", "lemma measure_pmf_of_st_vec[simp]: \"measure_pmf (pmf_of_st_vec x) = measure_of_st_vec x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. measure_pmf (pmf_of_st_vec x) = measure_of_st_vec x", "by (rule pmf_as_measure.pmf_of_st_vec.rep_eq)"], ["", "lemma pmf_transition_of_st_mat[simp]: \"pmf (transition_of_st_mat A a) i = st_mat A $ i $ a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (transition_of_st_mat A a) i = st_mat A $h i $h a", "unfolding transition_of_st_mat_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (pmf_of_st_vec (transition_vec_of_st_mat A a)) i =\n    st_mat A $h i $h a", "by (transfer, auto simp: measure_def)"], ["", "lemma bind_is_matrix_vector_mult: \"(bind_pmf x (transition_of_st_mat A)) =\n  pmf_as_measure.pmf_of_st_vec (A *st st_vec_of_pmf x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<bind> transition_of_st_mat A = pmf_of_st_vec (A *st st_vec_of_pmf x)", "proof (rule pmf_eqI, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       pmf (x \\<bind> transition_of_st_mat A) i =\n       pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "case (1 i)"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. \\<And>i.\n       pmf (x \\<bind> transition_of_st_mat A) i =\n       pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "define X where \"X = st_vec_of_pmf x\""], ["proof (state)\nthis:\n  X = st_vec_of_pmf x\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       pmf (x \\<bind> transition_of_st_mat A) i =\n       pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "have \"pmf (bind_pmf x (transition_of_st_mat A)) i = \n    (\\<Sum>a\\<in>UNIV. pmf x a *\\<^sub>R pmf (transition_of_st_mat A a) i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pmf (x \\<bind> transition_of_st_mat A) i =\n    (\\<Sum>a\\<in>UNIV. pmf x a *\\<^sub>R pmf (transition_of_st_mat A a) i)", "unfolding pmf_bind"], ["proof (prove)\ngoal (1 subgoal):\n 1. measure_pmf.expectation x\n     (\\<lambda>x. pmf (transition_of_st_mat A x) i) =\n    (\\<Sum>a\\<in>UNIV. pmf x a *\\<^sub>R pmf (transition_of_st_mat A a) i)", "by (subst integral_measure_pmf[of UNIV], auto)"], ["proof (state)\nthis:\n  pmf (x \\<bind> transition_of_st_mat A) i =\n  (\\<Sum>a\\<in>UNIV. pmf x a *\\<^sub>R pmf (transition_of_st_mat A a) i)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       pmf (x \\<bind> transition_of_st_mat A) i =\n       pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "also"], ["proof (state)\nthis:\n  pmf (x \\<bind> transition_of_st_mat A) i =\n  (\\<Sum>a\\<in>UNIV. pmf x a *\\<^sub>R pmf (transition_of_st_mat A a) i)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       pmf (x \\<bind> transition_of_st_mat A) i =\n       pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "have \"\\<dots> = (\\<Sum>a\\<in>UNIV. st_mat A $ i $ a * st_vec X $ a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>a\\<in>UNIV. pmf x a *\\<^sub>R pmf (transition_of_st_mat A a) i) =\n    (\\<Sum>a\\<in>UNIV. st_mat A $h i $h a * st_vec X $h a)", "by (rule sum.cong[OF refl], auto simp: X_def)"], ["proof (state)\nthis:\n  (\\<Sum>a\\<in>UNIV. pmf x a *\\<^sub>R pmf (transition_of_st_mat A a) i) =\n  (\\<Sum>a\\<in>UNIV. st_mat A $h i $h a * st_vec X $h a)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       pmf (x \\<bind> transition_of_st_mat A) i =\n       pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "also"], ["proof (state)\nthis:\n  (\\<Sum>a\\<in>UNIV. pmf x a *\\<^sub>R pmf (transition_of_st_mat A a) i) =\n  (\\<Sum>a\\<in>UNIV. st_mat A $h i $h a * st_vec X $h a)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       pmf (x \\<bind> transition_of_st_mat A) i =\n       pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "have \"\\<dots> = (st_mat A *v st_vec X) $ i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>a\\<in>UNIV. st_mat A $h i $h a * st_vec X $h a) =\n    (st_mat A *v st_vec X) $h i", "unfolding matrix_vector_mult_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>a\\<in>UNIV. st_mat A $h i $h a * st_vec X $h a) =\n    (\\<chi>i. \\<Sum>j\\<in>UNIV. st_mat A $h i $h j * st_vec X $h j) $h i", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>a\\<in>UNIV. st_mat A $h i $h a * st_vec X $h a) =\n  (st_mat A *v st_vec X) $h i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       pmf (x \\<bind> transition_of_st_mat A) i =\n       pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "also"], ["proof (state)\nthis:\n  (\\<Sum>a\\<in>UNIV. st_mat A $h i $h a * st_vec X $h a) =\n  (st_mat A *v st_vec X) $h i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       pmf (x \\<bind> transition_of_st_mat A) i =\n       pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "have \"\\<dots> = st_vec (A *st X) $ i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (st_mat A *v st_vec X) $h i = st_vec (A *st X) $h i", "unfolding st_mat_mult_st_vec"], ["proof (prove)\ngoal (1 subgoal):\n 1. st_vec (A *st X) $h i = st_vec (A *st X) $h i", "by simp"], ["proof (state)\nthis:\n  (st_mat A *v st_vec X) $h i = st_vec (A *st X) $h i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       pmf (x \\<bind> transition_of_st_mat A) i =\n       pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "also"], ["proof (state)\nthis:\n  (st_mat A *v st_vec X) $h i = st_vec (A *st X) $h i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       pmf (x \\<bind> transition_of_st_mat A) i =\n       pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "have \"\\<dots> = pmf (pmf_of_st_vec (A *st X)) i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. st_vec (A *st X) $h i = pmf (pmf_of_st_vec (A *st X)) i", "by simp"], ["proof (state)\nthis:\n  st_vec (A *st X) $h i = pmf (pmf_of_st_vec (A *st X)) i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       pmf (x \\<bind> transition_of_st_mat A) i =\n       pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "finally"], ["proof (chain)\npicking this:\n  pmf (x \\<bind> transition_of_st_mat A) i = pmf (pmf_of_st_vec (A *st X)) i", "show ?case"], ["proof (prove)\nusing this:\n  pmf (x \\<bind> transition_of_st_mat A) i = pmf (pmf_of_st_vec (A *st X)) i\n\ngoal (1 subgoal):\n 1. pmf (x \\<bind> transition_of_st_mat A) i =\n    pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i", "by (simp add: X_def)"], ["proof (state)\nthis:\n  pmf (x \\<bind> transition_of_st_mat A) i =\n  pmf (pmf_of_st_vec (A *st st_vec_of_pmf x)) i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemmas stationary_distribution_alt_def = \n  stationary_distribution_def[unfolded bind_is_matrix_vector_mult]"], ["", "lemma stationary_distribution_implies_pmf_of_st_vec:\n  assumes \"stationary_distribution N\" \n  shows \"\\<exists> x. N = pmf_of_st_vec x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. N = pmf_of_st_vec x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. N = pmf_of_st_vec x", "from assms[unfolded stationary_distribution_alt_def]"], ["proof (chain)\npicking this:\n  N = pmf_of_st_vec (A *st st_vec_of_pmf N)", "show ?thesis"], ["proof (prove)\nusing this:\n  N = pmf_of_st_vec (A *st st_vec_of_pmf N)\n\ngoal (1 subgoal):\n 1. \\<exists>x. N = pmf_of_st_vec x", "by auto"], ["proof (state)\nthis:\n  \\<exists>x. N = pmf_of_st_vec x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma stationary_distribution_pmf_of_st_vec:\n  \"stationary_distribution (pmf_of_st_vec x) = (A *st x = x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. stationary_distribution (pmf_of_st_vec x) = (A *st x = x)", "unfolding stationary_distribution_alt_def pmf_of_st_vec_inj"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x = A *st st_vec_of_pmf (pmf_of_st_vec x)) = (A *st x = x)", "by auto"], ["", "end"], ["", "end"]]}