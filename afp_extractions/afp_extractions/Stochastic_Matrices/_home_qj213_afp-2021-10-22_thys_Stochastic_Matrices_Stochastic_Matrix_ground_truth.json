{"file_name": "/home/qj213/afp-2021-10-22/thys/Stochastic_Matrices/Stochastic_Matrix.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Stochastic_Matrices", "problem_names": ["lemma non_neg_vec_st_vec: \"non_neg_vec (st_vec v)\"", "lemma non_neg_mat_mult_non_neg_vec: \"non_neg_mat a \\<Longrightarrow> non_neg_vec v \\<Longrightarrow> \n  non_neg_vec (a *v v)\"", "lemma right_stoch_mat_mult_stoch_vec: assumes \"right_stoch_mat a\" and \"stoch_vec v\" \nshows \"stoch_vec (a *v v)\"", "lemma right_stoch_mat_st_mat: \"right_stoch_mat (st_mat A)\"", "lemma non_neg_mat_st_mat: \"non_neg_mat (st_mat A)\"", "lemma st_mat_mult_st_vec: \"st_mat A *v st_vec X = st_vec (A *st X)\"", "lemma st_vec_nonneg[simp]: \"st_vec x $ i \\<ge> 0\"", "lemma st_mat_nonneg[simp]: \"st_mat x $ i $h j \\<ge> 0\""], "translations": [["", "lemma non_neg_vec_st_vec: \"non_neg_vec (st_vec v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. non_neg_vec (st_vec v)", "by (transfer, auto)"], ["", "lemma non_neg_mat_mult_non_neg_vec: \"non_neg_mat a \\<Longrightarrow> non_neg_vec v \\<Longrightarrow> \n  non_neg_vec (a *v v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>non_neg_mat a; non_neg_vec v\\<rbrakk>\n    \\<Longrightarrow> non_neg_vec (a *v v)", "unfolding non_neg_mat_def non_neg_vec_def  elements_mat_h_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>a\\<in>range (\\<lambda>(i, y). a $h i $h y).\n                (0::'a) \\<le> a;\n     \\<forall>i. (0::'a) \\<le> v $h i\\<rbrakk>\n    \\<Longrightarrow> \\<forall>i. (0::'a) \\<le> (a *v v) $h i", "by (auto simp: matrix_vector_mult_def intro!: sum_nonneg)"], ["", "lemma right_stoch_mat_mult_stoch_vec: assumes \"right_stoch_mat a\" and \"stoch_vec v\" \nshows \"stoch_vec (a *v v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. stoch_vec (a *v v)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. stoch_vec (a *v v)", "note * = assms[unfolded right_stoch_mat_def column_def stoch_vec_def, simplified]"], ["proof (state)\nthis:\n  \\<forall>j. (\\<Sum>x\\<in>UNIV. a $h x $h j) = (1::'a)\n  sum (($h) v) UNIV = (1::'a)\n\ngoal (1 subgoal):\n 1. stoch_vec (a *v v)", "have \"stoch_vec (a *v v) = ((\\<Sum>i\\<in>UNIV. \\<Sum>j\\<in>UNIV. a $ i $ j * v $ j) = 1)\" \n    (is \"_ = (?sum = 1)\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. stoch_vec (a *v v) =\n    ((\\<Sum>i\\<in>UNIV. \\<Sum>j\\<in>UNIV. a $h i $h j * v $h j) = (1::'a))", "unfolding stoch_vec_def matrix_vector_mult_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (sum (($h) (\\<chi>i. \\<Sum>j\\<in>UNIV. a $h i $h j * v $h j)) UNIV =\n     (1::'a)) =\n    ((\\<Sum>i\\<in>UNIV. \\<Sum>j\\<in>UNIV. a $h i $h j * v $h j) = (1::'a))", "by auto"], ["proof (state)\nthis:\n  stoch_vec (a *v v) =\n  ((\\<Sum>i\\<in>UNIV. \\<Sum>j\\<in>UNIV. a $h i $h j * v $h j) = (1::'a))\n\ngoal (1 subgoal):\n 1. stoch_vec (a *v v)", "also"], ["proof (state)\nthis:\n  stoch_vec (a *v v) =\n  ((\\<Sum>i\\<in>UNIV. \\<Sum>j\\<in>UNIV. a $h i $h j * v $h j) = (1::'a))\n\ngoal (1 subgoal):\n 1. stoch_vec (a *v v)", "have \"?sum = (\\<Sum>j\\<in>UNIV. \\<Sum>i\\<in>UNIV. a $ i $ j * v $ j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>UNIV. \\<Sum>j\\<in>UNIV. a $h i $h j * v $h j) =\n    (\\<Sum>j\\<in>UNIV. \\<Sum>i\\<in>UNIV. a $h i $h j * v $h j)", "by (rule sum.swap)"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>UNIV. \\<Sum>j\\<in>UNIV. a $h i $h j * v $h j) =\n  (\\<Sum>j\\<in>UNIV. \\<Sum>i\\<in>UNIV. a $h i $h j * v $h j)\n\ngoal (1 subgoal):\n 1. stoch_vec (a *v v)", "also"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>UNIV. \\<Sum>j\\<in>UNIV. a $h i $h j * v $h j) =\n  (\\<Sum>j\\<in>UNIV. \\<Sum>i\\<in>UNIV. a $h i $h j * v $h j)\n\ngoal (1 subgoal):\n 1. stoch_vec (a *v v)", "have \"\\<dots> = (\\<Sum>j\\<in>UNIV. v $ j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j\\<in>UNIV. \\<Sum>i\\<in>UNIV. a $h i $h j * v $h j) =\n    sum (($h) v) UNIV", "by (rule sum.cong[OF refl], insert *, auto simp: sum_distrib_right[symmetric])"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>UNIV. \\<Sum>i\\<in>UNIV. a $h i $h j * v $h j) =\n  sum (($h) v) UNIV\n\ngoal (1 subgoal):\n 1. stoch_vec (a *v v)", "also"], ["proof (state)\nthis:\n  (\\<Sum>j\\<in>UNIV. \\<Sum>i\\<in>UNIV. a $h i $h j * v $h j) =\n  sum (($h) v) UNIV\n\ngoal (1 subgoal):\n 1. stoch_vec (a *v v)", "have \"\\<dots> = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum (($h) v) UNIV = (1::'a)", "using *"], ["proof (prove)\nusing this:\n  \\<forall>j. (\\<Sum>x\\<in>UNIV. a $h x $h j) = (1::'a)\n  sum (($h) v) UNIV = (1::'a)\n\ngoal (1 subgoal):\n 1. sum (($h) v) UNIV = (1::'a)", "by auto"], ["proof (state)\nthis:\n  sum (($h) v) UNIV = (1::'a)\n\ngoal (1 subgoal):\n 1. stoch_vec (a *v v)", "finally"], ["proof (chain)\npicking this:\n  stoch_vec (a *v v) = ((1::'a) = (1::'a))", "show ?thesis"], ["proof (prove)\nusing this:\n  stoch_vec (a *v v) = ((1::'a) = (1::'a))\n\ngoal (1 subgoal):\n 1. stoch_vec (a *v v)", "by simp"], ["proof (state)\nthis:\n  stoch_vec (a *v v)\n\ngoal:\nNo subgoals!", "qed"], ["", "lift_definition st_mat_times_st_vec :: \"'i :: finite st_mat \\<Rightarrow> 'i st_vec \\<Rightarrow> 'i st_vec\" \n  (infixl \"*st\" 70) is \"(*v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>vec1 vec2.\n       \\<lbrakk>non_neg_mat vec1 \\<and> right_stoch_mat vec1;\n        non_neg_vec vec2 \\<and> stoch_vec vec2\\<rbrakk>\n       \\<Longrightarrow> non_neg_vec (vec1 *v vec2) \\<and>\n                         stoch_vec (vec1 *v vec2)", "using right_stoch_mat_mult_stoch_vec non_neg_mat_mult_non_neg_vec"], ["proof (prove)\nusing this:\n  \\<lbrakk>right_stoch_mat ?a; stoch_vec ?v\\<rbrakk>\n  \\<Longrightarrow> stoch_vec (?a *v ?v)\n  \\<lbrakk>non_neg_mat ?a; non_neg_vec ?v\\<rbrakk>\n  \\<Longrightarrow> non_neg_vec (?a *v ?v)\n\ngoal (1 subgoal):\n 1. \\<And>vec1 vec2.\n       \\<lbrakk>non_neg_mat vec1 \\<and> right_stoch_mat vec1;\n        non_neg_vec vec2 \\<and> stoch_vec vec2\\<rbrakk>\n       \\<Longrightarrow> non_neg_vec (vec1 *v vec2) \\<and>\n                         stoch_vec (vec1 *v vec2)", "by auto"], ["", "lift_definition to_st_vec :: \"real ^ 'i \\<Rightarrow> 'i st_vec\" is \n  \"\\<lambda> x. if stoch_vec x \\<and> non_neg_vec x then x else (\\<chi> i. if i = undefined then 1 else 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>vec.\n       non_neg_vec\n        (if stoch_vec vec \\<and> non_neg_vec vec then vec\n         else \\<chi>i. if i = undefined then 1 else 0) \\<and>\n       stoch_vec\n        (if stoch_vec vec \\<and> non_neg_vec vec then vec\n         else \\<chi>i. if i = undefined then 1 else 0)", "by (auto simp: non_neg_vec_def stoch_vec_def)"], ["", "lemma right_stoch_mat_st_mat: \"right_stoch_mat (st_mat A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. right_stoch_mat (st_mat A)", "by transfer auto"], ["", "lemma non_neg_mat_st_mat: \"non_neg_mat (st_mat A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. non_neg_mat (st_mat A)", "by (transfer, auto simp: non_neg_mat_def elements_mat_h_def)"], ["", "lemma st_mat_mult_st_vec: \"st_mat A *v st_vec X = st_vec (A *st X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. st_mat A *v st_vec X = st_vec (A *st X)", "by (transfer, auto)"], ["", "lemma st_vec_nonneg[simp]: \"st_vec x $ i \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> st_vec x $h i", "using non_neg_vec_st_vec[of x]"], ["proof (prove)\nusing this:\n  non_neg_vec (st_vec x)\n\ngoal (1 subgoal):\n 1. 0 \\<le> st_vec x $h i", "by (auto simp: non_neg_vec_def)"], ["", "lemma st_mat_nonneg[simp]: \"st_mat x $ i $h j \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> st_mat x $h i $h j", "using non_neg_mat_st_mat[of x]"], ["proof (prove)\nusing this:\n  non_neg_mat (st_mat x)\n\ngoal (1 subgoal):\n 1. 0 \\<le> st_mat x $h i $h j", "by (auto simp: non_neg_mat_def elements_mat_h_def)"], ["", "end"]]}